---
import '../styles/index.css';

interface Props {
	title: string;
}

const { title } = Astro.props;

import '@fortawesome/fontawesome-free/css/all.min.css';

import Header from './Header.astro';
import ProgressBar from '../components/ProgressBar.vue';

import Main from './Main.astro';
import Footer from './Footer.astro';
---

<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="title" content="Muhammad Umer Farooq" />
		<meta name="author" content="Muhammad Umer Farooq" />
		<meta name="url" content="https://lablnet.com/" />
		<meta name="type" content="website" />
		<meta name="image" content="../assets/images/umer.jpg" />
		<meta name=" keywords" content="portfolio,umer,web developer,software developer" />
		<meta name="description"
		  content="Hi there, I'm a Software Developer. I love building and rebuilding open source products. I have experience in Full Stack software development, including Web, Mobile applications, Desktop applications, web scraping, web crawling, and API integrations, working on many projects. Beside all these..." />
		<meta name="og:title" content="Muhammad Umer Farooq" />
		<meta name="og:author" content="Muhammad Umer Farooq" />
		<meta name="og:url" content="https://lablnet.com/" />
		<meta name="og:type" content="website" />
		<meta name="og:image" content="../assets/images/umer.jpg" />
		<meta name=" og:keywords" content="portfolio,umer,web developer,software developer" />
		<meta name="og:description"
		  content="Hi there, I'm a Software Developer. I love building and rebuilding open source products. I have experience in Full Stack software development, including Web, Mobile applications, Desktop applications, web scraping, web crawling, and API integrations, working on many projects. Beside all these..." />
		<meta name="theme-color" content="#ffffff" />
			  <meta name="viewport" content="width=device-width" />
		<link rel="icon" href="/favicon.ico" />
		<meta name="generator" content={Astro.generator} />
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500&display=swap"
			rel="stylesheet"
		/>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@v2.16.0/devicon.min.css" />
		<title>{title}</title>

		{!import.meta.env.DEV && (
		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=G-JKMM6EQFM6"></script>
		<script lang="js">
			window.dataLayer = window.dataLayer || [];
			function gtag() {
				dataLayer.push(arguments);
			}
			gtag('js', new Date());

			gtag('config', 'G-JKMM6EQFM6');
		</script>
		)}
	</head>
	<body id="app-theme" class="app-theme min-h-screen bg-gradient-to-br from-muf-50 via-muf-blue-50 to-muf-blue-100 dark:from-gray-900 dark:via-muf-900 dark:to-muf-blue-900">
		<!-- Animated background elements -->
		<div class="fixed inset-0 overflow-hidden pointer-events-none">
			<div class="absolute -top-4 -right-4 w-72 h-72 bg-muf-300 dark:bg-muf-600 rounded-full mix-blend-multiply dark:mix-blend-normal filter blur-xl opacity-70 animate-float"></div>
			<div class="absolute -bottom-8 -left-4 w-72 h-72 bg-muf-blue-300 dark:bg-muf-blue-600 rounded-full mix-blend-multiply dark:mix-blend-normal filter blur-xl opacity-70 animate-float" style="animation-delay: 2s;"></div>
			<div class="absolute -top-24 left-20 w-72 h-72 bg-muf-400 dark:bg-muf-700 rounded-full mix-blend-multiply dark:mix-blend-normal filter blur-xl opacity-70 animate-float" style="animation-delay: 4s;"></div>
		</div>

		<div class="light relative z-10">
			<!-- Header -->
			<Header />
			<div class="">
				<ProgressBar client:only />
			</div>
			
			<!-- Main -->
			<Main><slot /></Main>

			<!-- Footer -->
			<Footer />

			<!-- Back to top Button -->
			<button
			class="backtotop hidden glass-button mb-2 text-gray-800 dark:text-white transition-all duration-300 hover:scale-110"
			id="backtotop"
			title="Go to top"
		  >
			<i class="fa fa-arrow-up text-lg"></i>
		  </button>
		</div>
	</body>

	<script src="../utils/theme.js"></script>
	<script lang="js">

		// mobile menu
		let menuVisible = false;

		function toggleMenu() {
			const nav = document.getElementById('nav');
			menuVisible = !menuVisible;
			// @ts-ignore
			nav.classList.toggle('hidden', !menuVisible);
		}

		let elements = document.getElementsByClassName('menu-item');
		for (let i = 0; i < elements.length; i++) {
			elements[i].addEventListener('click', toggleMenu);
		}
		// @ts-ignore
		document.getElementById('menu-button').addEventListener('click', toggleMenu);

		// back to top button handler.
		window.addEventListener('scroll', function () {
			let _top = document.querySelector('#backtotop');
			if (window.scrollY > 100) {
				_top.classList.remove('hidden');
			} else {
				_top.classList.add('hidden');
			}
		});

		// Back to top button
		let _top = document.querySelector('#backtotop');
		_top.addEventListener('click', function () {
			window.scrollTo(0, 0);
		});
	</script>
</html>
