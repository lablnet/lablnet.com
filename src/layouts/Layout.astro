---
import '../styles/index.css';

interface Props {
	title: string;
}

const { title } = Astro.props;

import '@fortawesome/fontawesome-free/css/all.min.css';

import Header from './Header.astro';
import ProgressBar from '../components/ProgressBar.vue';
import Main from './Main.astro';
import Footer from './Footer.astro';
---

<!doctype html>
<html lang="en" class="dark">
	<head>
		<meta charset="UTF-8" />
		<meta name="title" content="Muhammad Umer Farooq" />
		<meta name="author" content="Muhammad Umer Farooq" />
		<meta name="url" content="https://lablnet.com/" />
		<meta name="type" content="website" />
		<meta name="image" content="../assets/images/umer.jpg" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" href="/favicon.ico" />
		<meta name="generator" content={Astro.generator} />
		
        <!-- Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
        
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@v2.16.0/devicon.min.css" />
		<title>{title}</title>

		{!import.meta.env.DEV && (
		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=G-JKMM6EQFM6"></script>
		<script is:inline>
			window.dataLayer = window.dataLayer || [];
			function gtag() {
				dataLayer.push(arguments);
			}
			gtag('js', new Date());
			gtag('config', 'G-JKMM6EQFM6');
		</script>
		)}
	</head>
	<body class="min-h-screen text-slate-50 overflow-x-hidden selection:bg-pink-500 selection:text-white">
        <!-- Background Glow Effects -->
        <div class="fixed inset-0 overflow-hidden pointer-events-none -z-10">
            <div class="absolute top-[-10%] left-[-10%] w-[40%] h-[40%] rounded-full bg-blue-600/20 blur-[120px]"></div>
            <div class="absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] rounded-full bg-purple-600/20 blur-[120px]"></div>
        </div>

		<div class="relative z-10 flex flex-col min-h-screen">
			<Header />
			<div class="fixed top-0 left-0 right-0 z-50">
				<ProgressBar client:only="vue" />
			</div>
			
			<Main class="flex-grow">
                <slot />
            </Main>

			<Footer />

			<button
                id="backtotop"
                class="fixed bottom-8 right-8 z-50 glass-btn w-12 h-12 rounded-full hidden opacity-0 transition-all duration-300 hover:-translate-y-1"
                aria-label="Back to top"
            >
                <i class="fa-solid fa-arrow-up"></i>
            </button>
		</div>

        <script is:inline>
            // Back to top functionality
            const backToTop = document.getElementById('backtotop');
            
            window.addEventListener('scroll', () => {
                if (window.scrollY > 300) {
                    backToTop?.classList.remove('hidden');
                    setTimeout(() => backToTop?.classList.remove('opacity-0'), 10);
                } else {
                    backToTop?.classList.add('opacity-0');
                    setTimeout(() => backToTop?.classList.add('hidden'), 300);
                }
            });

            backToTop?.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        </script>
	</body>
</html>
