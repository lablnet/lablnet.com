import{w as Ax,T as Cx,v as l0,b as $x}from"./runtime-dom.esm-bundler.IZxkN1op.js";import{B as Ix,T as Qx}from"./TextareaComp.FsC_rNmi.js";import{_ as Mb}from"./_plugin-vue_export-helper.x3n3nnut.js";import{x as un,H as El,P as Ks,z as ne,Q as Rx,O as Me,R as ye,G as w,T as Rt,U as Oe,V as oe,W as Ve,X as ca,Y as Bh,Z as ar,_ as Ct,$ as ei,a0 as Dx,h as Vx,K as es,a1 as qn,a2 as _i,a3 as Lx,F as Dc,y as qi,A as Xa,D as Ls,a4 as Vc,L as u0,E as c0,C as ui}from"./runtime-core.esm-bundler.g1TQfZFf.js";import{_ as E}from"./preload-helper.hlDPvxQM.js";const Zx={name:"Modal"},Mx=ne("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"},null,-1),Fx=ne("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​",-1),Nx={class:"inline-block align-top bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all"};function Bx(t,e,n,i,r,s){return un(),El(Cx,{name:"modal"},{default:Ks(()=>[ne("div",{class:"fixed top-24 z-10 inset-0 h-auto overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",onClick:e[1]||(e[1]=o=>t.$emit("close"))},[ne("div",{class:"flex items-end justify-center pt-4 px-4 pb-20 text-center sm:block sm:p-0",onClick:e[0]||(e[0]=Ax(()=>{},["stop"]))},[Mx,Fx,ne("div",Nx,[Rx(t.$slots,"default")])])])]),_:3})}const jx=Mb(Zx,[["render",Bx]]);var h0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Xx=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Nb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,u=l?t[r+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,d=u&63;l||(d=64,o||(f=64)),i.push(n[c],n[h],n[f],n[d])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Fb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Xx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const u=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||u==null||h==null)throw new zx;const f=s<<2|a>>4;if(i.push(f),u!==64){const d=a<<4&240|u>>2;if(i.push(d),h!==64){const p=u<<6&192|h;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qx=function(t){const e=Fb(t);return Nb.encodeByteArray(e,!0)},Gl=function(t){return qx(t).replace(/\./g,"")},Wx=function(t){try{return Nb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=()=>Yx().__FIREBASE_DEFAULTS__,Gx=()=>{if(typeof process>"u"||typeof h0>"u")return;const t=h0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Hx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Wx(t[1]);return e&&JSON.parse(e)},xd=()=>{try{return Ux()||Gx()||Hx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Kx=t=>{var e,n;return(n=(e=xd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Jx=t=>{const e=Kx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Bb=()=>{var t;return(t=xd())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Gl(JSON.stringify(n)),Gl(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nT(){var t;const e=(t=xd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function rT(){return!nT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Td(){try{return typeof indexedDB=="object"}catch{return!1}}function jb(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function sT(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="FirebaseError";class Fi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=oT,Object.setPrototypeOf(this,Fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fu.prototype.create)}}class Fu{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?aT(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Fi(r,a,i)}}function aT(t,e){return t.replace(lT,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const lT=/\{\$([^}]+)}/g;function Kl(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(f0(s)&&f0(o)){if(!Kl(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function f0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=1e3,cT=2,hT=4*60*60*1e3,fT=.5;function d0(t,e=uT,n=cT){const i=e*Math.pow(n,t),r=Math.round(fT*i*(Math.random()-.5)*2);return Math.min(hT,i+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(t){return t&&t._delegate?t._delegate:t}class ti{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new eT;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mT(e))try{this.getOrInitializeService({instanceIdentifier:Ui})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ui){return this.instances.has(e)}getOptions(e=Ui){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:pT(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ui){return this.component?this.component.multipleInstances?e:Ui:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pT(t){return t===Ui?void 0:t}function mT(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(de||(de={}));const OT={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},bT=de.INFO,yT={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},vT=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=yT[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pd{constructor(e){this.name=e,this._logLevel=bT,this._logHandler=vT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}const _T=(t,e)=>e.some(n=>t instanceof n);let p0,m0;function wT(){return p0||(p0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kT(){return m0||(m0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xb=new WeakMap,jh=new WeakMap,zb=new WeakMap,Lc=new WeakMap,Ed=new WeakMap;function ST(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Pi(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Xb.set(n,t)}).catch(()=>{}),Ed.set(e,t),e}function xT(t){if(jh.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});jh.set(t,e)}let Xh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function TT(t){Xh=t(Xh)}function PT(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Zc(this),e,...n);return zb.set(i,e.sort?e.sort():[e]),Pi(i)}:kT().includes(t)?function(...e){return t.apply(Zc(this),e),Pi(Xb.get(this))}:function(...e){return Pi(t.apply(Zc(this),e))}}function ET(t){return typeof t=="function"?PT(t):(t instanceof IDBTransaction&&xT(t),_T(t,wT())?new Proxy(t,Xh):t)}function Pi(t){if(t instanceof IDBRequest)return ST(t);if(Lc.has(t))return Lc.get(t);const e=ET(t);return e!==t&&(Lc.set(t,e),Ed.set(e,t)),e}const Zc=t=>Ed.get(t);function qb(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=Pi(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Pi(o.result),l.oldVersion,l.newVersion,Pi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const AT=["get","getKey","getAll","getAllKeys","count"],CT=["put","add","delete","clear"],Mc=new Map;function g0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mc.get(e))return Mc.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=CT.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||AT.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),r&&l.done]))[0]};return Mc.set(e,s),s}TT(t=>({...t,get:(e,n,i)=>g0(e,n)||t.get(e,n,i),has:(e,n)=>!!g0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(IT(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function IT(t){const e=t.getComponent();return e?.type==="VERSION"}const zh="@firebase/app",O0="0.9.28";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr=new Pd("@firebase/app"),QT="@firebase/app-compat",RT="@firebase/analytics-compat",DT="@firebase/analytics",VT="@firebase/app-check-compat",LT="@firebase/app-check",ZT="@firebase/auth",MT="@firebase/auth-compat",FT="@firebase/database",NT="@firebase/database-compat",BT="@firebase/functions",jT="@firebase/functions-compat",XT="@firebase/installations",zT="@firebase/installations-compat",qT="@firebase/messaging",WT="@firebase/messaging-compat",YT="@firebase/performance",UT="@firebase/performance-compat",GT="@firebase/remote-config",HT="@firebase/remote-config-compat",KT="@firebase/storage",JT="@firebase/storage-compat",eP="@firebase/firestore",tP="@firebase/firestore-compat",nP="firebase",iP="10.8.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh="[DEFAULT]",rP={[zh]:"fire-core",[QT]:"fire-core-compat",[DT]:"fire-analytics",[RT]:"fire-analytics-compat",[LT]:"fire-app-check",[VT]:"fire-app-check-compat",[ZT]:"fire-auth",[MT]:"fire-auth-compat",[FT]:"fire-rtdb",[NT]:"fire-rtdb-compat",[BT]:"fire-fn",[jT]:"fire-fn-compat",[XT]:"fire-iid",[zT]:"fire-iid-compat",[qT]:"fire-fcm",[WT]:"fire-fcm-compat",[YT]:"fire-perf",[UT]:"fire-perf-compat",[GT]:"fire-rc",[HT]:"fire-rc-compat",[KT]:"fire-gcs",[JT]:"fire-gcs-compat",[eP]:"fire-fst",[tP]:"fire-fst-compat","fire-js":"fire-js",[nP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=new Map,Wh=new Map;function sP(t,e){try{t.container.addComponent(e)}catch(n){lr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $i(t){const e=t.name;if(Wh.has(e))return lr.debug(`There were multiple attempts to register component ${e}.`),!1;Wh.set(e,t);for(const n of Jl.values())sP(n,t);return!0}function ha(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ei=new Fu("app","Firebase",oP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ti("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=iP;function Wb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:qh,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Ei.create("bad-app-name",{appName:String(r)});if(n||(n=Bb()),!n)throw Ei.create("no-options");const s=Jl.get(r);if(s){if(Kl(n,s.options)&&Kl(i,s.config))return s;throw Ei.create("duplicate-app",{appName:r})}const o=new gT(r);for(const l of Wh.values())o.addComponent(l);const a=new aP(n,i,o);return Jl.set(r,a),a}function Yb(t=qh){const e=Jl.get(t);if(!e&&t===qh&&Bb())return Wb();if(!e)throw Ei.create("no-app",{appName:t});return e}function Rn(t,e,n){var i;let r=(i=rP[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lr.warn(a.join(" "));return}$i(new ti(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP="firebase-heartbeat-database",cP=1,To="firebase-heartbeat-store";let Fc=null;function Ub(){return Fc||(Fc=qb(uP,cP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(To)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ei.create("idb-open",{originalErrorMessage:t.message})})),Fc}async function hP(t){try{const n=(await Ub()).transaction(To),i=await n.objectStore(To).get(Gb(t));return await n.done,i}catch(e){if(e instanceof Fi)lr.warn(e.message);else{const n=Ei.create("idb-get",{originalErrorMessage:e?.message});lr.warn(n.message)}}}async function b0(t,e){try{const i=(await Ub()).transaction(To,"readwrite");await i.objectStore(To).put(e,Gb(t)),await i.done}catch(n){if(n instanceof Fi)lr.warn(n.message);else{const i=Ei.create("idb-set",{originalErrorMessage:n?.message});lr.warn(i.message)}}}function Gb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=1024,dP=30*24*60*60*1e3;class pP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gP(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=y0();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=dP}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=y0(),{heartbeatsToSend:i,unsentEntries:r}=mP(this._heartbeatsCache.heartbeats),s=Gl(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function y0(){return new Date().toISOString().substring(0,10)}function mP(t,e=fP){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),v0(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),v0(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class gP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Td()?jb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return b0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return b0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function v0(t){return Gl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(t){$i(new ti("platform-logger",e=>new $T(e),"PRIVATE")),$i(new ti("heartbeat",e=>new pP(e),"PRIVATE")),Rn(zh,O0,t),Rn(zh,O0,"esm2017"),Rn("fire-js","")}OP("");var bP="firebase",yP="10.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn(bP,yP,"app");const Hb="@firebase/installations",Ad="0.6.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb=1e4,Jb=`w:${Ad}`,ey="FIS_v2",vP="https://firebaseinstallations.googleapis.com/v1",_P=60*60*1e3,wP="installations",kP="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ur=new Fu(wP,kP,SP);function ty(t){return t instanceof Fi&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny({projectId:t}){return`${vP}/projects/${t}/installations`}function iy(t){return{token:t.token,requestStatus:2,expiresIn:TP(t.expiresIn),creationTime:Date.now()}}async function ry(t,e){const i=(await e.json()).error;return ur.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function sy({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function xP(t,{refreshToken:e}){const n=sy(t);return n.append("Authorization",PP(e)),n}async function oy(t){const e=await t();return e.status>=500&&e.status<600?t():e}function TP(t){return Number(t.replace("s","000"))}function PP(t){return`${ey} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EP({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=ny(t),r=sy(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&r.append("x-firebase-client",u)}const o={fid:n,authVersion:ey,appId:t.appId,sdkVersion:Jb},a={method:"POST",headers:r,body:JSON.stringify(o)},l=await oy(()=>fetch(i,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:iy(u.authToken)}}else throw await ry("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP=/^[cdef][\w-]{21}$/,Yh="";function $P(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=IP(t);return CP.test(n)?n:Yh}catch{return Yh}}function IP(t){return AP(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly=new Map;function uy(t,e){const n=Nu(t);cy(n,e),QP(n,e)}function cy(t,e){const n=ly.get(t);if(n)for(const i of n)i(e)}function QP(t,e){const n=RP();n&&n.postMessage({key:t,fid:e}),DP()}let Ji=null;function RP(){return!Ji&&"BroadcastChannel"in self&&(Ji=new BroadcastChannel("[Firebase] FID Change"),Ji.onmessage=t=>{cy(t.data.key,t.data.fid)}),Ji}function DP(){ly.size===0&&Ji&&(Ji.close(),Ji=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP="firebase-installations-database",LP=1,cr="firebase-installations-store";let Nc=null;function Cd(){return Nc||(Nc=qb(VP,LP,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(cr)}}})),Nc}async function eu(t,e){const n=Nu(t),r=(await Cd()).transaction(cr,"readwrite"),s=r.objectStore(cr),o=await s.get(n);return await s.put(e,n),await r.done,(!o||o.fid!==e.fid)&&uy(t,e.fid),e}async function hy(t){const e=Nu(t),i=(await Cd()).transaction(cr,"readwrite");await i.objectStore(cr).delete(e),await i.done}async function Bu(t,e){const n=Nu(t),r=(await Cd()).transaction(cr,"readwrite"),s=r.objectStore(cr),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await r.done,a&&(!o||o.fid!==a.fid)&&uy(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $d(t){let e;const n=await Bu(t.appConfig,i=>{const r=ZP(i),s=MP(t,r);return e=s.registrationPromise,s.installationEntry});return n.fid===Yh?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function ZP(t){const e=t||{fid:$P(),registrationStatus:0};return fy(e)}function MP(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(ur.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=FP(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:NP(t)}:{installationEntry:e}}async function FP(t,e){try{const n=await EP(t,e);return eu(t.appConfig,n)}catch(n){throw ty(n)&&n.customData.serverCode===409?await hy(t.appConfig):await eu(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function NP(t){let e=await _0(t.appConfig);for(;e.registrationStatus===1;)await ay(100),e=await _0(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await $d(t);return i||n}return e}function _0(t){return Bu(t,e=>{if(!e)throw ur.create("installation-not-found");return fy(e)})}function fy(t){return BP(t)?{fid:t.fid,registrationStatus:0}:t}function BP(t){return t.registrationStatus===1&&t.registrationTime+Kb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jP({appConfig:t,heartbeatServiceProvider:e},n){const i=XP(t,n),r=xP(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&r.append("x-firebase-client",u)}const o={installation:{sdkVersion:Jb,appId:t.appId}},a={method:"POST",headers:r,body:JSON.stringify(o)},l=await oy(()=>fetch(i,a));if(l.ok){const u=await l.json();return iy(u)}else throw await ry("Generate Auth Token",l)}function XP(t,{fid:e}){return`${ny(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Id(t,e=!1){let n;const i=await Bu(t.appConfig,s=>{if(!dy(s))throw ur.create("not-registered");const o=s.authToken;if(!e&&WP(o))return s;if(o.requestStatus===1)return n=zP(t,e),s;{if(!navigator.onLine)throw ur.create("app-offline");const a=UP(s);return n=qP(t,a),a}});return n?await n:i.authToken}async function zP(t,e){let n=await w0(t.appConfig);for(;n.authToken.requestStatus===1;)await ay(100),n=await w0(t.appConfig);const i=n.authToken;return i.requestStatus===0?Id(t,e):i}function w0(t){return Bu(t,e=>{if(!dy(e))throw ur.create("not-registered");const n=e.authToken;return GP(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function qP(t,e){try{const n=await jP(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await eu(t.appConfig,i),n}catch(n){if(ty(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await hy(t.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await eu(t.appConfig,i)}throw n}}function dy(t){return t!==void 0&&t.registrationStatus===2}function WP(t){return t.requestStatus===2&&!YP(t)}function YP(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+_P}function UP(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function GP(t){return t.requestStatus===1&&t.requestTime+Kb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HP(t){const e=t,{installationEntry:n,registrationPromise:i}=await $d(e);return i?i.catch(console.error):Id(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KP(t,e=!1){const n=t;return await JP(n),(await Id(n,e)).token}async function JP(t){const{registrationPromise:e}=await $d(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(t){if(!t||!t.options)throw Bc("App Configuration");if(!t.name)throw Bc("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Bc(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Bc(t){return ur.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py="installations",tE="installations-internal",nE=t=>{const e=t.getProvider("app").getImmediate(),n=eE(e),i=ha(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},iE=t=>{const e=t.getProvider("app").getImmediate(),n=ha(e,py).getImmediate();return{getId:()=>HP(n),getToken:r=>KP(n,r)}};function rE(){$i(new ti(py,nE,"PUBLIC")),$i(new ti(tE,iE,"PRIVATE"))}rE();Rn(Hb,Ad);Rn(Hb,Ad,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu="analytics",sE="firebase_id",oE="origin",aE=60*1e3,lE="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Qd="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dt=new Pd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},jt=new Fu("analytics","Analytics",uE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(t){if(!t.startsWith(Qd)){const e=jt.create("invalid-gtag-resource",{gtagURL:t});return Dt.warn(e.message),""}return t}function my(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function hE(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function fE(t,e){const n=hE("firebase-js-sdk-policy",{createScriptURL:cE}),i=document.createElement("script"),r=`${Qd}?l=${t}&id=${e}`;i.src=n?n?.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function dE(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function pE(t,e,n,i,r,s){const o=i[r];try{if(o)await e[o];else{const l=(await my(n)).find(u=>u.measurementId===r);l&&await e[l.appId]}}catch(a){Dt.error(a)}t("config",r,s)}async function mE(t,e,n,i,r){try{let s=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);const a=await my(n);for(const l of o){const u=a.find(h=>h.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",i,r||{})}catch(s){Dt.error(s)}}function gE(t,e,n,i){async function r(s,...o){try{if(s==="event"){const[a,l]=o;await mE(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await pE(t,e,n,i,a,l)}else if(s==="consent"){const[a]=o;t("consent","update",a)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){Dt.error(a)}}return r}function OE(t,e,n,i,r){let s=function(...o){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(s=window[r]),window[r]=gE(s,t,e,n),{gtagCore:s,wrappedGtag:window[r]}}function bE(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Qd)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=30,vE=1e3;class _E{constructor(e={},n=vE){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const gy=new _E;function wE(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function kE(t){var e;const{appId:n,apiKey:i}=t,r={method:"GET",headers:wE(i)},s=lE.replace("{app-id}",n),o=await fetch(s,r);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw jt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function SE(t,e=gy,n){const{appId:i,apiKey:r,measurementId:s}=t.options;if(!i)throw jt.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw jt.create("no-api-key")}const o=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new PE;return setTimeout(async()=>{a.abort()},n!==void 0?n:aE),Oy({appId:i,apiKey:r,measurementId:s},o,a,e)}async function Oy(t,{throttleEndTimeMillis:e,backoffCount:n},i,r=gy){var s;const{appId:o,measurementId:a}=t;try{await xE(i,e)}catch(l){if(a)return Dt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw l}try{const l=await kE(t);return r.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!TE(u)){if(r.deleteThrottleMetadata(o),a)return Dt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u?.customData)===null||s===void 0?void 0:s.httpStatus)===503?d0(n,r.intervalMillis,yE):d0(n,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return r.setThrottleMetadata(o,h),Dt.debug(`Calling attemptFetch again in ${c} millis`),Oy(t,h,i,r)}}function xE(t,e){return new Promise((n,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(s),i(jt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function TE(t){if(!(t instanceof Fi)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class PE{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function EE(t,e,n,i,r){if(r&&r.global){t("event",n,i);return}else{const s=await e,o=Object.assign(Object.assign({},i),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AE(){if(Td())try{await jb()}catch(t){return Dt.warn(jt.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Dt.warn(jt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function CE(t,e,n,i,r,s,o){var a;const l=SE(t);l.then(d=>{n[d.measurementId]=d.appId,t.options.measurementId&&d.measurementId!==t.options.measurementId&&Dt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${d.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(d=>Dt.error(d)),e.push(l);const u=AE().then(d=>{if(d)return i.getId()}),[c,h]=await Promise.all([l,u]);bE(s)||fE(s,c.measurementId),r("js",new Date);const f=(a=o?.config)!==null&&a!==void 0?a:{};return f[oE]="firebase",f.update=!0,h!=null&&(f[sE]=h),r("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e){this.app=e}_delete(){return delete co[this.app.options.appId],Promise.resolve()}}let co={},k0=[];const S0={};let jc="dataLayer",IE="gtag",x0,by,T0=!1;function QE(){const t=[];if(iT()&&t.push("This is a browser extension environment."),sT()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,r)=>`(${r+1}) ${i}`).join(" "),n=jt.create("invalid-analytics-context",{errorInfo:e});Dt.warn(n.message)}}function RE(t,e,n){QE();const i=t.options.appId;if(!i)throw jt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Dt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw jt.create("no-api-key");if(co[i]!=null)throw jt.create("already-exists",{id:i});if(!T0){dE(jc);const{wrappedGtag:s,gtagCore:o}=OE(co,k0,S0,jc,IE);by=s,x0=o,T0=!0}return co[i]=CE(t,k0,S0,e,x0,jc,n),new $E(t)}function DE(t=Yb()){t=ts(t);const e=ha(t,tu);return e.isInitialized()?e.getImmediate():VE(t)}function VE(t,e={}){const n=ha(t,tu);if(n.isInitialized()){const r=n.getImmediate();if(Kl(e,n.getOptions()))return r;throw jt.create("already-initialized")}return n.initialize({options:e})}function LE(t,e,n,i){t=ts(t),EE(by,co[t.app.options.appId],e,n,i).catch(r=>Dt.error(r))}const P0="@firebase/analytics",E0="0.10.1";function ZE(){$i(new ti(tu,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return RE(i,r,n)},"PUBLIC")),$i(new ti("analytics-internal",t,"PRIVATE")),Rn(P0,E0),Rn(P0,E0,"esm2017");function t(e){try{const n=e.getProvider(tu).getImmediate();return{logEvent:(i,r,s)=>LE(n,i,r,s)}}catch(n){throw jt.create("interop-component-reg-failed",{reason:n})}}}ZE();var ME=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},N,Rd=Rd||{},ee=ME||self;function ju(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function fa(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function FE(t){return Object.prototype.hasOwnProperty.call(t,Xc)&&t[Xc]||(t[Xc]=++NE)}var Xc="closure_uid_"+(1e9*Math.random()>>>0),NE=0;function BE(t,e,n){return t.call.apply(t.bind,arguments)}function jE(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function vt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?vt=BE:vt=jE,vt.apply(null,arguments)}function za(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function rt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,r,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(i,o)}}function Ni(){this.s=this.s,this.o=this.o}var XE=0;Ni.prototype.s=!1;Ni.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),XE!=0)&&FE(this)};Ni.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yy=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Dd(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function A0(t,e){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(ju(i)){const r=t.length||0,s=i.length||0;t.length=r+s;for(let o=0;o<s;o++)t[r+o]=i[o]}else t.push(i)}}function _t(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}_t.prototype.h=function(){this.defaultPrevented=!0};var zE=function(){if(!ee.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};ee.addEventListener("test",n,e),ee.removeEventListener("test",n,e)}catch{}return t}();function Po(t){return/^[\s\xa0]*$/.test(t)}function Xu(){var t=ee.navigator;return t&&(t=t.userAgent)?t:""}function Sn(t){return Xu().indexOf(t)!=-1}function Vd(t){return Vd[" "](t),t}Vd[" "]=function(){};function qE(t,e){var n=ZA;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var WE=Sn("Opera"),ns=Sn("Trident")||Sn("MSIE"),vy=Sn("Edge"),Uh=vy||ns,_y=Sn("Gecko")&&!(Xu().toLowerCase().indexOf("webkit")!=-1&&!Sn("Edge"))&&!(Sn("Trident")||Sn("MSIE"))&&!Sn("Edge"),YE=Xu().toLowerCase().indexOf("webkit")!=-1&&!Sn("Edge");function wy(){var t=ee.document;return t?t.documentMode:void 0}var Gh;e:{var zc="",qc=function(){var t=Xu();if(_y)return/rv:([^\);]+)(\)|;)/.exec(t);if(vy)return/Edge\/([\d\.]+)/.exec(t);if(ns)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(YE)return/WebKit\/(\S+)/.exec(t);if(WE)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(qc&&(zc=qc?qc[1]:""),ns){var Wc=wy();if(Wc!=null&&Wc>parseFloat(zc)){Gh=String(Wc);break e}}Gh=zc}var Hh;if(ee.document&&ns){var C0=wy();Hh=C0||parseInt(Gh,10)||void 0}else Hh=void 0;var UE=Hh;function Eo(t,e){if(_t.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(_y){e:{try{Vd(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:GE[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Eo.$.h.call(this)}}rt(Eo,_t);var GE={2:"touch",3:"pen",4:"mouse"};Eo.prototype.h=function(){Eo.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var da="closure_listenable_"+(1e6*Math.random()|0),HE=0;function KE(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++HE,this.fa=this.ia=!1}function zu(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Ld(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function JE(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function ky(t){const e={};for(const n in t)e[n]=t[n];return e}const $0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Sy(t,e){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(let s=0;s<$0.length;s++)n=$0[s],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function qu(t){this.src=t,this.g={},this.h=0}qu.prototype.add=function(t,e,n,i,r){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Jh(t,e,i,r);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new KE(e,this.src,s,!!i,r),e.ia=n,t.push(e)),e};function Kh(t,e){var n=e.type;if(n in t.g){var i=t.g[n],r=yy(i,e),s;(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(zu(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Jh(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==i)return r}return-1}var Zd="closure_lm_"+(1e6*Math.random()|0),Yc={};function xy(t,e,n,i,r){if(i&&i.once)return Py(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)xy(t,e[s],n,i,r);return null}return n=Nd(n),t&&t[da]?t.O(e,n,fa(i)?!!i.capture:!!i,r):Ty(t,e,n,!1,i,r)}function Ty(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var o=fa(r)?!!r.capture:!!r,a=Fd(t);if(a||(t[Zd]=a=new qu(t)),n=a.add(e,n,i,o,s),n.proxy)return n;if(i=eA(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)zE||(r=o),r===void 0&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(Ay(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function eA(){function t(n){return e.call(t.src,t.listener,n)}const e=tA;return t}function Py(t,e,n,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Py(t,e[s],n,i,r);return null}return n=Nd(n),t&&t[da]?t.P(e,n,fa(i)?!!i.capture:!!i,r):Ty(t,e,n,!0,i,r)}function Ey(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)Ey(t,e[s],n,i,r);else i=fa(i)?!!i.capture:!!i,n=Nd(n),t&&t[da]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Jh(s,n,i,r),-1<n&&(zu(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Fd(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Jh(e,n,i,r)),(n=-1<t?e[t]:null)&&Md(n))}function Md(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[da])Kh(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(Ay(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Fd(e))?(Kh(n,t),n.h==0&&(n.src=null,e[Zd]=null)):zu(t)}}}function Ay(t){return t in Yc?Yc[t]:Yc[t]="on"+t}function tA(t,e){if(t.fa)t=!0;else{e=new Eo(e,this);var n=t.listener,i=t.la||t.src;t.ia&&Md(t),t=n.call(i,e)}return t}function Fd(t){return t=t[Zd],t instanceof qu?t:null}var Uc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nd(t){return typeof t=="function"?t:(t[Uc]||(t[Uc]=function(e){return t.handleEvent(e)}),t[Uc])}function it(){Ni.call(this),this.i=new qu(this),this.S=this,this.J=null}rt(it,Ni);it.prototype[da]=!0;it.prototype.removeEventListener=function(t,e,n,i){Ey(this,t,e,n,i)};function ht(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new _t(e,t);else if(e instanceof _t)e.target=e.target||t;else{var r=e;e=new _t(i,t),Sy(e,r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];r=qa(o,i,!0,e)&&r}if(o=e.g=t,r=qa(o,i,!0,e)&&r,r=qa(o,i,!1,e)&&r,n)for(s=0;s<n.length;s++)o=e.g=n[s],r=qa(o,i,!1,e)&&r}it.prototype.N=function(){if(it.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)zu(n[i]);delete t.g[e],t.h--}}this.J=null};it.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};it.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function qa(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Kh(t.i,o),r=a.call(l,i)!==!1&&r}}return r&&!i.defaultPrevented}var Bd=ee.JSON.stringify;class nA{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function iA(){var t=jd;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class rA{constructor(){this.h=this.g=null}add(e,n){const i=Cy.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}}var Cy=new nA(()=>new sA,t=>t.reset());class sA{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function oA(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function aA(t){ee.setTimeout(()=>{throw t},0)}let Ao,Co=!1,jd=new rA,$y=()=>{const t=ee.Promise.resolve(void 0);Ao=()=>{t.then(lA)}};var lA=()=>{for(var t;t=iA();){try{t.h.call(t.g)}catch(n){aA(n)}var e=Cy;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Co=!1};function Wu(t,e){it.call(this),this.h=t||1,this.g=e||ee,this.j=vt(this.qb,this),this.l=Date.now()}rt(Wu,it);N=Wu.prototype;N.ga=!1;N.T=null;N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ht(this,"tick"),this.ga&&(Xd(this),this.start()))}};N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Xd(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}N.N=function(){Wu.$.N.call(this),Xd(this),delete this.g};function zd(t,e,n){if(typeof t=="function")n&&(t=vt(t,n));else if(t&&typeof t.handleEvent=="function")t=vt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ee.setTimeout(t,e||0)}function Iy(t){t.g=zd(()=>{t.g=null,t.i&&(t.i=!1,Iy(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class uA extends Ni{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Iy(this)}N(){super.N(),this.g&&(ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $o(t){Ni.call(this),this.h=t,this.g={}}rt($o,Ni);var I0=[];function Qy(t,e,n,i){Array.isArray(n)||(n&&(I0[0]=n.toString()),n=I0);for(var r=0;r<n.length;r++){var s=xy(e,n[r],i||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Ry(t){Ld(t.g,function(e,n){this.g.hasOwnProperty(n)&&Md(e)},t),t.g={}}$o.prototype.N=function(){$o.$.N.call(this),Ry(this)};$o.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Yu(){this.g=!0}Yu.prototype.Ea=function(){this.g=!1};function cA(t,e,n,i,r,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+n+`
`+o})}function hA(t,e,n,i,r,s,o){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+n+`
`+s+" "+o})}function Mr(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+dA(t,n)+(i?" "+i:"")})}function fA(t,e){t.info(function(){return"TIMEOUT: "+e})}Yu.prototype.info=function(){};function dA(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return Bd(n)}catch{return e}}var vr={},Q0=null;function Uu(){return Q0=Q0||new it}vr.Ta="serverreachability";function Dy(t){_t.call(this,vr.Ta,t)}rt(Dy,_t);function Io(t){const e=Uu();ht(e,new Dy(e))}vr.STAT_EVENT="statevent";function Vy(t,e){_t.call(this,vr.STAT_EVENT,t),this.stat=e}rt(Vy,_t);function Tt(t){const e=Uu();ht(e,new Vy(e,t))}vr.Ua="timingevent";function Ly(t,e){_t.call(this,vr.Ua,t),this.size=e}rt(Ly,_t);function pa(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ee.setTimeout(function(){t()},e)}var Gu={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Zy={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function qd(){}qd.prototype.h=null;function R0(t){return t.h||(t.h=t.i())}function My(){}var ma={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Wd(){_t.call(this,"d")}rt(Wd,_t);function Yd(){_t.call(this,"c")}rt(Yd,_t);var ef;function Hu(){}rt(Hu,qd);Hu.prototype.g=function(){return new XMLHttpRequest};Hu.prototype.i=function(){return{}};ef=new Hu;function ga(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new $o(this),this.P=pA,t=Uh?125:void 0,this.V=new Wu(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Fy}function Fy(){this.i=null,this.g="",this.h=!1}var pA=45e3,Ny={},tf={};N=ga.prototype;N.setTimeout=function(t){this.P=t};function nf(t,e,n){t.L=1,t.A=Ju(ni(e)),t.u=n,t.S=!0,By(t,null)}function By(t,e){t.G=Date.now(),Oa(t),t.B=ni(t.A);var n=t.B,i=t.W;Array.isArray(i)||(i=[String(i)]),Gy(n.i,"t",i),t.o=0,n=t.l.J,t.h=new Fy,t.g=Ov(t.l,n?e:null,!t.u),0<t.O&&(t.M=new uA(vt(t.Pa,t,t.g),t.O)),Qy(t.U,t.g,"readystatechange",t.nb),e=t.I?ky(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Io(),cA(t.j,t.v,t.B,t.m,t.W,t.u)}N.nb=function(t){t=t.target;const e=this.M;e&&En(t)==3?e.l():this.Pa(t)};N.Pa=function(t){try{if(t==this.g)e:{const c=En(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||Uh||this.g&&(this.h.h||this.g.ja()||Z0(this.g)))){this.J||c!=4||e==7||(e==8||0>=h?Io(3):Io(2)),Ku(this);var n=this.g.da();this.ca=n;t:if(jy(this)){var i=Z0(this.g);t="";var r=i.length,s=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){er(this),ho(this);var o="";break t}this.h.i=new ee.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,hA(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Po(a)){var u=a;break t}}u=null}if(n=u)Mr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rf(this,n);else{this.i=!1,this.s=3,Tt(12),er(this),ho(this);break e}}this.S?(Xy(this,c,o),Uh&&this.i&&c==3&&(Qy(this.U,this.V,"tick",this.mb),this.V.start())):(Mr(this.j,this.m,o,null),rf(this,o)),c==4&&er(this),this.i&&!this.J&&(c==4?dv(this.l,this):(this.i=!1,Oa(this)))}else DA(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),er(this),ho(this)}}}catch{}finally{}};function jy(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function Xy(t,e,n){let i=!0,r;for(;!t.J&&t.o<n.length;)if(r=mA(t,n),r==tf){e==4&&(t.s=4,Tt(14),i=!1),Mr(t.j,t.m,null,"[Incomplete Response]");break}else if(r==Ny){t.s=4,Tt(15),Mr(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else Mr(t.j,t.m,r,null),rf(t,r);jy(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Tt(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ep(e),e.M=!0,Tt(11))):(Mr(t.j,t.m,n,"[Invalid Chunked Response]"),er(t),ho(t))}N.mb=function(){if(this.g){var t=En(this.g),e=this.g.ja();this.o<e.length&&(Ku(this),Xy(this,t,e),this.i&&t!=4&&Oa(this))}};function mA(t,e){var n=t.o,i=e.indexOf(`
`,n);return i==-1?tf:(n=Number(e.substring(n,i)),isNaN(n)?Ny:(i+=1,i+n>e.length?tf:(e=e.slice(i,i+n),t.o=i+n,e)))}N.cancel=function(){this.J=!0,er(this)};function Oa(t){t.Y=Date.now()+t.P,zy(t,t.P)}function zy(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=pa(vt(t.lb,t),e)}function Ku(t){t.C&&(ee.clearTimeout(t.C),t.C=null)}N.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(fA(this.j,this.B),this.L!=2&&(Io(),Tt(17)),er(this),this.s=2,ho(this)):zy(this,this.Y-t)};function ho(t){t.l.H==0||t.J||dv(t.l,t)}function er(t){Ku(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Xd(t.V),Ry(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function rf(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||sf(n.i,t))){if(!t.K&&sf(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)ru(n),ic(n);else break e;Jd(n),Tt(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=pa(vt(n.ib,n),6e3));if(1>=Jy(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else tr(n,11)}else if((t.K||n.g==t)&&ru(n),!Po(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let u=r[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const d=t.g;if(d){const p=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=i.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Ud(s,s.h),s.h=null))}if(i.F){const g=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(i.Da=g,Qe(i.I,i.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var o=t;if(i.wa=gv(i,i.J?i.pa:null,i.Y),o.K){ev(i.i,o);var a=o,l=i.L;l&&a.setTimeout(l),a.C&&(Ku(a),Oa(a)),i.g=o}else hv(i);0<n.j.length&&rc(n)}else u[0]!="stop"&&u[0]!="close"||tr(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?tr(n,7):Kd(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Io(4)}catch{}}function gA(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(ju(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function OA(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ju(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}function qy(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(ju(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=OA(t),i=gA(t),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}var Wy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bA(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function or(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof or){this.h=t.h,nu(this,t.j),this.s=t.s,this.g=t.g,iu(this,t.m),this.l=t.l;var e=t.i,n=new Qo;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),D0(this,n),this.o=t.o}else t&&(e=String(t).match(Wy))?(this.h=!1,nu(this,e[1]||"",!0),this.s=Js(e[2]||""),this.g=Js(e[3]||"",!0),iu(this,e[4]),this.l=Js(e[5]||"",!0),D0(this,e[6]||"",!0),this.o=Js(e[7]||"")):(this.h=!1,this.i=new Qo(null,this.h))}or.prototype.toString=function(){var t=[],e=this.j;e&&t.push(eo(e,V0,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(eo(e,V0,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(eo(n,n.charAt(0)=="/"?_A:vA,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",eo(n,kA)),t.join("")};function ni(t){return new or(t)}function nu(t,e,n){t.j=n?Js(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function iu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function D0(t,e,n){e instanceof Qo?(t.i=e,SA(t.i,t.h)):(n||(e=eo(e,wA)),t.i=new Qo(e,t.h))}function Qe(t,e,n){t.i.set(e,n)}function Ju(t){return Qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Js(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function eo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,yA),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function yA(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var V0=/[#\/\?@]/g,vA=/[#\?:]/g,_A=/[#\?]/g,wA=/[#\?@]/g,kA=/#/g;function Qo(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Bi(t){t.g||(t.g=new Map,t.h=0,t.i&&bA(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}N=Qo.prototype;N.add=function(t,e){Bi(this),this.i=null,t=ks(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Yy(t,e){Bi(t),e=ks(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Uy(t,e){return Bi(t),e=ks(t,e),t.g.has(e)}N.forEach=function(t,e){Bi(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)};N.ta=function(){Bi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const r=t[i];for(let s=0;s<r.length;s++)n.push(e[i])}return n};N.Z=function(t){Bi(this);let e=[];if(typeof t=="string")Uy(this,t)&&(e=e.concat(this.g.get(ks(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};N.set=function(t,e){return Bi(this),this.i=null,t=ks(this,t),Uy(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};N.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function Gy(t,e,n){Yy(t,e),0<n.length&&(t.i=null,t.g.set(ks(t,e),Dd(n)),t.h+=n.length)}N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;o[i]!==""&&(r+="="+encodeURIComponent(String(o[i]))),t.push(r)}}return this.i=t.join("&")};function ks(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function SA(t,e){e&&!t.j&&(Bi(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(Yy(this,i),Gy(this,r,n))},t)),t.j=e}var xA=class{constructor(t,e){this.g=t,this.map=e}};function Hy(t){this.l=t||TA,ee.PerformanceNavigationTiming?(t=ee.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ee.g&&ee.g.Ka&&ee.g.Ka()&&ee.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var TA=10;function Ky(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Jy(t){return t.h?1:t.g?t.g.size:0}function sf(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Ud(t,e){t.g?t.g.add(e):t.h=e}function ev(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Hy.prototype.cancel=function(){if(this.i=tv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function tv(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Dd(t.i)}var PA=class{stringify(t){return ee.JSON.stringify(t,void 0)}parse(t){return ee.JSON.parse(t,void 0)}};function EA(){this.g=new PA}function AA(t,e,n){const i=n||"";try{qy(t,function(r,s){let o=r;fa(r)&&(o=Bd(r)),e.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function CA(t,e){const n=new Yu;if(ee.Image){const i=new Image;i.onload=za(Wa,n,i,"TestLoadImage: loaded",!0,e),i.onerror=za(Wa,n,i,"TestLoadImage: error",!1,e),i.onabort=za(Wa,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=za(Wa,n,i,"TestLoadImage: timeout",!1,e),ee.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function Wa(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function ec(t){this.l=t.ec||null,this.j=t.ob||!1}rt(ec,qd);ec.prototype.g=function(){return new tc(this.l,this.j)};ec.prototype.i=function(t){return function(){return t}}({});function tc(t,e){it.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Gd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rt(tc,it);var Gd=0;N=tc.prototype;N.open=function(t,e){if(this.readyState!=Gd)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ro(this)};N.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ee).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ba(this)),this.readyState=Gd};N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ro(this)),this.g&&(this.readyState=3,Ro(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ee.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;nv(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function nv(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ba(this):Ro(this),this.readyState==3&&nv(this)}};N.Za=function(t){this.g&&(this.response=this.responseText=t,ba(this))};N.Ya=function(t){this.g&&(this.response=t,ba(this))};N.ka=function(){this.g&&ba(this)};function ba(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ro(t)}N.setRequestHeader=function(t,e){this.v.append(t,e)};N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ro(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(tc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var $A=ee.JSON.parse;function Be(t){it.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=iv,this.L=this.M=!1}rt(Be,it);var iv="",IA=/^https?$/i,QA=["POST","PUT"];N=Be.prototype;N.Oa=function(t){this.M=t};N.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ef.g(),this.C=this.u?R0(this.u):R0(ef),this.g.onreadystatechange=vt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){L0(this,s);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const s of i.keys())n.set(s,i.get(s));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),r=ee.FormData&&t instanceof ee.FormData,!(0<=yy(QA,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ov(this),0<this.B&&((this.L=RA(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vt(this.ua,this)):this.A=zd(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){L0(this,s)}};function RA(t){return ns&&typeof t.timeout=="number"&&t.ontimeout!==void 0}N.ua=function(){typeof Rd<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ht(this,"timeout"),this.abort(8))};function L0(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,rv(t),nc(t)}function rv(t){t.F||(t.F=!0,ht(t,"complete"),ht(t,"error"))}N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ht(this,"complete"),ht(this,"abort"),nc(this))};N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),nc(this,!0)),Be.$.N.call(this)};N.La=function(){this.s||(this.G||this.v||this.l?sv(this):this.kb())};N.kb=function(){sv(this)};function sv(t){if(t.h&&typeof Rd<"u"&&(!t.C[1]||En(t)!=4||t.da()!=2)){if(t.v&&En(t)==4)zd(t.La,0,t);else if(ht(t,"readystatechange"),En(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=o===0){var r=String(t.I).match(Wy)[1]||null;!r&&ee.self&&ee.self.location&&(r=ee.self.location.protocol.slice(0,-1)),i=!IA.test(r?r.toLowerCase():"")}n=i}if(n)ht(t,"complete"),ht(t,"success");else{t.m=6;try{var s=2<En(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",rv(t)}}finally{nc(t)}}}}function nc(t,e){if(t.g){ov(t);const n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ht(t,"ready");try{n.onreadystatechange=i}catch{}}}function ov(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ee.clearTimeout(t.A),t.A=null)}N.isActive=function(){return!!this.g};function En(t){return t.g?t.g.readyState:0}N.da=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}};N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),$A(e)}};function Z0(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case iv:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function DA(t){const e={};t=(t.g&&2<=En(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(Po(t[i]))continue;var n=oA(t[i]);const r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[r]||[];e[r]=s,s.push(n)}JE(e,function(i){return i.join(", ")})}N.Ia=function(){return this.m};N.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function av(t){let e="";return Ld(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function Hd(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=av(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Qe(t,e,n))}function Zs(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function lv(t){this.Ga=0,this.j=[],this.l=new Yu,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Zs("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Zs("baseRetryDelayMs",5e3,t),this.hb=Zs("retryDelaySeedMs",1e4,t),this.eb=Zs("forwardChannelMaxRetries",2,t),this.xa=Zs("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Hy(t&&t.concurrentRequestLimit),this.Ja=new EA,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}N=lv.prototype;N.ra=8;N.H=1;function Kd(t){if(uv(t),t.H==3){var e=t.W++,n=ni(t.I);if(Qe(n,"SID",t.K),Qe(n,"RID",e),Qe(n,"TYPE","terminate"),ya(t,n),e=new ga(t,t.l,e),e.L=2,e.A=Ju(ni(n)),n=!1,ee.navigator&&ee.navigator.sendBeacon)try{n=ee.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ee.Image&&(new Image().src=e.A,n=!0),n||(e.g=Ov(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Oa(e)}mv(t)}function ic(t){t.g&&(ep(t),t.g.cancel(),t.g=null)}function uv(t){ic(t),t.u&&(ee.clearTimeout(t.u),t.u=null),ru(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ee.clearTimeout(t.m),t.m=null)}function rc(t){if(!Ky(t.i)&&!t.m){t.m=!0;var e=t.Na;Ao||$y(),Co||(Ao(),Co=!0),jd.add(e,t),t.C=0}}function VA(t,e){return Jy(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=pa(vt(t.Na,t,e),pv(t,t.C)),t.C++,!0)}N.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const r=new ga(this,this.l,t);let s=this.s;if(this.U&&(s?(s=ky(s),Sy(s,this.U)):s=this.U),this.o!==null||this.O||(r.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=cv(this,r,e),n=ni(this.I),Qe(n,"RID",t),Qe(n,"CVER",22),this.F&&Qe(n,"X-HTTP-Session-Id",this.F),ya(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(av(s)))+"&"+e:this.o&&Hd(n,this.o,s)),Ud(this.i,r),this.bb&&Qe(n,"TYPE","init"),this.P?(Qe(n,"$req",e),Qe(n,"SID","null"),r.aa=!0,nf(r,n,null)):nf(r,n,e),this.H=2}}else this.H==3&&(t?M0(this,t):this.j.length==0||Ky(this.i)||M0(this))};function M0(t,e){var n;e?n=e.m:n=t.W++;const i=ni(t.I);Qe(i,"SID",t.K),Qe(i,"RID",n),Qe(i,"AID",t.V),ya(t,i),t.o&&t.s&&Hd(i,t.o,t.s),n=new ga(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=cv(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Ud(t.i,n),nf(n,i,e)}function ya(t,e){t.na&&Ld(t.na,function(n,i){Qe(e,i,n)}),t.h&&qy({},function(n,i){Qe(e,i,n)})}function cv(t,e,n){n=Math.min(t.j.length,n);var i=t.h?vt(t.h.Va,t.h,t):null;e:{var r=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=r[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=r[l].g;const c=r[l].map;if(u-=s,0>u)s=Math.max(0,r[l].g-100),a=!1;else try{AA(c,o,"req"+u+"_")}catch{i&&i(c)}}if(a){i=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function hv(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ao||$y(),Co||(Ao(),Co=!0),jd.add(e,t),t.A=0}}function Jd(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=pa(vt(t.Ma,t),pv(t,t.A)),t.A++,!0)}N.Ma=function(){if(this.u=null,fv(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=pa(vt(this.jb,this),t)}};N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Tt(10),ic(this),fv(this))};function ep(t){t.B!=null&&(ee.clearTimeout(t.B),t.B=null)}function fv(t){t.g=new ga(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ni(t.wa);Qe(e,"RID","rpc"),Qe(e,"SID",t.K),Qe(e,"AID",t.V),Qe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Qe(e,"TO",t.qa),Qe(e,"TYPE","xmlhttp"),ya(t,e),t.o&&t.s&&Hd(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Ju(ni(e)),n.u=null,n.S=!0,By(n,t)}N.ib=function(){this.v!=null&&(this.v=null,ic(this),Jd(this),Tt(19))};function ru(t){t.v!=null&&(ee.clearTimeout(t.v),t.v=null)}function dv(t,e){var n=null;if(t.g==e){ru(t),ep(t),t.g=null;var i=2}else if(sf(t.i,e))n=e.F,ev(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var r=t.C;i=Uu(),ht(i,new Ly(i,n)),rc(t)}else hv(t);else if(r=e.s,r==3||r==0&&0<e.ca||!(i==1&&VA(t,e)||i==2&&Jd(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:tr(t,5);break;case 4:tr(t,10);break;case 3:tr(t,6);break;default:tr(t,2)}}}function pv(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function tr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=vt(t.pb,t);n||(n=new or("//www.google.com/images/cleardot.gif"),ee.location&&ee.location.protocol=="http"||nu(n,"https"),Ju(n)),CA(n.toString(),i)}else Tt(2);t.H=0,t.h&&t.h.za(e),mv(t),uv(t)}N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Tt(2)):(this.l.info("Failed to ping google.com"),Tt(1))};function mv(t){if(t.H=0,t.ma=[],t.h){const e=tv(t.i);(e.length!=0||t.j.length!=0)&&(A0(t.ma,e),A0(t.ma,t.j),t.i.i.length=0,Dd(t.j),t.j.length=0),t.h.ya()}}function gv(t,e,n){var i=n instanceof or?ni(n):new or(n);if(i.g!="")e&&(i.g=e+"."+i.g),iu(i,i.m);else{var r=ee.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new or(null);i&&nu(s,i),e&&(s.g=e),r&&iu(s,r),n&&(s.l=n),i=s}return n=t.F,e=t.Da,n&&e&&Qe(i,n,e),Qe(i,"VER",t.ra),ya(t,i),i}function Ov(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Be(new ec({ob:n})):new Be(t.va),e.Oa(t.J),e}N.isActive=function(){return!!this.h&&this.h.isActive(this)};function bv(){}N=bv.prototype;N.Ba=function(){};N.Aa=function(){};N.za=function(){};N.ya=function(){};N.isActive=function(){return!0};N.Va=function(){};function su(){if(ns&&!(10<=Number(UE)))throw Error("Environmental error: no available transport.")}su.prototype.g=function(t,e){return new Xt(t,e)};function Xt(t,e){it.call(this),this.g=new lv(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Po(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Po(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ss(this)}rt(Xt,it);Xt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Tt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=gv(t,null,t.Y),rc(t)};Xt.prototype.close=function(){Kd(this.g)};Xt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Bd(t),t=n);e.j.push(new xA(e.fb++,t)),e.H==3&&rc(e)};Xt.prototype.N=function(){this.g.h=null,delete this.j,Kd(this.g),delete this.g,Xt.$.N.call(this)};function yv(t){Wd.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}rt(yv,Wd);function vv(){Yd.call(this),this.status=1}rt(vv,Yd);function Ss(t){this.g=t}rt(Ss,bv);Ss.prototype.Ba=function(){ht(this.g,"a")};Ss.prototype.Aa=function(t){ht(this.g,new yv(t))};Ss.prototype.za=function(t){ht(this.g,new vv)};Ss.prototype.ya=function(){ht(this.g,"b")};function LA(){this.blockSize=-1}function dn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}rt(dn,LA);dn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Gc(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var s=t.g[3],o=e+(s^n&(r^s))+i[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[2]+606105819&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[3]+3250441966&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(s^n&(r^s))+i[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[6]+2821735955&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[7]+4249261313&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(s^n&(r^s))+i[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[10]+4294925233&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[11]+2304563134&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(s^n&(r^s))+i[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[14]+2792965006&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[15]+1236535329&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(r^s&(n^r))+i[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[11]+643717713&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[0]+3921069994&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(n^r))+i[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[15]+3634488961&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[4]+3889429448&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(n^r))+i[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[3]+4107603335&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[8]+1163531501&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(n^r))+i[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[7]+1735328473&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[12]+2368359562&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(n^r^s)+i[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[11]+1839030562&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[14]+4259657740&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^s)+i[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[7]+4139469664&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[10]+3200236656&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^s)+i[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[3]+3572445317&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[6]+76029189&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^s)+i[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[15]+530742520&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[2]+3299628645&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(r^(n|~s))+i[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[14]+2878612391&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[5]+4237533241&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~s))+i[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[10]+4293915773&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[1]+2240044497&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~s))+i[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[6]+2734768916&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[13]+1309151649&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~s))+i[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[2]+718787259&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+s&4294967295}dn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(r==0)for(;s<=n;)Gc(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(i[r++]=t.charCodeAt(s++),r==this.blockSize){Gc(this,i),r=0;break}}else for(;s<e;)if(i[r++]=t[s++],r==this.blockSize){Gc(this,i),r=0;break}}this.h=r,this.i+=e};dn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function _e(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var s=t[r]|0;i&&s==e||(n[r]=s,i=!1)}this.g=n}var ZA={};function tp(t){return-128<=t&&128>t?qE(t,function(e){return new _e([e|0],0>e?-1:0)}):new _e([t|0],0>t?-1:0)}function An(t){if(isNaN(t)||!isFinite(t))return jr;if(0>t)return at(An(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=of;return new _e(e,0)}function _v(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return at(_v(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=An(Math.pow(e,8)),i=jr,r=0;r<t.length;r+=8){var s=Math.min(8,t.length-r),o=parseInt(t.substring(r,r+s),e);8>s?(s=An(Math.pow(e,s)),i=i.R(s).add(An(o))):(i=i.R(n),i=i.add(An(o)))}return i}var of=4294967296,jr=tp(0),af=tp(1),F0=tp(16777216);N=_e.prototype;N.ea=function(){if(Yt(this))return-at(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:of+i)*e,e*=of}return t};N.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Yn(this))return"0";if(Yt(this))return"-"+at(this).toString(t);for(var e=An(Math.pow(t,6)),n=this,i="";;){var r=au(n,e).g;n=ou(n,r.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,Yn(n))return s+i;for(;6>s.length;)s="0"+s;i=s+i}};N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Yn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Yt(t){return t.h==-1}N.X=function(t){return t=ou(this,t),Yt(t)?-1:Yn(t)?0:1};function at(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new _e(n,~t.h).add(af)}N.abs=function(){return Yt(this)?at(this):this};N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var s=i+(this.D(r)&65535)+(t.D(r)&65535),o=(s>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=o>>>16,s&=65535,o&=65535,n[r]=o<<16|s}return new _e(n,n[n.length-1]&-2147483648?-1:0)};function ou(t,e){return t.add(at(e))}N.R=function(t){if(Yn(this)||Yn(t))return jr;if(Yt(this))return Yt(t)?at(this).R(at(t)):at(at(this).R(t));if(Yt(t))return at(this.R(at(t)));if(0>this.X(F0)&&0>t.X(F0))return An(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var s=this.D(i)>>>16,o=this.D(i)&65535,a=t.D(r)>>>16,l=t.D(r)&65535;n[2*i+2*r]+=o*l,Ya(n,2*i+2*r),n[2*i+2*r+1]+=s*l,Ya(n,2*i+2*r+1),n[2*i+2*r+1]+=o*a,Ya(n,2*i+2*r+1),n[2*i+2*r+2]+=s*a,Ya(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new _e(n,0)};function Ya(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ms(t,e){this.g=t,this.h=e}function au(t,e){if(Yn(e))throw Error("division by zero");if(Yn(t))return new Ms(jr,jr);if(Yt(t))return e=au(at(t),e),new Ms(at(e.g),at(e.h));if(Yt(e))return e=au(t,at(e)),new Ms(at(e.g),e.h);if(30<t.g.length){if(Yt(t)||Yt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=af,i=e;0>=i.X(t);)n=N0(n),i=N0(i);var r=Ar(n,1),s=Ar(i,1);for(i=Ar(i,2),n=Ar(n,2);!Yn(i);){var o=s.add(i);0>=o.X(t)&&(r=r.add(n),s=o),i=Ar(i,1),n=Ar(n,1)}return e=ou(t,r.R(e)),new Ms(r,e)}for(r=jr;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),s=An(n),o=s.R(e);Yt(o)||0<o.X(t);)n-=i,s=An(n),o=s.R(e);Yn(s)&&(s=af),r=r.add(s),t=ou(t,o)}return new Ms(r,t)}N.gb=function(t){return au(this,t).h};N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new _e(n,this.h&t.h)};N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new _e(n,this.h|t.h)};N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new _e(n,this.h^t.h)};function N0(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new _e(n,t.h)}function Ar(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],s=0;s<i;s++)r[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new _e(r,t.h)}su.prototype.createWebChannel=su.prototype.g;Xt.prototype.send=Xt.prototype.u;Xt.prototype.open=Xt.prototype.m;Xt.prototype.close=Xt.prototype.close;Gu.NO_ERROR=0;Gu.TIMEOUT=8;Gu.HTTP_ERROR=6;Zy.COMPLETE="complete";My.EventType=ma;ma.OPEN="a";ma.CLOSE="b";ma.ERROR="c";ma.MESSAGE="d";it.prototype.listen=it.prototype.O;Be.prototype.listenOnce=Be.prototype.P;Be.prototype.getLastError=Be.prototype.Sa;Be.prototype.getLastErrorCode=Be.prototype.Ia;Be.prototype.getStatus=Be.prototype.da;Be.prototype.getResponseJson=Be.prototype.Wa;Be.prototype.getResponseText=Be.prototype.ja;Be.prototype.send=Be.prototype.ha;Be.prototype.setWithCredentials=Be.prototype.Oa;dn.prototype.digest=dn.prototype.l;dn.prototype.reset=dn.prototype.reset;dn.prototype.update=dn.prototype.j;_e.prototype.add=_e.prototype.add;_e.prototype.multiply=_e.prototype.R;_e.prototype.modulo=_e.prototype.gb;_e.prototype.compare=_e.prototype.X;_e.prototype.toNumber=_e.prototype.ea;_e.prototype.toString=_e.prototype.toString;_e.prototype.getBits=_e.prototype.D;_e.fromNumber=An;_e.fromString=_v;var MA=function(){return new su},FA=function(){return Uu()},Hc=Gu,NA=Zy,BA=vr,B0={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ua=My,jA=Be,XA=dn,Xr=_e;const j0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gt.UNAUTHENTICATED=new gt(null),gt.GOOGLE_CREDENTIALS=new gt("google-credentials-uid"),gt.FIRST_PARTY=new gt("first-party-uid"),gt.MOCK_USER=new gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xs="10.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=new Pd("@firebase/firestore");function Fs(){return hr.logLevel}function F(t,...e){if(hr.logLevel<=de.DEBUG){const n=e.map(np);hr.debug(`Firestore (${xs}): ${t}`,...n)}}function Zn(t,...e){if(hr.logLevel<=de.ERROR){const n=e.map(np);hr.error(`Firestore (${xs}): ${t}`,...n)}}function is(t,...e){if(hr.logLevel<=de.WARN){const n=e.map(np);hr.warn(`Firestore (${xs}): ${t}`,...n)}}function np(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(t="Unexpected state"){const e=`FIRESTORE (${xs}) INTERNAL ASSERTION FAILED: `+t;throw Zn(e),new Error(e)}function Ee(t,e){t||te()}function re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class W extends Fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gt.UNAUTHENTICATED))}shutdown(){}}class qA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class WA{constructor(e){this.t=e,this.currentUser=gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new Gn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Gn,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Gn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ee(typeof i.accessToken=="string"),new wv(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ee(e===null||typeof e=="string"),new gt(e)}}class YA{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=gt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class UA{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new YA(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class GA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const i=s=>{s.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,F("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ee(typeof n.token=="string"),this.R=n.token,new GA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=KA(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}}function ve(t,e){return t<e?-1:t>e?1:0}function rs(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new W(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ke.fromMillis(Date.now())}static fromDate(e){return Ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new Ke(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ie(e)}static min(){return new ie(new Ke(0,0))}static max(){return new ie(new Ke(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n,i){n===void 0?n=0:n>e.length&&te(),i===void 0?i=e.length-n:i>e.length-n&&te(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Do.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Do?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Fe extends Do{construct(e,n,i){return new Fe(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new W(Q.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Fe(n)}static emptyPath(){return new Fe([])}}const JA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ut extends Do{construct(e,n,i){return new ut(e,n,i)}static isValidIdentifier(e){return JA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ut(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new W(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new W(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new W(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new W(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ut(n)}static emptyPath(){return new ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(Fe.fromString(e))}static fromName(e){return new G(Fe.fromString(e).popFirst(5))}static empty(){return new G(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new Fe(e.slice()))}}function eC(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=ie.fromTimestamp(i===1e9?new Ke(n+1,0):new Ke(n,i));return new Ii(r,G.empty(),e)}function tC(t){return new Ii(t.readTime,t.key,-1)}class Ii{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Ii(ie.min(),G.empty(),-1)}static max(){return new Ii(ie.max(),G.empty(),-1)}}function nC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function va(t){if(t.code!==Q.FAILED_PRECONDITION||t.message!==iC)throw t;F("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,i)=>{n(e)})}static reject(e){return new $((n,i)=>{i(e)})}static waitFor(e){return new $((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(e){let n=$.resolve(!1);for(const i of e)n=n.next(r=>r?$.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new $((i,r)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&i(o)},c=>r(c))}})}static doWhile(e,n){return new $((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Gn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new fo(e,n.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=rp(i.target.error);this.V.reject(new fo(e,r))}}static open(e,n,i,r){try{return new ip(n,e.transaction(r,i))}catch(s){throw new fo(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(F("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new oC(n)}}class nr{constructor(e,n,i){this.name=e,this.version=n,this.p=i,nr.S(Hl())===12.2&&Zn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return F("SimpleDb","Removing database:",e),Hi(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Td())return!1;if(nr.C())return!0;const e=Hl(),n=nr.S(e),i=0<n&&n<10,r=nr.v(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){const n=e.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}async O(e){return this.db||(F("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,i)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=s=>{const o=s.target.result;n(o)},r.onblocked=()=>{i(new fo(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=s=>{const o=s.target.error;o.name==="VersionError"?i(new W(Q.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?i(new W(Q.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):i(new fo(e,o))},r.onupgradeneeded=s=>{F("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,r.transaction,s.oldVersion,this.version).next(()=>{F("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,i,r){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=ip.open(this.db,e,s?"readonly":"readwrite",i),l=r(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),$.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(F("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class sC{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Hi(this.k.delete())}}class fo extends W{constructor(e,n){super(Q.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function _a(t){return t.name==="IndexedDbTransactionError"}class oC{constructor(e){this.store=e}put(e,n){let i;return n!==void 0?(F("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(F("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Hi(i)}add(e){return F("SimpleDb","ADD",this.store.name,e,e),Hi(this.store.add(e))}get(e){return Hi(this.store.get(e)).next(n=>(n===void 0&&(n=null),F("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return F("SimpleDb","DELETE",this.store.name,e),Hi(this.store.delete(e))}count(){return F("SimpleDb","COUNT",this.store.name),Hi(this.store.count())}W(e,n){const i=this.options(e,n),r=i.index?this.store.index(i.index):this.store;if(typeof r.getAll=="function"){const s=r.getAll(i.range);return new $((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(i),o=[];return this.G(s,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const i=this.store.getAll(e,n===null?void 0:n);return new $((r,s)=>{i.onerror=o=>{s(o.target.error)},i.onsuccess=o=>{r(o.target.result)}})}H(e,n){F("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,n);i.J=!1;const r=this.cursor(i);return this.G(r,(s,o,a)=>a.delete())}Y(e,n){let i;n?i=e:(i={},n=e);const r=this.cursor(i);return this.G(r,n)}Z(e){const n=this.cursor({});return new $((i,r)=>{n.onerror=s=>{const o=rp(s.target.error);r(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():i()}):i()}})}G(e,n){const i=[];return new $((r,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void r();const l=new sC(a),u=n(a.primaryKey,a.value,l);if(u instanceof $){const c=u.catch(h=>(l.done(),$.reject(h)));i.push(c)}l.isDone?r():l.$===null?a.continue():a.continue(l.$)}}).next(()=>$.waitFor(i))}options(e,n){let i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Hi(t){return new $((e,n)=>{t.onsuccess=i=>{const r=i.target.result;e(r)},t.onerror=i=>{const r=rp(i.target.error);n(r)}})}let X0=!1;function rp(t){const e=nr.S(Hl());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const i=new W("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return X0||(X0=!0,setTimeout(()=>{throw i},0)),i}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.se(i),this.oe=i=>n.writeSequenceNumber(i))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}sp._e=-1;function sc(t){return t==null}function lu(t){return t===0&&1/t==-1/0}function aC(t){return typeof t=="number"&&Number.isInteger(t)&&!lu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ts(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Sv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e,n){this.comparator=e,this.root=n||ot.EMPTY}insert(e,n){return new Le(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ot.BLACK,null,null))}remove(e){return new Le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ot.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ga(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ga(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ga(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ga(this.root,e,this.comparator,!0)}}class Ga{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ot{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??ot.RED,this.left=r??ot.EMPTY,this.right=s??ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new ot(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return ot.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();const e=this.left.check();if(e!==this.right.check())throw te();return e+(this.isRed()?0:1)}}ot.EMPTY=null,ot.RED=!0,ot.BLACK=!1;ot.EMPTY=new class{constructor(){this.size=0}get key(){throw te()}get value(){throw te()}get color(){throw te()}get left(){throw te()}get right(){throw te()}copy(e,n,i,r,s){return this}insert(e,n,i){return new ot(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new q0(this.data.getIterator())}getIteratorFrom(e){return new q0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ft(this.comparator);return n.data=e,n}}class q0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(ut.comparator)}static empty(){return new fn([])}unionWith(e){let n=new ft(ut.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return rs(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new xv("Invalid base64 string: "+s):s}}(e);return new kt(n)}static fromUint8Array(e){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kt.EMPTY_BYTE_STRING=new kt("");const lC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qi(t){if(Ee(!!t),typeof t=="string"){let e=0;const n=lC.exec(t);if(Ee(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ze(t.seconds),nanos:ze(t.nanos)}}function ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fr(t){return typeof t=="string"?kt.fromBase64String(t):kt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ap(t){const e=t.mapValue.fields.__previous_value__;return op(e)?ap(e):e}function Vo(t){const e=Qi(t.mapValue.fields.__local_write_time__.timestampValue);return new Ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,n,i,r,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Lo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Lo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Lo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function dr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?op(t)?4:cC(t)?9007199254740991:10:te()}function Mn(t,e){if(t===e)return!0;const n=dr(t);if(n!==dr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vo(t).isEqual(Vo(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=Qi(r.timestampValue),a=Qi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return fr(r.bytesValue).isEqual(fr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return ze(r.geoPointValue.latitude)===ze(s.geoPointValue.latitude)&&ze(r.geoPointValue.longitude)===ze(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return ze(r.integerValue)===ze(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=ze(r.doubleValue),a=ze(s.doubleValue);return o===a?lu(o)===lu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return rs(t.arrayValue.values||[],e.arrayValue.values||[],Mn);case 10:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(z0(o)!==z0(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Mn(o[l],a[l])))return!1;return!0}(t,e);default:return te()}}function Zo(t,e){return(t.values||[]).find(n=>Mn(n,e))!==void 0}function ss(t,e){if(t===e)return 0;const n=dr(t),i=dr(e);if(n!==i)return ve(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=ze(s.integerValue||s.doubleValue),l=ze(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return W0(t.timestampValue,e.timestampValue);case 4:return W0(Vo(t),Vo(e));case 5:return ve(t.stringValue,e.stringValue);case 6:return function(s,o){const a=fr(s),l=fr(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=ve(a[u],l[u]);if(c!==0)return c}return ve(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ve(ze(s.latitude),ze(o.latitude));return a!==0?a:ve(ze(s.longitude),ze(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=ss(a[u],l[u]);if(c)return c}return ve(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Ha.mapValue&&o===Ha.mapValue)return 0;if(s===Ha.mapValue)return 1;if(o===Ha.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const f=ve(l[h],c[h]);if(f!==0)return f;const d=ss(a[l[h]],u[c[h]]);if(d!==0)return d}return ve(l.length,c.length)}(t.mapValue,e.mapValue);default:throw te()}}function W0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);const n=Qi(t),i=Qi(e),r=ve(n.seconds,i.seconds);return r!==0?r:ve(n.nanos,i.nanos)}function os(t){return lf(t)}function lf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Qi(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return fr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=lf(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${lf(n.fields[o])}`;return r+"}"}(t.mapValue):te()}function uf(t){return!!t&&"integerValue"in t}function lp(t){return!!t&&"arrayValue"in t}function Y0(t){return!!t&&"nullValue"in t}function U0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Al(t){return!!t&&"mapValue"in t}function po(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ts(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=po(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=po(t.arrayValue.values[n]);return e}return Object.assign({},t)}function cC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.value=e}static empty(){return new Ut({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Al(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=po(n)}setAll(e){let n=ut.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=po(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());Al(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Al(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Ts(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Ut(po(this.value))}}function Tv(t){const e=[];return Ts(t.fields,(n,i)=>{const r=new ut([n]);if(Al(i)){const s=Tv(i.mapValue).fields;if(s.length===0)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new bt(e,0,ie.min(),ie.min(),ie.min(),Ut.empty(),0)}static newFoundDocument(e,n,i,r){return new bt(e,1,n,ie.min(),i,r,0)}static newNoDocument(e,n){return new bt(e,2,n,ie.min(),ie.min(),Ut.empty(),0)}static newUnknownDocument(e,n){return new bt(e,3,n,ie.min(),ie.min(),Ut.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ut.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ut.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n){this.position=e,this.inclusive=n}}function G0(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(s.field.isKeyField()?i=G.comparator(G.fromName(o.referenceValue),n.key):i=ss(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function H0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n="asc"){this.field=e,this.dir=n}}function hC(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{}class He extends Pv{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new dC(e,n,i):n==="array-contains"?new gC(e,i):n==="in"?new OC(e,i):n==="not-in"?new bC(e,i):n==="array-contains-any"?new yC(e,i):new He(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new pC(e,i):new mC(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ss(n,this.value)):n!==null&&dr(this.value)===dr(n)&&this.matchesComparison(ss(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends Pv{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Fn(e,n)}matches(e){return Ev(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Ev(t){return t.op==="and"}function Av(t){return fC(t)&&Ev(t)}function fC(t){for(const e of t.filters)if(e instanceof Fn)return!1;return!0}function cf(t){if(t instanceof He)return t.field.canonicalString()+t.op.toString()+os(t.value);if(Av(t))return t.filters.map(e=>cf(e)).join(",");{const e=t.filters.map(n=>cf(n)).join(",");return`${t.op}(${e})`}}function Cv(t,e){return t instanceof He?function(i,r){return r instanceof He&&i.op===r.op&&i.field.isEqual(r.field)&&Mn(i.value,r.value)}(t,e):t instanceof Fn?function(i,r){return r instanceof Fn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&Cv(o,r.filters[a]),!0):!1}(t,e):void te()}function $v(t){return t instanceof He?function(n){return`${n.field.canonicalString()} ${n.op} ${os(n.value)}`}(t):t instanceof Fn?function(n){return n.op.toString()+" {"+n.getFilters().map($v).join(" ,")+"}"}(t):"Filter"}class dC extends He{constructor(e,n,i){super(e,n,i),this.key=G.fromName(i.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class pC extends He{constructor(e,n){super(e,"in",n),this.keys=Iv("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class mC extends He{constructor(e,n){super(e,"not-in",n),this.keys=Iv("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Iv(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>G.fromName(i.referenceValue))}class gC extends He{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lp(n)&&Zo(n.arrayValue,this.value)}}class OC extends He{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zo(this.value.arrayValue,n)}}class bC extends He{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Zo(this.value.arrayValue,n)}}class yC extends He{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Zo(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function K0(t,e=null,n=[],i=[],r=null,s=null,o=null){return new vC(t,e,n,i,r,s,o)}function up(t){const e=re(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>cf(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),sc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>os(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>os(i)).join(",")),e.ce=n}return e.ce}function cp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hC(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Cv(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!H0(t.startAt,e.startAt)&&H0(t.endAt,e.endAt)}function hf(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function _C(t,e,n,i,r,s,o,a){return new oc(t,e,n,i,r,s,o,a)}function hp(t){return new oc(t)}function J0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wC(t){return t.collectionGroup!==null}function mo(t){const e=re(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ft(ut.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new cu(s,i))}),n.has(ut.keyField().canonicalString())||e.le.push(new cu(ut.keyField(),i))}return e.le}function Dn(t){const e=re(t);return e.he||(e.he=kC(e,mo(t))),e.he}function kC(t,e){if(t.limitType==="F")return K0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new cu(r.field,s)});const n=t.endAt?new uu(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new uu(t.startAt.position,t.startAt.inclusive):null;return K0(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function ff(t,e,n){return new oc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ac(t,e){return cp(Dn(t),Dn(e))&&t.limitType===e.limitType}function Qv(t){return`${up(Dn(t))}|lt:${t.limitType}`}function Dr(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>$v(r)).join(", ")}]`),sc(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>os(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>os(r)).join(",")),`Target(${i})`}(Dn(t))}; limitType=${t.limitType})`}function lc(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):G.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of mo(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,l){const u=G0(o,a,l);return o.inclusive?u<=0:u<0}(i.startAt,mo(i),r)||i.endAt&&!function(o,a,l){const u=G0(o,a,l);return o.inclusive?u>=0:u>0}(i.endAt,mo(i),r))}(t,e)}function SC(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Rv(t){return(e,n)=>{let i=!1;for(const r of mo(t)){const s=xC(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function xC(t,e,n){const i=t.field.isKeyField()?G.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?ss(l,u):te()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ts(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return Sv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=new Le(G.comparator);function ii(){return TC}const Dv=new Le(G.comparator);function to(...t){let e=Dv;for(const n of t)e=e.insert(n.key,n);return e}function Vv(t){let e=Dv;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function ir(){return go()}function Lv(){return go()}function go(){return new Ps(t=>t.toString(),(t,e)=>t.isEqual(e))}const PC=new Le(G.comparator),EC=new ft(G.comparator);function ae(...t){let e=EC;for(const n of t)e=e.add(n);return e}const AC=new ft(ve);function CC(){return AC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lu(e)?"-0":e}}function Mv(t){return{integerValue:""+t}}function $C(t,e){return aC(e)?Mv(e):Zv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(){this._=void 0}}function IC(t,e,n){return t instanceof hu?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&op(s)&&(s=ap(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Mo?Nv(t,e):t instanceof Fo?Bv(t,e):function(r,s){const o=Fv(r,s),a=eg(o)+eg(r.Ie);return uf(o)&&uf(r.Ie)?Mv(a):Zv(r.serializer,a)}(t,e)}function QC(t,e,n){return t instanceof Mo?Nv(t,e):t instanceof Fo?Bv(t,e):n}function Fv(t,e){return t instanceof fu?function(i){return uf(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class hu extends uc{}class Mo extends uc{constructor(e){super(),this.elements=e}}function Nv(t,e){const n=jv(e);for(const i of t.elements)n.some(r=>Mn(r,i))||n.push(i);return{arrayValue:{values:n}}}class Fo extends uc{constructor(e){super(),this.elements=e}}function Bv(t,e){let n=jv(e);for(const i of t.elements)n=n.filter(r=>!Mn(r,i));return{arrayValue:{values:n}}}class fu extends uc{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function eg(t){return ze(t.integerValue||t.doubleValue)}function jv(t){return lp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function RC(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Mo&&r instanceof Mo||i instanceof Fo&&r instanceof Fo?rs(i.elements,r.elements,Mn):i instanceof fu&&r instanceof fu?Mn(i.Ie,r.Ie):i instanceof hu&&r instanceof hu}(t.transform,e.transform)}class DC{constructor(e,n){this.version=e,this.transformResults=n}}class Hn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class cc{}function Xv(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qv(t.key,Hn.none()):new wa(t.key,t.data,Hn.none());{const n=t.data,i=Ut.empty();let r=new ft(ut.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new _r(t.key,i,new fn(r.toArray()),Hn.none())}}function VC(t,e,n){t instanceof wa?function(r,s,o){const a=r.value.clone(),l=ng(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof _r?function(r,s,o){if(!Cl(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=ng(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(zv(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Oo(t,e,n,i){return t instanceof wa?function(s,o,a,l){if(!Cl(s.precondition,o))return a;const u=s.value.clone(),c=ig(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,i):t instanceof _r?function(s,o,a,l){if(!Cl(s.precondition,o))return a;const u=ig(s.fieldTransforms,l,o),c=o.data;return c.setAll(zv(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,i):function(s,o,a){return Cl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function LC(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=Fv(i.transform,r||null);s!=null&&(n===null&&(n=Ut.empty()),n.set(i.field,s))}return n||null}function tg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&rs(i,r,(s,o)=>RC(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wa extends cc{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class _r extends cc{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function zv(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function ng(t,e,n){const i=new Map;Ee(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,QC(o,a,n[r]))}return i}function ig(t,e,n){const i=new Map;for(const r of t){const s=r.transform,o=n.data.field(r.field);i.set(r.field,IC(s,o,e))}return i}class qv extends cc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZC extends cc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&VC(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Oo(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Oo(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=Lv();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const l=Xv(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(ie.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ae())}isEqual(e){return this.batchId===e.batchId&&rs(this.mutations,e.mutations,(n,i)=>tg(n,i))&&rs(this.baseMutations,e.baseMutations,(n,i)=>tg(n,i))}}class fp{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Ee(e.mutations.length===i.length);let r=function(){return PC}();const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new fp(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe,le;function BC(t){switch(t){default:return te();case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0}}function Wv(t){if(t===void 0)return Zn("GRPC error has no .code"),Q.UNKNOWN;switch(t){case Xe.OK:return Q.OK;case Xe.CANCELLED:return Q.CANCELLED;case Xe.UNKNOWN:return Q.UNKNOWN;case Xe.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case Xe.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case Xe.INTERNAL:return Q.INTERNAL;case Xe.UNAVAILABLE:return Q.UNAVAILABLE;case Xe.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case Xe.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case Xe.NOT_FOUND:return Q.NOT_FOUND;case Xe.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case Xe.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case Xe.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case Xe.ABORTED:return Q.ABORTED;case Xe.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case Xe.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case Xe.DATA_LOSS:return Q.DATA_LOSS;default:return te()}}(le=Xe||(Xe={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=new Xr([4294967295,4294967295],0);function rg(t){const e=jC().encode(t),n=new XA;return n.update(e),new Uint8Array(n.digest())}function sg(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Xr([n,i],0),new Xr([r,s],0)]}class dp{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new no(`Invalid padding: ${n}`);if(i<0)throw new no(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new no(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new no(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Xr.fromNumber(this.Te)}de(e,n,i){let r=e.add(n.multiply(Xr.fromNumber(i)));return r.compare(XC)===1&&(r=new Xr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=rg(e),[i,r]=sg(n);for(let s=0;s<this.hashCount;s++){const o=this.de(i,r,s);if(!this.Ae(o))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new dp(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=rg(e),[i,r]=sg(n);for(let s=0;s<this.hashCount;s++){const o=this.de(i,r,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class no extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,ka.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new hc(ie.min(),r,new Le(ve),ii(),ae())}}class ka{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new ka(i,n,ae(),ae(),ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n,i,r){this.Ve=e,this.removedTargetIds=n,this.key=i,this.me=r}}class Yv{constructor(e,n){this.targetId=e,this.fe=n}}class Uv{constructor(e,n,i=kt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class og{constructor(){this.ge=0,this.pe=lg(),this.ye=kt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ae(),n=ae(),i=ae();return this.pe.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:te()}}),new ka(this.ye,this.we,e,n,i)}Fe(){this.Se=!1,this.pe=lg()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ee(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class zC{constructor(e){this.Le=e,this.ke=new Map,this.qe=ii(),this.Qe=ag(),this.Ke=new Le(ve)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(e.resumeToken));break;default:te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((i,r)=>{this.je(r)&&n(r)})}Je(e){const n=e.targetId,i=e.fe.count,r=this.Ye(n);if(r){const s=r.target;if(hf(s))if(i===0){const o=new G(s.path);this.We(n,o,bt.newNoDocument(o,ie.min()))}else Ee(i===1);else{const o=this.Ze(n);if(o!==i){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let o,a;try{o=fr(i).toUint8Array()}catch(l){if(l instanceof xv)return is("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new dp(o,r,s)}catch(l){return is(l instanceof no?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,i){return n.fe.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),r++)}),r}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&hf(a.target)){const l=new G(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,bt.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let i=ae();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const r=new hc(e,n,this.Ke,this.qe,i);return this.qe=ii(),this.Qe=ag(),this.Ke=new Le(ve),r}Ue(e,n){if(!this.je(e))return;const i=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,i){if(!this.je(e))return;const r=this.ze(e);this.st(e,n)?r.Me(n,1):r.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new og,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new ft(ve),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||F("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new og),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function ag(){return new Le(G.comparator)}function lg(){return new Le(G.comparator)}const qC={asc:"ASCENDING",desc:"DESCENDING"},WC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YC={and:"AND",or:"OR"};class UC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function df(t,e){return t.useProto3Json||sc(e)?e:{value:e}}function du(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gv(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function GC(t,e){return du(t,e.toTimestamp())}function Vn(t){return Ee(!!t),ie.fromTimestamp(function(n){const i=Qi(n);return new Ke(i.seconds,i.nanos)}(t))}function pp(t,e){return pf(t,e).canonicalString()}function pf(t,e){const n=function(r){return new Fe(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Hv(t){const e=Fe.fromString(t);return Ee(n_(e)),e}function mf(t,e){return pp(t.databaseId,e.path)}function Kc(t,e){const n=Hv(e);if(n.get(1)!==t.databaseId.projectId)throw new W(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(Jv(n))}function Kv(t,e){return pp(t.databaseId,e)}function HC(t){const e=Hv(t);return e.length===4?Fe.emptyPath():Jv(e)}function gf(t){return new Fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Jv(t){return Ee(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ug(t,e,n){return{name:mf(t,e),fields:n.value.mapValue.fields}}function KC(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:te()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Ee(c===void 0||typeof c=="string"),kt.fromBase64String(c||"")):(Ee(c===void 0||c instanceof Uint8Array),kt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?Q.UNKNOWN:Wv(u.code);return new W(c,u.message||"")}(o);n=new Uv(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Kc(t,i.document.name),s=Vn(i.document.updateTime),o=i.document.createTime?Vn(i.document.createTime):ie.min(),a=new Ut({mapValue:{fields:i.document.fields}}),l=bt.newFoundDocument(r,s,o,a),u=i.targetIds||[],c=i.removedTargetIds||[];n=new $l(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Kc(t,i.document),s=i.readTime?Vn(i.readTime):ie.min(),o=bt.newNoDocument(r,s),a=i.removedTargetIds||[];n=new $l([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Kc(t,i.document),s=i.removedTargetIds||[];n=new $l([],s,r,null)}else{if(!("filter"in e))return te();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new NC(r,s),a=i.targetId;n=new Yv(a,o)}}return n}function JC(t,e){let n;if(e instanceof wa)n={update:ug(t,e.key,e.value)};else if(e instanceof qv)n={delete:mf(t,e.key)};else if(e instanceof _r)n={update:ug(t,e.key,e.data),updateMask:l3(e.fieldMask)};else{if(!(e instanceof ZC))return te();n={verify:mf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof hu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Mo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Fo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof fu)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw te()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:GC(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:te()}(t,e.precondition)),n}function e3(t,e){return t&&t.length>0?(Ee(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?Vn(r.updateTime):Vn(s);return o.isEqual(ie.min())&&(o=Vn(s)),new DC(o,r.transformResults||[])}(n,e))):[]}function t3(t,e){return{documents:[Kv(t,e.path)]}}function n3(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Kv(t,r);const s=function(u){if(u.length!==0)return t_(Fn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:Vr(f.field),direction:s3(f.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=df(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:r}}function i3(t){let e=HC(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Ee(i===1);const c=n.from[0];c.allDescendants?r=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(h){const f=e_(h);return f instanceof Fn&&Av(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(p){return new cu(Lr(p.field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,sc(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,d=h.values||[];return new uu(d,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,d=h.values||[];return new uu(d,f)}(n.endAt)),_C(e,r,o,s,a,"F",l,u)}function r3(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function e_(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Lr(n.unaryFilter.field);return He.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Lr(n.unaryFilter.field);return He.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Lr(n.unaryFilter.field);return He.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Lr(n.unaryFilter.field);return He.create(o,"!=",{nullValue:"NULL_VALUE"});default:return te()}}(t):t.fieldFilter!==void 0?function(n){return He.create(Lr(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return te()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Fn.create(n.compositeFilter.filters.map(i=>e_(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return te()}}(n.compositeFilter.op))}(t):te()}function s3(t){return qC[t]}function o3(t){return WC[t]}function a3(t){return YC[t]}function Vr(t){return{fieldPath:t.canonicalString()}}function Lr(t){return ut.fromServerFormat(t.fieldPath)}function t_(t){return t instanceof He?function(n){if(n.op==="=="){if(U0(n.value))return{unaryFilter:{field:Vr(n.field),op:"IS_NAN"}};if(Y0(n.value))return{unaryFilter:{field:Vr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(U0(n.value))return{unaryFilter:{field:Vr(n.field),op:"IS_NOT_NAN"}};if(Y0(n.value))return{unaryFilter:{field:Vr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vr(n.field),op:o3(n.op),value:n.value}}}(t):t instanceof Fn?function(n){const i=n.getFilters().map(r=>t_(r));return i.length===1?i[0]:{compositeFilter:{op:a3(n.op),filters:i}}}(t):te()}function l3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function n_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n,i,r,s=ie.min(),o=ie.min(),a=kt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e){this.ct=e}}function c3(t){const e=i3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ff(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(){this._n=new f3}addToCollectionParentIndex(e,n){return this._n.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Ii.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Ii.min())}updateCollectionGroup(e,n,i){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class f3{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new ft(Fe.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new ft(Fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new as(0)}static Bn(){return new as(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(){this.changes=new Ps(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?$.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Oo(i.mutation,r,fn.empty(),Ke.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ae()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ae()){const r=ir();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=to();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=ir();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ae()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=ii();const o=go(),a=function(){return go()}();return n.forEach((l,u)=>{const c=i.get(u.key);r.has(u.key)&&(c===void 0||c.mutation instanceof _r)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Oo(c.mutation,u,c.mutation.getFieldMask(),Ke.now())):o.set(u.key,fn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new p3(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const i=go();let r=new Le((o,a)=>o-a),s=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=i.get(l)||fn.empty();c=a.applyToLocalView(u,c),i.set(l,c);const h=(r.get(a.batchId)||ae()).add(l);r=r.insert(a.batchId,h)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=Lv();c.forEach(f=>{if(!s.has(f)){const d=Xv(n.get(f),i.get(f));d!==null&&h.set(f,d),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return $.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return G.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):$.resolve(ir());let a=-1,l=s;return o.next(u=>$.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?$.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ae())).next(c=>({batchId:a,changes:Vv(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(i=>{let r=to();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let o=to();return this.indexManager.getCollectionParents(e,s).next(a=>$.forEach(a,l=>{const u=function(h,f){return new oc(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,i,r).next(c=>{c.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,bt.newInvalidDocument(c)))});let a=to();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Oo(c.mutation,u,fn.empty(),Ke.now()),lc(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return $.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Vn(r.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(r){return{name:r.name,query:c3(r.bundledQuery),readTime:Vn(r.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(){this.overlays=new Le(G.comparator),this.hr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const i=ir();return $.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.ht(e,n,s)}),$.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.hr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(i)),$.resolve()}getOverlaysForCollection(e,n,i){const r=ir(),s=n.length+1,o=new G(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return $.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Le((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let c=s.get(u.largestBatchId);c===null&&(c=ir(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=ir(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=r)););return $.resolve(a)}ht(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new FC(n,i));let s=this.hr.get(n);s===void 0&&(s=ae(),this.hr.set(n,s)),this.hr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(){this.Pr=new ft(tt.Ir),this.Tr=new ft(tt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const i=new tt(e,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Ar(new tt(e,n))}Rr(e,n){e.forEach(i=>this.removeReference(i,n))}Vr(e){const n=new G(new Fe([])),i=new tt(n,e),r=new tt(n,e+1),s=[];return this.Tr.forEachInRange([i,r],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new G(new Fe([])),i=new tt(n,e),r=new tt(n,e+1);let s=ae();return this.Tr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new tt(e,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class tt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return G.comparator(e.key,n.key)||ve(e.pr,n.pr)}static Er(e,n){return ve(e.pr,n.pr)||G.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new ft(tt.Ir)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new MC(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.wr=this.wr.add(new tt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.br(i),s=r<0?0:r;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new tt(n,0),r=new tt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([i,r],o=>{const a=this.Sr(o.pr);s.push(a)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new ft(ve);return n.forEach(r=>{const s=new tt(r,0),o=new tt(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{i=i.add(a.pr)})}),$.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;G.isDocumentKey(s)||(s=s.child(""));const o=new tt(new G(s),0);let a=new ft(ve);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(l.pr)),!0)},o),$.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(i=>{const r=this.Sr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Ee(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return $.forEach(n.mutations,r=>{const s=new tt(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,n){const i=new tt(n,0),r=this.wr.firstAfterOrEqual(i);return $.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e){this.vr=e,this.docs=function(){return new Le(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return $.resolve(i?i.document.mutableCopy():bt.newInvalidDocument(n))}getEntries(e,n){let i=ii();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():bt.newInvalidDocument(r))}),$.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=ii();const o=n.path,a=new G(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||nC(tC(c),i)<=0||(r.has(c.key)||lc(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,n,i,r){te()}Fr(e,n){return $.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new v3(this)}getSize(e){return $.resolve(this.size)}}class v3 extends d3{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ar.addEntry(e,r)):this.ar.removeEntry(i)}),$.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e){this.persistence=e,this.Mr=new Ps(n=>up(n),cp),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.Or=0,this.Nr=new mp,this.targetCount=0,this.Br=as.Nn()}forEachTarget(e,n){return this.Mr.forEach((i,r)=>n(r)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),$.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new as(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.qn(n),$.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),$.waitFor(s).next(()=>r)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const i=this.Mr.get(n)||null;return $.resolve(i)}addMatchingKeys(e,n,i){return this.Nr.dr(n,i),$.resolve()}removeMatchingKeys(e,n,i){this.Nr.Rr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Nr.gr(n);return $.resolve(i)}containsKey(e,n){return $.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e,n){this.Lr={},this.overlays={},this.kr=new sp(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new _3(this),this.indexManager=new h3,this.remoteDocumentCache=function(r){return new y3(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new u3(n),this.$r=new g3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new O3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Lr[e.toKey()];return i||(i=new b3(n,this.referenceDelegate),this.Lr[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,i){F("MemoryPersistence","Starting transaction:",e);const r=new k3(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(s=>this.referenceDelegate.Wr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gr(e,n){return $.or(Object.values(this.Lr).map(i=>()=>i.containsKey(e,n)))}}class k3 extends rC{constructor(e){super(),this.currentSequenceNumber=e}}class gp{constructor(e){this.persistence=e,this.zr=new mp,this.jr=null}static Hr(e){return new gp(e)}get Jr(){if(this.jr)return this.jr;throw te()}addReference(e,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),$.resolve()}removeReference(e,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),$.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(r=>this.Jr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Jr.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Jr,i=>{const r=G.fromPath(i);return this.Yr(e,r).next(s=>{s||n.removeEntry(r,ie.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return $.or([()=>$.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.qi=i,this.Qi=r}static Ki(e,n){let i=ae(),r=ae();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Op(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return rT()?8:nr.v(Hl())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new S3;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,i,r){return i.documentReadCount<this.Wi?(Fs()<=de.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",Dr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),$.resolve()):(Fs()<=de.DEBUG&&F("QueryEngine","Query:",Dr(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(Fs()<=de.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",Dr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dn(n))):$.resolve())}ji(e,n){if(J0(n))return $.resolve(null);let i=Dn(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=ff(n,null,"F"),i=Dn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=ae(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(e,ff(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,i,r){return J0(n)||r.isEqual(ie.min())?$.resolve(null):this.zi.getDocuments(e,i).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,i,r)?$.resolve(null):(Fs()<=de.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Dr(n)),this.es(e,o,n,eC(r,-1)).next(a=>a))})}Zi(e,n){let i=new ft(Rv(e));return n.forEach((r,s)=>{lc(e,s)&&(i=i.add(s))}),i}Xi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ji(e,n,i){return Fs()<=de.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",Dr(n)),this.zi.getDocumentsMatchingQuery(e,n,Ii.min(),i)}es(e,n,i,r){return this.zi.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e,n,i,r){this.persistence=e,this.ts=n,this.serializer=r,this.ns=new Le(ve),this.rs=new Ps(s=>up(s),cp),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new m3(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function P3(t,e,n,i){return new T3(t,e,n,i)}async function i_(t,e){const n=re(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n._s(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=ae();for(const u of r){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(i,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function E3(t,e){const n=re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,f=h.keys();let d=$.resolve();return f.forEach(p=>{d=d.next(()=>c.getEntry(l,p)).next(g=>{const m=u.docVersions.get(p);Ee(m!==null),g.version.compareTo(m)<0&&(h.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),d.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=ae();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function r_(t){const e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function A3(t,e){const n=re(t),i=e.snapshotVersion;let r=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});r=n.ns;const a=[];e.targetChanges.forEach((c,h)=>{const f=r.get(h);if(!f)return;a.push(n.Qr.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(s,c.addedDocuments,h)));let d=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?d=d.withResumeToken(kt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):c.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(c.resumeToken,i)),r=r.insert(h,d),function(g,m,O){return g.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(f,d,c)&&a.push(n.Qr.updateTargetData(s,d))});let l=ii(),u=ae();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(C3(s,o,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!i.isEqual(ie.min())){const c=n.Qr.getLastRemoteSnapshotVersion(s).next(h=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(c)}return $.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ns=r,s))}function C3(t,e,n){let i=ae(),r=ae();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=ii();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(ie.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):F("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:r}})}function $3(t,e){const n=re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function I3(t,e){const n=re(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Qr.getTargetData(i,e).next(s=>s?(r=s,$.resolve(r)):n.Qr.allocateTargetId(i).next(o=>(r=new wi(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.ns.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(i.targetId,i),n.rs.set(e,i.targetId)),i})}async function Of(t,e,n){const i=re(t),r=i.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!_a(o))throw o;F("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.ns=i.ns.remove(e),i.rs.delete(r.target)}function cg(t,e,n){const i=re(t);let r=ie.min(),s=ae();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const h=re(l),f=h.rs.get(c);return f!==void 0?$.resolve(h.ns.get(f)):h.Qr.getTargetData(u,c)}(i,o,Dn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.ts.getDocumentsMatchingQuery(o,e,n?r:ie.min(),n?s:ae())).next(a=>(Q3(i,SC(e),a),{documents:a,hs:s})))}function Q3(t,e,n){let i=t.ss.get(e)||ie.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.ss.set(e,i)}class hg{constructor(){this.activeTargetIds=CC()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class R3{constructor(){this.no=new hg,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,i){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new hg,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){F("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){F("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ka=null;function Jc(){return Ka===null?Ka=function(){return 268435456+Math.round(2147483648*Math.random())}():Ka++,"0x"+Ka.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mt="WebChannelConnection";class Z3 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=i+"://"+n.host,this.po=`projects/${r}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get wo(){return!1}So(n,i,r,s,o){const a=Jc(),l=this.bo(n,i.toUriEncodedString());F("RestConnection",`Sending RPC '${n}' ${a}:`,l,r);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,l,u,r).then(c=>(F("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw is("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",r),c})}vo(n,i,r,s,o,a){return this.So(n,i,r,s,o)}Do(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}bo(n,i){const r=V3[n];return`${this.fo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,i,r){const s=Jc();return new Promise((o,a)=>{const l=new jA;l.setWithCredentials(!0),l.listenOnce(NA.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Hc.NO_ERROR:const c=l.getResponseJson();F(mt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Hc.TIMEOUT:F(mt,`RPC '${e}' ${s} timed out`),a(new W(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Hc.HTTP_ERROR:const h=l.getStatus();if(F(mt,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const d=f?.error;if(d&&d.status&&d.message){const p=function(m){const O=m.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(O)>=0?O:Q.UNKNOWN}(d.status);a(new W(p,d.message))}else a(new W(Q.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new W(Q.UNAVAILABLE,"Connection failed."));break;default:te()}}finally{F(mt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(r);F(mt,`RPC '${e}' ${s} sending request:`,r),l.send(n,"POST",u,i,15)})}Fo(e,n,i){const r=Jc(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=MA(),a=FA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const c=s.join("");F(mt,`Creating RPC '${e}' stream ${r}: ${c}`,l);const h=o.createWebChannel(c,l);let f=!1,d=!1;const p=new L3({lo:m=>{d?F(mt,`Not sending because RPC '${e}' stream ${r} is closed:`,m):(f||(F(mt,`Opening RPC '${e}' stream ${r} transport.`),h.open(),f=!0),F(mt,`RPC '${e}' stream ${r} sending:`,m),h.send(m))},ho:()=>h.close()}),g=(m,O,y)=>{m.listen(O,v=>{try{y(v)}catch(k){setTimeout(()=>{throw k},0)}})};return g(h,Ua.EventType.OPEN,()=>{d||F(mt,`RPC '${e}' stream ${r} transport opened.`)}),g(h,Ua.EventType.CLOSE,()=>{d||(d=!0,F(mt,`RPC '${e}' stream ${r} transport closed`),p.Vo())}),g(h,Ua.EventType.ERROR,m=>{d||(d=!0,is(mt,`RPC '${e}' stream ${r} transport errored:`,m),p.Vo(new W(Q.UNAVAILABLE,"The operation could not be completed")))}),g(h,Ua.EventType.MESSAGE,m=>{var O;if(!d){const y=m.data[0];Ee(!!y);const v=y,k=v.error||((O=v[0])===null||O===void 0?void 0:O.error);if(k){F(mt,`RPC '${e}' stream ${r} received error:`,k);const _=k.status;let A=function(B){const V=Xe[B];if(V!==void 0)return Wv(V)}(_),T=k.message;A===void 0&&(A=Q.INTERNAL,T="Unknown error status: "+_+" with message "+k.message),d=!0,p.Vo(new W(A,T)),h.close()}else F(mt,`RPC '${e}' stream ${r} received:`,y),p.mo(y)}}),g(a,BA.STAT_EVENT,m=>{m.stat===B0.PROXY?F(mt,`RPC '${e}' stream ${r} detected buffering proxy`):m.stat===B0.NOPROXY&&F(mt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{p.Ro()},0),p}}function eh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(t){return new UC(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,n,i=1e3,r=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=i,this.xo=r,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),i=Math.max(0,Date.now()-this.Lo),r=Math.max(0,n-i);r>0&&F("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,n,i,r,s,o,a,l){this.oi=e,this.$o=i,this.Uo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new s_(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(Zn(n.toString()),Zn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Wo===n&&this.o_(i,r)},i=>{e(()=>{const r=new W(Q.UNKNOWN,"Fetching auth token failed: "+i.message);return this.__(r)})})}o_(e,n){const i=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{i(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(r=>{i(()=>this.__(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return F("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(F("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class M3 extends o_{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=KC(this.serializer,e),i=function(s){if(!("targetChange"in s))return ie.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ie.min():o.readTime?Vn(o.readTime):ie.min()}(e);return this.listener.u_(n,i)}c_(e){const n={};n.database=gf(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=hf(l)?{documents:t3(s,l)}:{query:n3(s,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Gv(s,o.resumeToken);const u=df(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ie.min())>0){a.readTime=du(s,o.snapshotVersion.toTimestamp());const u=df(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const i=r3(this.serializer,e);i&&(n.labels=i),this.t_(n)}l_(e){const n={};n.database=gf(this.serializer),n.removeTarget=e,this.t_(n)}}class F3 extends o_{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Ee(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=e3(e.writeResults,e.commitTime),i=Vn(e.commitTime);return this.listener.T_(i,n)}return Ee(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=gf(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>JC(this.serializer,i))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3 extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new W(Q.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,i,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,pf(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new W(Q.UNKNOWN,s.toString())})}vo(e,n,i,r,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,pf(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(Q.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class B3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Zn(n),this.g_=!1):F("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{i.enqueueAndForget(async()=>{wr(this)&&(F("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=re(l);u.v_.add(4),await Sa(u),u.x_.set("Unknown"),u.v_.delete(4),await dc(u)}(this))})}),this.x_=new B3(i,r)}}async function dc(t){if(wr(t))for(const e of t.F_)await e(!0)}async function Sa(t){for(const e of t.F_)await e(!1)}function a_(t,e){const n=re(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),vp(n)?yp(n):Es(n).Jo()&&bp(n,e))}function l_(t,e){const n=re(t),i=Es(n);n.C_.delete(e),i.Jo()&&u_(n,e),n.C_.size===0&&(i.Jo()?i.Xo():wr(n)&&n.x_.set("Unknown"))}function bp(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Es(t).c_(e)}function u_(t,e){t.O_.Oe(e),Es(t).l_(e)}function yp(t){t.O_=new zC({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Es(t).start(),t.x_.p_()}function vp(t){return wr(t)&&!Es(t).Ho()&&t.C_.size>0}function wr(t){return re(t).v_.size===0}function c_(t){t.O_=void 0}async function X3(t){t.C_.forEach((e,n)=>{bp(t,e)})}async function z3(t,e){c_(t),vp(t)?(t.x_.S_(e),yp(t)):t.x_.set("Unknown")}async function q3(t,e,n){if(t.x_.set("Online"),e instanceof Uv&&e.state===2&&e.cause)try{await async function(r,s){const o=s.cause;for(const a of s.targetIds)r.C_.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.C_.delete(a),r.O_.removeTarget(a))}(t,e)}catch(i){F("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await pu(t,i)}else if(e instanceof $l?t.O_.$e(e):e instanceof Yv?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(ie.min()))try{const i=await r_(t.localStore);n.compareTo(i)>=0&&await function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.C_.get(u);c&&s.C_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.C_.get(l);if(!c)return;s.C_.set(l,c.withResumeToken(kt.EMPTY_BYTE_STRING,c.snapshotVersion)),u_(s,l);const h=new wi(c.target,l,u,c.sequenceNumber);bp(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(i){F("RemoteStore","Failed to raise snapshot:",i),await pu(t,i)}}async function pu(t,e,n){if(!_a(e))throw e;t.v_.add(1),await Sa(t),t.x_.set("Offline"),n||(n=()=>r_(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{F("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await dc(t)})}function h_(t,e){return e().catch(n=>pu(t,n,e))}async function pc(t){const e=re(t),n=Ri(e);let i=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;W3(e);)try{const r=await $3(e.localStore,i);if(r===null){e.D_.length===0&&n.Xo();break}i=r.batchId,Y3(e,r)}catch(r){await pu(e,r)}f_(e)&&d_(e)}function W3(t){return wr(t)&&t.D_.length<10}function Y3(t,e){t.D_.push(e);const n=Ri(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function f_(t){return wr(t)&&!Ri(t).Ho()&&t.D_.length>0}function d_(t){Ri(t).start()}async function U3(t){Ri(t).d_()}async function G3(t){const e=Ri(t);for(const n of t.D_)e.I_(n.mutations)}async function H3(t,e,n){const i=t.D_.shift(),r=fp.from(i,e,n);await h_(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await pc(t)}async function K3(t,e){e&&Ri(t).P_&&await async function(i,r){if(function(o){return BC(o)&&o!==Q.ABORTED}(r.code)){const s=i.D_.shift();Ri(i).Zo(),await h_(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await pc(i)}}(t,e),f_(t)&&d_(t)}async function dg(t,e){const n=re(t);n.asyncQueue.verifyOperationInProgress(),F("RemoteStore","RemoteStore received new credentials");const i=wr(n);n.v_.add(3),await Sa(n),i&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await dc(n)}async function J3(t,e){const n=re(t);e?(n.v_.delete(2),await dc(n)):e||(n.v_.add(2),await Sa(n),n.x_.set("Unknown"))}function Es(t){return t.N_||(t.N_=function(n,i,r){const s=re(n);return s.R_(),new M3(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Po:X3.bind(null,t),To:z3.bind(null,t),u_:q3.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),vp(t)?yp(t):t.x_.set("Unknown")):(await t.N_.stop(),c_(t))})),t.N_}function Ri(t){return t.B_||(t.B_=function(n,i,r){const s=re(n);return s.R_(),new F3(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Po:U3.bind(null,t),To:K3.bind(null,t),E_:G3.bind(null,t),T_:H3.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await pc(t)):(await t.B_.stop(),t.D_.length>0&&(F("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Gn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const o=Date.now()+i,a=new _p(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wp(t,e){if(Zn("AsyncQueue",`${e}: ${t}`),_a(t))return new W(Q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.comparator=e?(n,i)=>e(n,i)||G.comparator(n.key,i.key):(n,i)=>G.comparator(n.key,i.key),this.keyedMap=to(),this.sortedSet=new Le(this.comparator)}static emptySet(e){return new zr(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof zr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new zr;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(){this.L_=new Le(G.comparator)}track(e){const n=e.doc.key,i=this.L_.get(n);i?e.type!==0&&i.type===3?this.L_=this.L_.insert(n,e):e.type===3&&i.type!==1?this.L_=this.L_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.L_=this.L_.remove(n):e.type===1&&i.type===2?this.L_=this.L_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):te():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,i)=>{e.push(i)}),e}}class ls{constructor(e,n,i,r,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,i,r,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ls(e,n,zr.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ac(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(){this.q_=void 0,this.Q_=[]}}class t${constructor(){this.queries=new Ps(e=>Qv(e),ac),this.onlineState="Unknown",this.K_=new Set}}async function n$(t,e){const n=re(t),i=e.query;let r=!1,s=n.queries.get(i);if(s||(r=!0,s=new e$),r)try{s.q_=await n.onListen(i)}catch(o){const a=wp(o,`Initialization of query '${Dr(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&kp(n)}async function i$(t,e){const n=re(t),i=e.query;let r=!1;const s=n.queries.get(i);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),r=s.Q_.length===0)}if(r)return n.queries.delete(i),n.onUnlisten(i)}function r$(t,e){const n=re(t);let i=!1;for(const r of e){const s=r.query,o=n.queries.get(s);if(o){for(const a of o.Q_)a.W_(r)&&(i=!0);o.q_=r}}i&&kp(n)}function s$(t,e,n){const i=re(t),r=i.queries.get(e);if(r)for(const s of r.Q_)s.onError(n);i.queries.delete(e)}function kp(t){t.K_.forEach(e=>{e.next()})}class o${constructor(e,n,i){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=i||{}}W_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new ls(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const i=n!=="Offline";return(!this.options.Z_||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=ls.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e){this.key=e}}class m_{constructor(e){this.key=e}}class a${constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=ae(),this.mutatedKeys=ae(),this.ua=Rv(e),this.ca=new zr(this.ua)}get la(){return this.oa}ha(e,n){const i=n?n.Pa:new pg,r=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((c,h)=>{const f=r.get(c),d=lc(this.query,h)?h:null,p=!!f&&this.mutatedKeys.has(f.key),g=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let m=!1;f&&d?f.data.isEqual(d.data)?p!==g&&(i.track({type:3,doc:d}),m=!0):this.Ia(f,d)||(i.track({type:2,doc:d}),m=!0,(l&&this.ua(d,l)>0||u&&this.ua(d,u)<0)&&(a=!0)):!f&&d?(i.track({type:0,doc:d}),m=!0):f&&!d&&(i.track({type:1,doc:f}),m=!0,(l||u)&&(a=!0)),m&&(d?(o=o.add(d),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),i.track({type:1,doc:c})}return{ca:o,Pa:i,Xi:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort((c,h)=>function(d,p){const g=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te()}};return g(d)-g(p)}(c.type,h.type)||this.ua(c.doc,h.doc)),this.Ta(i),r=r!=null&&r;const a=n&&!r?this.Ea():[],l=this.aa.size===0&&this.current&&!r?1:0,u=l!==this._a;return this._a=l,o.length!==0||u?{snapshot:new ls(this.query,e.ca,s,o,e.mutatedKeys,l===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new pg,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=ae(),this.ca.forEach(i=>{this.Aa(i.key)&&(this.aa=this.aa.add(i.key))});const n=[];return e.forEach(i=>{this.aa.has(i)||n.push(new m_(i))}),this.aa.forEach(i=>{e.has(i)||n.push(new p_(i))}),n}Ra(e){this.oa=e.hs,this.aa=ae();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return ls.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class l${constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class u${constructor(e){this.key=e,this.ma=!1}}class c${constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Ps(a=>Qv(a),ac),this.pa=new Map,this.ya=new Set,this.wa=new Le(G.comparator),this.Sa=new Map,this.ba=new mp,this.Da={},this.Ca=new Map,this.va=as.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function h$(t,e){const n=_$(t);let i,r;const s=n.ga.get(e);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.Va();else{const o=await I3(n.localStore,Dn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=await f$(n,e,i,a==="current",o.resumeToken),n.isPrimaryClient&&a_(n.remoteStore,o)}return r}async function f$(t,e,n,i,r){t.Ma=(h,f,d)=>async function(g,m,O,y){let v=m.view.ha(O);v.Xi&&(v=await cg(g.localStore,m.query,!1).then(({documents:T})=>m.view.ha(T,v)));const k=y&&y.targetChanges.get(m.targetId),_=y&&y.targetMismatches.get(m.targetId)!=null,A=m.view.applyChanges(v,g.isPrimaryClient,k,_);return gg(g,m.targetId,A.da),A.snapshot}(t,h,f,d);const s=await cg(t.localStore,e,!0),o=new a$(e,s.hs),a=o.ha(s.documents),l=ka.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),u=o.applyChanges(a,t.isPrimaryClient,l);gg(t,n,u.da);const c=new l$(e,n,o);return t.ga.set(e,c),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function d$(t,e){const n=re(t),i=n.ga.get(e),r=n.pa.get(i.targetId);if(r.length>1)return n.pa.set(i.targetId,r.filter(s=>!ac(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Of(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),l_(n.remoteStore,i.targetId),bf(n,i.targetId)}).catch(va)):(bf(n,i.targetId),await Of(n.localStore,i.targetId,!0))}async function p$(t,e,n){const i=w$(t);try{const r=await function(o,a){const l=re(o),u=Ke.now(),c=a.reduce((d,p)=>d.add(p.key),ae());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",d=>{let p=ii(),g=ae();return l.os.getEntries(d,c).next(m=>{p=m,p.forEach((O,y)=>{y.isValidDocument()||(g=g.add(O))})}).next(()=>l.localDocuments.getOverlayedDocuments(d,p)).next(m=>{h=m;const O=[];for(const y of a){const v=LC(y,h.get(y.key).overlayedDocument);v!=null&&O.push(new _r(y.key,v,Tv(v.value.mapValue),Hn.exists(!0)))}return l.mutationQueue.addMutationBatch(d,u,O,a)}).next(m=>{f=m;const O=m.applyToLocalDocumentSet(h,g);return l.documentOverlayCache.saveOverlays(d,m.batchId,O)})}).then(()=>({batchId:f.batchId,changes:Vv(h)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let u=o.Da[o.currentUser.toKey()];u||(u=new Le(ve)),u=u.insert(a,l),o.Da[o.currentUser.toKey()]=u}(i,r.batchId,n),await xa(i,r.changes),await pc(i.remoteStore)}catch(r){const s=wp(r,"Failed to persist write");n.reject(s)}}async function g_(t,e){const n=re(t);try{const i=await A3(n.localStore,e);e.targetChanges.forEach((r,s)=>{const o=n.Sa.get(s);o&&(Ee(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.ma=!0:r.modifiedDocuments.size>0?Ee(o.ma):r.removedDocuments.size>0&&(Ee(o.ma),o.ma=!1))}),await xa(n,i,e)}catch(i){await va(i)}}function mg(t,e,n){const i=re(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.ga.forEach((s,o)=>{const a=o.view.U_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=re(o);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const f of h.Q_)f.U_(a)&&(u=!0)}),u&&kp(l)}(i.eventManager,e),r.length&&i.fa.u_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function m$(t,e,n){const i=re(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Sa.get(e),s=r&&r.key;if(s){let o=new Le(G.comparator);o=o.insert(s,bt.newNoDocument(s,ie.min()));const a=ae().add(s),l=new hc(ie.min(),new Map,new Le(ve),o,a);await g_(i,l),i.wa=i.wa.remove(s),i.Sa.delete(e),Sp(i)}else await Of(i.localStore,e,!1).then(()=>bf(i,e,n)).catch(va)}async function g$(t,e){const n=re(t),i=e.batch.batchId;try{const r=await E3(n.localStore,e);b_(n,i,null),O_(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await xa(n,r)}catch(r){await va(r)}}async function O$(t,e,n){const i=re(t);try{const r=await function(o,a){const l=re(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Ee(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(i.localStore,e);b_(i,e,n),O_(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await xa(i,r)}catch(r){await va(r)}}function O_(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function b_(t,e,n){const i=re(t);let r=i.Da[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Da[i.currentUser.toKey()]=r}}function bf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.pa.get(e))t.ga.delete(i),n&&t.fa.xa(i,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(i=>{t.ba.containsKey(i)||y_(t,i)})}function y_(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(l_(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),Sp(t))}function gg(t,e,n){for(const i of n)i instanceof p_?(t.ba.addReference(i.key,e),b$(t,i)):i instanceof m_?(F("SyncEngine","Document no longer in limbo: "+i.key),t.ba.removeReference(i.key,e),t.ba.containsKey(i.key)||y_(t,i.key)):te()}function b$(t,e){const n=e.key,i=n.path.canonicalString();t.wa.get(n)||t.ya.has(i)||(F("SyncEngine","New document in limbo: "+n),t.ya.add(i),Sp(t))}function Sp(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new G(Fe.fromString(e)),i=t.va.next();t.Sa.set(i,new u$(n)),t.wa=t.wa.insert(n,i),a_(t.remoteStore,new wi(Dn(hp(n.path)),i,"TargetPurposeLimboResolution",sp._e))}}async function xa(t,e,n){const i=re(t),r=[],s=[],o=[];i.ga.isEmpty()||(i.ga.forEach((a,l)=>{o.push(i.Ma(l,e,n).then(u=>{if((u||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,u?.fromCache?"not-current":"current"),u){r.push(u);const c=Op.Ki(l.targetId,u);s.push(c)}}))}),await Promise.all(o),i.fa.u_(r),await async function(l,u){const c=re(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>$.forEach(u,f=>$.forEach(f.qi,d=>c.persistence.referenceDelegate.addReference(h,f.targetId,d)).next(()=>$.forEach(f.Qi,d=>c.persistence.referenceDelegate.removeReference(h,f.targetId,d)))))}catch(h){if(!_a(h))throw h;F("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const d=c.ns.get(f),p=d.snapshotVersion,g=d.withLastLimboFreeSnapshotVersion(p);c.ns=c.ns.insert(f,g)}}}(i.localStore,s))}async function y$(t,e){const n=re(t);if(!n.currentUser.isEqual(e)){F("SyncEngine","User change. New user:",e.toKey());const i=await i_(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(l=>{l.reject(new W(Q.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await xa(n,i.us)}}function v$(t,e){const n=re(t),i=n.Sa.get(e);if(i&&i.ma)return ae().add(i.key);{let r=ae();const s=n.pa.get(e);if(!s)return r;for(const o of s){const a=n.ga.get(o);r=r.unionWith(a.view.la)}return r}}function _$(t){const e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=g_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=v$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=m$.bind(null,e),e.fa.u_=r$.bind(null,e.eventManager),e.fa.xa=s$.bind(null,e.eventManager),e}function w$(t){const e=re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=g$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=O$.bind(null,e),e}class Og{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=fc(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return P3(this.persistence,new x3,e.initialUser,this.serializer)}createPersistence(e){return new w3(gp.Hr,this.serializer)}createSharedClientState(e){return new R3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class k${async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>mg(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=y$.bind(null,this.syncEngine),await J3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new t$}()}createDatastore(e){const n=fc(e.databaseInfo.databaseId),i=function(s){return new Z3(s)}(e.databaseInfo);return function(s,o,a,l){return new N3(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,a){return new j3(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>mg(this.syncEngine,n,0),function(){return fg.D()?new fg:new D3}())}createSyncEngine(e,n){return function(r,s,o,a,l,u,c){const h=new c$(r,s,o,a,l,u);return c&&(h.Fa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(i){const r=re(i);F("RemoteStore","RemoteStore shutting down."),r.v_.add(5),await Sa(r),r.M_.shutdown(),r.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S${constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Zn("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x${constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=gt.UNAUTHENTICATED,this.clientId=kv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async s=>{F("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(F("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new W(Q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=wp(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function th(t,e){t.asyncQueue.verifyOperationInProgress(),F("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await i_(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function bg(t,e){t.asyncQueue.verifyOperationInProgress();const n=await P$(t);F("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>dg(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>dg(e.remoteStore,r)),t._onlineComponents=e}function T$(t){return t.name==="FirebaseError"?t.code===Q.FAILED_PRECONDITION||t.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function P$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){F("FirestoreClient","Using user provided OfflineComponentProvider");try{await th(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!T$(n))throw n;is("Error using user provided cache. Falling back to memory cache: "+n),await th(t,new Og)}}else F("FirestoreClient","Using default OfflineComponentProvider"),await th(t,new Og);return t._offlineComponents}async function v_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(F("FirestoreClient","Using user provided OnlineComponentProvider"),await bg(t,t._uninitializedComponentsProvider._online)):(F("FirestoreClient","Using default OnlineComponentProvider"),await bg(t,new k$))),t._onlineComponents}function E$(t){return v_(t).then(e=>e.syncEngine)}async function A$(t){const e=await v_(t),n=e.eventManager;return n.onListen=h$.bind(null,e.syncEngine),n.onUnlisten=d$.bind(null,e.syncEngine),n}function C$(t,e,n={}){const i=new Gn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new S$({next:f=>{o.enqueueAndForget(()=>i$(s,h));const d=f.docs.has(a);!d&&f.fromCache?u.reject(new W(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&f.fromCache&&l&&l.source==="server"?u.reject(new W(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new o$(hp(a.path),c,{includeMetadataChanges:!0,Z_:!0});return n$(s,h)}(await A$(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $$(t,e,n){if(!n)throw new W(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function I$(t,e,n,i){if(e===!0&&i===!0)throw new W(Q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vg(t){if(!G.isDocumentKey(t))throw new W(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function xp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":te()}function No(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xp(t);throw new W(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new W(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new W(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}I$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=__((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new W(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new W(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new W(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tp{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _g({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new W(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new W(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _g(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new zA;switch(i.type){case"firstParty":return new UA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new W(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=yg.get(n);i&&(F("ComponentProvider","Removing Datastore"),yg.delete(n),i.terminate())}(this),Promise.resolve()}}function Q$(t,e,n,i={}){var r;const s=(t=No(t,Tp))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&is("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=gt.MOCK_USER;else{a=tT(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new W(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new gt(u)}t._authCredentials=new qA(new wv(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Pp(this.firestore,e,this._query)}}class en{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}}class Bo extends Pp{constructor(e,n,i){super(e,n,hp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new G(e))}withConverter(e){return new Bo(this.firestore,e,this._path)}}function wg(t,e,...n){if(t=ts(t),arguments.length===1&&(e=kv.newId()),$$("doc","path",e),t instanceof Tp){const i=Fe.fromString(e,...n);return vg(i),new en(t,null,new G(i))}{if(!(t instanceof en||t instanceof Bo))throw new W(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Fe.fromString(e,...n));return vg(i),new en(t.firestore,t instanceof Bo?t.converter:null,new G(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R${constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new s_(this,"async_queue_retry"),this._u=()=>{const n=eh();n&&F("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=eh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=eh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new Gn;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!_a(e))throw e;F("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(i=>{this.ru=i,this.iu=!1;const r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw Zn("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.iu=!1,i))));return this.Xa=n,n}enqueueAfterDelay(e,n,i){this.au(),this.ou.indexOf(e)>-1&&(n=0);const r=_p.createAndSchedule(this,e,n,i,s=>this.lu(s));return this.nu.push(r),r}au(){this.ru&&te()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}class Ep extends Tp{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new R$}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||k_(this),this._firestoreClient.terminate()}}function D$(t,e){const n=typeof t=="object"?t:Yb(),i=typeof t=="string"?t:e||"(default)",r=ha(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=Jx("firestore");s&&Q$(r,...s)}return r}function w_(t){return t._firestoreClient||k_(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function k_(t){var e,n,i;const r=t._freezeSettings(),s=function(a,l,u,c){return new uC(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,__(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new x$(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this._byteString=e}static fromBase64String(e){try{return new us(kt.fromBase64String(e))}catch(n){throw new W(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new us(kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V$=/^__.*__$/;class L${constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new _r(e,this.data,this.fieldMask,n,this.fieldTransforms):new wa(e,this.data,n,this.fieldTransforms)}}function x_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te()}}class $p{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new $p(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Au({path:i,Vu:!1});return r.mu(e),r}fu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Au({path:i,Vu:!1});return r.Eu(),r}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return mu(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(x_(this.du)&&V$.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class Z${constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||fc(e)}Su(e,n,i,r=!1){return new $p({du:e,methodName:n,wu:i,path:ut.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function M$(t){const e=t._freezeSettings(),n=fc(t._databaseId);return new Z$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function F$(t,e,n,i,r,s={}){const o=t.Su(s.merge||s.mergeFields?2:0,e,n,r);A_("Data must be an object, but it was:",o,i);const a=P_(i,o);let l,u;if(s.merge)l=new fn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=N$(e,h,n);if(!o.contains(f))throw new W(Q.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);j$(c,f)||c.push(f)}l=new fn(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new L$(new Ut(a),l,u)}function T_(t,e){if(E_(t=ts(t)))return A_("Unsupported field value:",e,t),P_(t,e);if(t instanceof S_)return function(i,r){if(!x_(r.du))throw r.pu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.pu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=T_(a,r.gu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=ts(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return $C(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Ke.fromDate(i);return{timestampValue:du(r.serializer,s)}}if(i instanceof Ke){const s=new Ke(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:du(r.serializer,s)}}if(i instanceof Cp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof us)return{bytesValue:Gv(r.serializer,i._byteString)};if(i instanceof en){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:pp(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.pu(`Unsupported field value: ${xp(i)}`)}(t,e)}function P_(t,e){const n={};return Sv(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ts(t,(i,r)=>{const s=T_(r,e.Ru(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function E_(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ke||t instanceof Cp||t instanceof us||t instanceof en||t instanceof S_)}function A_(t,e,n){if(!E_(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=xp(n);throw i==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+i)}}function N$(t,e,n){if((e=ts(e))instanceof Ap)return e._internalPath;if(typeof e=="string")return C_(t,e);throw mu("Field path arguments must be of type string or ",t,!1,void 0,n)}const B$=new RegExp("[~\\*/\\[\\]]");function C_(t,e,n){if(e.search(B$)>=0)throw mu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ap(...e.split("."))._internalPath}catch{throw mu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function mu(t,e,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new W(Q.INVALID_ARGUMENT,a+t+l)}function j$(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new X$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(I_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class X$ extends $_{data(){return super.data()}}function I_(t,e){return typeof e=="string"?C_(t,e):e instanceof Ap?e._internalPath:e._delegate._internalPath}class z${convertValue(e,n="none"){switch(dr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Ts(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertGeoPoint(e){return new Cp(ze(e.latitude),ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=ap(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Vo(e));default:return null}}convertTimestamp(e){const n=Qi(e);return new Ke(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Fe.fromString(e);Ee(n_(i));const r=new Lo(i.get(1),i.get(3)),s=new G(i.popFirst(5));return r.isEqual(n)||Zn(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q$(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Q_ extends $_{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Y$(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(I_("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Y$ extends Q_{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U$(t){t=No(t,en);const e=No(t.firestore,Ep);return C$(w_(e),t._key).then(n=>J$(e,t,n))}class G$ extends z${constructor(e){super(),this.firestore=e}convertBytes(e){return new us(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,n)}}function H$(t,e,n){t=No(t,en);const i=No(t.firestore,Ep),r=q$(t.converter,e,n);return K$(i,[F$(M$(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Hn.none())])}function K$(t,e){return function(i,r){const s=new Gn;return i.asyncQueue.enqueueAndForget(async()=>p$(await E$(i),r,s)),s.promise}(w_(t),e)}function J$(t,e,n){const i=n.docs.get(e._key),r=new G$(t);return new Q_(t,r,e._key,i,new W$(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){xs=r})(lP),$i(new ti("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new Ep(new WA(i.getProvider("auth-internal")),new HA(i.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new W(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lo(u.options.projectId,c)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Rn(j0,"4.4.3",e),Rn(j0,"4.4.3","esm2017")})();const e6={apiKey:"AIzaSyBkQe0tqgET22AuM-ZrDSO-Exigu8dPvUU",authDomain:"lablnet-86a04.firebaseapp.com",projectId:"lablnet-86a04",storageBucket:"lablnet-86a04.appspot.com",messagingSenderId:"489647771343",appId:"1:489647771343:web:50c27805ebd74a1049f1ba"},R_=Wb(e6);DE(R_);const kg=D$(R_),S="md-editor",t6="https://at.alicdn.com/t/c/font_2605852_prouiefeic.js",n6="https://at.alicdn.com/t/c/font_2605852_prouiefeic.css",Ce="https://cdnjs.cloudflare.com/ajax/libs",i6=`${Ce}/highlight.js/11.8.0/highlight.min.js`,Sg={main:`${Ce}/prettier/2.8.0/standalone.js`,markdown:`${Ce}/prettier/2.8.0/parser-markdown.js`},xg={css:`${Ce}/cropperjs/1.5.13/cropper.min.css`,js:`${Ce}/cropperjs/1.5.13/cropper.min.js`},r6=`${Ce}/screenfull.js/5.2.0/screenfull.min.js`,D_=["bold","underline","italic","strikeThrough","-","title","sub","sup","quote","unorderedList","orderedList","task","-","codeRow","code","link","image","table","mermaid","katex","-","revoke","next","save","=","prettier","pageFullscreen","fullscreen","preview","htmlPreview","catalog","github"],V_=["markdownTotal","=","scrollSwitch"],Tg={"zh-CN":{toolbarTips:{bold:"加粗",underline:"下划线",italic:"斜体",strikeThrough:"删除线",title:"标题",sub:"下标",sup:"上标",quote:"引用",unorderedList:"无序列表",orderedList:"有序列表",task:"任务列表",codeRow:"行内代码",code:"块级代码",link:"链接",image:"图片",table:"表格",mermaid:"mermaid图",katex:"katex公式",revoke:"后退",next:"前进",save:"保存",prettier:"美化",pageFullscreen:"浏览器全屏",fullscreen:"屏幕全屏",preview:"预览",htmlPreview:"html代码预览",catalog:"目录",github:"源码地址"},titleItem:{h1:"一级标题",h2:"二级标题",h3:"三级标题",h4:"四级标题",h5:"五级标题",h6:"六级标题"},imgTitleItem:{link:"添加链接",upload:"上传图片",clip2upload:"裁剪上传"},linkModalTips:{linkTitle:"添加链接",imageTitle:"添加图片",descLabel:"链接描述：",descLabelPlaceHolder:"请输入描述...",urlLabel:"链接地址：",urlLabelPlaceHolder:"请输入链接...",buttonOK:"确定"},clipModalTips:{title:"裁剪图片上传",buttonUpload:"上传"},copyCode:{text:"复制代码",successTips:"已复制！",failTips:"复制失败！"},mermaid:{flow:"流程图",sequence:"时序图",gantt:"甘特图",class:"类图",state:"状态图",pie:"饼图",relationship:"关系图",journey:"旅程图"},katex:{inline:"行内公式",block:"块级公式"},footer:{markdownTotal:"字数",scrollAuto:"同步滚动"}},"en-US":{toolbarTips:{bold:"bold",underline:"underline",italic:"italic",strikeThrough:"strikeThrough",title:"title",sub:"subscript",sup:"superscript",quote:"quote",unorderedList:"unordered list",orderedList:"ordered list",task:"task list",codeRow:"inline code",code:"block-level code",link:"link",image:"image",table:"table",mermaid:"mermaid",katex:"formula",revoke:"revoke",next:"undo revoke",save:"save",prettier:"prettier",pageFullscreen:"fullscreen in page",fullscreen:"fullscreen",preview:"preview",htmlPreview:"html preview",catalog:"catalog",github:"source code"},titleItem:{h1:"Lv1 Heading",h2:"Lv2 Heading",h3:"Lv3 Heading",h4:"Lv4 Heading",h5:"Lv5 Heading",h6:"Lv6 Heading"},imgTitleItem:{link:"Add Img Link",upload:"Upload Img",clip2upload:"Clip Upload"},linkModalTips:{linkTitle:"Add Link",imageTitle:"Add Image",descLabel:"Desc:",descLabelPlaceHolder:"Enter a description...",urlLabel:"Link:",urlLabelPlaceHolder:"Enter a link...",buttonOK:"OK"},clipModalTips:{title:"Crop Image",buttonUpload:"Upload"},copyCode:{text:"Copy",successTips:"Copied!",failTips:"Copy failed!"},mermaid:{flow:"flow",sequence:"sequence",gantt:"gantt",class:"class",state:"state",pie:"pie",relationship:"relationship",journey:"journey"},katex:{inline:"inline",block:"block"},footer:{markdownTotal:"Character Count",scrollAuto:"Scroll Auto"}}},s6=`${Ce}/mermaid/10.6.1/mermaid.esm.min.mjs`,Pg={js:`${Ce}/KaTeX/0.16.9/katex.min.js`,css:`${Ce}/KaTeX/0.16.9/katex.min.css`},Eg={a11y:{light:`${Ce}/highlight.js/11.8.0/styles/a11y-light.min.css`,dark:`${Ce}/highlight.js/11.8.0/styles/a11y-dark.min.css`},atom:{light:`${Ce}/highlight.js/11.8.0/styles/atom-one-light.min.css`,dark:`${Ce}/highlight.js/11.8.0/styles/atom-one-dark.min.css`},github:{light:`${Ce}/highlight.js/11.8.0/styles/github.min.css`,dark:`${Ce}/highlight.js/11.8.0/styles/github-dark.min.css`},gradient:{light:`${Ce}/highlight.js/11.8.0/styles/gradient-light.min.css`,dark:`${Ce}/highlight.js/11.8.0/styles/gradient-dark.min.css`},kimbie:{light:`${Ce}/highlight.js/11.8.0/styles/kimbie-light.min.css`,dark:`${Ce}/highlight.js/11.8.0/styles/kimbie-dark.min.css`},paraiso:{light:`${Ce}/highlight.js/11.8.0/styles/paraiso-light.min.css`,dark:`${Ce}/highlight.js/11.8.0/styles/paraiso-dark.min.css`},qtcreator:{light:`${Ce}/highlight.js/11.8.0/styles/qtcreator-light.min.css`,dark:`${Ce}/highlight.js/11.8.0/styles/qtcreator-dark.min.css`},stackoverflow:{light:`${Ce}/highlight.js/11.8.0/styles/stackoverflow-light.min.css`,dark:`${Ce}/highlight.js/11.8.0/styles/stackoverflow-dark.min.css`}},Ne={editorExtensions:{},editorConfig:{},codeMirrorExtensions:(t,e)=>e,markdownItConfig:()=>{},markdownItPlugins:t=>t,iconfontType:"svg",mermaidConfig:t=>t},Ja=170,mc=(t,e=200)=>{let n=0;return(...i)=>new Promise(r=>{n&&(clearTimeout(n),r("cancel")),n=window.setTimeout(()=>{t.apply(void 0,i),n=0,r("done")},e)})},o6=(t,e={_blank:!0,nofollow:!0})=>{const n=document.createElement("a");n.href=t,e._blank&&(n.target="_blank"),e.nofollow&&(n.rel="noopener noreferrer"),n.click()},a6=()=>{let t=-1;return(e,n,i,r=100)=>{const s=()=>{i&&(typeof r=="number"?setTimeout(i,r):i())};t!==-1&&(cancelAnimationFrame(t),s());let o=e.scrollTop;const a=()=>{t=-1;const l=n-o;o=o+l/5,Math.abs(l)<1?(e.scrollTo(0,n),s()):(e.scrollTo(0,o),t=requestAnimationFrame(a))};t=requestAnimationFrame(a)}},l6=(t,e=200)=>{let n=0,i=null;return(...r)=>{const s=o=>{n===0&&(n=o),o-n>=e?(t.apply(void 0,i),i=null,n=0):window.requestAnimationFrame(s)};i===null&&window.requestAnimationFrame(s),i=r}},u6=t=>{const e=n=>{const{scrollHeight:i,scrollWidth:r,offsetHeight:s,offsetWidth:o,scrollLeft:a,scrollTop:l}=t,u=n.x,c=n.y,h=d=>{const p=l+c-d.y,g=a+u-d.x,m=i-s,O=r-o,y={};g>=0&&g<=O&&(y.left=g),p>=0&&p<=m&&(y.top=p),t.scroll(y)};document.addEventListener("mousemove",h);const f=()=>{document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",f)};document.addEventListener("mouseup",f)};return t.addEventListener("mousedown",e),()=>{t.removeEventListener("mousedown",e)}},yf=()=>`${Date.now().toString(36)}${Math.random().toString(36).substring(2)}`,tn=({instance:t,ctx:e,props:n={}},i="default")=>{const r=t?.$slots[i]||e?.slots[i];return(r?r(t):"")||n[i]},c6={overlay:{type:[String,Object],default:""},visible:{type:Boolean,default:!1},onChange:{type:Function,default:()=>{}},relative:{type:String,default:"html"}},Zr=Me({props:c6,setup(t,e){const n=`${S}-dropdown-hidden`,i=Rt({overlayClass:[n],overlayStyle:{},triggerHover:!1,overlayHover:!1}),r=Oe(),s=Oe(),o=()=>{var c;i.triggerHover=!0;const h=r.value,f=s.value;if(!h||!f)return;const d=h.getBoundingClientRect(),p=h.offsetTop,g=h.offsetLeft,m=d.height,O=d.width,y=((c=document.querySelector(t.relative))==null?void 0:c.scrollLeft)||0;i.overlayStyle={...i.overlayStyle,top:p+m+"px",left:g-f.offsetWidth/2+O/2-y+"px"},t.onChange(!0)},a=()=>{i.overlayHover=!0};oe(()=>t.visible,c=>{c?i.overlayClass=i.overlayClass.filter(h=>h!==n):i.overlayClass.push(n)});let l=-1;const u=c=>{r.value===c.target?i.triggerHover=!1:i.overlayHover=!1,clearTimeout(l),l=window.setTimeout(()=>{!i.overlayHover&&!i.triggerHover&&t.onChange(!1)},10)};return Ve(()=>{r.value.addEventListener("mouseenter",o),r.value.addEventListener("mouseleave",u),s.value.addEventListener("mouseenter",a),s.value.addEventListener("mouseleave",u)}),ca(()=>{r.value.removeEventListener("mouseenter",o),r.value.removeEventListener("mouseleave",u),s.value.removeEventListener("mouseenter",a),s.value.removeEventListener("mouseleave",u)}),()=>{const c=tn({ctx:e}),h=tn({props:t,ctx:e},"overlay"),f=Bh(c instanceof Array?c[0]:c,{ref:r}),d=w("div",{class:[`${S}-dropdown`,i.overlayClass],style:i.overlayStyle,ref:s},[w("div",{class:`${S}-dropdown-overlay`},[h instanceof Array?h[0]:h])]);return[f,d]}}}),h6={title:{type:String,default:""},visible:{type:Boolean},trigger:{type:[String,Object]},onChange:{type:Function},overlay:{type:[String,Object]},insert:{type:Function},language:{type:String},theme:{type:String},default:{type:[String,Object]}},Il=Me({name:"DropdownToolbar",props:h6,emits:["onChange"],setup(t,e){const n=ye("editorId");return()=>{const i=tn({props:t,ctx:e},"trigger"),r=tn({props:t,ctx:e},"overlay"),s=tn({props:t,ctx:e});return w(Zr,{relative:`#${n}-toolbar-wrapper`,visible:t.visible,onChange:o=>{t.onChange instanceof Function?t.onChange(o):e.emit("onChange",o)},overlay:r},{default:()=>[w("div",{class:`${S}-toolbar-item`,title:t.title||""},[i,s])]})}}});Il.install=t=>(t.component(Il.name,Il),t);var f6=Object.defineProperty,d6=(t,e,n)=>e in t?f6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,p6=(t,e,n)=>(d6(t,typeof e!="symbol"?e+"":e,n),n);class m6{constructor(){p6(this,"pools",{})}remove(e,n,i){const s=this.pools[e]&&this.pools[e][n];s&&(this.pools[e][n]=s.filter(o=>o!==i))}clear(e){this.pools[e]={}}on(e,n){return this.pools[e]||(this.pools[e]={}),this.pools[e][n.name]||(this.pools[e][n.name]=[]),this.pools[e][n.name].push(n.callback),this.pools[e][n.name].includes(n.callback)}emit(e,n,...i){this.pools[e]||(this.pools[e]={});const s=this.pools[e][n];s&&s.forEach(o=>{try{o(...i)}catch(a){console.error(`${n} monitor event exception！`,a)}})}}const Z=new m6,gc="onSave",Ip="changeCatalogVisible",L_="changeFullscreen",Ag="pageFullscreenChanged",Cg="fullscreenChanged",$g="previewChanged",Ig="htmlPreviewChanged",Qg="catalogVisibleChanged",Ql="buildFinished",kr="errorCatcher",Ae="replace",Oc="uploadImage",vf="openModals",Z_="ctrlZ",M_="ctrlShiftZ",_f="catalogChanged",F_="pushCatalog",Qp="rerender",N_="eventListener",g6=(t,e="image.png")=>{const n=t.split(","),i=n[0].match(/:(.*?);/);if(i){const r=i[1],s=atob(n[1]);let o=s.length;const a=new Uint8Array(o);for(;o--;)a[o]=s.charCodeAt(o);return new File([a],e,{type:r})}return null},O6=t=>{if(!t)return t;const e=t.split(`
`),n=['<span rn-wrapper aria-hidden="true">'];return e.forEach(()=>{n.push("<span></span>")}),n.push("</span>"),`<span class="code-block">${t}</span>${n.join("")}`},b6=(t,e)=>{if(!t||!e)return 0;const n=t?.getBoundingClientRect();if(e===document.documentElement)return n.top-e.clientTop;const i=e?.getBoundingClientRect();return n.top-i.top},y6=(()=>{let t=0;return e=>e+ ++t})(),Rg=(t,e)=>{const n=i=>{const r=t.parentElement||document.body,s=r.offsetWidth,o=r.offsetHeight,{clientWidth:a}=document.documentElement,{clientHeight:l}=document.documentElement,u=i.offsetX,c=i.offsetY,h=d=>{let p=d.x+document.body.scrollLeft-document.body.clientLeft-u,g=d.y+document.body.scrollTop-document.body.clientTop-c;p=p<1?1:p<a-s-1?p:a-s-1,g=g<1?1:g<l-o-1?g:l-o-1,e?e(p,g):(r.style.left=`${p}px`,r.style.top=`${g}px`)};document.addEventListener("mousemove",h);const f=()=>{document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",f)};document.addEventListener("mouseup",f)};return t.addEventListener("mousedown",n),()=>{t.removeEventListener("mousedown",n)}},Gt=(t,e="")=>{const n=document.getElementById(t.id),i=t.onload;t.onload=null;const r=function(s){typeof i=="function"&&i.bind(this)(s),t.removeEventListener("load",r)};n?e!==""&&(n.addEventListener("load",r),Reflect.get(window,e)&&n.dispatchEvent(new Event("load"))):(t.addEventListener("load",r),document.head.appendChild(t))},v6=mc((t,e,n)=>{const i=document.getElementById(t);i&&i.setAttribute(e,n)},10),_6=Me({props:{name:{type:String,default:""}},setup(t){return()=>Ne.iconfontType==="svg"?w("svg",{class:`${S}-icon`,"aria-hidden":"true"},[w("use",{"xlink:href":`#${S}-icon-${t.name}`},null)]):w("i",{class:`${S}-iconfont ${S}-icon-${t.name}`},null)}}),fe=Me({props:{name:{type:String,default:""}},setup(t){const e=ye("customIcon");return()=>{const n=e.value[t.name];return typeof n=="object"?typeof n.component=="object"?Vx(n.component,n.props):w("span",{innerHTML:n.component},null):w(_6,{name:t.name},null)}}}),w6={title:{type:String,default:""},visible:{type:Boolean,default:!1},width:{type:String,default:"auto"},height:{type:String,default:"auto"},onClose:{type:Function},showAdjust:{type:Boolean,default:!1},isFullscreen:{type:Boolean,default:!1},onAdjust:{type:Function,default:()=>{}},class:{type:String},style:{type:Object,default:()=>({})}},Dg=(()=>{let t=2e4;return()=>++t})(),qr=Me({name:"MdModal",props:w6,emits:["onClose"],setup(t,e){const n=ye("theme"),i=Oe(t.visible),r=Oe([`${S}-modal`]),s=Oe(),o=Oe(),a=Oe(),l=ar();let u=()=>{};const c=Rt({maskStyle:{zIndex:-1},modalStyle:{zIndex:-1},initPos:{left:"0px",top:"0px"},historyPos:{left:"0px",top:"0px"}}),h=Ct(()=>t.isFullscreen?{width:"100%",height:"100%"}:{width:t.width,height:t.height});return oe(()=>t.isFullscreen,f=>{f?u():ei(()=>{u=Rg(o.value,(d,p)=>{c.initPos.left=d+"px",c.initPos.top=p+"px"})})}),oe(()=>t.visible,f=>{f?(c.maskStyle.zIndex=Dg(),c.modalStyle.zIndex=Dg(),r.value.push("zoom-in"),i.value=f,ei(()=>{const d=s.value.offsetWidth/2,p=s.value.offsetHeight/2,g=document.documentElement.clientWidth/2,m=document.documentElement.clientHeight/2;c.initPos.left=g-d+"px",c.initPos.top=m-p+"px",t.isFullscreen||(u=Rg(o.value,(O,y)=>{c.initPos.left=O+"px",c.initPos.top=y+"px"}))}),setTimeout(()=>{r.value=r.value.filter(d=>d!=="zoom-in")},140)):(r.value.push("zoom-out"),u(),setTimeout(()=>{r.value=r.value.filter(d=>d!=="zoom-out"),i.value=f},130))}),Ve(()=>{a.value=document.body}),()=>{const f=tn({ctx:e}),d=tn({props:t,ctx:e},"title");return a.value?w(Dx,{to:a.value},{default:()=>[w("div",{ref:l,class:`${S}-modal-container`,"data-theme":n.value},[w("div",{class:t.class,style:{...t.style,display:i.value?"block":"none"}},[w("div",{class:`${S}-modal-mask`,style:c.maskStyle,onClick:()=>{t.onClose?t.onClose():e.emit("onClose")}},null),w("div",{class:r.value,style:{...c.modalStyle,...c.initPos,...h.value},ref:s},[w("div",{class:`${S}-modal-header`,ref:o},[d||""]),w("div",{class:`${S}-modal-body`},[f]),w("div",{class:`${S}-modal-func`},[t.showAdjust&&w("div",{class:`${S}-modal-adjust`,onClick:p=>{p.stopPropagation(),t.isFullscreen?c.initPos=c.historyPos:(c.historyPos=c.initPos,c.initPos={left:"0",top:"0"}),t.onAdjust(!t.isFullscreen)}},[w(fe,{name:t.isFullscreen?"suoxiao":"fangda"},null)]),w("div",{class:`${S}-modal-close`,onClick:p=>{p.stopPropagation(),t.onClose?t.onClose():e.emit("onClose")}},[w(fe,{name:"close"},null)])])])])])]}):""}}});qr.install=t=>(t.component(qr.name,qr),t);class be{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,i){[e,n]=cs(this,e,n);let r=[];return this.decompose(0,e,r,2),i.length&&i.decompose(0,i.length,r,3),this.decompose(n,this.length,r,1),xn.from(r,this.length-(n-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=cs(this,e,n);let i=[];return this.decompose(e,n,i,0),xn.from(i,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),r=new bo(this),s=new bo(e);for(let o=n,a=n;;){if(r.next(o),s.next(o),o=0,r.lineBreak!=s.lineBreak||r.done!=s.done||r.value!=s.value)return!1;if(a+=r.value.length,r.done||a>=i)return!0}}iter(e=1){return new bo(this,e)}iterRange(e,n=this.length){return new B_(this,e,n)}iterLines(e,n){let i;if(e==null)i=this.iter();else{n==null&&(n=this.lines+1);let r=this.line(e).from;i=this.iterRange(r,Math.max(r,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new j_(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?be.empty:e.length<=32?new je(e):xn.from(je.split(e,[]))}}class je extends be{constructor(e,n=k6(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,i,r){for(let s=0;;s++){let o=this.text[s],a=r+o.length;if((n?i:a)>=e)return new S6(r,a,i,o);r=a+1,i++}}decompose(e,n,i,r){let s=e<=0&&n>=this.length?this:new je(Vg(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(r&1){let o=i.pop(),a=Rl(s.text,o.text.slice(),0,s.length);if(a.length<=32)i.push(new je(a,o.length+s.length));else{let l=a.length>>1;i.push(new je(a.slice(0,l)),new je(a.slice(l)))}}else i.push(s)}replace(e,n,i){if(!(i instanceof je))return super.replace(e,n,i);[e,n]=cs(this,e,n);let r=Rl(this.text,Rl(i.text,Vg(this.text,0,e)),n),s=this.length+i.length-(n-e);return r.length<=32?new je(r,s):xn.from(je.split(r,[]),s)}sliceString(e,n=this.length,i=`
`){[e,n]=cs(this,e,n);let r="";for(let s=0,o=0;s<=n&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(r+=i),e<l&&n>s&&(r+=a.slice(Math.max(0,e-s),n-s)),s=l+1}return r}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let i=[],r=-1;for(let s of e)i.push(s),r+=s.length+1,i.length==32&&(n.push(new je(i,r)),i=[],r=-1);return r>-1&&n.push(new je(i,r)),n}}class xn extends be{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,n,i,r){for(let s=0;;s++){let o=this.children[s],a=r+o.length,l=i+o.lines-1;if((n?l:a)>=e)return o.lineInner(e,n,i,r);r=a+1,i=l+1}}decompose(e,n,i,r){for(let s=0,o=0;o<=n&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&n>=o){let u=r&((o<=e?1:0)|(l>=n?2:0));o>=e&&l<=n&&!u?i.push(a):a.decompose(e-o,n-o,i,u)}o=l+1}}replace(e,n,i){if([e,n]=cs(this,e,n),i.lines<this.lines)for(let r=0,s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.length;if(e>=s&&n<=a){let l=o.replace(e-s,n-s,i),u=this.lines-o.lines+l.lines;if(l.lines<u>>4&&l.lines>u>>6){let c=this.children.slice();return c[r]=l,new xn(c,this.length-(n-e)+i.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,n,i)}sliceString(e,n=this.length,i=`
`){[e,n]=cs(this,e,n);let r="";for(let s=0,o=0;s<this.children.length&&o<=n;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(r+=i),e<l&&n>o&&(r+=a.sliceString(e-o,n-o,i)),o=l+1}return r}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof xn))return 0;let i=0,[r,s,o,a]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=n,s+=n){if(r==o||s==a)return i;let l=this.children[r],u=e.children[s];if(l!=u)return i+l.scanIdentical(u,n);i+=l.length+1}}static from(e,n=e.reduce((i,r)=>i+r.length+1,-1)){let i=0;for(let d of e)i+=d.lines;if(i<32){let d=[];for(let p of e)p.flatten(d);return new je(d,n)}let r=Math.max(32,i>>5),s=r<<1,o=r>>1,a=[],l=0,u=-1,c=[];function h(d){let p;if(d.lines>s&&d instanceof xn)for(let g of d.children)h(g);else d.lines>o&&(l>o||!l)?(f(),a.push(d)):d instanceof je&&l&&(p=c[c.length-1])instanceof je&&d.lines+p.lines<=32?(l+=d.lines,u+=d.length+1,c[c.length-1]=new je(p.text.concat(d.text),p.length+1+d.length)):(l+d.lines>r&&f(),l+=d.lines,u+=d.length+1,c.push(d))}function f(){l!=0&&(a.push(c.length==1?c[0]:xn.from(c,u)),u=-1,l=c.length=0)}for(let d of e)h(d);return f(),a.length==1?a[0]:new xn(a,n)}}be.empty=new je([""],0);function k6(t){let e=-1;for(let n of t)e+=n.length+1;return e}function Rl(t,e,n=0,i=1e9){for(let r=0,s=0,o=!0;s<t.length&&r<=i;s++){let a=t[s],l=r+a.length;l>=n&&(l>i&&(a=a.slice(0,i-r)),r<n&&(a=a.slice(n-r)),o?(e[e.length-1]+=a,o=!1):e.push(a)),r=l+1}return e}function Vg(t,e,n){return Rl(t,[""],e,n)}class bo{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof je?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,r=this.nodes[i],s=this.offsets[i],o=s>>1,a=r instanceof je?r.text.length:r.children.length;if(o==(n>0?a:0)){if(i==0)return this.done=!0,this.value="",this;n>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(n>0?0:1)){if(this.offsets[i]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(r instanceof je){let l=r.text[o+(n<0?-1:0)];if(this.offsets[i]+=n,l.length>Math.max(0,e))return this.value=e==0?l:n>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=r.children[o+(n<0?-1:0)];e>l.length?(e-=l.length,this.offsets[i]+=n):(n<0&&this.offsets[i]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof je?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class B_{constructor(e,n,i){this.value="",this.done=!1,this.cursor=new bo(e,n>i?-1:1),this.pos=n>i?e.length:0,this.from=Math.min(n,i),this.to=Math.max(n,i)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let i=n<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*n,this.value=r.length<=i?r:n<0?r.slice(r.length-i):r.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class j_{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:i,value:r}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(be.prototype[Symbol.iterator]=function(){return this.iter()},bo.prototype[Symbol.iterator]=B_.prototype[Symbol.iterator]=j_.prototype[Symbol.iterator]=function(){return this});let S6=class{constructor(e,n,i,r){this.from=e,this.to=n,this.number=i,this.text=r}get length(){return this.to-this.from}};function cs(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}let Wr="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=1;t<Wr.length;t++)Wr[t]+=Wr[t-1];function x6(t){for(let e=1;e<Wr.length;e+=2)if(Wr[e]>t)return Wr[e-1]<=t;return!1}function Lg(t){return t>=127462&&t<=127487}const Zg=8205;function Pt(t,e,n=!0,i=!0){return(n?X_:T6)(t,e,i)}function X_(t,e,n){if(e==t.length)return e;e&&z_(t.charCodeAt(e))&&q_(t.charCodeAt(e-1))&&e--;let i=kn(t,e);for(e+=bi(i);e<t.length;){let r=kn(t,e);if(i==Zg||r==Zg||n&&x6(r))e+=bi(r),i=r;else if(Lg(r)){let s=0,o=e-2;for(;o>=0&&Lg(kn(t,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function T6(t,e,n){for(;e>0;){let i=X_(t,e-2,n);if(i<e)return i;e--}return 0}function z_(t){return t>=56320&&t<57344}function q_(t){return t>=55296&&t<56320}function kn(t,e){let n=t.charCodeAt(e);if(!q_(n)||e+1==t.length)return n;let i=t.charCodeAt(e+1);return z_(i)?(n-55296<<10)+(i-56320)+65536:n}function P6(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function bi(t){return t<65536?1:2}const wf=/\r\n?|\n/;var xt=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(xt||(xt={}));class Ln{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let i=this.sections[n+1];e+=i<0?this.sections[n]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,i=0,r=0;n<this.sections.length;){let s=this.sections[n++],o=this.sections[n++];o<0?(e(i,r,s),r+=s):r+=o,i+=s}}iterChangedRanges(e,n=!1){kf(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let i=this.sections[n++],r=this.sections[n++];r<0?e.push(i,r):e.push(r,i)}return new Ln(e)}composeDesc(e){return this.empty?e:e.empty?this:W_(this,e)}mapDesc(e,n=!1){return e.empty?this:Sf(this,e,n)}mapPos(e,n=-1,i=xt.Simple){let r=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],u=r+a;if(l<0){if(u>e)return s+(e-r);s+=a}else{if(i!=xt.Simple&&u>=e&&(i==xt.TrackDel&&r<e&&u>e||i==xt.TrackBefore&&r<e||i==xt.TrackAfter&&u>e))return null;if(u>e||u==e&&n<0&&!a)return e==r||n<0?s:s+l;s+=l}r=u}if(e>r)throw new RangeError(`Position ${e} is out of range for changeset of length ${r}`);return s}touchesRange(e,n=e){for(let i=0,r=0;i<this.sections.length&&r<=n;){let s=this.sections[i++],o=this.sections[i++],a=r+s;if(o>=0&&r<=n&&a>=e)return r<e&&a>n?"cover":!0;r=a}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let i=this.sections[n++],r=this.sections[n++];e+=(e?" ":"")+i+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Ln(e)}static create(e){return new Ln(e)}}class Ge extends Ln{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return kf(this,(n,i,r,s,o)=>e=e.replace(r,r+(i-n),o),!1),e}mapDesc(e,n=!1){return Sf(this,e,n,!0)}invert(e){let n=this.sections.slice(),i=[];for(let r=0,s=0;r<n.length;r+=2){let o=n[r],a=n[r+1];if(a>=0){n[r]=a,n[r+1]=o;let l=r>>1;for(;i.length<l;)i.push(be.empty);i.push(o?e.slice(s,s+o):be.empty)}s+=o}return new Ge(n,i)}compose(e){return this.empty?e:e.empty?this:W_(this,e,!0)}map(e,n=!1){return e.empty?this:Sf(this,e,n,!0)}iterChanges(e,n=!1){kf(this,e,n)}get desc(){return Ln.create(this.sections)}filter(e){let n=[],i=[],r=[],s=new jo(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let c=Math.min(s.len,l-a);Ot(r,c,-1);let h=s.ins==-1?-1:s.off==0?s.ins:0;Ot(n,c,h),h>0&&ki(i,n,s.text),s.forward(c),a+=c}let u=e[o++];for(;a<u;){if(s.done)break e;let c=Math.min(s.len,u-a);Ot(n,c,-1),Ot(r,c,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(c),a+=c}}return{changes:new Ge(n,i),filtered:Ln.create(r)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let i=this.sections[n],r=this.sections[n+1];r<0?e.push(i):r==0?e.push([i]):e.push([i].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,i){let r=[],s=[],o=0,a=null;function l(c=!1){if(!c&&!r.length)return;o<n&&Ot(r,n-o,-1);let h=new Ge(r,s);a=a?a.compose(h.map(a)):h,r=[],s=[],o=0}function u(c){if(Array.isArray(c))for(let h of c)u(h);else if(c instanceof Ge){if(c.length!=n)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${n})`);l(),a=a?a.compose(c.map(a)):c}else{let{from:h,to:f=h,insert:d}=c;if(h>f||h<0||f>n)throw new RangeError(`Invalid change range ${h} to ${f} (in doc of length ${n})`);let p=d?typeof d=="string"?be.of(d.split(i||wf)):d:be.empty,g=p.length;if(h==f&&g==0)return;h<o&&l(),h>o&&Ot(r,h-o,-1),Ot(r,f-h,g),ki(s,r,p),o=f}}return u(e),l(!a),a}static empty(e){return new Ge(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],i=[];for(let r=0;r<e.length;r++){let s=e[r];if(typeof s=="number")n.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)n.push(s[0],0);else{for(;i.length<r;)i.push(be.empty);i[r]=be.of(s.slice(1)),n.push(s[0],i[r].length)}}}return new Ge(n,i)}static createSet(e,n){return new Ge(e,n)}}function Ot(t,e,n,i=!1){if(e==0&&n<=0)return;let r=t.length-2;r>=0&&n<=0&&n==t[r+1]?t[r]+=e:e==0&&t[r]==0?t[r+1]+=n:i?(t[r]+=e,t[r+1]+=n):t.push(e,n)}function ki(t,e,n){if(n.length==0)return;let i=e.length-2>>1;if(i<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<i;)t.push(be.empty);t.push(n)}}function kf(t,e,n){let i=t.inserted;for(let r=0,s=0,o=0;o<t.sections.length;){let a=t.sections[o++],l=t.sections[o++];if(l<0)r+=a,s+=a;else{let u=r,c=s,h=be.empty;for(;u+=a,c+=l,l&&i&&(h=h.append(i[o-2>>1])),!(n||o==t.sections.length||t.sections[o+1]<0);)a=t.sections[o++],l=t.sections[o++];e(r,u,s,c,h),r=u,s=c}}}function Sf(t,e,n,i=!1){let r=[],s=i?[]:null,o=new jo(t),a=new jo(e);for(let l=-1;;)if(o.ins==-1&&a.ins==-1){let u=Math.min(o.len,a.len);Ot(r,u,-1),o.forward(u),a.forward(u)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!n))){let u=a.len;for(Ot(r,a.ins,-1);u;){let c=Math.min(o.len,u);o.ins>=0&&l<o.i&&o.len<=c&&(Ot(r,0,o.ins),s&&ki(s,r,o.text),l=o.i),o.forward(c),u-=c}a.next()}else if(o.ins>=0){let u=0,c=o.len;for(;c;)if(a.ins==-1){let h=Math.min(c,a.len);u+=h,c-=h,a.forward(h)}else if(a.ins==0&&a.len<c)c-=a.len,a.next();else break;Ot(r,u,l<o.i?o.ins:0),s&&l<o.i&&ki(s,r,o.text),l=o.i,o.forward(o.len-c)}else{if(o.done&&a.done)return s?Ge.createSet(r,s):Ln.create(r);throw new Error("Mismatched change set lengths")}}function W_(t,e,n=!1){let i=[],r=n?[]:null,s=new jo(t),o=new jo(e);for(let a=!1;;){if(s.done&&o.done)return r?Ge.createSet(i,r):Ln.create(i);if(s.ins==0)Ot(i,s.len,0,a),s.next();else if(o.len==0&&!o.done)Ot(i,0,o.ins,a),r&&ki(r,i,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),u=i.length;if(s.ins==-1){let c=o.ins==-1?-1:o.off?0:o.ins;Ot(i,l,c,a),r&&c&&ki(r,i,o.text)}else o.ins==-1?(Ot(i,s.off?0:s.len,l,a),r&&ki(r,i,s.textBit(l))):(Ot(i,s.off?0:s.len,o.off?0:o.ins,a),r&&!o.off&&ki(r,i,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||i.length>u),s.forward2(l),o.forward(l)}}}}class jo{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?be.empty:e[n]}textBit(e){let{inserted:n}=this.set,i=this.i-2>>1;return i>=n.length&&!e?be.empty:n[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class rr{constructor(e,n,i){this.from=e,this.to=n,this.flags=i}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let i,r;return this.empty?i=r=e.mapPos(this.from,n):(i=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),i==this.from&&r==this.to?this:new rr(i,r,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return I.range(e,n);let i=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return I.range(this.anchor,i)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return I.range(e.anchor,e.head)}static create(e,n,i){return new rr(e,n,i)}}class I{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:I.create(this.ranges.map(i=>i.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let i=0;i<this.ranges.length;i++)if(!this.ranges[i].eq(e.ranges[i],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new I([this.main],0)}addRange(e,n=!0){return I.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let i=this.ranges.slice();return i[n]=e,I.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new I(e.ranges.map(n=>rr.fromJSON(n)),e.main)}static single(e,n=e){return new I([I.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,r=0;r<e.length;r++){let s=e[r];if(s.empty?s.from<=i:s.from<i)return I.normalized(e.slice(),n);i=s.to}return new I(e,n)}static cursor(e,n=0,i,r){return rr.create(e,e,(n==0?0:n<0?8:16)|(i==null?7:Math.min(6,i))|(r??16777215)<<6)}static range(e,n,i,r){let s=(i??16777215)<<6|(r==null?7:Math.min(6,r));return n<e?rr.create(n,e,48|s):rr.create(e,n,(n>e?8:0)|s)}static normalized(e,n=0){let i=e[n];e.sort((r,s)=>r.from-s.from),n=e.indexOf(i);for(let r=1;r<e.length;r++){let s=e[r],o=e[r-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);r<=n&&n--,e.splice(--r,2,s.anchor>s.head?I.range(l,a):I.range(a,l))}}return new I(e,n)}}function Y_(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let Rp=0;class K{constructor(e,n,i,r,s){this.combine=e,this.compareInput=n,this.compare=i,this.isStatic=r,this.id=Rp++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new K(e.combine||(n=>n),e.compareInput||((n,i)=>n===i),e.compare||(e.combine?(n,i)=>n===i:Dp),!!e.static,e.enables)}of(e){return new Dl([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Dl(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Dl(e,this,2,n)}from(e,n){return n||(n=i=>i),this.compute([e],i=>n(i.field(e)))}}function Dp(t,e){return t==e||t.length==e.length&&t.every((n,i)=>n===e[i])}class Dl{constructor(e,n,i,r){this.dependencies=e,this.facet=n,this.type=i,this.value=r,this.id=Rp++}dynamicSlot(e){var n;let i=this.value,r=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,u=!1,c=[];for(let h of this.dependencies)h=="doc"?l=!0:h=="selection"?u=!0:((n=e[h.id])!==null&&n!==void 0?n:1)&1||c.push(e[h.id]);return{create(h){return h.values[o]=i(h),1},update(h,f){if(l&&f.docChanged||u&&(f.docChanged||f.selection)||xf(h,c)){let d=i(h);if(a?!Mg(d,h.values[o],r):!r(d,h.values[o]))return h.values[o]=d,1}return 0},reconfigure:(h,f)=>{let d,p=f.config.address[s];if(p!=null){let g=Ou(f,p);if(this.dependencies.every(m=>m instanceof K?f.facet(m)===h.facet(m):m instanceof Bn?f.field(m,!1)==h.field(m,!1):!0)||(a?Mg(d=i(h),g,r):r(d=i(h),g)))return h.values[o]=g,0}else d=i(h);return h.values[o]=d,1}}}}function Mg(t,e,n){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(!n(t[i],e[i]))return!1;return!0}function xf(t,e){let n=!1;for(let i of e)yo(t,i)&1&&(n=!0);return n}function E6(t,e,n){let i=n.map(l=>t[l.id]),r=n.map(l=>l.type),s=i.filter(l=>!(l&1)),o=t[e.id]>>1;function a(l){let u=[];for(let c=0;c<i.length;c++){let h=Ou(l,i[c]);if(r[c]==2)for(let f of h)u.push(f);else u.push(h)}return e.combine(u)}return{create(l){for(let u of i)yo(l,u);return l.values[o]=a(l),1},update(l,u){if(!xf(l,s))return 0;let c=a(l);return e.compare(c,l.values[o])?0:(l.values[o]=c,1)},reconfigure(l,u){let c=xf(l,i),h=u.config.facets[e.id],f=u.facet(e);if(h&&!c&&Dp(n,h))return l.values[o]=f,0;let d=a(l);return e.compare(d,f)?(l.values[o]=f,0):(l.values[o]=d,1)}}}const Fg=K.define({static:!0});class Bn{constructor(e,n,i,r,s){this.id=e,this.createF=n,this.updateF=i,this.compareF=r,this.spec=s,this.provides=void 0}static define(e){let n=new Bn(Rp++,e.create,e.update,e.compare||((i,r)=>i===r),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(Fg).find(i=>i.field==this);return(n?.create||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:i=>(i.values[n]=this.create(i),1),update:(i,r)=>{let s=i.values[n],o=this.updateF(s,r);return this.compareF(s,o)?0:(i.values[n]=o,1)},reconfigure:(i,r)=>r.config.address[this.id]!=null?(i.values[n]=r.field(this),0):(i.values[n]=this.create(i),1)}}init(e){return[this,Fg.of({field:this,create:e})]}get extension(){return this}}const Ki={lowest:4,low:3,default:2,high:1,highest:0};function Ns(t){return e=>new U_(e,t)}const Sr={highest:Ns(Ki.highest),high:Ns(Ki.high),default:Ns(Ki.default),low:Ns(Ki.low),lowest:Ns(Ki.lowest)};class U_{constructor(e,n){this.inner=e,this.prec=n}}class Tn{of(e){return new Tf(this,e)}reconfigure(e){return Tn.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Tf{constructor(e,n){this.compartment=e,this.inner=n}}class gu{constructor(e,n,i,r,s,o){for(this.base=e,this.compartments=n,this.dynamicSlots=i,this.address=r,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,i){let r=[],s=Object.create(null),o=new Map;for(let f of A6(e,n,o))f instanceof Bn?r.push(f):(s[f.facet.id]||(s[f.facet.id]=[])).push(f);let a=Object.create(null),l=[],u=[];for(let f of r)a[f.id]=u.length<<1,u.push(d=>f.slot(d));let c=i?.config.facets;for(let f in s){let d=s[f],p=d[0].facet,g=c&&c[f]||[];if(d.every(m=>m.type==0))if(a[p.id]=l.length<<1|1,Dp(g,d))l.push(i.facet(p));else{let m=p.combine(d.map(O=>O.value));l.push(i&&p.compare(m,i.facet(p))?i.facet(p):m)}else{for(let m of d)m.type==0?(a[m.id]=l.length<<1|1,l.push(m.value)):(a[m.id]=u.length<<1,u.push(O=>m.dynamicSlot(O)));a[p.id]=u.length<<1,u.push(m=>E6(m,p,d))}}let h=u.map(f=>f(a));return new gu(e,o,h,a,l,s)}}function A6(t,e,n){let i=[[],[],[],[],[]],r=new Map;function s(o,a){let l=r.get(o);if(l!=null){if(l<=a)return;let u=i[l].indexOf(o);u>-1&&i[l].splice(u,1),o instanceof Tf&&n.delete(o.compartment)}if(r.set(o,a),Array.isArray(o))for(let u of o)s(u,a);else if(o instanceof Tf){if(n.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let u=e.get(o.compartment)||o.inner;n.set(o.compartment,u),s(u,a)}else if(o instanceof U_)s(o.inner,o.prec);else if(o instanceof Bn)i[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof Dl)i[a].push(o),o.facet.extensions&&s(o.facet.extensions,Ki.default);else{let u=o.extension;if(!u)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(u,a)}}return s(t,Ki.default),i.reduce((o,a)=>o.concat(a))}function yo(t,e){if(e&1)return 2;let n=e>>1,i=t.status[n];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;t.status[n]=4;let r=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|r}function Ou(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const G_=K.define(),Pf=K.define({combine:t=>t.some(e=>e),static:!0}),H_=K.define({combine:t=>t.length?t[0]:void 0,static:!0}),K_=K.define(),J_=K.define(),ew=K.define(),tw=K.define({combine:t=>t.length?t[0]:!1});class li{constructor(e,n){this.type=e,this.value=n}static define(){return new C6}}class C6{of(e){return new li(this,e)}}class $6{constructor(e){this.map=e}of(e){return new xe(this,e)}}class xe{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new xe(this.type,n)}is(e){return this.type==e}static define(e={}){return new $6(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let i=[];for(let r of e){let s=r.map(n);s&&i.push(s)}return i}}xe.reconfigure=xe.define();xe.appendConfig=xe.define();class qe{constructor(e,n,i,r,s,o){this.startState=e,this.changes=n,this.selection=i,this.effects=r,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,i&&Y_(i,n.newLength),s.some(a=>a.type==qe.time)||(this.annotations=s.concat(qe.time.of(Date.now())))}static create(e,n,i,r,s,o){return new qe(e,n,i,r,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(qe.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}qe.time=li.define();qe.userEvent=li.define();qe.addToHistory=li.define();qe.remote=li.define();function I6(t,e){let n=[];for(let i=0,r=0;;){let s,o;if(i<t.length&&(r==e.length||e[r]>=t[i]))s=t[i++],o=t[i++];else if(r<e.length)s=e[r++],o=e[r++];else return n;!n.length||n[n.length-1]<s?n.push(s,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function nw(t,e,n){var i;let r,s,o;return n?(r=e.changes,s=Ge.empty(e.changes.length),o=t.changes.compose(e.changes)):(r=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(r)),{changes:o,selection:e.selection?e.selection.map(s):(i=t.selection)===null||i===void 0?void 0:i.map(r),effects:xe.mapEffects(t.effects,r).concat(xe.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function Ef(t,e,n){let i=e.selection,r=Yr(e.annotations);return e.userEvent&&(r=r.concat(qe.userEvent.of(e.userEvent))),{changes:e.changes instanceof Ge?e.changes:Ge.of(e.changes||[],n,t.facet(H_)),selection:i&&(i instanceof I?i:I.single(i.anchor,i.head)),effects:Yr(e.effects),annotations:r,scrollIntoView:!!e.scrollIntoView}}function iw(t,e,n){let i=Ef(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(n=!1);let o=!!e[s].sequential;i=nw(i,Ef(t,e[s],o?i.changes.newLength:t.doc.length),o)}let r=qe.create(t,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return R6(n?Q6(r):r)}function Q6(t){let e=t.startState,n=!0;for(let r of e.facet(K_)){let s=r(t);if(s===!1){n=!1;break}Array.isArray(s)&&(n=n===!0?s:I6(n,s))}if(n!==!0){let r,s;if(n===!1)s=t.changes.invertedDesc,r=Ge.empty(e.doc.length);else{let o=t.changes.filter(n);r=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}t=qe.create(e,r,t.selection&&t.selection.map(s),xe.mapEffects(t.effects,s),t.annotations,t.scrollIntoView)}let i=e.facet(J_);for(let r=i.length-1;r>=0;r--){let s=i[r](t);s instanceof qe?t=s:Array.isArray(s)&&s.length==1&&s[0]instanceof qe?t=s[0]:t=iw(e,Yr(s),!1)}return t}function R6(t){let e=t.startState,n=e.facet(ew),i=t;for(let r=n.length-1;r>=0;r--){let s=n[r](t);s&&Object.keys(s).length&&(i=nw(i,Ef(e,s,t.changes.newLength),!0))}return i==t?t:qe.create(e,t.changes,t.selection,i.effects,i.annotations,i.scrollIntoView)}const D6=[];function Yr(t){return t==null?D6:Array.isArray(t)?t:[t]}var Un=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(Un||(Un={}));const V6=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Af;try{Af=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function L6(t){if(Af)return Af.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||V6.test(n)))return!0}return!1}function Z6(t){return e=>{if(!/\S/.test(e))return Un.Space;if(L6(e))return Un.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return Un.Word;return Un.Other}}class pe{constructor(e,n,i,r,s,o){this.config=e,this.doc=n,this.selection=i,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)yo(this,a<<1);this.computeSlot=null}field(e,n=!0){let i=this.config.address[e.id];if(i==null){if(n)throw new RangeError("Field is not present in this state");return}return yo(this,i),Ou(this,i)}update(...e){return iw(this,e,!0)}applyTransaction(e){let n=this.config,{base:i,compartments:r}=n;for(let a of e.effects)a.is(Tn.reconfigure)?(n&&(r=new Map,n.compartments.forEach((l,u)=>r.set(u,l)),n=null),r.set(a.value.compartment,a.value.extension)):a.is(xe.reconfigure)?(n=null,i=a.value):a.is(xe.appendConfig)&&(n=null,i=Yr(i).concat(a.value));let s;n?s=e.startState.values.slice():(n=gu.resolve(i,r,this),s=new pe(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(l,u)=>u.reconfigure(l,this),null).values);let o=e.startState.facet(Pf)?e.newSelection:e.newSelection.asSingle();new pe(n,e.newDoc,o,s,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:I.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,i=e(n.ranges[0]),r=this.changes(i.changes),s=[i.range],o=Yr(i.effects);for(let a=1;a<n.ranges.length;a++){let l=e(n.ranges[a]),u=this.changes(l.changes),c=u.map(r);for(let f=0;f<a;f++)s[f]=s[f].map(c);let h=r.mapDesc(u,!0);s.push(l.range.map(h)),r=r.compose(c),o=xe.mapEffects(o,c).concat(xe.mapEffects(Yr(l.effects),h))}return{changes:r,selection:I.create(s,n.mainIndex),effects:o}}changes(e=[]){return e instanceof Ge?e:Ge.of(e,this.doc.length,this.facet(pe.lineSeparator))}toText(e){return be.of(e.split(this.facet(pe.lineSeparator)||wf))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(yo(this,n),Ou(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let r=e[i];r instanceof Bn&&this.config.address[r.id]!=null&&(n[i]=r.spec.toJSON(this.field(e[i]),this))}return n}static fromJSON(e,n={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(i){for(let s in i)if(Object.prototype.hasOwnProperty.call(e,s)){let o=i[s],a=e[s];r.push(o.init(l=>o.spec.fromJSON(a,l)))}}return pe.create({doc:e.doc,selection:I.fromJSON(e.selection),extensions:n.extensions?r.concat([n.extensions]):r})}static create(e={}){let n=gu.resolve(e.extensions||[],new Map),i=e.doc instanceof be?e.doc:be.of((e.doc||"").split(n.staticFacet(pe.lineSeparator)||wf)),r=e.selection?e.selection instanceof I?e.selection:I.single(e.selection.anchor,e.selection.head):I.single(0);return Y_(r,i.length),n.staticFacet(Pf)||(r=r.asSingle()),new pe(n,i,r,n.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(pe.tabSize)}get lineBreak(){return this.facet(pe.lineSeparator)||`
`}get readOnly(){return this.facet(tw)}phrase(e,...n){for(let i of this.facet(pe.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(i,r)=>{if(r=="$")return"$";let s=+(r||1);return!s||s>n.length?i:n[s-1]})),e}languageDataAt(e,n,i=-1){let r=[];for(let s of this.facet(G_))for(let o of s(this,n,i))Object.prototype.hasOwnProperty.call(o,e)&&r.push(o[e]);return r}charCategorizer(e){return Z6(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:i,length:r}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-i,a=e-i;for(;o>0;){let l=Pt(n,o,!1);if(s(n.slice(l,o))!=Un.Word)break;o=l}for(;a<r;){let l=Pt(n,a);if(s(n.slice(a,l))!=Un.Word)break;a=l}return o==a?null:I.range(o+i,a+i)}}pe.allowMultipleSelections=Pf;pe.tabSize=K.define({combine:t=>t.length?t[0]:4});pe.lineSeparator=H_;pe.readOnly=tw;pe.phrases=K.define({compare(t,e){let n=Object.keys(t),i=Object.keys(e);return n.length==i.length&&n.every(r=>t[r]==e[r])}});pe.languageData=G_;pe.changeFilter=K_;pe.transactionFilter=J_;pe.transactionExtender=ew;Tn.reconfigure=xe.define();function rw(t,e,n={}){let i={};for(let r of t)for(let s of Object.keys(r)){let o=r[s],a=i[s];if(a===void 0)i[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(n,s))i[s]=n[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let r in e)i[r]===void 0&&(i[r]=e[r]);return i}class pr{eq(e){return this==e}range(e,n=e){return Cf.create(e,n,this)}}pr.prototype.startSide=pr.prototype.endSide=0;pr.prototype.point=!1;pr.prototype.mapMode=xt.TrackDel;let Cf=class sw{constructor(e,n,i){this.from=e,this.to=n,this.value=i}static create(e,n,i){return new sw(e,n,i)}};function $f(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class Vp{constructor(e,n,i,r){this.from=e,this.to=n,this.value=i,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,n,i,r=0){let s=i?this.to:this.from;for(let o=r,a=s.length;;){if(o==a)return o;let l=o+a>>1,u=s[l]-e||(i?this.value[l].endSide:this.value[l].startSide)-n;if(l==o)return u>=0?o:a;u>=0?a=l:o=l+1}}between(e,n,i,r){for(let s=this.findIndex(n,-1e9,!0),o=this.findIndex(i,1e9,!1,s);s<o;s++)if(r(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,n){let i=[],r=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let u=this.value[l],c=this.from[l]+e,h=this.to[l]+e,f,d;if(c==h){let p=n.mapPos(c,u.startSide,u.mapMode);if(p==null||(f=d=p,u.startSide!=u.endSide&&(d=n.mapPos(c,u.endSide),d<f)))continue}else if(f=n.mapPos(c,u.startSide),d=n.mapPos(h,u.endSide),f>d||f==d&&u.startSide>0&&u.endSide<=0)continue;(d-f||u.endSide-u.startSide)<0||(o<0&&(o=f),u.point&&(a=Math.max(a,d-f)),i.push(u),r.push(f-o),s.push(d-o))}return{mapped:i.length?new Vp(r,s,i,a):null,pos:o}}}class Ie{constructor(e,n,i,r){this.chunkPos=e,this.chunk=n,this.nextLayer=i,this.maxPoint=r}static create(e,n,i,r){return new Ie(e,n,i,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:i=!1,filterFrom:r=0,filterTo:s=this.length}=e,o=e.filter;if(n.length==0&&!o)return this;if(i&&(n=n.slice().sort($f)),this.isEmpty)return n.length?Ie.of(n):this;let a=new ow(this,null,-1).goto(0),l=0,u=[],c=new Xo;for(;a.value||l<n.length;)if(l<n.length&&(a.from-n[l].from||a.startSide-n[l].value.startSide)>=0){let h=n[l++];c.addInner(h.from,h.to,h.value)||u.push(h)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==n.length||this.chunkEnd(a.chunkIndex)<n[l].from)&&(!o||r>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&c.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||r>a.to||s<a.from||o(a.from,a.to,a.value))&&(c.addInner(a.from,a.to,a.value)||u.push(Cf.create(a.from,a.to,a.value))),a.next());return c.finishInner(this.nextLayer.isEmpty&&!u.length?Ie.empty:this.nextLayer.update({add:u,filter:o,filterFrom:r,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],i=[],r=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],u=e.touchesRange(a,a+l.length);if(u===!1)r=Math.max(r,l.maxPoint),n.push(l),i.push(e.mapPos(a));else if(u===!0){let{mapped:c,pos:h}=l.map(a,e);c&&(r=Math.max(r,c.maxPoint),n.push(c),i.push(h))}}let s=this.nextLayer.map(e);return n.length==0?s:new Ie(i,n,s||Ie.empty,r)}between(e,n,i){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let s=this.chunkPos[r],o=this.chunk[r];if(n>=s&&e<=s+o.length&&o.between(s,e-s,n-s,i)===!1)return}this.nextLayer.between(e,n,i)}}iter(e=0){return zo.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return zo.from(e).goto(n)}static compare(e,n,i,r,s=-1){let o=e.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=s),a=n.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=s),l=Ng(o,a,i),u=new Bs(o,l,s),c=new Bs(a,l,s);i.iterGaps((h,f,d)=>Bg(u,h,c,f,d,r)),i.empty&&i.length==0&&Bg(u,0,c,0,0,r)}static eq(e,n,i=0,r){r==null&&(r=999999999);let s=e.filter(c=>!c.isEmpty&&n.indexOf(c)<0),o=n.filter(c=>!c.isEmpty&&e.indexOf(c)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=Ng(s,o),l=new Bs(s,a,0).goto(i),u=new Bs(o,a,0).goto(i);for(;;){if(l.to!=u.to||!If(l.active,u.active)||l.point&&(!u.point||!l.point.eq(u.point)))return!1;if(l.to>r)return!0;l.next(),u.next()}}static spans(e,n,i,r,s=-1){let o=new Bs(e,null,s).goto(n),a=n,l=o.openStart;for(;;){let u=Math.min(o.to,i);if(o.point){let c=o.activeForPoint(o.to),h=o.pointFrom<n?c.length+1:o.point.startSide<0?c.length:Math.min(c.length,l);r.point(a,u,o.point,c,h,o.pointRank),l=Math.min(o.openEnd(u),c.length)}else u>a&&(r.span(a,u,o.active,l),l=o.openEnd(u));if(o.to>i)return l+(o.point&&o.to>i?1:0);a=o.to,o.next()}}static of(e,n=!1){let i=new Xo;for(let r of e instanceof Cf?[e]:n?M6(e):e)i.add(r.from,r.to,r.value);return i.finish()}static join(e){if(!e.length)return Ie.empty;let n=e[e.length-1];for(let i=e.length-2;i>=0;i--)for(let r=e[i];r!=Ie.empty;r=r.nextLayer)n=new Ie(r.chunkPos,r.chunk,n,Math.max(r.maxPoint,n.maxPoint));return n}}Ie.empty=new Ie([],[],null,-1);function M6(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let i=t[n];if($f(e,i)>0)return t.slice().sort($f);e=i}return t}Ie.empty.nextLayer=Ie.empty;class Xo{finishChunk(e){this.chunks.push(new Vp(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,i){this.addInner(e,n,i)||(this.nextLayer||(this.nextLayer=new Xo)).add(e,n,i)}addInner(e,n,i){let r=e-this.lastTo||i.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return r<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=n,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let i=n.value.length-1;return this.last=n.value[i],this.lastFrom=n.from[i]+e,this.lastTo=n.to[i]+e,!0}finish(){return this.finishInner(Ie.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=Ie.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function Ng(t,e,n){let i=new Map;for(let s of t)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&i.set(s.chunk[o],s.chunkPos[o]);let r=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=i.get(s.chunk[o]);a!=null&&(n?n.mapPos(a):a)==s.chunkPos[o]&&!n?.touchesRange(a,a+s.chunk[o].length)&&r.add(s.chunk[o])}return r}class ow{constructor(e,n,i,r=0){this.layer=e,this.skip=n,this.minPoint=i,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,i){for(;this.chunkIndex<this.layer.chunk.length;){let r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<e||r.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!i||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],i=e+n.from[this.rangeIndex];if(this.from=i,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class zo{constructor(e){this.heap=e}static from(e,n=null,i=-1){let r=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=i&&r.push(new ow(o,n,i,s));return r.length==1?r[0]:new zo(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let i of this.heap)i.goto(e,n);for(let i=this.heap.length>>1;i>=0;i--)nh(this.heap,i);return this.next(),this}forward(e,n){for(let i of this.heap)i.forward(e,n);for(let i=this.heap.length>>1;i>=0;i--)nh(this.heap,i);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),nh(this.heap,0)}}}function nh(t,e){for(let n=t[e];;){let i=(e<<1)+1;if(i>=t.length)break;let r=t[i];if(i+1<t.length&&r.compare(t[i+1])>=0&&(r=t[i+1],i++),n.compare(r)<0)break;t[i]=n,t[e]=r,e=i}}class Bs{constructor(e,n,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=zo.from(e,n,i)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){el(this.active,e),el(this.activeTo,e),el(this.activeRank,e),this.minActive=jg(this.active,this.activeTo)}addActive(e){let n=0,{value:i,to:r,rank:s}=this.cursor;for(;n<this.activeRank.length&&(s-this.activeRank[n]||r-this.activeTo[n])>0;)n++;tl(this.active,n,i),tl(this.activeTo,n,r),tl(this.activeRank,n,s),e&&tl(e,n,this.cursor.from),this.minActive=jg(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),i&&el(i,r)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(i),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let r=i.length-1;r>=0&&i[r]<e;r--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&n.push(this.active[i]);return n.reverse()}openEnd(e){let n=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)n++;return n}}function Bg(t,e,n,i,r,s){t.goto(e),n.goto(i);let o=i+r,a=i,l=i-e;for(;;){let u=t.to+l-n.to||t.endSide-n.endSide,c=u<0?t.to+l:n.to,h=Math.min(c,o);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&If(t.activeForPoint(t.to),n.activeForPoint(n.to))||s.comparePoint(a,h,t.point,n.point):h>a&&!If(t.active,n.active)&&s.compareRange(a,h,t.active,n.active),c>o)break;a=c,u<=0&&t.next(),u>=0&&n.next()}}function If(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function el(t,e){for(let n=e,i=t.length-1;n<i;n++)t[n]=t[n+1];t.pop()}function tl(t,e,n){for(let i=t.length-1;i>=e;i--)t[i+1]=t[i];t[e]=n}function jg(t,e){let n=-1,i=1e9;for(let r=0;r<e.length;r++)(e[r]-i||t[r].endSide-t[n].endSide)<0&&(n=r,i=e[r]);return n}function ri(t,e,n=t.length){let i=0;for(let r=0;r<n;)t.charCodeAt(r)==9?(i+=e-i%e,r++):(i++,r=Pt(t,r));return i}function F6(t,e,n,i){for(let r=0,s=0;;){if(s>=e)return r;if(r==t.length)break;s+=t.charCodeAt(r)==9?n-s%n:1,r=Pt(t,r)}return i===!0?-1:t.length}const Qf="ͼ",Xg=typeof Symbol>"u"?"__"+Qf:Symbol.for(Qf),Rf=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),zg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Di{constructor(e,n){this.rules=[];let{finish:i}=n||{};function r(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,u){let c=[],h=/^@(\w+)\b/.exec(o[0]),f=h&&h[1]=="keyframes";if(h&&a==null)return l.push(o[0]+";");for(let d in a){let p=a[d];if(/&/.test(d))s(d.split(/,\s*/).map(g=>o.map(m=>g.replace(/&/,m))).reduce((g,m)=>g.concat(m)),p,l);else if(p&&typeof p=="object"){if(!h)throw new RangeError("The value of a property ("+d+") should be a primitive value.");s(r(d),p,c,f)}else p!=null&&c.push(d.replace(/_.*/,"").replace(/[A-Z]/g,g=>"-"+g.toLowerCase())+": "+p+";")}(c.length||f)&&l.push((i&&!h&&!u?o.map(i):o).join(", ")+" {"+c.join(" ")+"}")}for(let o in e)s(r(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=zg[Xg]||1;return zg[Xg]=e+1,Qf+e.toString(36)}static mount(e,n,i){let r=e[Rf],s=i&&i.nonce;r?s&&r.setNonce(s):r=new N6(e,s),r.mount(Array.isArray(n)?n:[n],e)}}let qg=new Map;class N6{constructor(e,n){let i=e.ownerDocument||e,r=i.defaultView;if(!e.head&&e.adoptedStyleSheets&&r.CSSStyleSheet){let s=qg.get(i);if(s)return e[Rf]=s;this.sheet=new r.CSSStyleSheet,qg.set(i,this)}else this.styleTag=i.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[Rf]=this}mount(e,n){let i=this.sheet,r=0,s=0;for(let o=0;o<e.length;o++){let a=e[o],l=this.modules.indexOf(a);if(l<s&&l>-1&&(this.modules.splice(l,1),s--,l=-1),l==-1){if(this.modules.splice(s++,0,a),i)for(let u=0;u<a.rules.length;u++)i.insertRule(a.rules[u],r++)}else{for(;s<l;)r+=this.modules[s++].rules.length;r+=a.rules.length,s++}}if(i)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let o="";for(let l=0;l<this.modules.length;l++)o+=this.modules[l].getRules()+`
`;this.styleTag.textContent=o;let a=n.head||n;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Vi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},qo={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},B6=typeof navigator<"u"&&/Mac/.test(navigator.platform),j6=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var lt=0;lt<10;lt++)Vi[48+lt]=Vi[96+lt]=String(lt);for(var lt=1;lt<=24;lt++)Vi[lt+111]="F"+lt;for(var lt=65;lt<=90;lt++)Vi[lt]=String.fromCharCode(lt+32),qo[lt]=String.fromCharCode(lt);for(var ih in Vi)qo.hasOwnProperty(ih)||(qo[ih]=Vi[ih]);function X6(t){var e=B6&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||j6&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?qo:Vi)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function bu(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function Df(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function z6(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Vl(t,e){if(!e.anchorNode)return!1;try{return Df(t,e.anchorNode)}catch{return!1}}function hs(t){return t.nodeType==3?mr(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function vo(t,e,n,i){return n?Wg(t,e,n,i,-1)||Wg(t,e,n,i,1):!1}function Wo(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function Wg(t,e,n,i,r){for(;;){if(t==n&&e==i)return!0;if(e==(r<0?0:si(t))){if(t.nodeName=="DIV")return!1;let s=t.parentNode;if(!s||s.nodeType!=1)return!1;e=Wo(t)+(r<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(r<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=r<0?si(t):0}else return!1}}function si(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function bc(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function q6(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function aw(t,e){let n=e.width/t.offsetWidth,i=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(i>.995&&i<1.005||!isFinite(i)||Math.abs(e.height-t.offsetHeight)<1)&&(i=1),{scaleX:n,scaleY:i}}function W6(t,e,n,i,r,s,o,a){let l=t.ownerDocument,u=l.defaultView||window;for(let c=t,h=!1;c&&!h;)if(c.nodeType==1){let f,d=c==l.body,p=1,g=1;if(d)f=q6(u);else{if(/^(fixed|sticky)$/.test(getComputedStyle(c).position)&&(h=!0),c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}let y=c.getBoundingClientRect();({scaleX:p,scaleY:g}=aw(c,y)),f={left:y.left,right:y.left+c.clientWidth*p,top:y.top,bottom:y.top+c.clientHeight*g}}let m=0,O=0;if(r=="nearest")e.top<f.top?(O=-(f.top-e.top+o),n>0&&e.bottom>f.bottom+O&&(O=e.bottom-f.bottom+O+o)):e.bottom>f.bottom&&(O=e.bottom-f.bottom+o,n<0&&e.top-O<f.top&&(O=-(f.top+O-e.top+o)));else{let y=e.bottom-e.top,v=f.bottom-f.top;O=(r=="center"&&y<=v?e.top+y/2-v/2:r=="start"||r=="center"&&n<0?e.top-o:e.bottom-v+o)-f.top}if(i=="nearest"?e.left<f.left?(m=-(f.left-e.left+s),n>0&&e.right>f.right+m&&(m=e.right-f.right+m+s)):e.right>f.right&&(m=e.right-f.right+s,n<0&&e.left<f.left+m&&(m=-(f.left+m-e.left+s))):m=(i=="center"?e.left+(e.right-e.left)/2-(f.right-f.left)/2:i=="start"==a?e.left-s:e.right-(f.right-f.left)+s)-f.left,m||O)if(d)u.scrollBy(m,O);else{let y=0,v=0;if(O){let k=c.scrollTop;c.scrollTop+=O/g,v=(c.scrollTop-k)*g}if(m){let k=c.scrollLeft;c.scrollLeft+=m/p,y=(c.scrollLeft-k)*p}e={left:e.left-y,top:e.top-v,right:e.right-y,bottom:e.bottom-v},y&&Math.abs(y-m)<1&&(i="nearest"),v&&Math.abs(v-O)<1&&(r="nearest")}if(d)break;c=c.assignedSlot||c.parentNode}else if(c.nodeType==11)c=c.host;else break}function Y6(t){let e=t.ownerDocument;for(let n=t.parentNode;n&&n!=e.body;)if(n.nodeType==1){if(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)return n;n=n.assignedSlot||n.parentNode}else if(n.nodeType==11)n=n.host;else break;return null}class U6{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:i}=e;this.set(n,Math.min(e.anchorOffset,n?si(n):0),i,Math.min(e.focusOffset,i?si(i):0))}set(e,n,i,r){this.anchorNode=e,this.anchorOffset=n,this.focusNode=i,this.focusOffset=r}}let Cr=null;function lw(t){if(t.setActive)return t.setActive();if(Cr)return t.focus(Cr);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(Cr==null?{get preventScroll(){return Cr={preventScroll:!0},!0}}:void 0),!Cr){Cr=!1;for(let n=0;n<e.length;){let i=e[n++],r=e[n++],s=e[n++];i.scrollTop!=r&&(i.scrollTop=r),i.scrollLeft!=s&&(i.scrollLeft=s)}}}let Yg;function mr(t,e,n=e){let i=Yg||(Yg=document.createRange());return i.setEnd(t,n),i.setStart(t,e),i}function Ur(t,e,n){let i={key:e,code:e,keyCode:n,which:n,cancelable:!0},r=new KeyboardEvent("keydown",i);r.synthetic=!0,t.dispatchEvent(r);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,t.dispatchEvent(s),r.defaultPrevented||s.defaultPrevented}function G6(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function uw(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function H6(t,e){let n=e.focusNode,i=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=i)return!1;for(i=Math.min(i,si(n));;)if(i){if(n.nodeType!=1)return!1;let r=n.childNodes[i-1];r.contentEditable=="false"?i--:(n=r,i=si(n))}else{if(n==t)return!0;i=Wo(n),n=n.parentNode}}function cw(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}class yt{constructor(e,n,i=!0){this.node=e,this.offset=n,this.precise=i}static before(e,n){return new yt(e.parentNode,Wo(e),n)}static after(e,n){return new yt(e.parentNode,Wo(e)+1,n)}}const Lp=[];class Re{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let i of this.children){if(i==e)return n;n+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,n){if(this.flags&2){let i=this.dom,r=null,s;for(let o of this.children){if(o.flags&7){if(!o.dom&&(s=r?r.nextSibling:i.firstChild)){let a=Re.get(s);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,n),o.flags&=-8}if(s=r?r.nextSibling:i.firstChild,n&&!n.written&&n.node==i&&s!=o.dom&&(n.written=!0),o.dom.parentNode==i)for(;s&&s!=o.dom;)s=Ug(s);else i.insertBefore(o.dom,s);r=o.dom}for(s=r?r.nextSibling:i.firstChild,s&&n&&n.node==i&&(n.written=!0);s;)s=Ug(s)}else if(this.flags&1)for(let i of this.children)i.flags&7&&(i.sync(e,n),i.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,n){let i;if(e==this.dom)i=this.dom.childNodes[n];else{let r=si(e)==0?0:n==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;r==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?r=-1:r=1),e=s}r<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!Re.get(i);)i=i.nextSibling;if(!i)return this.length;for(let r=0,s=0;;r++){let o=this.children[r];if(o.dom==i)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,n,i=0){let r=-1,s=-1,o=-1,a=-1;for(let l=0,u=i,c=i;l<this.children.length;l++){let h=this.children[l],f=u+h.length;if(u<e&&f>n)return h.domBoundsAround(e,n,u);if(f>=e&&r==-1&&(r=l,s=u),u>n&&h.dom.parentNode==this.dom){o=l,a=c;break}c=f,u=f+h.breakAfter}return{from:s,to:a<0?i+this.length:a,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.flags|=2),n.flags&1)return;n.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,i=Lp){this.markDirty();for(let r=e;r<n;r++){let s=this.children[r];s.parent==this&&i.indexOf(s)<0&&s.destroy()}this.children.splice(e,n-e,...i);for(let r=0;r<i.length;r++)i[r].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new hw(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,n,i,r,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}Re.prototype.breakAfter=0;function Ug(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class hw{constructor(e,n,i){this.children=e,this.pos=n,this.i=i,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function fw(t,e,n,i,r,s,o,a,l){let{children:u}=t,c=u.length?u[e]:null,h=s.length?s[s.length-1]:null,f=h?h.breakAfter:o;if(!(e==i&&c&&!o&&!f&&s.length<2&&c.merge(n,r,s.length?h:null,n==0,a,l))){if(i<u.length){let d=u[i];d&&(r<d.length||d.breakAfter&&h?.breakAfter)?(e==i&&(d=d.split(r),r=0),!f&&h&&d.merge(0,r,h,!0,0,l)?s[s.length-1]=d:((r||d.children.length&&!d.children[0].length)&&d.merge(0,r,null,!1,0,l),s.push(d))):d?.breakAfter&&(h?h.breakAfter=1:o=1),i++}for(c&&(c.breakAfter=o,n>0&&(!o&&s.length&&c.merge(n,c.length,s[0],!1,a,0)?c.breakAfter=s.shift().breakAfter:(n<c.length||c.children.length&&c.children[c.children.length-1].length==0)&&c.merge(n,c.length,null,!1,a,0),e++));e<i&&s.length;)if(u[i-1].become(s[s.length-1]))i--,s.pop(),l=s.length?0:a;else if(u[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&i<u.length&&!u[e-1].breakAfter&&u[i].merge(0,0,u[e-1],!1,a,l)&&e--,(e<i||s.length)&&t.replaceChildren(e,i,s)}}function dw(t,e,n,i,r,s){let o=t.childCursor(),{i:a,off:l}=o.findPos(n,1),{i:u,off:c}=o.findPos(e,-1),h=e-n;for(let f of i)h+=f.length;t.length+=h,fw(t,u,c,a,l,i,0,r,s)}let Nt=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Vf=typeof document<"u"?document:{documentElement:{style:{}}};const Lf=/Edge\/(\d+)/.exec(Nt.userAgent),pw=/MSIE \d/.test(Nt.userAgent),Zf=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Nt.userAgent),yc=!!(pw||Zf||Lf),Gg=!yc&&/gecko\/(\d+)/i.test(Nt.userAgent),rh=!yc&&/Chrome\/(\d+)/.exec(Nt.userAgent),Hg="webkitFontSmoothing"in Vf.documentElement.style,mw=!yc&&/Apple Computer/.test(Nt.vendor),Kg=mw&&(/Mobile\/\w+/.test(Nt.userAgent)||Nt.maxTouchPoints>2);var X={mac:Kg||/Mac/.test(Nt.platform),windows:/Win/.test(Nt.platform),linux:/Linux|X11/.test(Nt.platform),ie:yc,ie_version:pw?Vf.documentMode||6:Zf?+Zf[1]:Lf?+Lf[1]:0,gecko:Gg,gecko_version:Gg?+(/Firefox\/(\d+)/.exec(Nt.userAgent)||[0,0])[1]:0,chrome:!!rh,chrome_version:rh?+rh[1]:0,ios:Kg,android:/Android\b/.test(Nt.userAgent),webkit:Hg,safari:mw,webkit_version:Hg?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:Vf.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const K6=256;class oi extends Re{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,i){return this.flags&8||i&&(!(i instanceof oi)||this.length-(n-e)+i.length>K6||i.flags&8)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new oi(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n.flags|=this.flags&8,n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new yt(this.dom,e)}domBoundsAround(e,n,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return J6(this.dom,e,n)}}class ai extends Re{constructor(e,n=[],i=0){super(),this.mark=e,this.children=n,this.length=i;for(let r of n)r.setParent(this)}setAttrs(e){if(uw(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,n){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,i,r,s,o){return i&&(!(i instanceof ai&&i.mark.eq(this.mark))||e&&s<=0||n<this.length&&o<=0)?!1:(dw(this,e,n,i?i.children.slice():[],s-1,o-1),this.markDirty(),!0)}split(e){let n=[],i=0,r=-1,s=0;for(let a of this.children){let l=i+a.length;l>e&&n.push(i<e?a.split(e-i):a),r<0&&i>=e&&(r=s),i=l,s++}let o=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new ai(this.mark,n,o)}domAtPos(e){return gw(this,e)}coordsAt(e,n){return bw(this,e,n)}}function J6(t,e,n){let i=t.nodeValue.length;e>i&&(e=i);let r=e,s=e,o=0;e==0&&n<0||e==i&&n>=0?X.chrome||X.gecko||(e?(r--,o=1):s<i&&(s++,o=-1)):n<0?r--:s<i&&s++;let a=mr(t,r,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:n>=0)?0:a.length-1];return X.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,u=>u.width)||l),o?bc(l,o<0):l||null}class sr extends Re{static create(e,n,i){return new sr(e,n,i)}constructor(e,n,i){super(),this.widget=e,this.length=n,this.side=i,this.prevWidget=null}split(e){let n=sr.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,n,i,r,s,o){return i&&(!(i instanceof sr)||!this.widget.compare(i.widget)||e>0&&s<=0||n<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-n),!0)}become(e){return e instanceof sr&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return be.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,i=n&&n.state.doc,r=this.posAtStart;return i?i.slice(r,r+this.length):be.empty}domAtPos(e){return(this.length?e==0:this.side>0)?yt.before(this.dom):yt.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let i=this.widget.coordsAt(this.dom,e,n);if(i)return i;let r=this.dom.getClientRects(),s=null;if(!r.length)return null;let o=this.side?this.side<0:e>0;for(let a=o?r.length-1:0;s=r[a],!(e>0?a==0:a==r.length-1||s.top<s.bottom);a+=o?-1:1);return bc(s,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class fs extends Re{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof fs&&e.side==this.side}split(){return new fs(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?yt.before(this.dom):yt.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return be.empty}get isHidden(){return!0}}oi.prototype.children=sr.prototype.children=fs.prototype.children=Lp;function gw(t,e){let n=t.dom,{children:i}=t,r=0;for(let s=0;r<i.length;r++){let o=i[r],a=s+o.length;if(!(a==s&&o.getSide()<=0)){if(e>s&&e<a&&o.dom.parentNode==n)return o.domAtPos(e-s);if(e<=s)break;s=a}}for(let s=r;s>0;s--){let o=i[s-1];if(o.dom.parentNode==n)return o.domAtPos(o.length)}for(let s=r;s<i.length;s++){let o=i[s];if(o.dom.parentNode==n)return o.domAtPos(0)}return new yt(n,0)}function Ow(t,e,n){let i,{children:r}=t;n>0&&e instanceof ai&&r.length&&(i=r[r.length-1])instanceof ai&&i.mark.eq(e.mark)?Ow(i,e.children[0],n-1):(r.push(e),e.setParent(t)),t.length+=e.length}function bw(t,e,n){let i=null,r=-1,s=null,o=-1;function a(u,c){for(let h=0,f=0;h<u.children.length&&f<=c;h++){let d=u.children[h],p=f+d.length;p>=c&&(d.children.length?a(d,c-f):(!s||s.isHidden&&n>0)&&(p>c||f==p&&d.getSide()>0)?(s=d,o=c-f):(f<c||f==p&&d.getSide()<0&&!d.isHidden)&&(i=d,r=c-f)),f=p}}a(t,e);let l=(n<0?i:s)||i||s;return l?l.coordsAt(Math.max(0,l==i?r:o),n):eI(t)}function eI(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=hs(e);return n[n.length-1]||null}function Mf(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const Jg=Object.create(null);function Zp(t,e,n){if(t==e)return!0;t||(t=Jg),e||(e=Jg);let i=Object.keys(t),r=Object.keys(e);if(i.length-(n&&i.indexOf(n)>-1?1:0)!=r.length-(n&&r.indexOf(n)>-1?1:0))return!1;for(let s of i)if(s!=n&&(r.indexOf(s)==-1||t[s]!==e[s]))return!1;return!0}function Ff(t,e,n){let i=!1;if(e)for(let r in e)n&&r in n||(i=!0,r=="style"?t.style.cssText="":t.removeAttribute(r));if(n)for(let r in n)e&&e[r]==n[r]||(i=!0,r=="style"?t.style.cssText=n[r]:t.setAttribute(r,n[r]));return i}function tI(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let i=t.attributes[n];e[i.name]=i.value}return e}class Ue extends Re{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,i,r,s,o){if(i){if(!(i instanceof Ue))return!1;this.dom||i.transferDOM(this)}return r&&this.setDeco(i?i.attrs:null),dw(this,e,n,i?i.children.slice():[],s,o),!0}split(e){let n=new Ue;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i,off:r}=this.childPos(e);r&&(n.append(this.children[i].split(r),0),this.children[i].merge(r,this.children[i].length,null,!1,0,0),i++);for(let s=i;s<this.children.length;s++)n.append(this.children[s],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Zp(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){Ow(this,e,n)}addLineDeco(e){let n=e.spec.attributes,i=e.spec.class;n&&(this.attrs=Mf(n,this.attrs||{})),i&&(this.attrs=Mf({class:i},this.attrs||{}))}domAtPos(e){return gw(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,n){var i;this.dom?this.flags&4&&(uw(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Ff(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let r=this.dom.lastChild;for(;r&&Re.get(r)instanceof ai;)r=r.lastChild;if(!r||!this.length||r.nodeName!="BR"&&((i=Re.get(r))===null||i===void 0?void 0:i.isEditable)==!1&&(!X.ios||!this.children.some(s=>s instanceof oi))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let i of this.children){if(!(i instanceof oi)||/[^ -~]/.test(i.text))return null;let r=hs(i.dom);if(r.length!=1)return null;e+=r[0].width,n=r[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let i=bw(this,e,n);if(!this.children.length&&i&&this.parent){let{heightOracle:r}=this.parent.view.viewState,s=i.bottom-i.top;if(Math.abs(s-r.lineHeight)<2&&r.textHeight<s){let o=(s-r.textHeight)/2;return{top:i.top+o,bottom:i.bottom-o,left:i.left,right:i.left}}}return i}become(e){return!1}covers(){return!0}static find(e,n){for(let i=0,r=0;i<e.children.length;i++){let s=e.children[i],o=r+s.length;if(o>=n){if(s instanceof Ue)return s;if(o>n)break}r=o+s.breakAfter}return null}}class Ai extends Re{constructor(e,n,i){super(),this.widget=e,this.length=n,this.deco=i,this.breakAfter=0,this.prevWidget=null}merge(e,n,i,r,s,o){return i&&(!(i instanceof Ai)||!this.widget.compare(i.widget)||e>0&&s<=0||n<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?yt.before(this.dom):yt.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let i=new Ai(this.widget,n,this.deco);return i.breakAfter=this.breakAfter,i}get children(){return Lp}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):be.empty}domBoundsAround(){return null}become(e){return e instanceof Ai&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,n){return this.widget.coordsAt(this.dom,e,n)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:n,endSide:i}=this.deco;return n==i?!1:e<0?n<0:i>0}}class Ta{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,i){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Kn=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(Kn||(Kn={}));class ke extends pr{constructor(e,n,i,r){super(),this.startSide=e,this.endSide=n,this.widget=i,this.spec=r}get heightRelevant(){return!1}static mark(e){return new Pa(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),i=!!e.block;return n+=i&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new Li(e,n,n,i,e.widget||null,!1)}static replace(e){let n=!!e.block,i,r;if(e.isBlockGap)i=-5e8,r=4e8;else{let{start:s,end:o}=yw(e,n);i=(s?n?-3e8:-1:5e8)-1,r=(o?n?2e8:1:-6e8)+1}return new Li(e,i,r,n,e.widget||null,!0)}static line(e){return new Ea(e)}static set(e,n=!1){return Ie.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}ke.none=Ie.empty;class Pa extends ke{constructor(e){let{start:n,end:i}=yw(e);super(n?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var n,i;return this==e||e instanceof Pa&&this.tagName==e.tagName&&(this.class||((n=this.attrs)===null||n===void 0?void 0:n.class))==(e.class||((i=e.attrs)===null||i===void 0?void 0:i.class))&&Zp(this.attrs,e.attrs,"class")}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}Pa.prototype.point=!1;class Ea extends ke{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Ea&&this.spec.class==e.spec.class&&Zp(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}Ea.prototype.mapMode=xt.TrackBefore;Ea.prototype.point=!0;class Li extends ke{constructor(e,n,i,r,s,o){super(n,i,s,e),this.block=r,this.isReplace=o,this.mapMode=r?n<=0?xt.TrackBefore:xt.TrackAfter:xt.TrackDel}get type(){return this.startSide!=this.endSide?Kn.WidgetRange:this.startSide<=0?Kn.WidgetBefore:Kn.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Li&&nI(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}Li.prototype.point=!0;function yw(t,e=!1){let{inclusiveStart:n,inclusiveEnd:i}=t;return n==null&&(n=t.inclusive),i==null&&(i=t.inclusive),{start:n??e,end:i??e}}function nI(t,e){return t==e||!!(t&&e&&t.compare(e))}function Nf(t,e,n,i=0){let r=n.length-1;r>=0&&n[r]+i>=t?n[r]=Math.max(n[r],e):n.push(t,e)}class _o{constructor(e,n,i,r){this.doc=e,this.pos=n,this.end=i,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Ai&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Ue),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(nl(new fs(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Ai)&&this.getLine()}buildText(e,n,i){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(n.length-i)),this.getLine().append(nl(new oi(this.text.slice(this.textOff,this.textOff+r)),n),i),this.atCursorPos=!0,this.textOff+=r,e-=r,i=0}}span(e,n,i,r){this.buildText(n-e,i,r),this.pos=n,this.openStart<0&&(this.openStart=r)}point(e,n,i,r,s,o){if(this.disallowBlockEffectsFor[o]&&i instanceof Li){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=n-e;if(i instanceof Li)if(i.block)i.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Ai(i.widget||gr.block,a,i));else{let l=sr.create(i.widget||gr.inline,a,a?0:i.startSide),u=this.atCursorPos&&!l.isEditable&&s<=r.length&&(e<n||i.startSide>0),c=!l.isEditable&&(e<n||s>r.length||i.startSide<=0),h=this.getLine();this.pendingBuffer==2&&!u&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(r),u&&(h.append(nl(new fs(1),r),s),s=r.length+Math.max(0,s-r.length)),h.append(nl(l,r),s),this.atCursorPos=c,this.pendingBuffer=c?e<n||s>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=s)}static build(e,n,i,r,s){let o=new _o(e,n,i,s);return o.openEnd=Ie.spans(r,n,i,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function nl(t,e){for(let n of e)t=new ai(n,[t],t.length);return t}class gr extends Ta{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}gr.inline=new gr("span");gr.block=new gr("div");var We=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(We||(We={}));const Or=We.LTR,Mp=We.RTL;function vw(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const iI=vw("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),rI=vw("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Bf=Object.create(null),yn=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);Bf[e]=n,Bf[n]=-e}function _w(t){return t<=247?iI[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?rI[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const sI=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Si{get dir(){return this.level%2?Mp:Or}constructor(e,n,i){this.from=e,this.to=n,this.level=i}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,i,r){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=n&&a.to>=n){if(a.level==i)return o;(s<0||(r!=0?r<0?a.from<n:a.to>n:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function ww(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let i=t[n],r=e[n];if(i.from!=r.from||i.to!=r.to||i.direction!=r.direction||!ww(i.inner,r.inner))return!1}return!0}const Se=[];function oI(t,e,n,i,r){for(let s=0;s<=i.length;s++){let o=s?i[s-1].to:e,a=s<i.length?i[s].from:n,l=s?256:r;for(let u=o,c=l,h=l;u<a;u++){let f=_w(t.charCodeAt(u));f==512?f=c:f==8&&h==4&&(f=16),Se[u]=f==4?2:f,f&7&&(h=f),c=f}for(let u=o,c=l,h=l;u<a;u++){let f=Se[u];if(f==128)u<a-1&&c==Se[u+1]&&c&24?f=Se[u]=c:Se[u]=256;else if(f==64){let d=u+1;for(;d<a&&Se[d]==64;)d++;let p=u&&c==8||d<n&&Se[d]==8?h==1?1:8:256;for(let g=u;g<d;g++)Se[g]=p;u=d-1}else f==8&&h==1&&(Se[u]=1);c=f,f&7&&(h=f)}}}function aI(t,e,n,i,r){let s=r==1?2:1;for(let o=0,a=0,l=0;o<=i.length;o++){let u=o?i[o-1].to:e,c=o<i.length?i[o].from:n;for(let h=u,f,d,p;h<c;h++)if(d=Bf[f=t.charCodeAt(h)])if(d<0){for(let g=a-3;g>=0;g-=3)if(yn[g+1]==-d){let m=yn[g+2],O=m&2?r:m&4?m&1?s:r:0;O&&(Se[h]=Se[yn[g]]=O),a=g;break}}else{if(yn.length==189)break;yn[a++]=h,yn[a++]=f,yn[a++]=l}else if((p=Se[h])==2||p==1){let g=p==r;l=g?0:1;for(let m=a-3;m>=0;m-=3){let O=yn[m+2];if(O&2)break;if(g)yn[m+2]|=2;else{if(O&4)break;yn[m+2]|=4}}}}}function lI(t,e,n,i){for(let r=0,s=i;r<=n.length;r++){let o=r?n[r-1].to:t,a=r<n.length?n[r].from:e;for(let l=o;l<a;){let u=Se[l];if(u==256){let c=l+1;for(;;)if(c==a){if(r==n.length)break;c=n[r++].to,a=r<n.length?n[r].from:e}else if(Se[c]==256)c++;else break;let h=s==1,f=(c<e?Se[c]:i)==1,d=h==f?h?1:2:i;for(let p=c,g=r,m=g?n[g-1].to:t;p>l;)p==m&&(p=n[--g].from,m=g?n[g-1].to:t),Se[--p]=d;l=c}else s=u,l++}}}function jf(t,e,n,i,r,s,o){let a=i%2?2:1;if(i%2==r%2)for(let l=e,u=0;l<n;){let c=!0,h=!1;if(u==s.length||l<s[u].from){let g=Se[l];g!=a&&(c=!1,h=g==16)}let f=!c&&a==1?[]:null,d=c?i:i+1,p=l;e:for(;;)if(u<s.length&&p==s[u].from){if(h)break e;let g=s[u];if(!c)for(let m=g.to,O=u+1;;){if(m==n)break e;if(O<s.length&&s[O].from==m)m=s[O++].to;else{if(Se[m]==a)break e;break}}if(u++,f)f.push(g);else{g.from>l&&o.push(new Si(l,g.from,d));let m=g.direction==Or!=!(d%2);Xf(t,m?i+1:i,r,g.inner,g.from,g.to,o),l=g.to}p=g.to}else{if(p==n||(c?Se[p]!=a:Se[p]==a))break;p++}f?jf(t,l,p,i+1,r,f,o):l<p&&o.push(new Si(l,p,d)),l=p}else for(let l=n,u=s.length;l>e;){let c=!0,h=!1;if(!u||l>s[u-1].to){let g=Se[l-1];g!=a&&(c=!1,h=g==16)}let f=!c&&a==1?[]:null,d=c?i:i+1,p=l;e:for(;;)if(u&&p==s[u-1].to){if(h)break e;let g=s[--u];if(!c)for(let m=g.from,O=u;;){if(m==e)break e;if(O&&s[O-1].to==m)m=s[--O].from;else{if(Se[m-1]==a)break e;break}}if(f)f.push(g);else{g.to<l&&o.push(new Si(g.to,l,d));let m=g.direction==Or!=!(d%2);Xf(t,m?i+1:i,r,g.inner,g.from,g.to,o),l=g.from}p=g.from}else{if(p==e||(c?Se[p-1]!=a:Se[p-1]==a))break;p--}f?jf(t,p,l,i+1,r,f,o):p<l&&o.push(new Si(p,l,d)),l=p}}function Xf(t,e,n,i,r,s,o){let a=e%2?2:1;oI(t,r,s,i,a),aI(t,r,s,i,a),lI(r,s,i,a),jf(t,r,s,e,n,i,o)}function uI(t,e,n){if(!t)return[new Si(0,0,e==Mp?1:0)];if(e==Or&&!n.length&&!sI.test(t))return kw(t.length);if(n.length)for(;t.length>Se.length;)Se[Se.length]=256;let i=[],r=e==Or?0:1;return Xf(t,r,r,n,0,t.length,i),i}function kw(t){return[new Si(0,t,0)]}let Sw="";function cI(t,e,n,i,r){var s;let o=i.head-t.from,a=Si.find(e,o,(s=i.bidiLevel)!==null&&s!==void 0?s:-1,i.assoc),l=e[a],u=l.side(r,n);if(o==u){let f=a+=r?1:-1;if(f<0||f>=e.length)return null;l=e[a=f],o=l.side(!r,n),u=l.side(r,n)}let c=Pt(t.text,o,l.forward(r,n));(c<l.from||c>l.to)&&(c=u),Sw=t.text.slice(Math.min(o,c),Math.max(o,c));let h=a==(r?e.length-1:0)?null:e[a+(r?1:-1)];return h&&c==u&&h.level+(r?0:1)<l.level?I.cursor(h.side(!r,n)+t.from,h.forward(r,n)?1:-1,h.level):I.cursor(c+t.from,l.forward(r,n)?-1:1,l.level)}function hI(t,e,n){for(let i=e;i<n;i++){let r=_w(t.charCodeAt(i));if(r==1)return Or;if(r==2||r==4)return Mp}return Or}const xw=K.define(),Tw=K.define(),Pw=K.define(),Ew=K.define(),zf=K.define(),Aw=K.define(),Cw=K.define(),$w=K.define({combine:t=>t.some(e=>e)}),fI=K.define({combine:t=>t.some(e=>e)});class Gr{constructor(e,n="nearest",i="nearest",r=5,s=5,o=!1){this.range=e,this.y=n,this.x=i,this.yMargin=r,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new Gr(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Gr(I.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const il=xe.define({map:(t,e)=>t.map(e)});function Ht(t,e,n){let i=t.facet(Ew);i.length?i[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const vc=K.define({combine:t=>t.length?t[0]:!0});let dI=0;const io=K.define();class Nn{constructor(e,n,i,r,s){this.id=e,this.create=n,this.domEventHandlers=i,this.domEventObservers=r,this.extension=s(this)}static define(e,n){const{eventHandlers:i,eventObservers:r,provide:s,decorations:o}=n||{};return new Nn(dI++,e,i,r,a=>{let l=[io.of(a)];return o&&l.push(Yo.of(u=>{let c=u.plugin(a);return c?o(c):ke.none})),s&&l.push(s(a)),l})}static fromClass(e,n){return Nn.define(i=>new e(i),n)}}class sh{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(i){if(Ht(n.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(n){Ht(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(i){Ht(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Iw=K.define(),Fp=K.define(),Yo=K.define(),Qw=K.define(),Np=K.define(),Rw=K.define();function eO(t,e){let n=t.state.facet(Rw);if(!n.length)return n;let i=n.map(s=>s instanceof Function?s(t):s),r=[];return Ie.spans(i,e.from,e.to,{point(){},span(s,o,a,l){let u=s-e.from,c=o-e.from,h=r;for(let f=a.length-1;f>=0;f--,l--){let d=a[f].spec.bidiIsolate,p;if(d==null&&(d=hI(e.text,u,c)),l>0&&h.length&&(p=h[h.length-1]).to==u&&p.direction==d)p.to=c,h=p.inner;else{let g={from:u,to:c,direction:d,inner:[]};h.push(g),h=g.inner}}}}),r}const Dw=K.define();function Vw(t){let e=0,n=0,i=0,r=0;for(let s of t.state.facet(Dw)){let o=s(t);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(n=Math.max(n,o.right)),o.top!=null&&(i=Math.max(i,o.top)),o.bottom!=null&&(r=Math.max(r,o.bottom)))}return{left:e,right:n,top:i,bottom:r}}const ro=K.define();class nn{constructor(e,n,i,r){this.fromA=e,this.toA=n,this.fromB=i,this.toB=r}join(e){return new nn(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,i=this;for(;n>0;n--){let r=e[n-1];if(!(r.fromA>i.toA)){if(r.toA<i.fromA)break;i=i.join(r),e.splice(n-1,1)}}return e.splice(n,0,i),e}static extendWithRanges(e,n){if(n.length==0)return e;let i=[];for(let r=0,s=0,o=0,a=0;;r++){let l=r==e.length?null:e[r],u=o-a,c=l?l.fromB:1e9;for(;s<n.length&&n[s]<c;){let h=n[s],f=n[s+1],d=Math.max(a,h),p=Math.min(c,f);if(d<=p&&new nn(d+u,p+u,d,p).addToSet(i),f>c)break;s+=2}if(!l)return i;new nn(l.fromA,l.toA,l.fromB,l.toB).addToSet(i),o=l.toA,a=l.toB}}}class yu{constructor(e,n,i){this.view=e,this.state=n,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=Ge.empty(this.startState.doc.length);for(let s of i)this.changes=this.changes.compose(s.changes);let r=[];this.changes.iterChangedRanges((s,o,a,l)=>r.push(new nn(s,o,a,l))),this.changedRanges=r}static create(e,n,i){return new yu(e,n,i)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class tO extends Re{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.compositionBarrier=ke.none,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Ue],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new nn(0,0,0,e.state.doc.length)],0,null)}update(e){var n;let i=e.changedRanges;this.minWidth>0&&i.length&&(i.every(({fromA:u,toA:c})=>c<this.minWidthFrom||u>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let r=-1;this.view.inputState.composing>=0&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?r=this.domChanged.newSel.head:!_I(e.changes,this.hasComposition)&&!e.selectionSet&&(r=e.state.selection.main.head));let s=r>-1?gI(this.view,e.changes,r):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:u,to:c}=this.hasComposition;i=new nn(u,c,e.changes.mapPos(u,-1),e.changes.mapPos(c,1)).addToSet(i.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(X.ie||X.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,a=this.updateDeco(),l=yI(o,a,e.changes);return i=nn.extendWithRanges(i,l),!(this.flags&7)&&i.length==0?!1:(this.updateInner(i,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n,i){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n,i);let{observer:r}=this.view;r.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=X.chrome||X.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||r.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof Ai&&o.widget instanceof nO&&s.push(o.dom);r.updateGaps(s)}updateChildren(e,n,i){let r=i?i.range.addToSet(e.slice()):e,s=this.childCursor(n);for(let o=r.length-1;;o--){let a=o>=0?r[o]:null;if(!a)break;let{fromA:l,toA:u,fromB:c,toB:h}=a,f,d,p,g;if(i&&i.range.fromB<h&&i.range.toB>c){let k=_o.build(this.view.state.doc,c,i.range.fromB,this.decorations,this.dynamicDecorationMap),_=_o.build(this.view.state.doc,i.range.toB,h,this.decorations,this.dynamicDecorationMap);d=k.breakAtStart,p=k.openStart,g=_.openEnd;let A=this.compositionView(i);_.breakAtStart?A.breakAfter=1:_.content.length&&A.merge(A.length,A.length,_.content[0],!1,_.openStart,0)&&(A.breakAfter=_.content[0].breakAfter,_.content.shift()),k.content.length&&A.merge(0,0,k.content[k.content.length-1],!0,0,k.openEnd)&&k.content.pop(),f=k.content.concat(A).concat(_.content)}else({content:f,breakAtStart:d,openStart:p,openEnd:g}=_o.build(this.view.state.doc,c,h,this.decorations,this.dynamicDecorationMap));let{i:m,off:O}=s.findPos(u,1),{i:y,off:v}=s.findPos(l,-1);fw(this,y,v,m,O,f,d,p,g)}i&&this.fixCompositionDOM(i)}compositionView(e){let n=new oi(e.text.nodeValue);n.flags|=8;for(let{deco:r}of e.marks)n=new ai(r,[n],n.length);let i=new Ue;return i.append(n,0),i}fixCompositionDOM(e){let n=(s,o)=>{o.flags|=8|(o.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(o);let a=Re.get(s);a&&a!=o&&(a.dom=null),o.setDOM(s)},i=this.childPos(e.range.fromB,1),r=this.children[i.i];n(e.line,r);for(let s=e.marks.length-1;s>=-1;s--)i=r.childPos(i.off,1),r=r.children[i.i],n(s>=0?e.marks[s].node:e.text,r)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let i=this.view.root.activeElement,r=i==this.dom,s=!r&&Vl(this.dom,this.view.observer.selectionRange)&&!(i&&this.dom.contains(i));if(!(r||n||s))return;let o=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),u=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(X.gecko&&a.empty&&!this.hasComposition&&mI(l)){let h=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(h,l.node.childNodes[l.offset]||null)),l=u=new yt(h,0),o=!0}let c=this.view.observer.selectionRange;(o||!c.focusNode||(!vo(l.node,l.offset,c.anchorNode,c.anchorOffset)||!vo(u.node,u.offset,c.focusNode,c.focusOffset))&&!this.suppressWidgetCursorChange(c,a))&&(this.view.observer.ignore(()=>{X.android&&X.chrome&&this.dom.contains(c.focusNode)&&vI(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let h=bu(this.view.root);if(h)if(a.empty){if(X.gecko){let f=OI(l.node,l.offset);if(f&&f!=3){let d=Zw(l.node,l.offset,f==1?1:-1);d&&(l=new yt(d.node,d.offset))}}h.collapse(l.node,l.offset),a.bidiLevel!=null&&h.caretBidiLevel!==void 0&&(h.caretBidiLevel=a.bidiLevel)}else if(h.extend){h.collapse(l.node,l.offset);try{h.extend(u.node,u.offset)}catch{}}else{let f=document.createRange();a.anchor>a.head&&([l,u]=[u,l]),f.setEnd(u.node,u.offset),f.setStart(l.node,l.offset),h.removeAllRanges(),h.addRange(f)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(l,u)),this.impreciseAnchor=l.precise?null:new yt(c.anchorNode,c.anchorOffset),this.impreciseHead=u.precise?null:new yt(c.focusNode,c.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&!this.compositionBarrier.size&&vo(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,i=bu(e.root),{anchorNode:r,anchorOffset:s}=e.observer.selectionRange;if(!i||!n.empty||!n.assoc||!i.modify)return;let o=Ue.find(this,n.head);if(!o)return;let a=o.posAtStart;if(n.head==a||n.head==a+o.length)return;let l=this.coordsAt(n.head,-1),u=this.coordsAt(n.head,1);if(!l||!u||l.bottom>u.top)return;let c=this.domAtPos(n.head+n.assoc);i.collapse(c.node,c.offset),i.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let h=e.observer.selectionRange;e.docView.posFromDOM(h.anchorNode,h.anchorOffset)!=n.from&&i.collapse(r,s)}moveToLine(e){let n=this.dom,i;if(e.node!=n)return e;for(let r=e.offset;!i&&r<n.childNodes.length;r++){let s=Re.get(n.childNodes[r]);s instanceof Ue&&(i=s.domAtPos(0))}for(let r=e.offset-1;!i&&r>=0;r--){let s=Re.get(n.childNodes[r]);s instanceof Ue&&(i=s.domAtPos(s.length))}return i?new yt(i.node,i.offset,!0):e}nearest(e){for(let n=e;n;){let i=Re.get(n);if(i&&i.rootView==this)return i;n=n.parentNode}return null}posFromDOM(e,n){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,n)+i.posAtStart}domAtPos(e){let{i:n,off:i}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let r=this.children[n];if(i<r.length||r instanceof Ue)break;n++,i=0}return this.children[n].domAtPos(i)}coordsAt(e,n){let i=null,r=0;for(let s=this.length,o=this.children.length-1;o>=0;o--){let a=this.children[o],l=s-a.breakAfter,u=l-a.length;if(l<e)break;u<=e&&(u<e||a.covers(-1))&&(l>e||a.covers(1))&&(!i||a instanceof Ue&&!(i instanceof Ue&&n>=0))&&(i=a,r=u),s=u}return i?i.coordsAt(e-r,n):null}coordsForChar(e){let{i:n,off:i}=this.childPos(e,1),r=this.children[n];if(!(r instanceof Ue))return null;for(;r.children.length;){let{i:a,off:l}=r.childPos(i,1);for(;;a++){if(a==r.children.length)return null;if((r=r.children[a]).length)break}i=l}if(!(r instanceof oi))return null;let s=Pt(r.text,i);if(s==i)return null;let o=mr(r.dom,i,s).getClientRects();for(let a=0;a<o.length;a++){let l=o[a];if(a==o.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let n=[],{from:i,to:r}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==We.LTR;for(let u=0,c=0;c<this.children.length;c++){let h=this.children[c],f=u+h.length;if(f>r)break;if(u>=i){let d=h.dom.getBoundingClientRect();if(n.push(d.height),o){let p=h.dom.lastChild,g=p?hs(p):[];if(g.length){let m=g[g.length-1],O=l?m.right-d.left:d.right-m.left;O>a&&(a=O,this.minWidth=s,this.minWidthFrom=u,this.minWidthTo=f)}}}u=f+h.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?We.RTL:We.LTR}measureTextSize(){for(let s of this.children)if(s instanceof Ue){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),n,i,r;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=hs(e.firstChild)[0];n=e.getBoundingClientRect().height,i=s?s.width/27:7,r=s?s.height:n,e.remove()}),{lineHeight:n,charWidth:i,textHeight:r}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new hw(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let i=0,r=0;;r++){let s=r==n.viewports.length?null:n.viewports[r],o=s?s.from-1:this.length;if(o>i){let a=(n.lineBlockAt(o).bottom-n.lineBlockAt(i).top)/this.view.scaleY;e.push(ke.replace({widget:new nO(a),block:!0,inclusive:!0,isBlockGap:!0}).range(i,o))}if(!s)break;i=s.to+1}return ke.set(e)}updateDeco(){let e=1,n=this.view.state.facet(Yo).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),i=!1,r=this.view.state.facet(Qw).map((s,o)=>{let a=typeof s=="function";return a&&(i=!0),a?s(this.view):s});for(r.length&&(this.dynamicDecorationMap[e++]=i,n.push(Ie.join(r))),this.decorations=[this.compositionBarrier,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}maybeCreateCompositionBarrier(){let{main:{head:e,empty:n}}=this.view.state.selection;if(!n)return!1;let i=null;for(let r of this.decorations)if(r.between(e,e,(s,o,a)=>{a.point?i=!1:a.endSide<0&&s<e&&o==e&&(i=!0)}),i===!1)break;return this.compositionBarrier=i?ke.set(pI.range(e)):ke.none,!!i}clearCompositionBarrier(){this.compositionBarrier=ke.none}scrollIntoView(e){if(e.isSnapshot){let u=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=u.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}let{range:n}=e,i=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),r;if(!i)return;!n.empty&&(r=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(i={left:Math.min(i.left,r.left),top:Math.min(i.top,r.top),right:Math.max(i.right,r.right),bottom:Math.max(i.bottom,r.bottom)});let s=Vw(this.view),o={left:i.left-s.left,top:i.top-s.top,right:i.right+s.right,bottom:i.bottom+s.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;W6(this.view.scrollDOM,o,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==We.LTR)}}const pI=ke.widget({side:-1,widget:gr.inline});function mI(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}class nO extends Ta{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function Lw(t,e){let n=t.observer.selectionRange,i=n.focusNode&&Zw(n.focusNode,n.focusOffset,0);if(!i)return null;let r=e-i.offset;return{from:r,to:r+i.node.nodeValue.length,node:i.node}}function gI(t,e,n){let i=Lw(t,n);if(!i)return null;let{node:r,from:s,to:o}=i,a=r.nodeValue;if(/[\n\r]/.test(a)||t.state.doc.sliceString(i.from,i.to)!=a)return null;let l=e.invertedDesc,u=new nn(l.mapPos(s),l.mapPos(o),s,o),c=[];for(let h=r.parentNode;;h=h.parentNode){let f=Re.get(h);if(f instanceof ai)c.push({node:h,deco:f.mark});else{if(f instanceof Ue||h.nodeName=="DIV"&&h.parentNode==t.contentDOM)return{range:u,text:r,marks:c,line:h};if(h!=t.contentDOM)c.push({node:h,deco:new Pa({inclusive:!0,attributes:tI(h),tagName:h.tagName.toLowerCase()})});else return null}}}function Zw(t,e,n){if(n<=0)for(let i=t,r=e;;){if(i.nodeType==3)return{node:i,offset:r};if(i.nodeType==1&&r>0)i=i.childNodes[r-1],r=si(i);else break}if(n>=0)for(let i=t,r=e;;){if(i.nodeType==3)return{node:i,offset:r};if(i.nodeType==1&&r<i.childNodes.length&&n>=0)i=i.childNodes[r],r=0;else break}return null}function OI(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let bI=class{constructor(){this.changes=[]}compareRange(e,n){Nf(e,n,this.changes)}comparePoint(e,n){Nf(e,n,this.changes)}};function yI(t,e,n){let i=new bI;return Ie.compare(t,e,n,i),i.changes}function vI(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function _I(t,e){let n=!1;return e&&t.iterChangedRanges((i,r)=>{i<e.to&&r>e.from&&(n=!0)}),n}function wI(t,e,n=1){let i=t.charCategorizer(e),r=t.doc.lineAt(e),s=e-r.from;if(r.length==0)return I.cursor(e);s==0?n=1:s==r.length&&(n=-1);let o=s,a=s;n<0?o=Pt(r.text,s,!1):a=Pt(r.text,s);let l=i(r.text.slice(o,a));for(;o>0;){let u=Pt(r.text,o,!1);if(i(r.text.slice(u,o))!=l)break;o=u}for(;a<r.length;){let u=Pt(r.text,a);if(i(r.text.slice(a,u))!=l)break;a=u}return I.range(o+r.from,a+r.from)}function kI(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function SI(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function oh(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function iO(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function rO(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function qf(t,e,n){let i,r,s,o,a=!1,l,u,c,h;for(let p=t.firstChild;p;p=p.nextSibling){let g=hs(p);for(let m=0;m<g.length;m++){let O=g[m];r&&oh(r,O)&&(O=iO(rO(O,r.bottom),r.top));let y=kI(e,O),v=SI(n,O);if(y==0&&v==0)return p.nodeType==3?sO(p,e,n):qf(p,e,n);if(!i||o>v||o==v&&s>y){i=p,r=O,s=y,o=v;let k=v?n<O.top?-1:1:y?e<O.left?-1:1:0;a=!k||(k>0?m<g.length-1:m>0)}y==0?n>O.bottom&&(!c||c.bottom<O.bottom)?(l=p,c=O):n<O.top&&(!h||h.top>O.top)&&(u=p,h=O):c&&oh(c,O)?c=rO(c,O.bottom):h&&oh(h,O)&&(h=iO(h,O.top))}}if(c&&c.bottom>=n?(i=l,r=c):h&&h.top<=n&&(i=u,r=h),!i)return{node:t,offset:0};let f=Math.max(r.left,Math.min(r.right,e));if(i.nodeType==3)return sO(i,f,n);if(a&&i.contentEditable!="false")return qf(i,f,n);let d=Array.prototype.indexOf.call(t.childNodes,i)+(e>=(r.left+r.right)/2?1:0);return{node:t,offset:d}}function sO(t,e,n){let i=t.nodeValue.length,r=-1,s=1e9,o=0;for(let a=0;a<i;a++){let l=mr(t,a,a+1).getClientRects();for(let u=0;u<l.length;u++){let c=l[u];if(c.top==c.bottom)continue;o||(o=e-c.left);let h=(c.top>n?c.top-n:n-c.bottom)-1;if(c.left-1<=e&&c.right+1>=e&&h<s){let f=e>=(c.left+c.right)/2,d=f;if((X.chrome||X.gecko)&&mr(t,a).getBoundingClientRect().left==c.right&&(d=!f),h<=0)return{node:t,offset:a+(d?1:0)};r=a+(d?1:0),s=h}}}return{node:t,offset:r>-1?r:o>0?t.nodeValue.length:0}}function Mw(t,e,n,i=-1){var r,s;let o=t.contentDOM.getBoundingClientRect(),a=o.top+t.viewState.paddingTop,l,{docHeight:u}=t.viewState,{x:c,y:h}=e,f=h-a;if(f<0)return 0;if(f>u)return t.state.doc.length;for(let k=t.viewState.heightOracle.textHeight/2,_=!1;l=t.elementAtHeight(f),l.type!=Kn.Text;)for(;f=i>0?l.bottom+k:l.top-k,!(f>=0&&f<=u);){if(_)return n?null:0;_=!0,i=-i}h=a+f;let d=l.from;if(d<t.viewport.from)return t.viewport.from==0?0:n?null:oO(t,o,l,c,h);if(d>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:oO(t,o,l,c,h);let p=t.dom.ownerDocument,g=t.root.elementFromPoint?t.root:p,m=g.elementFromPoint(c,h);m&&!t.contentDOM.contains(m)&&(m=null),m||(c=Math.max(o.left+1,Math.min(o.right-1,c)),m=g.elementFromPoint(c,h),m&&!t.contentDOM.contains(m)&&(m=null));let O,y=-1;if(m&&((r=t.docView.nearest(m))===null||r===void 0?void 0:r.isEditable)!=!1){if(p.caretPositionFromPoint){let k=p.caretPositionFromPoint(c,h);k&&({offsetNode:O,offset:y}=k)}else if(p.caretRangeFromPoint){let k=p.caretRangeFromPoint(c,h);k&&({startContainer:O,startOffset:y}=k,(!t.contentDOM.contains(O)||X.safari&&xI(O,y,c)||X.chrome&&TI(O,y,c))&&(O=void 0))}}if(!O||!t.docView.dom.contains(O)){let k=Ue.find(t.docView,d);if(!k)return f>l.top+l.height/2?l.to:l.from;({node:O,offset:y}=qf(k.dom,c,h))}let v=t.docView.nearest(O);if(!v)return null;if(v.isWidget&&((s=v.dom)===null||s===void 0?void 0:s.nodeType)==1){let k=v.dom.getBoundingClientRect();return e.y<k.top||e.y<=k.bottom&&e.x<=(k.left+k.right)/2?v.posAtStart:v.posAtEnd}else return v.localPosFromDOM(O,y)+v.posAtStart}function oO(t,e,n,i,r){let s=Math.round((i-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let a=t.viewState.heightOracle.textHeight,l=Math.floor((r-n.top-(t.defaultLineHeight-a)*.5)/a);s+=l*t.viewState.heightOracle.lineLength}let o=t.state.sliceDoc(n.from,n.to);return n.from+F6(o,s,t.state.tabSize)}function xI(t,e,n){let i;if(t.nodeType!=3||e!=(i=t.nodeValue.length))return!1;for(let r=t.nextSibling;r;r=r.nextSibling)if(r.nodeType!=1||r.nodeName!="BR")return!1;return mr(t,i-1,i).getBoundingClientRect().left>n}function TI(t,e,n){if(e!=0)return!1;for(let r=t;;){let s=r.parentNode;if(!s||s.nodeType!=1||s.firstChild!=r)return!1;if(s.classList.contains("cm-line"))break;r=s}let i=t.nodeType==1?t.getBoundingClientRect():mr(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-i.left>5}function PI(t,e){let n=t.lineBlockAt(e);if(Array.isArray(n.type)){for(let i of n.type)if(i.to>e||i.to==e&&(i.to==n.to||i.type==Kn.Text))return i}return n}function EI(t,e,n,i){let r=PI(t,e.head),s=!i||r.type!=Kn.Text||!(t.lineWrapping||r.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>r.from?e.head-1:e.head);if(s){let o=t.dom.getBoundingClientRect(),a=t.textDirectionAt(r.from),l=t.posAtCoords({x:n==(a==We.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(l!=null)return I.cursor(l,n?-1:1)}return I.cursor(n?r.to:r.from,n?-1:1)}function aO(t,e,n,i){let r=t.state.doc.lineAt(e.head),s=t.bidiSpans(r),o=t.textDirectionAt(r.from);for(let a=e,l=null;;){let u=cI(r,s,o,a,n),c=Sw;if(!u){if(r.number==(n?t.state.doc.lines:1))return a;c=`
`,r=t.state.doc.line(r.number+(n?1:-1)),s=t.bidiSpans(r),u=t.visualLineSide(r,!n)}if(l){if(!l(c))return a}else{if(!i)return u;l=i(c)}a=u}}function AI(t,e,n){let i=t.state.charCategorizer(e),r=i(n);return s=>{let o=i(s);return r==Un.Space&&(r=o),r==o}}function CI(t,e,n,i){let r=e.head,s=n?1:-1;if(r==(n?t.state.doc.length:0))return I.cursor(r,e.assoc);let o=e.goalColumn,a,l=t.contentDOM.getBoundingClientRect(),u=t.coordsAtPos(r,e.assoc||-1),c=t.documentTop;if(u)o==null&&(o=u.left-l.left),a=s<0?u.top:u.bottom;else{let d=t.viewState.lineBlockAt(r);o==null&&(o=Math.min(l.right-l.left,t.defaultCharacterWidth*(r-d.from))),a=(s<0?d.top:d.bottom)+c}let h=l.left+o,f=i??t.viewState.heightOracle.textHeight>>1;for(let d=0;;d+=10){let p=a+(f+d)*s,g=Mw(t,{x:h,y:p},!1,s);if(p<l.top||p>l.bottom||(s<0?g<r:g>r)){let m=t.docView.coordsForChar(g),O=!m||p<m.top?-1:1;return I.cursor(g,O,void 0,o)}}}function Ll(t,e,n){for(;;){let i=0;for(let r of t)r.between(e-1,e+1,(s,o,a)=>{if(e>s&&e<o){let l=i||n||(e-s<o-e?-1:1);e=l<0?s:o,i=l}});if(!i)return e}}function ah(t,e,n){let i=Ll(t.state.facet(Np).map(r=>r(t)),n.from,e.head>n.from?-1:1);return i==n.from?n:I.cursor(i,i<n.from?1:-1)}class $I{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,X.safari&&e.contentDOM.addEventListener("input",()=>null),X.gecko&&WI(e.contentDOM.ownerDocument)}handleEvent(e){!MI(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,n){let i=this.handlers[e];if(i){for(let r of i.observers)r(this.view,n);for(let r of i.handlers){if(n.defaultPrevented)break;if(r(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=II(e),i=this.handlers,r=this.view.contentDOM;for(let s in n)if(s!="scroll"){let o=!n[s].handlers.length,a=i[s];a&&o!=!a.handlers.length&&(r.removeEventListener(s,this.handleEvent),a=null),a||r.addEventListener(s,this.handleEvent,{passive:o})}for(let s in i)s!="scroll"&&!n[s]&&r.removeEventListener(s,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(e.keyCode!=27&&Nw.indexOf(e.keyCode)<0&&(this.view.inputState.lastEscPress=0),X.android&&X.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return X.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=Fw.find(i=>i.keyCode==e.keyCode))&&!e.ctrlKey||QI.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(){let e=this.pendingIOSKey;return e?(this.pendingIOSKey=void 0,Ur(this.view.contentDOM,e.key,e.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:X.safari&&!X.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function lO(t,e){return(n,i)=>{try{return e.call(t,i,n)}catch(r){Ht(n.state,r)}}}function II(t){let e=Object.create(null);function n(i){return e[i]||(e[i]={observers:[],handlers:[]})}for(let i of t){let r=i.spec;if(r&&r.domEventHandlers)for(let s in r.domEventHandlers){let o=r.domEventHandlers[s];o&&n(s).handlers.push(lO(i.value,o))}if(r&&r.domEventObservers)for(let s in r.domEventObservers){let o=r.domEventObservers[s];o&&n(s).observers.push(lO(i.value,o))}}for(let i in pn)n(i).handlers.push(pn[i]);for(let i in mn)n(i).observers.push(mn[i]);return e}const Fw=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],QI="dthko",Nw=[16,17,18,20,91,92,224,225],rl=6;function sl(t){return Math.max(0,t)*.7+8}function RI(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class DI{constructor(e,n,i,r){this.view=e,this.startEvent=n,this.style=i,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParent=Y6(e.contentDOM),this.atoms=e.state.facet(Np).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(pe.allowMultipleSelections)&&VI(e,n),this.dragging=ZI(e,n)&&zw(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){var n;if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&RI(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let i=0,r=0,s=((n=this.scrollParent)===null||n===void 0?void 0:n.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},o=Vw(this.view);e.clientX-o.left<=s.left+rl?i=-sl(s.left-e.clientX):e.clientX+o.right>=s.right-rl&&(i=sl(e.clientX-s.right)),e.clientY-o.top<=s.top+rl?r=-sl(s.top-e.clientY):e.clientY+o.bottom>=s.bottom-rl&&(r=sl(e.clientY-s.bottom)),this.setScrollSpeed(i,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let n=null;for(let i=0;i<e.ranges.length;i++){let r=e.ranges[i],s=null;if(r.empty){let o=Ll(this.atoms,r.from,0);o!=r.from&&(s=I.cursor(o,-1))}else{let o=Ll(this.atoms,r.from,-1),a=Ll(this.atoms,r.to,1);(o!=r.from||a!=r.to)&&(s=I.range(r.from==r.anchor?o:a,r.from==r.head?o:a))}s&&(n||(n=e.ranges.slice()),n[i]=s)}return n?I.create(n,e.mainIndex):e}select(e){let{view:n}=this,i=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!i.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function VI(t,e){let n=t.state.facet(xw);return n.length?n[0](e):X.mac?e.metaKey:e.ctrlKey}function LI(t,e){let n=t.state.facet(Tw);return n.length?n[0](e):X.mac?!e.altKey:!e.ctrlKey}function ZI(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let i=bu(t.root);if(!i||i.rangeCount==0)return!0;let r=i.getRangeAt(0).getClientRects();for(let s=0;s<r.length;s++){let o=r[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function MI(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,i;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(i=Re.get(n))&&i.ignoreEvent(e))return!1;return!0}const pn=Object.create(null),mn=Object.create(null),Bw=X.ie&&X.ie_version<15||X.ios&&X.webkit_version<604;function FI(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),jw(t,n.value)},50)}function jw(t,e){let{state:n}=t,i,r=1,s=n.toText(e),o=s.lines==n.selection.ranges.length;if(Wf!=null&&n.selection.ranges.every(l=>l.empty)&&Wf==s.toString()){let l=-1;i=n.changeByRange(u=>{let c=n.doc.lineAt(u.from);if(c.from==l)return{range:u};l=c.from;let h=n.toText((o?s.line(r++).text:e)+n.lineBreak);return{changes:{from:c.from,insert:h},range:I.cursor(u.from+h.length)}})}else o?i=n.changeByRange(l=>{let u=s.line(r++);return{changes:{from:l.from,to:l.to,insert:u.text},range:I.cursor(l.from+u.length)}}):i=n.replaceSelection(s);t.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}mn.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};pn.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&(t.inputState.lastEscPress=Date.now()),!1);mn.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};mn.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};pn.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let i of t.state.facet(Pw))if(n=i(t,e),n)break;if(!n&&e.button==0&&(n=jI(t,e)),n){let i=!t.hasFocus;t.inputState.startMouseSelection(new DI(t,e,n,i)),i&&t.observer.ignore(()=>lw(t.contentDOM));let r=t.inputState.mouseSelection;if(r)return r.start(e),r.dragging===!1}return!1};function uO(t,e,n,i){if(i==1)return I.cursor(e,n);if(i==2)return wI(t.state,e,n);{let r=Ue.find(t.docView,e),s=t.state.doc.lineAt(r?r.posAtEnd:e),o=r?r.posAtStart:s.from,a=r?r.posAtEnd:s.to;return a<t.state.doc.length&&a==s.to&&a++,I.range(o,a)}}let Xw=(t,e)=>t>=e.top&&t<=e.bottom,cO=(t,e,n)=>Xw(e,n)&&t>=n.left&&t<=n.right;function NI(t,e,n,i){let r=Ue.find(t.docView,e);if(!r)return 1;let s=e-r.posAtStart;if(s==0)return 1;if(s==r.length)return-1;let o=r.coordsAt(s,-1);if(o&&cO(n,i,o))return-1;let a=r.coordsAt(s,1);return a&&cO(n,i,a)?1:o&&Xw(i,o)?-1:1}function hO(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:NI(t,n,e.clientX,e.clientY)}}const BI=X.ie&&X.ie_version<=11;let fO=null,dO=0,pO=0;function zw(t){if(!BI)return t.detail;let e=fO,n=pO;return fO=t,pO=Date.now(),dO=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(dO+1)%3:1}function jI(t,e){let n=hO(t,e),i=zw(e),r=t.state.selection;return{update(s){s.docChanged&&(n.pos=s.changes.mapPos(n.pos),r=r.map(s.changes))},get(s,o,a){let l=hO(t,s),u,c=uO(t,l.pos,l.bias,i);if(n.pos!=l.pos&&!o){let h=uO(t,n.pos,n.bias,i),f=Math.min(h.from,c.from),d=Math.max(h.to,c.to);c=f<c.from?I.range(f,d):I.range(d,f)}return o?r.replaceRange(r.main.extend(c.from,c.to)):a&&i==1&&r.ranges.length>1&&(u=XI(r,l.pos))?u:a?r.addRange(c):I.create([c])}}}function XI(t,e){for(let n=0;n<t.ranges.length;n++){let{from:i,to:r}=t.ranges[n];if(i<=e&&r>=e)return I.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}pn.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let r=t.docView.nearest(e.target);if(r&&r.isWidget){let s=r.posAtStart,o=s+r.length;(s>=n.to||o<=n.from)&&(n=I.range(s,o))}}let{inputState:i}=t;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(n.from,n.to)),e.dataTransfer.effectAllowed="copyMove"),!1};pn.dragend=t=>(t.inputState.draggedContent=null,!1);function mO(t,e,n,i){if(!n)return;let r=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=t.inputState,o=i&&s&&LI(t,e)?{from:s.from,to:s.to}:null,a={from:r,insert:n},l=t.state.changes(o?[o,a]:a);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(r,-1),head:l.mapPos(r,1)},userEvent:o?"move.drop":"input.drop"}),t.inputState.draggedContent=null}pn.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let i=Array(n.length),r=0,s=()=>{++r==n.length&&mO(t,e,i.filter(o=>o!=null).join(t.state.lineBreak),!1)};for(let o=0;o<n.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(i[o]=a.result),s()},a.readAsText(n[o])}return!0}else{let i=e.dataTransfer.getData("Text");if(i)return mO(t,e,i,!0),!0}return!1};pn.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=Bw?null:e.clipboardData;return n?(jw(t,n.getData("text/plain")||n.getData("text/uri-text")),!0):(FI(t),!1)};function zI(t,e){let n=t.dom.parentNode;if(!n)return;let i=n.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),t.focus()},50)}function qI(t){let e=[],n=[],i=!1;for(let r of t.selection.ranges)r.empty||(e.push(t.sliceDoc(r.from,r.to)),n.push(r));if(!e.length){let r=-1;for(let{from:s}of t.selection.ranges){let o=t.doc.lineAt(s);o.number>r&&(e.push(o.text),n.push({from:o.from,to:Math.min(t.doc.length,o.to+1)})),r=o.number}i=!0}return{text:e.join(t.lineBreak),ranges:n,linewise:i}}let Wf=null;pn.copy=pn.cut=(t,e)=>{let{text:n,ranges:i,linewise:r}=qI(t.state);if(!n&&!r)return!1;Wf=r?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"});let s=Bw?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",n),!0):(zI(t,n),!1)};const qw=li.define();function Ww(t,e){let n=[];for(let i of t.facet(Cw)){let r=i(t,e);r&&n.push(r)}return n?t.update({effects:n,annotations:qw.of(!0)}):null}function Yw(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=Ww(t.state,e);n?t.dispatch(n):t.update([])}},10)}mn.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),Yw(t)};mn.blur=t=>{t.observer.clearSelectionRange(),Yw(t)};mn.compositionstart=mn.compositionupdate=t=>{t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0,t.docView.maybeCreateCompositionBarrier()&&(t.update([]),t.docView.clearCompositionBarrier()))};mn.compositionend=t=>{t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,X.chrome&&X.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50)};mn.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};pn.beforeinput=(t,e)=>{var n;let i;if(X.chrome&&X.android&&(i=Fw.find(r=>r.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let r=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>r+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return!1};const gO=new Set;function WI(t){gO.has(t)||(gO.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const OO=["pre-wrap","normal","pre-line","break-spaces"];class YI{constructor(e){this.lineWrapping=e,this.doc=be.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,n){let i=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((n-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return OO.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let i=0;i<e.length;i++){let r=e[i];r<0?i++:this.heightSamples[Math.floor(r*10)]||(n=!0,this.heightSamples[Math.floor(r*10)]=!0)}return n}refresh(e,n,i,r,s,o){let a=OO.indexOf(e)>-1,l=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=n,this.charWidth=i,this.textHeight=r,this.lineLength=s,l){this.heightSamples={};for(let u=0;u<o.length;u++){let c=o[u];c<0?u++:this.heightSamples[Math.floor(c*10)]=!0}}return l}}class UI{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class Pn{constructor(e,n,i,r,s){this.from=e,this.length=n,this.top=i,this.height=r,this._content=s}get type(){return typeof this._content=="number"?Kn.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Li?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Pn(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var $e=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}($e||($e={}));const Zl=.001;class Et{constructor(e,n,i=2){this.length=e,this.height=n,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,n){this.height!=n&&(Math.abs(this.height-n)>Zl&&(e.heightChanged=!0),this.height=n)}replace(e,n,i){return Et.of(i)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,i,r){let s=this,o=i.doc;for(let a=r.length-1;a>=0;a--){let{fromA:l,toA:u,fromB:c,toB:h}=r[a],f=s.lineAt(l,$e.ByPosNoHeight,i.setDoc(n),0,0),d=f.to>=u?f:s.lineAt(u,$e.ByPosNoHeight,i,0,0);for(h+=d.to-u,u=d.to;a>0&&f.from<=r[a-1].toA;)l=r[a-1].fromA,c=r[a-1].fromB,a--,l<f.from&&(f=s.lineAt(l,$e.ByPosNoHeight,i,0,0));c+=f.from-l,l=f.from;let p=Bp.build(i.setDoc(o),e,c,h);s=s.replace(l,u,p)}return s.updateHeight(i,0)}static empty(){return new Ft(0,0)}static of(e){if(e.length==1)return e[0];let n=0,i=e.length,r=0,s=0;for(;;)if(n==i)if(r>s*2){let a=e[n-1];a.break?e.splice(--n,1,a.left,null,a.right):e.splice(--n,1,a.left,a.right),i+=1+a.break,r-=a.size}else if(s>r*2){let a=e[i];a.break?e.splice(i,1,a.left,null,a.right):e.splice(i,1,a.left,a.right),i+=2+a.break,s-=a.size}else break;else if(r<s){let a=e[n++];a&&(r+=a.size)}else{let a=e[--i];a&&(s+=a.size)}let o=0;return e[n-1]==null?(o=1,n--):e[n]==null&&(o=1,i++),new GI(Et.of(e.slice(0,n)),o,Et.of(e.slice(i)))}}Et.prototype.size=1;class Uw extends Et{constructor(e,n,i){super(e,n),this.deco=i}blockAt(e,n,i,r){return new Pn(r,this.length,i,this.height,this.deco||0)}lineAt(e,n,i,r,s){return this.blockAt(0,i,r,s)}forEachLine(e,n,i,r,s,o){e<=s+this.length&&n>=s&&o(this.blockAt(0,i,r,s))}updateHeight(e,n=0,i=!1,r){return r&&r.from<=n&&r.more&&this.setHeight(e,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Ft extends Uw{constructor(e,n){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,n,i,r){return new Pn(r,this.length,i,this.height,this.breaks)}replace(e,n,i){let r=i[0];return i.length==1&&(r instanceof Ft||r instanceof st&&r.flags&4)&&Math.abs(this.length-r.length)<10?(r instanceof st?r=new Ft(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):Et.of(i)}updateHeight(e,n=0,i=!1,r){return r&&r.from<=n&&r.more?this.setHeight(e,r.heights[r.index++]):(i||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class st extends Et{constructor(e){super(e,0)}heightMetrics(e,n){let i=e.doc.lineAt(n).number,r=e.doc.lineAt(n+this.length).number,s=r-i+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,this.length>s+1&&(a=(this.height-l)/(this.length-s-1))}else o=this.height/s;return{firstLine:i,lastLine:r,perLine:o,perChar:a}}blockAt(e,n,i,r){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(n,r);if(n.lineWrapping){let u=r+Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length),c=n.doc.lineAt(u),h=a+c.length*l,f=Math.max(i,e-h/2);return new Pn(c.from,c.length,f,h,0)}else{let u=Math.max(0,Math.min(o-s,Math.floor((e-i)/a))),{from:c,length:h}=n.doc.line(s+u);return new Pn(c,h,i+a*u,a,0)}}lineAt(e,n,i,r,s){if(n==$e.ByHeight)return this.blockAt(e,i,r,s);if(n==$e.ByPosNoHeight){let{from:d,to:p}=i.doc.lineAt(e);return new Pn(d,p-d,0,0,0)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(i,s),u=i.doc.lineAt(e),c=a+u.length*l,h=u.number-o,f=r+a*h+l*(u.from-s-h);return new Pn(u.from,u.length,Math.max(r,Math.min(f,r+this.height-c)),c,0)}forEachLine(e,n,i,r,s,o){e=Math.max(e,s),n=Math.min(n,s+this.length);let{firstLine:a,perLine:l,perChar:u}=this.heightMetrics(i,s);for(let c=e,h=r;c<=n;){let f=i.doc.lineAt(c);if(c==e){let p=f.number-a;h+=l*p+u*(e-s-p)}let d=l+u*f.length;o(new Pn(f.from,f.length,h,d,0)),h+=d,c=f.to+1}}replace(e,n,i){let r=this.length-n;if(r>0){let s=i[i.length-1];s instanceof st?i[i.length-1]=new st(s.length+r):i.push(null,new st(r-1))}if(e>0){let s=i[0];s instanceof st?i[0]=new st(e+s.length):i.unshift(new st(e-1),null)}return Et.of(i)}decomposeLeft(e,n){n.push(new st(e-1),null)}decomposeRight(e,n){n.push(null,new st(this.length-e-1))}updateHeight(e,n=0,i=!1,r){let s=n+this.length;if(r&&r.from<=n+this.length&&r.more){let o=[],a=Math.max(n,r.from),l=-1;for(r.from>n&&o.push(new st(r.from-n-1).updateHeight(e,n));a<=s&&r.more;){let c=e.doc.lineAt(a).length;o.length&&o.push(null);let h=r.heights[r.index++];l==-1?l=h:Math.abs(h-l)>=Zl&&(l=-2);let f=new Ft(c,h);f.outdated=!1,o.push(f),a+=c+1}a<=s&&o.push(null,new st(s-a).updateHeight(e,a));let u=Et.of(o);return(l<0||Math.abs(u.height-this.height)>=Zl||Math.abs(l-this.heightMetrics(e,n).perLine)>=Zl)&&(e.heightChanged=!0),u}else(i||this.outdated)&&(this.setHeight(e,e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class GI extends Et{constructor(e,n,i){super(e.length+n+i.length,e.height+i.height,n|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,n,i,r){let s=i+this.left.height;return e<s?this.left.blockAt(e,n,i,r):this.right.blockAt(e,n,s,r+this.left.length+this.break)}lineAt(e,n,i,r,s){let o=r+this.left.height,a=s+this.left.length+this.break,l=n==$e.ByHeight?e<o:e<a,u=l?this.left.lineAt(e,n,i,r,s):this.right.lineAt(e,n,i,o,a);if(this.break||(l?u.to<a:u.from>a))return u;let c=n==$e.ByPosNoHeight?$e.ByPosNoHeight:$e.ByPos;return l?u.join(this.right.lineAt(a,c,i,o,a)):this.left.lineAt(a,c,i,r,s).join(u)}forEachLine(e,n,i,r,s,o){let a=r+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,n,i,r,s,o),n>=l&&this.right.forEachLine(e,n,i,a,l,o);else{let u=this.lineAt(l,$e.ByPos,i,r,s);e<u.from&&this.left.forEachLine(e,u.from-1,i,r,s,o),u.to>=e&&u.from<=n&&o(u),n>u.to&&this.right.forEachLine(u.to+1,n,i,a,l,o)}}replace(e,n,i){let r=this.left.length+this.break;if(n<r)return this.balanced(this.left.replace(e,n,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,n-r,i));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of i)s.push(a);if(e>0&&bO(s,o-1),n<this.length){let a=s.length;this.decomposeRight(n,s),bO(s,a)}return Et.of(s)}decomposeLeft(e,n){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(i++,e>=i&&n.push(null)),e>i&&this.right.decomposeLeft(e-i,n)}decomposeRight(e,n){let i=this.left.length,r=i+this.break;if(e>=r)return this.right.decomposeRight(e-r,n);e<i&&this.left.decomposeRight(e,n),this.break&&e<r&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?Et.of(this.break?[e,null,n]:[e,n]):(this.left=e,this.right=n,this.height=e.height+n.height,this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,i=!1,r){let{left:s,right:o}=this,a=n+s.length+this.break,l=null;return r&&r.from<=n+s.length&&r.more?l=s=s.updateHeight(e,n,i,r):s.updateHeight(e,n,i),r&&r.from<=a+o.length&&r.more?l=o=o.updateHeight(e,a,i,r):o.updateHeight(e,a,i),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function bO(t,e){let n,i;t[e]==null&&(n=t[e-1])instanceof st&&(i=t[e+1])instanceof st&&t.splice(e-1,3,new st(n.length+1+i.length))}const HI=5;class Bp{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let i=Math.min(n,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof Ft?r.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new Ft(i-this.pos,-1)),this.writtenTo=i,n>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,i){if(e<n||i.heightRelevant){let r=i.widget?i.widget.estimatedHeight:0,s=i.widget?i.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let o=n-e;i.block?this.addBlock(new Uw(o,r,i)):(o||s||r>=HI)&&this.addLineDeco(r,s,o)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Ft(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let i=new st(n-e);return this.oracle.doc.lineAt(e).to==n&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Ft)return e;let n=new Ft(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,i){let r=this.ensureLine();r.length+=i,r.collapsed+=i,r.widgetHeight=Math.max(r.widgetHeight,e),r.breaks+=n,this.writtenTo=this.pos=this.pos+i}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof Ft)&&!this.isCovered?this.nodes.push(new Ft(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let r of this.nodes)r instanceof Ft&&r.updateHeight(this.oracle,i),i+=r?r.length:1;return this.nodes}static build(e,n,i,r){let s=new Bp(i,e);return Ie.spans(n,i,r,s,0),s.finish(i)}}function KI(t,e,n){let i=new JI;return Ie.compare(t,e,n,i,0),i.changes}class JI{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,i,r){(e<n||i&&i.heightRelevant||r&&r.heightRelevant)&&Nf(e,n,this.changes,5)}}function e4(t,e){let n=t.getBoundingClientRect(),i=t.ownerDocument,r=i.defaultView||window,s=Math.max(0,n.left),o=Math.min(r.innerWidth,n.right),a=Math.max(0,n.top),l=Math.min(r.innerHeight,n.bottom);for(let u=t.parentNode;u&&u!=i.body;)if(u.nodeType==1){let c=u,h=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&h.overflow!="visible"){let f=c.getBoundingClientRect();s=Math.max(s,f.left),o=Math.min(o,f.right),a=Math.max(a,f.top),l=u==t.parentNode?f.bottom:Math.min(l,f.bottom)}u=h.position=="absolute"||h.position=="fixed"?c.offsetParent:c.parentNode}else if(u.nodeType==11)u=u.host;else break;return{left:s-n.left,right:Math.max(s,o)-n.left,top:a-(n.top+e),bottom:Math.max(a,l)-(n.top+e)}}function t4(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class lh{constructor(e,n,i){this.from=e,this.to=n,this.size=i}static same(e,n){if(e.length!=n.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],s=n[i];if(r.from!=s.from||r.to!=s.to||r.size!=s.size)return!1}return!0}draw(e,n){return ke.replace({widget:new n4(this.size*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class n4 extends Ta{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class yO{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=vO,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=We.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(Fp).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new YI(n),this.stateDeco=e.facet(Yo).filter(i=>typeof i!="function"),this.heightMap=Et.empty().applyChanges(this.stateDeco,be.empty,this.heightOracle.setDoc(e.doc),[new nn(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=ke.set(this.lineGaps.map(i=>i.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let i=0;i<=1;i++){let r=i?n.head:n.anchor;if(!e.some(({from:s,to:o})=>r>=s&&r<=o)){let{from:s,to:o}=this.lineBlockAt(r);e.push(new ol(s,o))}}this.viewports=e.sort((i,r)=>i.from-r.from),this.scaler=this.heightMap.height<=7e6?vO:new s4(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:so(e,this.scaler))})}update(e,n=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(Yo).filter(c=>typeof c!="function");let r=e.changedRanges,s=nn.extendWithRanges(r,KI(i,this.stateDeco,e?e.changes:Ge.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=o&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<l.from||n.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,n));let u=!e.changes.empty||e.flags&2||l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,this.updateForViewport(),u&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(fI)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,i=window.getComputedStyle(n),r=this.heightOracle,s=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?We.RTL:We.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=n.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let u=0,c=0;if(a.width&&a.height){let{scaleX:k,scaleY:_}=aw(n,a);(this.scaleX!=k||this.scaleY!=_)&&(this.scaleX=k,this.scaleY=_,u|=8,o=l=!0)}let h=(parseInt(i.paddingTop)||0)*this.scaleY,f=(parseInt(i.paddingBottom)||0)*this.scaleY;(this.paddingTop!=h||this.paddingBottom!=f)&&(this.paddingTop=h,this.paddingBottom=f,u|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,u|=8);let d=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=d&&(this.scrollAnchorHeight=-1,this.scrollTop=d),this.scrolledToBottom=cw(e.scrollDOM);let p=(this.printing?t4:e4)(n,this.paddingTop),g=p.top-this.pixelViewport.top,m=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let O=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(O!=this.inView&&(this.inView=O,O&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let y=a.width;if((this.contentDOMWidth!=y||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,u|=8),l){let k=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(k)&&(o=!0),o||r.lineWrapping&&Math.abs(y-this.contentDOMWidth)>r.charWidth){let{lineHeight:_,charWidth:A,textHeight:T}=e.docView.measureTextSize();o=_>0&&r.refresh(s,_,A,T,y/A,k),o&&(e.docView.minWidth=0,u|=8)}g>0&&m>0?c=Math.max(g,m):g<0&&m<0&&(c=Math.min(g,m)),r.heightChanged=!1;for(let _ of this.viewports){let A=_.from==this.viewport.from?k:e.docView.measureVisibleLineHeights(_);this.heightMap=(o?Et.empty().applyChanges(this.stateDeco,be.empty,this.heightOracle,[new nn(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(r,0,o,new UI(_.from,A))}r.heightChanged&&(u|=2)}let v=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return v&&(this.viewport=this.getViewport(c,this.scrollTarget)),this.updateForViewport(),(u&2||v)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new ol(r.lineAt(o-i*1e3,$e.ByHeight,s,0,0).from,r.lineAt(a+(1-i)*1e3,$e.ByHeight,s,0,0).to);if(n){let{head:u}=n.range;if(u<l.from||u>l.to){let c=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),h=r.lineAt(u,$e.ByPos,s,0,0),f;n.y=="center"?f=(h.top+h.bottom)/2-c/2:n.y=="start"||n.y=="nearest"&&u<l.from?f=h.top:f=h.bottom-c,l=new ol(r.lineAt(f-1e3/2,$e.ByHeight,s,0,0).from,r.lineAt(f+c+1e3/2,$e.ByHeight,s,0,0).to)}}return l}mapViewport(e,n){let i=n.mapPos(e.from,-1),r=n.mapPos(e.to,1);return new ol(this.heightMap.lineAt(i,$e.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,$e.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},i=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,$e.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(n,$e.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||r<=o-Math.max(10,Math.min(-i,250)))&&(n==this.state.doc.length||s>=a+Math.max(10,Math.min(i,250)))&&r>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let i=[];for(let r of e)n.touchesRange(r.from,r.to)||i.push(new lh(n.mapPos(r.from),n.mapPos(r.to),r.size));return i}ensureLineGaps(e,n){let i=this.heightOracle.lineWrapping,r=i?1e4:2e3,s=r>>1,o=r<<1;if(this.defaultTextDirection!=We.LTR&&!i)return[];let a=[],l=(u,c,h,f)=>{if(c-u<s)return;let d=this.state.selection.main,p=[d.from];d.empty||p.push(d.to);for(let m of p)if(m>u&&m<c){l(u,m-10,h,f),l(m+10,c,h,f);return}let g=r4(e,m=>m.from>=h.from&&m.to<=h.to&&Math.abs(m.from-u)<s&&Math.abs(m.to-c)<s&&!p.some(O=>m.from<O&&m.to>O));if(!g){if(c<h.to&&n&&i&&n.visibleRanges.some(m=>m.from<=c&&m.to>=c)){let m=n.moveToLineBoundary(I.cursor(c),!1,!0).head;m>u&&(c=m)}g=new lh(u,c,this.gapSize(h,u,c,f))}a.push(g)};for(let u of this.viewportLines){if(u.length<o)continue;let c=i4(u.from,u.to,this.stateDeco);if(c.total<o)continue;let h=this.scrollTarget?this.scrollTarget.range.head:null,f,d;if(i){let p=r/this.heightOracle.lineLength*this.heightOracle.lineHeight,g,m;if(h!=null){let O=ll(c,h),y=((this.visibleBottom-this.visibleTop)/2+p)/u.height;g=O-y,m=O+y}else g=(this.visibleTop-u.top-p)/u.height,m=(this.visibleBottom-u.top+p)/u.height;f=al(c,g),d=al(c,m)}else{let p=c.total*this.heightOracle.charWidth,g=r*this.heightOracle.charWidth,m,O;if(h!=null){let y=ll(c,h),v=((this.pixelViewport.right-this.pixelViewport.left)/2+g)/p;m=y-v,O=y+v}else m=(this.pixelViewport.left-g)/p,O=(this.pixelViewport.right+g)/p;f=al(c,m),d=al(c,O)}f>u.from&&l(u.from,f,u,c),d<u.to&&l(d,u.to,u,c)}return a}gapSize(e,n,i,r){let s=ll(r,i)-ll(r,n);return this.heightOracle.lineWrapping?e.height*s:r.total*this.heightOracle.charWidth*s}updateLineGaps(e){lh.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=ke.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let n=[];Ie.spans(e,this.viewport.from,this.viewport.to,{span(r,s){n.push({from:r,to:s})},point(){}},20);let i=n.length!=this.visibleRanges.length||this.visibleRanges.some((r,s)=>r.from!=n[s].from||r.to!=n[s].to);return this.visibleRanges=n,i?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||so(this.heightMap.lineAt(e,$e.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return so(this.heightMap.lineAt(this.scaler.fromDOM(e),$e.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return so(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class ol{constructor(e,n){this.from=e,this.to=n}}function i4(t,e,n){let i=[],r=t,s=0;return Ie.spans(n,t,e,{span(){},point(o,a){o>r&&(i.push({from:r,to:o}),s+=o-r),r=a}},20),r<e&&(i.push({from:r,to:e}),s+=e-r),{total:s,ranges:i}}function al({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let i=Math.floor(t*n);for(let r=0;;r++){let{from:s,to:o}=e[r],a=o-s;if(i<=a)return s+i;i-=a}}function ll(t,e){let n=0;for(let{from:i,to:r}of t.ranges){if(e<=r){n+=e-i;break}n+=r-i}return n/t.total}function r4(t,e){for(let n of t)if(e(n))return n}const vO={toDOM(t){return t},fromDOM(t){return t},scale:1};class s4{constructor(e,n,i){let r=0,s=0,o=0;this.viewports=i.map(({from:a,to:l})=>{let u=n.lineAt(a,$e.ByPos,e,0,0).top,c=n.lineAt(l,$e.ByPos,e,0,0).bottom;return r+=c-u,{from:a,to:l,top:u,bottom:c,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(n.height-r);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let n=0,i=0,r=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.top)return r+(e-i)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);i=s.bottom,r=s.domBottom}}fromDOM(e){for(let n=0,i=0,r=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.domTop)return i+(e-r)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);i=s.bottom,r=s.domBottom}}}function so(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),i=e.toDOM(t.bottom);return new Pn(t.from,t.length,n,i-n,Array.isArray(t._content)?t._content.map(r=>so(r,e)):t._content)}const ul=K.define({combine:t=>t.join(" ")}),Yf=K.define({combine:t=>t.indexOf(!0)>-1}),Uf=Di.newName(),Gw=Di.newName(),Hw=Di.newName(),Kw={"&light":"."+Gw,"&dark":"."+Hw};function Gf(t,e,n){return new Di(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,r=>{if(r=="&")return t;if(!n||!n[r])throw new RangeError(`Unsupported selector: ${r}`);return n[r]}):t+" "+i}})}const o4=Gf("."+Uf,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Kw),oo="￿";class a4{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(pe.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=oo}readRange(e,n){if(!e)return this;let i=e.parentNode;for(let r=e;;){this.findPointBefore(i,r);let s=this.text.length;this.readNode(r);let o=r.nextSibling;if(o==n)break;let a=Re.get(r),l=Re.get(o);(a&&l?a.breakAfter:(a?a.breakAfter:_O(r))||_O(o)&&(r.nodeName!="BR"||r.cmIgnore)&&this.text.length>s)&&this.lineBreak(),r=o}return this.findPointBefore(i,n),this}readTextNode(e){let n=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,n.length));for(let i=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=n.indexOf(this.lineSeparator,i),o=this.lineSeparator.length):(a=r.exec(n))&&(s=a.index,o=a[0].length),this.append(n.slice(i,s<0?n.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);i=s+o}}readNode(e){if(e.cmIgnore)return;let n=Re.get(e),i=n&&n.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let r=i.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==n&&(i.pos=this.text.length)}findPointInside(e,n){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+(l4(e,i.node,i.offset)?n:0))}}function l4(t,e,n){for(;;){if(!e||n<si(e))return!1;if(e==t)return!0;n=Wo(e)+1,e=e.parentNode}}function _O(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}class wO{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class u4{constructor(e,n,i,r){this.typeOver=r,this.bounds=null,this.text="";let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,i,0))){let a=s||o?[]:f4(e),l=new a4(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=d4(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!Df(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),u=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!Df(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),c=e.viewport;if((X.ios||X.chrome)&&e.state.selection.main.empty&&l!=u&&(c.from>0||c.to<e.state.doc.length)){let h=Math.min(l,u),f=Math.max(l,u),d=c.from-h,p=c.to-f;(d==0||d==1||h==0)&&(p==0||p==-1||f==e.state.doc.length)&&(l=0,u=e.state.doc.length)}this.newSel=I.single(u,l)}}}function Jw(t,e){let n,{newSel:i}=e,r=t.state.selection.main,s=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:a}=e.bounds,l=r.from,u=null;(s===8||X.android&&e.text.length<a-o)&&(l=r.to,u="end");let c=h4(t.state.doc.sliceString(o,a,oo),e.text,l-o,u);c&&(X.chrome&&s==13&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==oo+oo&&c.toB--,n={from:o+c.from,to:o+c.toA,insert:be.of(e.text.slice(c.from,c.toB).split(oo))})}else i&&(!t.hasFocus&&t.state.facet(vc)||i.main.eq(r))&&(i=null);if(!n&&!i)return!1;if(!n&&e.typeOver&&!r.empty&&i&&i.main.empty?n={from:r.from,to:r.to,insert:t.state.doc.slice(r.from,r.to)}:n&&n.from>=r.from&&n.to<=r.to&&(n.from!=r.from||n.to!=r.to)&&r.to-r.from-(n.to-n.from)<=4?n={from:r.from,to:r.to,insert:t.state.doc.slice(r.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,r.to))}:(X.mac||X.android)&&n&&n.from==n.to&&n.from==r.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(i&&n.insert.length==2&&(i=I.single(i.main.anchor-1,i.main.head-1)),n={from:r.from,to:r.to,insert:be.of([" "])}):X.chrome&&n&&n.from==n.to&&n.from==r.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(i&&(i=I.single(i.main.anchor-1,i.main.head-1)),n={from:r.from,to:r.to,insert:be.of([" "])}),n){if(X.ios&&t.inputState.flushIOSKey()||X.android&&(n.to==r.to&&(n.from==r.from||n.from==r.from-1&&t.state.sliceDoc(n.from,r.from)==" ")&&n.insert.length==1&&n.insert.lines==2&&Ur(t.contentDOM,"Enter",13)||(n.from==r.from-1&&n.to==r.to&&n.insert.length==0||s==8&&n.insert.length<n.to-n.from&&n.to>r.head)&&Ur(t.contentDOM,"Backspace",8)||n.from==r.from&&n.to==r.to+1&&n.insert.length==0&&Ur(t.contentDOM,"Delete",46)))return!0;let o=n.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let a,l=()=>a||(a=c4(t,n,i));return t.state.facet(Aw).some(u=>u(t,n.from,n.to,o,l))||t.dispatch(l()),!0}else if(i&&!i.main.eq(r)){let o=!1,a="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(o=!0),a=t.inputState.lastSelectionOrigin),t.dispatch({selection:i,scrollIntoView:o,userEvent:a}),!0}else return!1}function c4(t,e,n){let i,r=t.state,s=r.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let a=s.from<e.from?r.sliceDoc(s.from,e.from):"",l=s.to>e.to?r.sliceDoc(e.to,s.to):"";i=r.replaceSelection(t.state.toText(a+e.insert.sliceString(0,void 0,t.state.lineBreak)+l))}else{let a=r.changes(e),l=n&&n.main.to<=a.newLength?n.main:void 0;if(r.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let u=t.state.sliceDoc(e.from,e.to),c,h=n&&Lw(t,n.main.head);if(h){let p=e.insert.length-(e.to-e.from);c={from:h.from,to:h.to-p}}else c=t.state.doc.lineAt(s.head);let f=s.to-e.to,d=s.to-s.from;i=r.changeByRange(p=>{if(p.from==s.from&&p.to==s.to)return{changes:a,range:l||p.map(a)};let g=p.to-f,m=g-u.length;if(p.to-p.from!=d||t.state.sliceDoc(m,g)!=u||p.to>=c.from&&p.from<=c.to)return{range:p};let O=r.changes({from:m,to:g,insert:e.insert}),y=p.to-s.to;return{changes:O,range:l?I.range(Math.max(0,l.anchor+y),Math.max(0,l.head+y)):p.map(O)}})}else i={changes:a,selection:l&&r.selection.replaceRange(l)}}let o="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,o+=".compose",t.inputState.compositionFirstChange&&(o+=".start",t.inputState.compositionFirstChange=!1)),r.update(i,{userEvent:o,scrollIntoView:!0})}function h4(t,e,n,i){let r=Math.min(t.length,e.length),s=0;for(;s<r&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==r&&t.length==e.length)return null;let o=t.length,a=e.length;for(;o>0&&a>0&&t.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(i=="end"){let l=Math.max(0,s-Math.min(o,a));n-=o+l-s}if(o<s&&t.length<e.length){let l=n<=s&&n>=o?s-n:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=n<=s&&n>=a?s-n:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function f4(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:s}=t.observer.selectionRange;return n&&(e.push(new wO(n,i)),(r!=n||s!=i)&&e.push(new wO(r,s))),e}function d4(t,e){if(t.length==0)return null;let n=t[0].pos,i=t.length==2?t[1].pos:n;return n>-1&&i>-1?I.single(n+e,i+e):null}const p4={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},uh=X.ie&&X.ie_version<=11;class m4{constructor(e){this.view=e,this.active=!1,this.selectionRange=new U6,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let i of n)this.queue.push(i);(X.ie&&X.ie_version<=11||X.ios&&e.composing)&&n.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),uh&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,i)=>n!=e[i]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,r=this.selectionRange;if(i.state.facet(vc)?i.root.activeElement!=this.dom:!Vl(i.dom,r))return;let s=r.anchorNode&&i.docView.nearest(r.anchorNode);if(s&&s.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(X.ie&&X.ie_version<=11||X.android&&X.chrome)&&!i.state.selection.main.empty&&r.focusNode&&vo(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=X.safari&&e.root.nodeType==11&&z6(this.dom.ownerDocument)==this.dom&&g4(this.view)||bu(e.root);if(!n||this.selectionRange.eq(n))return!1;let i=Vl(this.dom,n);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&H6(this.dom,n)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(n),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let i=this.dom;i;)if(i.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=n)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,p4),uh&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),uh&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var i;if(!this.delayedAndroidKey){let r=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&Ur(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(r)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,i=-1,r=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(r=!0),n==-1?{from:n,to:i}=o:(n=Math.min(o.from,n),i=Math.max(o.to,i)))}return{from:n,to:i,typeOver:r}}readChange(){let{from:e,to:n,typeOver:i}=this.processRecords(),r=this.selectionChanged&&Vl(this.dom,this.selectionRange);if(e<0&&!r)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new u4(this.view,e,n,i);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let i=this.view.state,r=Jw(this.view,n);return this.view.state==i&&this.view.update([]),r}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.flags|=4),e.type=="childList"){let i=kO(n,e.previousSibling||e.target.previousSibling,-1),r=kO(n,e.nextSibling||e.target.nextSibling,1);return{from:i?n.posAfter(i):n.posAtStart,to:r?n.posBefore(r):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,n,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect();for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function kO(t,e,n){for(;e;){let i=Re.get(e);if(i&&i.parent==t)return i;let r=e.parentNode;e=r!=t.dom?r:n>0?e.nextSibling:e.previousSibling}return null}function g4(t){let e=null;function n(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}if(t.contentDOM.addEventListener("beforeinput",n,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",n,!0),!e)return null;let i=e.startContainer,r=e.startOffset,s=e.endContainer,o=e.endOffset,a=t.docView.domAtPos(t.state.selection.main.anchor);return vo(a.node,a.offset,s,o)&&([i,r,s,o]=[s,o,i,r]),{anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:o}}class Y{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:n}=e;this.dispatchTransactions=e.dispatchTransactions||n&&(i=>i.forEach(r=>n(r,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||G6(e.parent)||document,this.viewState=new yO(e.state||pe.create(e)),e.scrollTo&&e.scrollTo.is(il)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(io).map(i=>new sh(i));for(let i of this.plugins)i.update(this);this.observer=new m4(this),this.inputState=new $I(this),this.inputState.ensureHandlers(this.plugins),this.docView=new tO(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure()}dispatch(...e){let n=e.length==1&&e[0]instanceof qe?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,i=!1,r,s=this.state;for(let f of e){if(f.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=f.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(f=>f.annotation(qw))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=Ww(s,o),l||(a=1));let u=this.observer.delayedAndroidKey,c=null;if(u?(this.observer.clearDelayedAndroidKey(),c=this.observer.readChange(),(c&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(c=null)):this.observer.clear(),s.facet(pe.phrases)!=this.state.facet(pe.phrases))return this.setState(s);r=yu.create(this,s,e),r.flags|=a;let h=this.viewState.scrollTarget;try{this.updateState=2;for(let f of e){if(h&&(h=h.map(f.changes)),f.scrollIntoView){let{main:d}=f.state.selection;h=new Gr(d.empty?d:I.cursor(d.head,d.head>d.anchor?-1:1))}for(let d of f.effects)d.is(il)&&(h=d.value.clip(this.state))}this.viewState.update(r,h),this.bidiCache=vu.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),n=this.docView.update(r),this.state.facet(ro)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(f=>f.isUserEvent("select.pointer")))}finally{this.updateState=0}if(r.startState.facet(ul)!=r.state.facet(ul)&&(this.viewState.mustMeasureContent=!0),(n||i||h||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!r.empty)for(let f of this.state.facet(zf))try{f(r)}catch(d){Ht(this.state,d,"update listener")}(l||c)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),c&&!Jw(this,c)&&u.force&&Ur(this.contentDOM,u.key,u.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new yO(e),this.plugins=e.facet(io).map(i=>new sh(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView.destroy(),this.docView=new tO(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(io),i=e.state.facet(io);if(n!=i){let r=[];for(let s of i){let o=n.indexOf(s);if(o<0)r.push(new sh(s));else{let a=this.plugins[o];a.mustUpdate=e,r.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=r,this.pluginMap.clear()}else for(let r of this.plugins)r.mustUpdate=e;for(let r=0;r<this.plugins.length;r++)this.plugins[r].update(this);n!=i&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(i){Ht(this.state,i,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,i=this.scrollDOM,r=i.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(r-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(o<0)if(cw(i))s=-1,o=this.viewState.heightMap.height;else{let d=this.viewState.scrollAnchorAt(r);s=d.from,o=d.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let u=[];l&4||([this.measureRequests,u]=[u,this.measureRequests]);let c=u.map(d=>{try{return d.read(this)}catch(p){return Ht(this.state,p),SO}}),h=yu.create(this,this.state,[]),f=!1;h.flags|=l,n?n.flags|=l:n=h,this.updateState=2,h.empty||(this.updatePlugins(h),this.inputState.update(h),this.updateAttrs(),f=this.docView.update(h),f&&this.docViewUpdate());for(let d=0;d<u.length;d++)if(c[d]!=SO)try{let p=u[d];p.write&&p.write(c[d],this)}catch(p){Ht(this.state,p)}if(f&&this.docView.updateSelection(!0),!h.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let p=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(p>1||p<-1){r=r+p,i.scrollTop=r/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let a of this.state.facet(zf))a(n)}get themeClasses(){return Uf+" "+(this.state.facet(Yf)?Hw:Gw)+" "+this.state.facet(ul)}updateAttrs(){let e=xO(this,Iw,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(vc)?"true":"false",class:"cm-content",style:`${X.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),xO(this,Fp,n);let i=this.observer.ignore(()=>{let r=Ff(this.contentDOM,this.contentAttrs,n),s=Ff(this.dom,this.editorAttrs,e);return r||s});return this.editorAttrs=e,this.contentAttrs=n,i}showAnnouncements(e){let n=!0;for(let i of e)for(let r of i.effects)if(r.is(Y.announce)){n&&(this.announceDOM.textContent=""),n=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=r.value}}mountStyles(){this.styleModules=this.state.facet(ro);let e=this.state.facet(Y.cspNonce);Di.mount(this.root,this.styleModules.concat(o4).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.spec!=e)&&this.pluginMap.set(e,n=this.plugins.find(i=>i.spec==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,i){return ah(this,e,aO(this,e,n,i))}moveByGroup(e,n){return ah(this,e,aO(this,e,n,i=>AI(this,e.head,i)))}visualLineSide(e,n){let i=this.bidiSpans(e),r=this.textDirectionAt(e.from),s=i[n?i.length-1:0];return I.cursor(s.side(n,r)+e.from,s.forward(!n,r)?1:-1)}moveToLineBoundary(e,n,i=!0){return EI(this,e,n,i)}moveVertically(e,n,i){return ah(this,e,CI(this,e,n,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),Mw(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let i=this.docView.coordsAt(e,n);if(!i||i.left==i.right)return i;let r=this.state.doc.lineAt(e),s=this.bidiSpans(r),o=s[Si.find(s,e-r.from,-1,n)];return bc(i,o.dir==We.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet($w)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>O4)return kw(e.length);let n=this.textDirectionAt(e.from),i;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==n&&(s.fresh||ww(s.isolates,i=eO(this,e))))return s.order;i||(i=eO(this,e));let r=uI(e.text,n,i);return this.bidiCache.push(new vu(e.from,e.to,n,i,!0,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||X.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{lw(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return il.of(new Gr(typeof e=="number"?I.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,i=this.viewState.scrollAnchorAt(e);return il.of(new Gr(I.cursor(i.from),"start","start",i.top-e,n,!0))}static domEventHandlers(e){return Nn.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Nn.define(()=>({}),{eventObservers:e})}static theme(e,n){let i=Di.newName(),r=[ul.of(i),ro.of(Gf(`.${i}`,e))];return n&&n.dark&&r.push(Yf.of(!0)),r}static baseTheme(e){return Sr.lowest(ro.of(Gf("."+Uf,e,Kw)))}static findFromDOM(e){var n;let i=e.querySelector(".cm-content"),r=i&&Re.get(i)||Re.get(e);return((n=r?.rootView)===null||n===void 0?void 0:n.view)||null}}Y.styleModule=ro;Y.inputHandler=Aw;Y.focusChangeEffect=Cw;Y.perLineTextDirection=$w;Y.exceptionSink=Ew;Y.updateListener=zf;Y.editable=vc;Y.mouseSelectionStyle=Pw;Y.dragMovesSelection=Tw;Y.clickAddsSelectionRange=xw;Y.decorations=Yo;Y.outerDecorations=Qw;Y.atomicRanges=Np;Y.bidiIsolatedRanges=Rw;Y.scrollMargins=Dw;Y.darkTheme=Yf;Y.cspNonce=K.define({combine:t=>t.length?t[0]:""});Y.contentAttributes=Fp;Y.editorAttributes=Iw;Y.lineWrapping=Y.contentAttributes.of({class:"cm-lineWrapping"});Y.announce=xe.define();const O4=4096,SO={};class vu{constructor(e,n,i,r,s,o){this.from=e,this.to=n,this.dir=i,this.isolates=r,this.fresh=s,this.order=o}static update(e,n){if(n.empty&&!e.some(s=>s.fresh))return e;let i=[],r=e.length?e[e.length-1].dir:We.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==r&&!n.touchesRange(o.from,o.to)&&i.push(new vu(n.mapPos(o.from,1),n.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return i}}function xO(t,e,n){for(let i=t.state.facet(e),r=i.length-1;r>=0;r--){let s=i[r],o=typeof s=="function"?s(t):s;o&&Mf(o,n)}return n}const b4=X.mac?"mac":X.windows?"win":X.linux?"linux":"key";function y4(t,e){const n=t.split(/-(?!$)/);let i=n[n.length-1];i=="Space"&&(i=" ");let r,s,o,a;for(let l=0;l<n.length-1;++l){const u=n[l];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))s=!0;else if(/^s(hift)?$/i.test(u))o=!0;else if(/^mod$/i.test(u))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+u)}return r&&(i="Alt-"+i),s&&(i="Ctrl-"+i),a&&(i="Meta-"+i),o&&(i="Shift-"+i),i}function cl(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const v4=Sr.default(Y.domEventHandlers({keydown(t,e){return S4(_4(e.state),t,e,"editor")}})),Aa=K.define({enables:v4}),TO=new WeakMap;function _4(t){let e=t.facet(Aa),n=TO.get(e);return n||TO.set(e,n=k4(e.reduce((i,r)=>i.concat(r),[]))),n}let yi=null;const w4=4e3;function k4(t,e=b4){let n=Object.create(null),i=Object.create(null),r=(o,a)=>{let l=i[o];if(l==null)i[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,u,c)=>{var h,f;let d=n[o]||(n[o]=Object.create(null)),p=a.split(/ (?!$)/).map(O=>y4(O,e));for(let O=1;O<p.length;O++){let y=p.slice(0,O).join(" ");r(y,!0),d[y]||(d[y]={preventDefault:!0,stopPropagation:!1,run:[v=>{let k=yi={view:v,prefix:y,scope:o};return setTimeout(()=>{yi==k&&(yi=null)},w4),!0}]})}let g=p.join(" ");r(g,!1);let m=d[g]||(d[g]={preventDefault:!1,stopPropagation:!1,run:((f=(h=d._any)===null||h===void 0?void 0:h.run)===null||f===void 0?void 0:f.slice())||[]});l&&m.run.push(l),u&&(m.preventDefault=!0),c&&(m.stopPropagation=!0)};for(let o of t){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let u of a){let c=n[u]||(n[u]=Object.create(null));c._any||(c._any={preventDefault:!1,stopPropagation:!1,run:[]});for(let h in c)c[h].run.push(o.any)}let l=o[e]||o.key;if(l)for(let u of a)s(u,l,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(u,"Shift-"+l,o.shift,o.preventDefault,o.stopPropagation)}return n}function S4(t,e,n,i){let r=X6(e),s=kn(r,0),o=bi(s)==r.length&&r!=" ",a="",l=!1,u=!1,c=!1;yi&&yi.view==n&&yi.scope==i&&(a=yi.prefix+" ",Nw.indexOf(e.keyCode)<0&&(u=!0,yi=null));let h=new Set,f=m=>{if(m){for(let O of m.run)if(!h.has(O)&&(h.add(O),O(n,e)))return m.stopPropagation&&(c=!0),!0;m.preventDefault&&(m.stopPropagation&&(c=!0),u=!0)}return!1},d=t[i],p,g;return d&&(f(d[a+cl(r,e,!o)])?l=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(X.windows&&e.ctrlKey&&e.altKey)&&(p=Vi[e.keyCode])&&p!=r?(f(d[a+cl(p,e,!0)])||e.shiftKey&&(g=qo[e.keyCode])!=r&&g!=p&&f(d[a+cl(g,e,!1)]))&&(l=!0):o&&e.shiftKey&&f(d[a+cl(r,e,!0)])&&(l=!0),!l&&f(d._any)&&(l=!0)),u&&(l=!0),l&&c&&e.stopPropagation(),l}const x4=!X.ios,PO={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};x4&&(PO[".cm-line"].caretColor="transparent !important",PO[".cm-content"]={caretColor:"transparent !important"});class T4 extends Ta{constructor(e){super(),this.content=e}toDOM(){let e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}coordsAt(e){let n=e.firstChild?hs(e.firstChild):[];if(!n.length)return null;let i=window.getComputedStyle(e.parentNode),r=bc(n[0],i.direction!="rtl"),s=parseInt(i.lineHeight);return r.bottom-r.top>s*1.5?{left:r.left,right:r.right,top:r.top,bottom:r.top+s}:r}ignoreEvent(){return!1}}function P4(t){return Nn.fromClass(class{constructor(e){this.view=e,this.placeholder=t?ke.set([ke.widget({widget:new T4(t),side:1}).range(0)]):ke.none}get decorations(){return this.view.state.doc.length?ke.none:this.placeholder}},{decorations:e=>e.decorations})}const js="-10000px";class E4{constructor(e,n,i,r){this.facet=n,this.createTooltipView=i,this.removeTooltipView=r,this.input=e.state.facet(n),this.tooltips=this.input.filter(o=>o);let s=null;this.tooltipViews=this.tooltips.map(o=>s=i(o,s))}update(e,n){var i;let r=e.state.facet(this.facet),s=r.filter(l=>l);if(r===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let o=[],a=n?[]:null;for(let l=0;l<s.length;l++){let u=s[l],c=-1;if(u){for(let h=0;h<this.tooltips.length;h++){let f=this.tooltips[h];f&&f.create==u.create&&(c=h)}if(c<0)o[l]=this.createTooltipView(u,l?o[l-1]:null),a&&(a[l]=!!u.above);else{let h=o[l]=this.tooltipViews[c];a&&(a[l]=n[c]),h.update&&h.update(e)}}}for(let l of this.tooltipViews)o.indexOf(l)<0&&(this.removeTooltipView(l),(i=l.destroy)===null||i===void 0||i.call(l));return n&&(a.forEach((l,u)=>n[u]=l),n.length=a.length),this.input=r,this.tooltips=s,this.tooltipViews=o,!0}}function A4(t){let{win:e}=t;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const ch=K.define({combine:t=>{var e,n,i;return{position:X.ios?"absolute":((e=t.find(r=>r.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(r=>r.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((i=t.find(r=>r.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||A4}}}),EO=new WeakMap,ek=Nn.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(ch);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new E4(t,tk,(n,i)=>this.createTooltip(n,i),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,i=t.state.facet(ch);if(i.position!=this.position&&!this.madeAbsolute){this.position=i.position;for(let r of this.manager.tooltipViews)r.dom.style.position=this.position;n=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let r of this.manager.tooltipViews)this.container.appendChild(r.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),i=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let r=document.createElement("div");r.className="cm-tooltip-arrow",n.dom.insertBefore(r,i)}return n.dom.style.position=this.position,n.dom.style.top=js,n.dom.style.left="0px",this.container.insertBefore(n.dom,i),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let i of this.manager.tooltipViews)i.dom.remove(),(t=i.destroy)===null||t===void 0||t.call(i);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect(),e=1,n=1,i=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:r}=this.manager.tooltipViews[0];if(X.gecko)i=r.offsetParent!=this.container.ownerDocument.body;else if(r.style.top==js&&r.style.left=="0px"){let s=r.getBoundingClientRect();i=Math.abs(s.top+1e4)>1||Math.abs(s.left)>1}}if(i||this.position=="absolute")if(this.parent){let r=this.parent.getBoundingClientRect();r.width&&r.height&&(e=r.width/this.parent.offsetWidth,n=r.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:n}=this.view.viewState);return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map((r,s)=>{let o=this.manager.tooltipViews[s];return o.getCoords?o.getCoords(r.pos):this.view.coordsAtPos(r.pos)}),size:this.manager.tooltipViews.map(({dom:r})=>r.getBoundingClientRect()),space:this.view.state.facet(ch).tooltipSpace(this.view),scaleX:e,scaleY:n,makeAbsolute:i}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{editor:n,space:i,scaleX:r,scaleY:s}=t,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],u=this.manager.tooltipViews[a],{dom:c}=u,h=t.pos[a],f=t.size[a];if(!h||h.bottom<=Math.max(n.top,i.top)||h.top>=Math.min(n.bottom,i.bottom)||h.right<Math.max(n.left,i.left)-.1||h.left>Math.min(n.right,i.right)+.1){c.style.top=js;continue}let d=l.arrow?u.dom.querySelector(".cm-tooltip-arrow"):null,p=d?7:0,g=f.right-f.left,m=(e=EO.get(u))!==null&&e!==void 0?e:f.bottom-f.top,O=u.offset||$4,y=this.view.textDirection==We.LTR,v=f.width>i.right-i.left?y?i.left:i.right-f.width:y?Math.min(h.left-(d?14:0)+O.x,i.right-g):Math.max(i.left,h.left-g+(d?14:0)-O.x),k=this.above[a];!l.strictSide&&(k?h.top-(f.bottom-f.top)-O.y<i.top:h.bottom+(f.bottom-f.top)+O.y>i.bottom)&&k==i.bottom-h.bottom>h.top-i.top&&(k=this.above[a]=!k);let _=(k?h.top-i.top:i.bottom-h.bottom)-p;if(_<m&&u.resize!==!1){if(_<this.view.defaultLineHeight){c.style.top=js;continue}EO.set(u,m),c.style.height=(m=_)/s+"px"}else c.style.height&&(c.style.height="");let A=k?h.top-m-p-O.y:h.bottom+p+O.y,T=v+g;if(u.overlap!==!0)for(let x of o)x.left<T&&x.right>v&&x.top<A+m&&x.bottom>A&&(A=k?x.top-m-2-p:x.bottom+p+2);if(this.position=="absolute"?(c.style.top=(A-t.parent.top)/s+"px",c.style.left=(v-t.parent.left)/r+"px"):(c.style.top=A/s+"px",c.style.left=v/r+"px"),d){let x=h.left+(y?O.x:-O.x)-(v+14-7);d.style.left=x/r+"px"}u.overlap!==!0&&o.push({left:v,top:A,right:T,bottom:A+m}),c.classList.toggle("cm-tooltip-above",k),c.classList.toggle("cm-tooltip-below",!k),u.positioned&&u.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=js}},{eventObservers:{scroll(){this.maybeMeasure()}}}),C4=Y.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),$4={x:0,y:0},tk=K.define({enables:[ek,C4]});function nk(t,e){let n=t.plugin(ek);if(!n)return null;let i=n.manager.tooltips.indexOf(e);return i<0?null:n.manager.tooltipViews[i]}class ds extends pr{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}ds.prototype.elementClass="";ds.prototype.toDOM=void 0;ds.prototype.mapMode=xt.TrackBefore;ds.prototype.startSide=ds.prototype.endSide=-1;ds.prototype.point=!0;const ik=1024;let I4=0;class Kt{constructor(e,n){this.from=e,this.to=n}}class J{constructor(e={}){this.id=I4++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Ye.match(e)),n=>{let i=e(n);return i===void 0?null:[this,i]}}}J.closedBy=new J({deserialize:t=>t.split(" ")});J.openedBy=new J({deserialize:t=>t.split(" ")});J.group=new J({deserialize:t=>t.split(" ")});J.isolate=new J({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});J.contextHash=new J({perNode:!0});J.lookAhead=new J({perNode:!0});J.mounted=new J({perNode:!0});class Uo{constructor(e,n,i){this.tree=e,this.overlay=n,this.parser=i}static get(e){return e&&e.props&&e.props[J.mounted.id]}}const Q4=Object.create(null);class Ye{constructor(e,n,i,r=0){this.name=e,this.props=n,this.id=i,this.flags=r}static define(e){let n=e.props&&e.props.length?Object.create(null):Q4,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),r=new Ye(e.name||"",n,e.id,i);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(r)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[s[0].id]=s[1]}}return r}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(J.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let i in e)for(let r of i.split(" "))n[r]=e[i];return i=>{for(let r=i.prop(J.group),s=-1;s<(r?r.length:0);s++){let o=n[s<0?i.name:r[s]];if(o)return o}}}}Ye.none=new Ye("",Object.create(null),0,8);class As{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let i of this.types){let r=null;for(let s of e){let o=s(i);o&&(r||(r=Object.assign({},i.props)),r[o[0].id]=o[1])}n.push(r?new Ye(i.name,r,i.id,i.flags):i)}return new As(n)}}const hl=new WeakMap,AO=new WeakMap;var Te;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(Te||(Te={}));class se{constructor(e,n,i,r,s){if(this.type=e,this.children=n,this.positions=i,this.length=r,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=Uo.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let i of this.children){let r=i.toString();r&&(n&&(n+=","),n+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new _u(this.topNode,e)}cursorAt(e,n=0,i=0){let r=hl.get(this)||this.topNode,s=new _u(r);return s.moveTo(e,n),hl.set(this,s._tree),s}get topNode(){return new wt(this,0,0,null)}resolve(e,n=0){let i=Go(hl.get(this)||this.topNode,e,n,!1);return hl.set(this,i),i}resolveInner(e,n=0){let i=Go(AO.get(this)||this.topNode,e,n,!0);return AO.set(this,i),i}resolveStack(e,n=0){return V4(this,e,n)}iterate(e){let{enter:n,leave:i,from:r=0,to:s=this.length}=e,o=e.mode||0,a=(o&Te.IncludeAnonymous)>0;for(let l=this.cursor(o|Te.IncludeAnonymous);;){let u=!1;if(l.from<=s&&l.to>=r&&(!a&&l.type.isAnonymous||n(l)!==!1)){if(l.firstChild())continue;u=!0}for(;u&&i&&(a||!l.type.isAnonymous)&&i(l),!l.nextSibling();){if(!l.parent())return;u=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:zp(Ye.none,this.children,this.positions,0,this.children.length,0,this.length,(n,i,r)=>new se(this.type,n,i,r,this.propValues),e.makeTree||((n,i,r)=>new se(Ye.none,n,i,r)))}static build(e){return L4(e)}}se.empty=new se(Ye.none,[],[],0);class jp{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new jp(this.buffer,this.index)}}class Zi{constructor(e,n,i){this.buffer=e,this.length=n,this.set=i}get type(){return Ye.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],i=this.buffer[e+3],r=this.set.types[n],s=r.name;if(/\W/.test(s)&&!r.isError&&(s=JSON.stringify(s)),e+=4,i==e)return s;let o=[];for(;e<i;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,n,i,r,s){let{buffer:o}=this,a=-1;for(let l=e;l!=n&&!(rk(s,r,o[l+1],o[l+2])&&(a=l,i>0));l=o[l+3]);return a}slice(e,n,i){let r=this.buffer,s=new Uint16Array(n-e),o=0;for(let a=e,l=0;a<n;){s[l++]=r[a++],s[l++]=r[a++]-i;let u=s[l++]=r[a++]-i;s[l++]=r[a++]-e,o=Math.max(o,u)}return new Zi(s,o,this.set)}}function rk(t,e,n,i){switch(t){case-2:return n<e;case-1:return i>=e&&n<e;case 0:return n<e&&i>e;case 1:return n<=e&&i>e;case 2:return i>e;case 4:return!0}}function Go(t,e,n,i){for(var r;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let o=!i&&t instanceof wt&&t.index<0?null:t.parent;if(!o)return t;t=o}let s=i?0:Te.IgnoreOverlays;if(i)for(let o=t,a=o.parent;a;o=a,a=o.parent)o instanceof wt&&o.index<0&&((r=a.enter(e,n,s))===null||r===void 0?void 0:r.from)!=o.from&&(t=a);for(;;){let o=t.enter(e,n,s);if(!o)return t;t=o}}class sk{cursor(e=0){return new _u(this,e)}getChild(e,n=null,i=null){let r=CO(this,e,n,i);return r.length?r[0]:null}getChildren(e,n=null,i=null){return CO(this,e,n,i)}resolve(e,n=0){return Go(this,e,n,!1)}resolveInner(e,n=0){return Go(this,e,n,!0)}matchContext(e){return Hf(this,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),i=this;for(;n;){let r=n.lastChild;if(!r||r.to!=n.to)break;r.type.isError&&r.from==r.to?(i=n,n=r.prevSibling):n=r}return i}get node(){return this}get next(){return this.parent}}class wt extends sk{constructor(e,n,i,r){super(),this._tree=e,this.from=n,this.index=i,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,i,r,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,u=n>0?a.length:-1;e!=u;e+=n){let c=a[e],h=l[e]+o.from;if(rk(r,i,h,h+c.length)){if(c instanceof Zi){if(s&Te.ExcludeBuffers)continue;let f=c.findChild(0,c.buffer.length,n,i-h,r);if(f>-1)return new Cn(new R4(o,c,e,h),null,f)}else if(s&Te.IncludeAnonymous||!c.type.isAnonymous||Xp(c)){let f;if(!(s&Te.IgnoreMounts)&&(f=Uo.get(c))&&!f.overlay)return new wt(f.tree,h,e,o);let d=new wt(c,h,e,o);return s&Te.IncludeAnonymous||!d.type.isAnonymous?d:d.nextChild(n<0?c.children.length-1:0,n,i,r)}}}if(s&Te.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+n:e=n<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,i=0){let r;if(!(i&Te.IgnoreOverlays)&&(r=Uo.get(this._tree))&&r.overlay){let s=e-this.from;for(let{from:o,to:a}of r.overlay)if((n>0?o<=s:o<s)&&(n<0?a>=s:a>s))return new wt(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function CO(t,e,n,i){let r=t.cursor(),s=[];if(!r.firstChild())return s;if(n!=null){for(let o=!1;!o;)if(o=r.type.is(n),!r.nextSibling())return s}for(;;){if(i!=null&&r.type.is(i))return s;if(r.type.is(e)&&s.push(r.node),!r.nextSibling())return i==null?s:[]}}function Hf(t,e,n=e.length-1){for(let i=t.parent;n>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[n]&&e[n]!=i.name)return!1;n--}}return!0}class R4{constructor(e,n,i,r){this.parent=e,this.buffer=n,this.index=i,this.start=r}}class Cn extends sk{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,i){super(),this.context=e,this._parent=n,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,n,i){let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],e,n-this.context.start,i);return s<0?null:new Cn(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,i=0){if(i&Te.ExcludeBuffers)return null;let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return s<0?null:new Cn(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Cn(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new Cn(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:i}=this.context,r=this.index+4,s=i.buffer[this.index+3];if(s>r){let o=i.buffer[this.index+1];e.push(i.slice(r,s,o)),n.push(0)}return new se(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function ok(t){if(!t.length)return null;let e=0,n=t[0];for(let s=1;s<t.length;s++){let o=t[s];(o.from>n.from||o.to<n.to)&&(n=o,e=s)}let i=n instanceof wt&&n.index<0?null:n.parent,r=t.slice();return i?r[e]=i:r.splice(e,1),new D4(r,n)}class D4{constructor(e,n){this.heads=e,this.node=n}get next(){return ok(this.heads)}}function V4(t,e,n){let i=t.resolveInner(e,n),r=null;for(let s=i instanceof wt?i:i.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(r||(r=[i])).push(o.resolve(e,n)),s=o}else{let o=Uo.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new wt(o.tree,o.overlay[0].from+s.from,-1,s);(r||(r=[i])).push(Go(a,e,n,!1))}}return r?ok(r):i}class _u{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof wt)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:i,buffer:r}=this.buffer;return this.type=n||r.set.types[r.buffer[e]],this.from=i+r.buffer[e+1],this.to=i+r.buffer[e+2],!0}yield(e){return e?e instanceof wt?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,i,this.mode));let{buffer:r}=this.buffer,s=r.findChild(this.index+4,r.buffer[this.index+3],e,n-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,i=this.mode){return this.buffer?i&Te.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Te.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Te.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,i=this.stack.length-1;if(e<0){let r=i<0?0:this.stack[i]+4;if(this.index!=r)return this.yieldBuf(n.findChild(r,this.index,-1,0,4))}else{let r=n.buffer[this.index+3];if(r<(i<0?n.buffer.length:n.buffer[this.stack[i]+3]))return this.yieldBuf(r)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,i,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(r.buffer.buffer[s+3]<this.index)return!1;({index:n,parent:i}=r)}else({index:n,_parent:i}=this._tree);for(;i;{index:n,_parent:i}=i)if(n>-1)for(let s=n+e,o=e<0?-1:i._tree.children.length;s!=o;s+=e){let a=i._tree.children[s];if(this.mode&Te.IncludeAnonymous||a instanceof Zi||!a.type.isAnonymous||Xp(a))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,i=0;if(e&&e.context==this.buffer)e:for(let r=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==r){if(r==this.index)return o;n=o,i=s+1;break e}r=this.stack[--s]}for(let r=i;r<this.stack.length;r++)n=new Cn(this.buffer,n,this.stack[r]);return this.bufferNode=new Cn(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let i=0;;){let r=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(r=!0)}for(;r&&n&&n(this),r=this.type.isAnonymous,!this.nextSibling();){if(!i)return;this.parent(),i--,r=!0}}}matchContext(e){if(!this.buffer)return Hf(this.node,e);let{buffer:n}=this.buffer,{types:i}=n.set;for(let r=e.length-1,s=this.stack.length-1;r>=0;s--){if(s<0)return Hf(this.node,e,r);let o=i[n.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[r]&&e[r]!=o.name)return!1;r--}}return!0}}function Xp(t){return t.children.some(e=>e instanceof Zi||!e.type.isAnonymous||Xp(e))}function L4(t){var e;let{buffer:n,nodeSet:i,maxBufferLength:r=ik,reused:s=[],minRepeatType:o=i.types.length}=t,a=Array.isArray(n)?new jp(n,n.length):n,l=i.types,u=0,c=0;function h(_,A,T,x,B,V){let{id:j,start:R,end:M,size:z}=a,H=c;for(;z<0;)if(a.next(),z==-1){let ce=s[j];T.push(ce),x.push(R-_);return}else if(z==-3){u=j;return}else if(z==-4){c=j;return}else throw new RangeError(`Unrecognized record size: ${z}`);let U=l[j],me,we,Je=R-_;if(M-R<=r&&(we=m(a.pos-A,B))){let ce=new Uint16Array(we.size-we.skip),he=a.pos-we.size,dt=ce.length;for(;a.pos>he;)dt=O(we.start,ce,dt);me=new Zi(ce,M-we.start,i),Je=we.start-_}else{let ce=a.pos-z;a.next();let he=[],dt=[],qt=j>=o?j:-1,ln=0,Lt=M;for(;a.pos>ce;)qt>=0&&a.id==qt&&a.size>=0?(a.end<=Lt-r&&(p(he,dt,R,ln,a.end,Lt,qt,H),ln=he.length,Lt=a.end),a.next()):V>2500?f(R,ce,he,dt):h(R,ce,he,dt,qt,V+1);if(qt>=0&&ln>0&&ln<he.length&&p(he,dt,R,ln,R,Lt,qt,H),he.reverse(),dt.reverse(),qt>-1&&ln>0){let Xi=d(U);me=zp(U,he,dt,0,he.length,0,M-R,Xi,Xi)}else me=g(U,he,dt,M-R,H-M)}T.push(me),x.push(Je)}function f(_,A,T,x){let B=[],V=0,j=-1;for(;a.pos>A;){let{id:R,start:M,end:z,size:H}=a;if(H>4)a.next();else{if(j>-1&&M<j)break;j<0&&(j=z-r),B.push(R,M,z),V++,a.next()}}if(V){let R=new Uint16Array(V*4),M=B[B.length-2];for(let z=B.length-3,H=0;z>=0;z-=3)R[H++]=B[z],R[H++]=B[z+1]-M,R[H++]=B[z+2]-M,R[H++]=H;T.push(new Zi(R,B[2]-M,i)),x.push(M-_)}}function d(_){return(A,T,x)=>{let B=0,V=A.length-1,j,R;if(V>=0&&(j=A[V])instanceof se){if(!V&&j.type==_&&j.length==x)return j;(R=j.prop(J.lookAhead))&&(B=T[V]+j.length+R)}return g(_,A,T,x,B)}}function p(_,A,T,x,B,V,j,R){let M=[],z=[];for(;_.length>x;)M.push(_.pop()),z.push(A.pop()+T-B);_.push(g(i.types[j],M,z,V-B,R-V)),A.push(B-T)}function g(_,A,T,x,B=0,V){if(u){let j=[J.contextHash,u];V=V?[j].concat(V):[j]}if(B>25){let j=[J.lookAhead,B];V=V?[j].concat(V):[j]}return new se(_,A,T,x,V)}function m(_,A){let T=a.fork(),x=0,B=0,V=0,j=T.end-r,R={size:0,start:0,skip:0};e:for(let M=T.pos-_;T.pos>M;){let z=T.size;if(T.id==A&&z>=0){R.size=x,R.start=B,R.skip=V,V+=4,x+=4,T.next();continue}let H=T.pos-z;if(z<0||H<M||T.start<j)break;let U=T.id>=o?4:0,me=T.start;for(T.next();T.pos>H;){if(T.size<0)if(T.size==-3)U+=4;else break e;else T.id>=o&&(U+=4);T.next()}B=me,x+=z,V+=U}return(A<0||x==_)&&(R.size=x,R.start=B,R.skip=V),R.size>4?R:void 0}function O(_,A,T){let{id:x,start:B,end:V,size:j}=a;if(a.next(),j>=0&&x<o){let R=T;if(j>4){let M=a.pos-(j-4);for(;a.pos>M;)T=O(_,A,T)}A[--T]=R,A[--T]=V-_,A[--T]=B-_,A[--T]=x}else j==-3?u=x:j==-4&&(c=x);return T}let y=[],v=[];for(;a.pos>0;)h(t.start||0,t.bufferStart||0,y,v,-1,0);let k=(e=t.length)!==null&&e!==void 0?e:y.length?v[0]+y[0].length:0;return new se(l[t.topID],y.reverse(),v.reverse(),k)}const $O=new WeakMap;function Ml(t,e){if(!t.isAnonymous||e instanceof Zi||e.type!=t)return 1;let n=$O.get(e);if(n==null){n=1;for(let i of e.children){if(i.type!=t||!(i instanceof se)){n=1;break}n+=Ml(t,i)}$O.set(e,n)}return n}function zp(t,e,n,i,r,s,o,a,l){let u=0;for(let p=i;p<r;p++)u+=Ml(t,e[p]);let c=Math.ceil(u*1.5/8),h=[],f=[];function d(p,g,m,O,y){for(let v=m;v<O;){let k=v,_=g[v],A=Ml(t,p[v]);for(v++;v<O;v++){let T=Ml(t,p[v]);if(A+T>=c)break;A+=T}if(v==k+1){if(A>c){let T=p[k];d(T.children,T.positions,0,T.children.length,g[k]+y);continue}h.push(p[k])}else{let T=g[v-1]+p[v-1].length-_;h.push(zp(t,p,g,k,v,_,T,null,l))}f.push(_+y-s)}}return d(e,n,i,r,0),(a||l)(h,f,o)}class ak{constructor(){this.map=new WeakMap}setBuffer(e,n,i){let r=this.map.get(e);r||this.map.set(e,r=new Map),r.set(n,i)}getBuffer(e,n){let i=this.map.get(e);return i&&i.get(n)}set(e,n){e instanceof Cn?this.setBuffer(e.context.buffer,e.index,n):e instanceof wt&&this.map.set(e.tree,n)}get(e){return e instanceof Cn?this.getBuffer(e.context.buffer,e.index):e instanceof wt?this.map.get(e.tree):void 0}cursorSet(e,n){e.buffer?this.setBuffer(e.buffer.buffer,e.index,n):this.map.set(e.tree,n)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class Jn{constructor(e,n,i,r,s=!1,o=!1){this.from=e,this.to=n,this.tree=i,this.offset=r,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],i=!1){let r=[new Jn(0,e.length,e,0,!1,i)];for(let s of n)s.to>e.length&&r.push(s);return r}static applyChanges(e,n,i=128){if(!n.length)return e;let r=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,u=0;;a++){let c=a<n.length?n[a]:null,h=c?c.fromA:1e9;if(h-l>=i)for(;o&&o.from<h;){let f=o;if(l>=f.from||h<=f.to||u){let d=Math.max(f.from,l)-u,p=Math.min(f.to,h)-u;f=d>=p?null:new Jn(d,p,f.tree,f.offset+u,a>0,!!c)}if(f&&r.push(f),o.to>h)break;o=s<e.length?e[s++]:null}if(!c)break;l=c.toA,u=c.toA-c.toB}return r}}class _c{startParse(e,n,i){return typeof e=="string"&&(e=new Z4(e)),i=i?i.length?i.map(r=>new Kt(r.from,r.to)):[new Kt(0,0)]:[new Kt(0,e.length)],this.createParse(e,n||[],i)}parse(e,n,i){let r=this.startParse(e,n,i);for(;;){let s=r.advance();if(s)return s}}}class Z4{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}function lk(t){return(e,n,i,r)=>new F4(e,t,n,i,r)}class IO{constructor(e,n,i,r,s){this.parser=e,this.parse=n,this.overlay=i,this.target=r,this.from=s}}function QO(t){if(!t.length||t.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(t))}class M4{constructor(e,n,i,r,s,o,a){this.parser=e,this.predicate=n,this.mounts=i,this.index=r,this.start=s,this.target=o,this.prev=a,this.depth=0,this.ranges=[]}}const Kf=new J({perNode:!0});class F4{constructor(e,n,i,r,s){this.nest=n,this.input=i,this.fragments=r,this.ranges=s,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let i=this.baseParse.advance();if(!i)return null;if(this.baseParse=null,this.baseTree=i,this.startInner(),this.stoppedAt!=null)for(let r of this.inner)r.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let i=this.baseTree;return this.stoppedAt!=null&&(i=new se(i.type,i.children,i.positions,i.length,i.propValues.concat([[Kf,this.stoppedAt]]))),i}let e=this.inner[this.innerDone],n=e.parse.advance();if(n){this.innerDone++;let i=Object.assign(Object.create(null),e.target.props);i[J.mounted.id]=new Uo(n,e.overlay,e.parser),e.target.props=i}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].from<e&&(e=Math.min(e,this.inner[n].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].parse.stopAt(e)}startInner(){let e=new j4(this.fragments),n=null,i=null,r=new _u(new wt(this.baseTree,this.ranges[0].from,0,null),Te.IncludeAnonymous|Te.IgnoreMounts);e:for(let s,o;;){let a=!0,l;if(this.stoppedAt!=null&&r.from>=this.stoppedAt)a=!1;else if(e.hasNode(r)){if(n){let u=n.mounts.find(c=>c.frag.from<=r.from&&c.frag.to>=r.to&&c.mount.overlay);if(u)for(let c of u.mount.overlay){let h=c.from+u.pos,f=c.to+u.pos;h>=r.from&&f<=r.to&&!n.ranges.some(d=>d.from<f&&d.to>h)&&n.ranges.push({from:h,to:f})}}a=!1}else if(i&&(o=N4(i.ranges,r.from,r.to)))a=o!=2;else if(!r.type.isAnonymous&&(s=this.nest(r,this.input))&&(r.from<r.to||!s.overlay)){r.tree||B4(r);let u=e.findMounts(r.from,s.parser);if(typeof s.overlay=="function")n=new M4(s.parser,s.overlay,u,this.inner.length,r.from,r.tree,n);else{let c=VO(this.ranges,s.overlay||(r.from<r.to?[new Kt(r.from,r.to)]:[]));c.length&&QO(c),(c.length||!s.overlay)&&this.inner.push(new IO(s.parser,c.length?s.parser.startParse(this.input,LO(u,c),c):s.parser.startParse(""),s.overlay?s.overlay.map(h=>new Kt(h.from-r.from,h.to-r.from)):null,r.tree,c.length?c[0].from:r.from)),s.overlay?c.length&&(i={ranges:c,depth:0,prev:i}):a=!1}}else n&&(l=n.predicate(r))&&(l===!0&&(l=new Kt(r.from,r.to)),l.from<l.to&&n.ranges.push(l));if(a&&r.firstChild())n&&n.depth++,i&&i.depth++;else for(;!r.nextSibling();){if(!r.parent())break e;if(n&&!--n.depth){let u=VO(this.ranges,n.ranges);u.length&&(QO(u),this.inner.splice(n.index,0,new IO(n.parser,n.parser.startParse(this.input,LO(n.mounts,u),u),n.ranges.map(c=>new Kt(c.from-n.start,c.to-n.start)),n.target,u[0].from))),n=n.prev}i&&!--i.depth&&(i=i.prev)}}}}function N4(t,e,n){for(let i of t){if(i.from>=n)break;if(i.to>e)return i.from<=e&&i.to>=n?2:1}return 0}function RO(t,e,n,i,r,s){if(e<n){let o=t.buffer[e+1];i.push(t.slice(e,n,o)),r.push(o-s)}}function B4(t){let{node:e}=t,n=[],i=e.context.buffer;do n.push(t.index),t.parent();while(!t.tree);let r=t.tree,s=r.children.indexOf(i),o=r.children[s],a=o.buffer,l=[s];function u(c,h,f,d,p,g){let m=n[g],O=[],y=[];RO(o,c,m,O,y,d);let v=a[m+1],k=a[m+2];l.push(O.length);let _=g?u(m+4,a[m+3],o.set.types[a[m]],v,k-v,g-1):e.toTree();return O.push(_),y.push(v-d),RO(o,a[m+3],h,O,y,d),new se(f,O,y,p)}r.children[s]=u(0,a.length,Ye.none,0,o.length,n.length-1);for(let c of l){let h=t.tree.children[c],f=t.tree.positions[c];t.yield(new wt(h,f+t.from,c,t._tree))}}class DO{constructor(e,n){this.offset=n,this.done=!1,this.cursor=e.cursor(Te.IncludeAnonymous|Te.IgnoreMounts)}moveTo(e){let{cursor:n}=this,i=e-this.offset;for(;!this.done&&n.from<i;)n.to>=e&&n.enter(i,1,Te.IgnoreOverlays|Te.ExcludeBuffers)||n.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let n=this.cursor.tree;;){if(n==e.tree)return!0;if(n.children.length&&n.positions[0]==0&&n.children[0]instanceof se)n=n.children[0];else break}return!1}}let j4=class{constructor(e){var n;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let i=this.curFrag=e[0];this.curTo=(n=i.tree.prop(Kf))!==null&&n!==void 0?n:i.to,this.inner=new DO(i.tree,-i.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let n=this.curFrag=this.fragments[this.fragI];this.curTo=(e=n.tree.prop(Kf))!==null&&e!==void 0?e:n.to,this.inner=new DO(n.tree,-n.offset)}}findMounts(e,n){var i;let r=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let s=this.inner.cursor.node;s;s=s.parent){let o=(i=s.tree)===null||i===void 0?void 0:i.prop(J.mounted);if(o&&o.parser==n)for(let a=this.fragI;a<this.fragments.length;a++){let l=this.fragments[a];if(l.from>=s.to)break;l.tree==this.curFrag.tree&&r.push({frag:l,pos:s.from-l.offset,mount:o})}}}return r}};function VO(t,e){let n=null,i=e;for(let r=1,s=0;r<t.length;r++){let o=t[r-1].to,a=t[r].from;for(;s<i.length;s++){let l=i[s];if(l.from>=a)break;l.to<=o||(n||(i=n=e.slice()),l.from<o?(n[s]=new Kt(l.from,o),l.to>a&&n.splice(s+1,0,new Kt(a,l.to))):l.to>a?n[s--]=new Kt(a,l.to):n.splice(s--,1))}}return i}function X4(t,e,n,i){let r=0,s=0,o=!1,a=!1,l=-1e9,u=[];for(;;){let c=r==t.length?1e9:o?t[r].to:t[r].from,h=s==e.length?1e9:a?e[s].to:e[s].from;if(o!=a){let f=Math.max(l,n),d=Math.min(c,h,i);f<d&&u.push(new Kt(f,d))}if(l=Math.min(c,h),l==1e9)break;c==l&&(o?(o=!1,r++):o=!0),h==l&&(a?(a=!1,s++):a=!0)}return u}function LO(t,e){let n=[];for(let{pos:i,mount:r,frag:s}of t){let o=i+(r.overlay?r.overlay[0].from:0),a=o+r.tree.length,l=Math.max(s.from,o),u=Math.min(s.to,a);if(r.overlay){let c=r.overlay.map(f=>new Kt(f.from+i,f.to+i)),h=X4(e,c,l,u);for(let f=0,d=l;;f++){let p=f==h.length,g=p?u:h[f].from;if(g>d&&n.push(new Jn(d,g,r.tree,-o,s.from>=d||s.openStart,s.to<=g||s.openEnd)),p)break;d=h[f].to}}else n.push(new Jn(l,u,r.tree,-o,s.from>=o||s.openStart,s.to<=a||s.openEnd))}return n}let z4=0;class cn{constructor(e,n,i){this.set=e,this.base=n,this.modified=i,this.id=z4++}static define(e){if(e?.base)throw new Error("Can not derive from a modified tag");let n=new cn([],null,[]);if(n.set.push(n),e)for(let i of e.set)n.set.push(i);return n}static defineModifier(){let e=new wu;return n=>n.modified.indexOf(e)>-1?n:wu.get(n.base||n,n.modified.concat(e).sort((i,r)=>i.id-r.id))}}let q4=0;class wu{constructor(){this.instances=[],this.id=q4++}static get(e,n){if(!n.length)return e;let i=n[0].instances.find(a=>a.base==e&&W4(n,a.modified));if(i)return i;let r=[],s=new cn(r,e,n);for(let a of n)a.instances.push(s);let o=Y4(n);for(let a of e.set)if(!a.modified.length)for(let l of o)r.push(wu.get(a,l));return s}}function W4(t,e){return t.length==e.length&&t.every((n,i)=>n==e[i])}function Y4(t){let e=[[]];for(let n=0;n<t.length;n++)for(let i=0,r=e.length;i<r;i++)e.push(e[i].concat(t[n]));return e.sort((n,i)=>i.length-n.length)}function Cs(t){let e=Object.create(null);for(let n in t){let i=t[n];Array.isArray(i)||(i=[i]);for(let r of n.split(" "))if(r){let s=[],o=2,a=r;for(let h=0;;){if(a=="..."&&h>0&&h+3==r.length){o=1;break}let f=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!f)throw new RangeError("Invalid path: "+r);if(s.push(f[0]=="*"?"":f[0][0]=='"'?JSON.parse(f[0]):f[0]),h+=f[0].length,h==r.length)break;let d=r[h++];if(h==r.length&&d=="!"){o=0;break}if(d!="/")throw new RangeError("Invalid path: "+r);a=r.slice(h)}let l=s.length-1,u=s[l];if(!u)throw new RangeError("Invalid path: "+r);let c=new ku(i,o,l>0?s.slice(0,l):null);e[u]=c.sort(e[u])}}return uk.add(e)}const uk=new J;class ku{constructor(e,n,i,r){this.tags=e,this.mode=n,this.context=i,this.next=r}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}ku.empty=new ku([],2,null);function ck(t,e){let n=Object.create(null);for(let s of t)if(!Array.isArray(s.tag))n[s.tag.id]=s.class;else for(let o of s.tag)n[o.id]=s.class;let{scope:i,all:r=null}=e||{};return{style:s=>{let o=r;for(let a of s)for(let l of a.set){let u=n[l.id];if(u){o=o?o+" "+u:u;break}}return o},scope:i}}function U4(t,e){let n=null;for(let i of t){let r=i.style(e);r&&(n=n?n+" "+r:r)}return n}function G4(t,e,n,i=0,r=t.length){let s=new H4(i,Array.isArray(e)?e:[e],n);s.highlightRange(t.cursor(),i,r,"",s.highlighters),s.flush(r)}class H4{constructor(e,n,i){this.at=e,this.highlighters=n,this.span=i,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,i,r,s){let{type:o,from:a,to:l}=e;if(a>=i||l<=n)return;o.isTop&&(s=this.highlighters.filter(d=>!d.scope||d.scope(o)));let u=r,c=K4(e)||ku.empty,h=U4(s,c.tags);if(h&&(u&&(u+=" "),u+=h,c.mode==1&&(r+=(r?" ":"")+h)),this.startSpan(Math.max(n,a),u),c.opaque)return;let f=e.tree&&e.tree.prop(J.mounted);if(f&&f.overlay){let d=e.node.enter(f.overlay[0].from+a,1),p=this.highlighters.filter(m=>!m.scope||m.scope(f.tree.type)),g=e.firstChild();for(let m=0,O=a;;m++){let y=m<f.overlay.length?f.overlay[m]:null,v=y?y.from+a:l,k=Math.max(n,O),_=Math.min(i,v);if(k<_&&g)for(;e.from<_&&(this.highlightRange(e,k,_,r,s),this.startSpan(Math.min(_,e.to),u),!(e.to>=v||!e.nextSibling())););if(!y||v>i)break;O=y.to+a,O>n&&(this.highlightRange(d.cursor(),Math.max(n,y.from+a),Math.min(i,O),"",p),this.startSpan(Math.min(i,O),u))}g&&e.parent()}else if(e.firstChild()){f&&(r="");do if(!(e.to<=n)){if(e.from>=i)break;this.highlightRange(e,n,i,r,s),this.startSpan(Math.min(i,e.to),u)}while(e.nextSibling());e.parent()}}}function K4(t){let e=t.type.prop(uk);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const L=cn.define,fl=L(),pi=L(),ZO=L(pi),MO=L(pi),mi=L(),dl=L(mi),hh=L(mi),wn=L(),Wi=L(wn),vn=L(),_n=L(),Jf=L(),Xs=L(Jf),pl=L(),b={comment:fl,lineComment:L(fl),blockComment:L(fl),docComment:L(fl),name:pi,variableName:L(pi),typeName:ZO,tagName:L(ZO),propertyName:MO,attributeName:L(MO),className:L(pi),labelName:L(pi),namespace:L(pi),macroName:L(pi),literal:mi,string:dl,docString:L(dl),character:L(dl),attributeValue:L(dl),number:hh,integer:L(hh),float:L(hh),bool:L(mi),regexp:L(mi),escape:L(mi),color:L(mi),url:L(mi),keyword:vn,self:L(vn),null:L(vn),atom:L(vn),unit:L(vn),modifier:L(vn),operatorKeyword:L(vn),controlKeyword:L(vn),definitionKeyword:L(vn),moduleKeyword:L(vn),operator:_n,derefOperator:L(_n),arithmeticOperator:L(_n),logicOperator:L(_n),bitwiseOperator:L(_n),compareOperator:L(_n),updateOperator:L(_n),definitionOperator:L(_n),typeOperator:L(_n),controlOperator:L(_n),punctuation:Jf,separator:L(Jf),bracket:Xs,angleBracket:L(Xs),squareBracket:L(Xs),paren:L(Xs),brace:L(Xs),content:wn,heading:Wi,heading1:L(Wi),heading2:L(Wi),heading3:L(Wi),heading4:L(Wi),heading5:L(Wi),heading6:L(Wi),contentSeparator:L(wn),list:L(wn),quote:L(wn),emphasis:L(wn),strong:L(wn),link:L(wn),monospace:L(wn),strikethrough:L(wn),inserted:L(),deleted:L(),changed:L(),invalid:L(),meta:pl,documentMeta:L(pl),annotation:L(pl),processingInstruction:L(pl),definition:cn.defineModifier(),constant:cn.defineModifier(),function:cn.defineModifier(),standard:cn.defineModifier(),local:cn.defineModifier(),special:cn.defineModifier()};ck([{tag:b.link,class:"tok-link"},{tag:b.heading,class:"tok-heading"},{tag:b.emphasis,class:"tok-emphasis"},{tag:b.strong,class:"tok-strong"},{tag:b.keyword,class:"tok-keyword"},{tag:b.atom,class:"tok-atom"},{tag:b.bool,class:"tok-bool"},{tag:b.url,class:"tok-url"},{tag:b.labelName,class:"tok-labelName"},{tag:b.inserted,class:"tok-inserted"},{tag:b.deleted,class:"tok-deleted"},{tag:b.literal,class:"tok-literal"},{tag:b.string,class:"tok-string"},{tag:b.number,class:"tok-number"},{tag:[b.regexp,b.escape,b.special(b.string)],class:"tok-string2"},{tag:b.variableName,class:"tok-variableName"},{tag:b.local(b.variableName),class:"tok-variableName tok-local"},{tag:b.definition(b.variableName),class:"tok-variableName tok-definition"},{tag:b.special(b.variableName),class:"tok-variableName2"},{tag:b.definition(b.propertyName),class:"tok-propertyName tok-definition"},{tag:b.typeName,class:"tok-typeName"},{tag:b.namespace,class:"tok-namespace"},{tag:b.className,class:"tok-className"},{tag:b.macroName,class:"tok-macroName"},{tag:b.propertyName,class:"tok-propertyName"},{tag:b.operator,class:"tok-operator"},{tag:b.comment,class:"tok-comment"},{tag:b.meta,class:"tok-meta"},{tag:b.invalid,class:"tok-invalid"},{tag:b.punctuation,class:"tok-punctuation"}]);var fh;const xi=new J;function wc(t){return K.define({combine:t?e=>e.concat(t):void 0})}const qp=new J;class Bt{constructor(e,n,i=[],r=""){this.data=e,this.name=r,pe.prototype.hasOwnProperty("tree")||Object.defineProperty(pe.prototype,"tree",{get(){return Ze(this)}}),this.parser=n,this.extension=[gs.of(this),pe.languageData.of((s,o,a)=>{let l=FO(s,o,a),u=l.type.prop(xi);if(!u)return[];let c=s.facet(u),h=l.type.prop(qp);if(h){let f=l.resolve(o-l.from,a);for(let d of h)if(d.test(f,s)){let p=s.facet(d.facet);return d.type=="replace"?p:p.concat(c)}}return c})].concat(i)}isActiveAt(e,n,i=-1){return FO(e,n,i).type.prop(xi)==this.data}findRegions(e){let n=e.facet(gs);if(n?.data==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let i=[],r=(s,o)=>{if(s.prop(xi)==this.data){i.push({from:o,to:o+s.length});return}let a=s.prop(J.mounted);if(a){if(a.tree.prop(xi)==this.data){if(a.overlay)for(let l of a.overlay)i.push({from:l.from+o,to:l.to+o});else i.push({from:o,to:o+s.length});return}else if(a.overlay){let l=i.length;if(r(a.tree,a.overlay[0].from+o),i.length>l)return}}for(let l=0;l<s.children.length;l++){let u=s.children[l];u instanceof se&&r(u,s.positions[l]+o)}};return r(Ze(e),0),i}get allowsNesting(){return!0}}Bt.setState=xe.define();function FO(t,e,n){let i=t.facet(gs),r=Ze(t).topNode;if(!i||i.allowsNesting)for(let s=r;s;s=s.enter(e,n,Te.ExcludeBuffers))s.type.isTop&&(r=s);return r}class ps extends Bt{constructor(e,n,i){super(e,n,[],i),this.parser=n}static define(e){let n=wc(e.languageData);return new ps(n,e.parser.configure({props:[xi.add(i=>i.isTop?n:void 0)]}),e.name)}configure(e,n){return new ps(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Ze(t){let e=t.field(Bt.state,!1);return e?e.tree:se.empty}class J4{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let i=this.cursorPos-this.string.length;return e<i||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-i,n-i)}}let zs=null;class br{constructor(e,n,i=[],r,s,o,a,l){this.parser=e,this.state=n,this.fragments=i,this.tree=r,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,n,i){return new br(e,n,[],se.empty,0,i,[],null)}startParse(){return this.parser.startParse(new J4(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=se.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let r=Date.now()+e;e=()=>Date.now()>r}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let r=this.parse.advance();if(r)if(this.fragments=this.withoutTempSkipped(Jn.addTree(r,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=r,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(Jn.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=zs;zs=this;try{return e()}finally{zs=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=NO(e,n.from,n.to);return e}changes(e,n){let{fragments:i,tree:r,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((u,c,h,f)=>l.push({fromA:u,toA:c,fromB:h,toB:f})),i=Jn.applyChanges(i,l),r=se.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let u of this.skipped){let c=e.mapPos(u.from,1),h=e.mapPos(u.to,-1);c<h&&a.push({from:c,to:h})}}}return new br(this.parser,n,i,r,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:r,to:s}=this.skipped[i];r<e.to&&s>e.from&&(this.fragments=NO(this.fragments,r,s),this.skipped.splice(i--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends _c{createParse(n,i,r){let s=r[0].from,o=r[r.length-1].to;return{parsedPos:s,advance(){let l=zs;if(l){for(let u of r)l.tempSkipped.push(u);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new se(Ye.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return zs}}function NO(t,e,n){return Jn.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class ms{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,i)||n.takeTree(),new ms(n)}static init(e){let n=Math.min(3e3,e.doc.length),i=br.create(e.facet(gs).parser,e,{from:0,to:n});return i.work(20,n)||i.takeTree(),new ms(i)}}Bt.state=Bn.define({create:ms.init,update(t,e){for(let n of e.effects)if(n.is(Bt.setState))return n.value;return e.startState.facet(gs)!=e.state.facet(gs)?ms.init(e.state):t.apply(e)}});let hk=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(hk=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const dh=typeof navigator<"u"&&(!((fh=navigator.scheduling)===null||fh===void 0)&&fh.isInputPending)?()=>navigator.scheduling.isInputPending():null,e5=Nn.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(Bt.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(Bt.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=hk(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:r}}=this.view,s=i.field(Bt.state);if(s.tree==s.context.tree&&s.context.isDone(r+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!dh?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<r&&i.doc.length>r+1e3,l=s.context.work(()=>dh&&dh()||Date.now()>o,r+(a?0:1e5));this.chunkBudget-=Date.now()-n,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Bt.setState.of(new ms(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>Ht(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),gs=K.define({combine(t){return t.length?t[0]:null},enables:t=>[Bt.state,e5,Y.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class Os{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}class P{constructor(e,n,i,r,s,o=void 0){this.name=e,this.alias=n,this.extensions=i,this.filename=r,this.loadFunc=s,this.support=o,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(e=>this.support=e,e=>{throw this.loading=null,e}))}static of(e){let{load:n,support:i}=e;if(!n){if(!i)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");n=()=>Promise.resolve(i)}return new P(e.name,(e.alias||[]).concat(e.name).map(r=>r.toLowerCase()),e.extensions||[],e.filename,n,i)}static matchFilename(e,n){for(let r of e)if(r.filename&&r.filename.test(n))return r;let i=/\.([^.]+)$/.exec(n);if(i){for(let r of e)if(r.extensions.indexOf(i[1])>-1)return r}return null}static matchLanguageName(e,n,i=!0){n=n.toLowerCase();for(let r of e)if(r.alias.some(s=>s==n))return r;if(i)for(let r of e)for(let s of r.alias){let o=n.indexOf(s);if(o>-1&&(s.length>2||!/\w/.test(n[o-1])&&!/\w/.test(n[o+s.length])))return r}return null}}const fk=K.define(),$s=K.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function yr(t){let e=t.facet($s);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function Su(t,e){let n="",i=t.tabSize,r=t.facet($s)[0];if(r=="	"){for(;e>=i;)n+="	",e-=i;r=" "}for(let s=0;s<e;s++)n+=r;return n}function dk(t,e){t instanceof pe&&(t=new kc(t));for(let i of t.state.facet(fk)){let r=i(t,e);if(r!==void 0)return r}let n=Ze(t.state);return n.length>=e?t5(t,n,e):null}class kc{constructor(e,n={}){this.state=e,this.options=n,this.unit=yr(e)}lineAt(e,n=1){let i=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:s}=this.options;return r!=null&&r>=i.from&&r<=i.to?s&&r==e?{text:"",from:e}:(n<0?r<e:r<=e)?{text:i.text.slice(r-i.from),from:r}:{text:i.text.slice(0,r-i.from),from:i.from}:i}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:r}=this.lineAt(e,n);return i.slice(e-r,Math.min(i.length,e+100-r))}column(e,n=1){let{text:i,from:r}=this.lineAt(e,n),s=this.countColumn(i,e-r),o=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return o>-1&&(s+=o-this.countColumn(i,i.search(/\S|$/))),s}countColumn(e,n=e.length){return ri(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:i,from:r}=this.lineAt(e,n),s=this.options.overrideIndentation;if(s){let o=s(r);if(o>-1)return o}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Ca=new J;function t5(t,e,n){let i=e.resolveStack(n),r=i.node.enterUnfinishedNodesBefore(n);if(r!=i.node){let s=[];for(let o=r;o!=i.node;o=o.parent)s.push(o);for(let o=s.length-1;o>=0;o--)i={node:s[o],next:i}}return pk(i,t,n)}function pk(t,e,n){for(let i=t;i;i=i.next){let r=i5(i.node);if(r)return r(Wp.create(e,n,i))}return 0}function n5(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function i5(t){let e=t.type.prop(Ca);if(e)return e;let n=t.firstChild,i;if(n&&(i=n.type.prop(J.closedBy))){let r=t.lastChild,s=r&&i.indexOf(r.name)>-1;return o=>mk(o,!0,1,void 0,s&&!n5(o)?r.from:void 0)}return t.parent==null?r5:null}function r5(){return 0}class Wp extends kc{constructor(e,n,i){super(e.state,e.options),this.base=e,this.pos=n,this.context=i}get node(){return this.context.node}static create(e,n,i){return new Wp(e,n,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let i=e.resolve(n.from);for(;i.parent&&i.parent.from==i.from;)i=i.parent;if(s5(i,e))break;n=this.state.doc.lineAt(i.from)}return this.lineIndent(n.from)}continue(){return pk(this.context.next,this.base,this.pos)}}function s5(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function o5(t){let e=t.node,n=e.childAfter(e.from),i=e.lastChild;if(!n)return null;let r=t.options.simulateBreak,s=t.state.doc.lineAt(n.from),o=r==null||r<=s.from?s.to:Math.min(s.to,r);for(let a=n.to;;){let l=e.childAfter(a);if(!l||l==i)return null;if(!l.type.isSkipped)return l.from<o?n:null;a=l.to}}function a5({closing:t,align:e=!0,units:n=1}){return i=>mk(i,e,n,t)}function mk(t,e,n,i,r){let s=t.textAfter,o=s.match(/^\s*/)[0].length,a=i&&s.slice(o,o+i.length)==i||r==t.pos+o,l=e?o5(t):null;return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*n)}const l5=t=>t.baseIndent;function Fl({except:t,units:e=1}={}){return n=>{let i=t&&t.test(n.textAfter);return n.baseIndent+(i?0:e*n.unit)}}const u5=K.define(),$a=new J;function gk(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}class Is{constructor(e,n){this.specs=e;let i;function r(a){let l=Di.newName();return(i||(i=Object.create(null)))["."+l]=a,l}const s=typeof n.all=="string"?n.all:n.all?r(n.all):void 0,o=n.scope;this.scope=o instanceof Bt?a=>a.prop(xi)==o.data:o?a=>a==o:void 0,this.style=ck(e.map(a=>({tag:a.tag,class:a.class||r(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=i?new Di(i):null,this.themeType=n.themeType}static define(e,n){return new Is(e,n||{})}}const ed=K.define(),Ok=K.define({combine(t){return t.length?[t[0]]:null}});function ph(t){let e=t.facet(ed);return e.length?e:t.facet(Ok)}function bk(t,e){let n=[h5],i;return t instanceof Is&&(t.module&&n.push(Y.styleModule.of(t.module)),i=t.themeType),e?.fallback?n.push(Ok.of(t)):i?n.push(ed.computeN([Y.darkTheme],r=>r.facet(Y.darkTheme)==(i=="dark")?[t]:[])):n.push(ed.of(t)),n}class c5{constructor(e){this.markCache=Object.create(null),this.tree=Ze(e.state),this.decorations=this.buildDeco(e,ph(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=Ze(e.state),i=ph(e.state),r=i!=ph(e.startState),{viewport:s}=e.view,o=e.changes.mapPos(this.decoratedTo,1);n.length<s.to&&!r&&n.type==this.tree.type&&o>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(n!=this.tree||e.viewportChanged||r)&&(this.tree=n,this.decorations=this.buildDeco(e.view,i),this.decoratedTo=s.to)}buildDeco(e,n){if(!n||!this.tree.length)return ke.none;let i=new Xo;for(let{from:r,to:s}of e.visibleRanges)G4(this.tree,n,(o,a,l)=>{i.add(o,a,this.markCache[l]||(this.markCache[l]=ke.mark({class:l})))},r,s);return i.finish()}}const h5=Sr.high(Nn.fromClass(c5,{decorations:t=>t.decorations}));b.meta,b.link,b.heading,b.emphasis,b.strong,b.strikethrough,b.keyword,b.atom,b.bool,b.url,b.contentSeparator,b.labelName,b.literal,b.inserted,b.string,b.deleted,b.regexp,b.escape,b.string,b.variableName,b.variableName,b.typeName,b.namespace,b.className,b.variableName,b.macroName,b.propertyName,b.comment,b.invalid;const f5=1e4,d5="()[]{}",yk=new J;function td(t,e,n){let i=t.prop(e<0?J.openedBy:J.closedBy);if(i)return i;if(t.name.length==1){let r=n.indexOf(t.name);if(r>-1&&r%2==(e<0?1:0))return[n[r+e]]}return null}function nd(t){let e=t.type.prop(yk);return e?e(t.node):t}function Fr(t,e,n,i={}){let r=i.maxScanDistance||f5,s=i.brackets||d5,o=Ze(t),a=o.resolveInner(e,n);for(let l=a;l;l=l.parent){let u=td(l.type,n,s);if(u&&l.from<l.to){let c=nd(l);if(c&&(n>0?e>=c.from&&e<c.to:e>c.from&&e<=c.to))return p5(t,e,n,l,c,u,s)}}return m5(t,e,n,o,a.type,r,s)}function p5(t,e,n,i,r,s,o){let a=i.parent,l={from:r.from,to:r.to},u=0,c=a?.cursor();if(c&&(n<0?c.childBefore(i.from):c.childAfter(i.to)))do if(n<0?c.to<=i.from:c.from>=i.to){if(u==0&&s.indexOf(c.type.name)>-1&&c.from<c.to){let h=nd(c);return{start:l,end:h?{from:h.from,to:h.to}:void 0,matched:!0}}else if(td(c.type,n,o))u++;else if(td(c.type,-n,o)){if(u==0){let h=nd(c);return{start:l,end:h&&h.from<h.to?{from:h.from,to:h.to}:void 0,matched:!1}}u--}}while(n<0?c.prevSibling():c.nextSibling());return{start:l,matched:!1}}function m5(t,e,n,i,r,s,o){let a=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=n>0)return null;let u={from:n<0?e-1:e,to:n>0?e+1:e},c=t.doc.iterRange(e,n>0?t.doc.length:0),h=0;for(let f=0;!c.next().done&&f<=s;){let d=c.value;n<0&&(f+=d.length);let p=e+f*n;for(let g=n>0?0:d.length-1,m=n>0?d.length:-1;g!=m;g+=n){let O=o.indexOf(d[g]);if(!(O<0||i.resolveInner(p+g,1).type!=r))if(O%2==0==n>0)h++;else{if(h==1)return{start:u,end:{from:p+g,to:p+g+1},matched:O>>1==l>>1};h--}}n>0&&(f+=d.length)}return c.done?{start:u,matched:!1}:null}function BO(t,e,n,i=0,r=0){e==null&&(e=t.search(/[^\s\u00a0]/),e==-1&&(e=t.length));let s=r;for(let o=i;o<e;o++)t.charCodeAt(o)==9?s+=n-s%n:s++;return s}class vk{constructor(e,n,i,r){this.string=e,this.tabSize=n,this.indentUnit=i,this.overrideIndent=r,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(e){let n=this.string.charAt(this.pos),i;if(typeof e=="string"?i=n==e:i=n&&(e instanceof RegExp?e.test(n):e(n)),i)return++this.pos,n}eatWhile(e){let n=this.pos;for(;this.eat(e););return this.pos>n}eatSpace(){let e=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}skipToEnd(){this.pos=this.string.length}skipTo(e){let n=this.string.indexOf(e,this.pos);if(n>-1)return this.pos=n,!0}backUp(e){this.pos-=e}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=BO(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var e;return(e=this.overrideIndent)!==null&&e!==void 0?e:BO(this.string,null,this.tabSize)}match(e,n,i){if(typeof e=="string"){let r=o=>i?o.toLowerCase():o,s=this.string.substr(this.pos,e.length);return r(s)==r(e)?(n!==!1&&(this.pos+=e.length),!0):null}else{let r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&n!==!1&&(this.pos+=r[0].length),r)}}current(){return this.string.slice(this.start,this.pos)}}function g5(t){return{name:t.name||"",token:t.token,blankLine:t.blankLine||(()=>{}),startState:t.startState||(()=>!0),copyState:t.copyState||O5,indent:t.indent||(()=>null),languageData:t.languageData||{},tokenTable:t.tokenTable||Gp}}function O5(t){if(typeof t!="object")return t;let e={};for(let n in t){let i=t[n];e[n]=i instanceof Array?i.slice():i}return e}const jO=new WeakMap;class Yp extends Bt{constructor(e){let n=wc(e.languageData),i=g5(e),r,s=new class extends _c{createParse(o,a,l){return new y5(r,o,a,l)}};super(n,s,[fk.of((o,a)=>this.getIndent(o,a))],e.name),this.topNode=w5(n),r=this,this.streamParser=i,this.stateAfter=new J({perNode:!0}),this.tokenTable=e.tokenTable?new Sk(i.tokenTable):_5}static define(e){return new Yp(e)}getIndent(e,n){let i=Ze(e.state),r=i.resolve(n);for(;r&&r.type!=this.topNode;)r=r.parent;if(!r)return null;let s,{overrideIndentation:o}=e.options;o&&(s=jO.get(e.state),s!=null&&s<n-1e4&&(s=void 0));let a=Up(this,i,0,r.from,s??n),l,u;if(a?(u=a.state,l=a.pos+1):(u=this.streamParser.startState(e.unit),l=0),n-l>1e4)return null;for(;l<n;){let h=e.state.doc.lineAt(l),f=Math.min(n,h.to);if(h.length){let d=o?o(h.from):-1,p=new vk(h.text,e.state.tabSize,e.unit,d<0?void 0:d);for(;p.pos<f-h.from;)wk(this.streamParser.token,p,u)}else this.streamParser.blankLine(u,e.unit);if(f==n)break;l=h.to+1}let c=e.lineAt(n);return o&&s==null&&jO.set(e.state,c.from),this.streamParser.indent(u,/^\s*(.*)/.exec(c.text)[1],e)}get allowsNesting(){return!1}}function Up(t,e,n,i,r){let s=n>=i&&n+e.length<=r&&e.prop(t.stateAfter);if(s)return{state:t.streamParser.copyState(s),pos:n+e.length};for(let o=e.children.length-1;o>=0;o--){let a=e.children[o],l=n+e.positions[o],u=a instanceof se&&l<r&&Up(t,a,l,i,r);if(u)return u}return null}function _k(t,e,n,i,r){if(r&&n<=0&&i>=e.length)return e;!r&&e.type==t.topNode&&(r=!0);for(let s=e.children.length-1;s>=0;s--){let o=e.positions[s],a=e.children[s],l;if(o<i&&a instanceof se){if(!(l=_k(t,a,n-o,i-o,r)))break;return r?new se(e.type,e.children.slice(0,s).concat(l),e.positions.slice(0,s+1),o+l.length):l}}return null}function b5(t,e,n,i){for(let r of e){let s=r.from+(r.openStart?25:0),o=r.to-(r.openEnd?25:0),a=s<=n&&o>n&&Up(t,r.tree,0-r.offset,n,o),l;if(a&&(l=_k(t,r.tree,n+r.offset,a.pos+r.offset,!1)))return{state:a.state,tree:l}}return{state:t.streamParser.startState(i?yr(i):4),tree:se.empty}}let y5=class{constructor(e,n,i,r){this.lang=e,this.input=n,this.fragments=i,this.ranges=r,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=r[r.length-1].to;let s=br.get(),o=r[0].from,{state:a,tree:l}=b5(e,i,o,s?.state);this.state=a,this.parsedPos=this.chunkStart=o+l.length;for(let u=0;u<l.children.length;u++)this.chunks.push(l.children[u]),this.chunkPos.push(l.positions[u]);s&&this.parsedPos<s.viewport.from-1e5&&(this.state=this.lang.streamParser.startState(yr(s.state)),s.skipUntilInView(this.parsedPos,s.viewport.from),this.parsedPos=s.viewport.from),this.moveRangeIndex()}advance(){let e=br.get(),n=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),i=Math.min(n,this.chunkStart+2048);for(e&&(i=Math.min(i,e.viewport.to));this.parsedPos<i;)this.parseLine(e);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=n?this.finish():e&&this.parsedPos>=e.viewport.to?(e.skipUntilInView(this.parsedPos,n),this.finish()):null}stopAt(e){this.stoppedAt=e}lineAfter(e){let n=this.input.chunk(e);if(this.input.lineChunks)n==`
`&&(n="");else{let i=n.indexOf(`
`);i>-1&&(n=n.slice(0,i))}return e+n.length<=this.to?n:n.slice(0,this.to-e)}nextLine(){let e=this.parsedPos,n=this.lineAfter(e),i=e+n.length;for(let r=this.rangeIndex;;){let s=this.ranges[r].to;if(s>=i||(n=n.slice(0,s-(i-n.length)),r++,r==this.ranges.length))break;let o=this.ranges[r].from,a=this.lineAfter(o);n+=a,i=o+a.length}return{line:n,end:i}}skipGapsTo(e,n,i){for(;;){let r=this.ranges[this.rangeIndex].to,s=e+n;if(i>0?r>s:r>=s)break;let o=this.ranges[++this.rangeIndex].from;n+=o-r}return n}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(e,n,i,r,s){if(this.ranges.length>1){s=this.skipGapsTo(n,s,1),n+=s;let o=this.chunk.length;s=this.skipGapsTo(i,s,-1),i+=s,r+=this.chunk.length-o}return this.chunk.push(e,n,i,r),s}parseLine(e){let{line:n,end:i}=this.nextLine(),r=0,{streamParser:s}=this.lang,o=new vk(n,e?e.state.tabSize:4,e?yr(e.state):2);if(o.eol())s.blankLine(this.state,o.indentUnit);else for(;!o.eol();){let a=wk(s.token,o,this.state);if(a&&(r=this.emitToken(this.lang.tokenTable.resolve(a),this.parsedPos+o.start,this.parsedPos+o.pos,4,r)),o.start>1e4)break}this.parsedPos=i,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let e=se.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:v5,topID:0,maxBufferLength:2048,reused:this.chunkReused});e=new se(e.type,e.children,e.positions,e.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(e),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new se(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}};function wk(t,e,n){e.start=e.pos;for(let i=0;i<10;i++){let r=t(e,n);if(e.pos>e.start)return r}throw new Error("Stream parser failed to advance stream.")}const Gp=Object.create(null),Ho=[Ye.none],v5=new As(Ho),XO=[],zO=Object.create(null),kk=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])kk[t]=xk(Gp,e);class Sk{constructor(e){this.extra=e,this.table=Object.assign(Object.create(null),kk)}resolve(e){return e?this.table[e]||(this.table[e]=xk(this.extra,e)):0}}const _5=new Sk(Gp);function mh(t,e){XO.indexOf(t)>-1||(XO.push(t),console.warn(e))}function xk(t,e){let n=[];for(let a of e.split(" ")){let l=[];for(let u of a.split(".")){let c=t[u]||b[u];c?typeof c=="function"?l.length?l=l.map(c):mh(u,`Modifier ${u} used at start of tag`):l.length?mh(u,`Tag ${u} used as modifier`):l=Array.isArray(c)?c:[c]:mh(u,`Unknown highlighting tag ${u}`)}for(let u of l)n.push(u)}if(!n.length)return 0;let i=e.replace(/ /g,"_"),r=i+" "+n.map(a=>a.id),s=zO[r];if(s)return s.id;let o=zO[r]=Ye.define({id:Ho.length,name:i,props:[Cs({[i]:n})]});return Ho.push(o),o.id}function w5(t){let e=Ye.define({id:Ho.length,name:"Document",props:[xi.add(()=>t)],top:!0});return Ho.push(e),e}We.RTL,We.LTR;const k5=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),i=Kp(t.state,n.from);return i.line?S5(t):i.block?T5(t):!1};function Hp(t,e){return({state:n,dispatch:i})=>{if(n.readOnly)return!1;let r=t(e,n);return r?(i(n.update(r)),!0):!1}}const S5=Hp(A5,0),x5=Hp(Tk,0),T5=Hp((t,e)=>Tk(t,e,E5(e)),0);function Kp(t,e){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}const qs=50;function P5(t,{open:e,close:n},i,r){let s=t.sliceDoc(i-qs,i),o=t.sliceDoc(r,r+qs),a=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(o)[0].length,u=s.length-a;if(s.slice(u-e.length,u)==e&&o.slice(l,l+n.length)==n)return{open:{pos:i-a,margin:a&&1},close:{pos:r+l,margin:l&&1}};let c,h;r-i<=2*qs?c=h=t.sliceDoc(i,r):(c=t.sliceDoc(i,i+qs),h=t.sliceDoc(r-qs,r));let f=/^\s*/.exec(c)[0].length,d=/\s*$/.exec(h)[0].length,p=h.length-d-n.length;return c.slice(f,f+e.length)==e&&h.slice(p,p+n.length)==n?{open:{pos:i+f+e.length,margin:/\s/.test(c.charAt(f+e.length))?1:0},close:{pos:r-d-n.length,margin:/\s/.test(h.charAt(p-1))?1:0}}:null}function E5(t){let e=[];for(let n of t.selection.ranges){let i=t.doc.lineAt(n.from),r=n.to<=i.to?i:t.doc.lineAt(n.to),s=e.length-1;s>=0&&e[s].to>i.from?e[s].to=r.to:e.push({from:i.from+/^\s*/.exec(i.text)[0].length,to:r.to})}return e}function Tk(t,e,n=e.selection.ranges){let i=n.map(s=>Kp(e,s.from).block);if(!i.every(s=>s))return null;let r=n.map((s,o)=>P5(e,i[o],s.from,s.to));if(t!=2&&!r.every(s=>s))return{changes:e.changes(n.map((s,o)=>r[o]?[]:[{from:s.from,insert:i[o].open+" "},{from:s.to,insert:" "+i[o].close}]))};if(t!=1&&r.some(s=>s)){let s=[];for(let o=0,a;o<r.length;o++)if(a=r[o]){let l=i[o],{open:u,close:c}=a;s.push({from:u.pos-l.open.length,to:u.pos+u.margin},{from:c.pos-c.margin,to:c.pos+l.close.length})}return{changes:s}}return null}function A5(t,e,n=e.selection.ranges){let i=[],r=-1;for(let{from:s,to:o}of n){let a=i.length,l=1e9,u=Kp(e,s).line;if(u){for(let c=s;c<=o;){let h=e.doc.lineAt(c);if(h.from>r&&(s==o||o>h.from)){r=h.from;let f=/^\s*/.exec(h.text)[0].length,d=f==h.length,p=h.text.slice(f,f+u.length)==u?f:-1;f<h.text.length&&f<l&&(l=f),i.push({line:h,comment:p,token:u,indent:f,empty:d,single:!1})}c=h.to+1}if(l<1e9)for(let c=a;c<i.length;c++)i[c].indent<i[c].line.text.length&&(i[c].indent=l);i.length==a+1&&(i[a].single=!0)}}if(t!=2&&i.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:l,indent:u,empty:c,single:h}of i)(h||!c)&&s.push({from:a.from+u,insert:l+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(t!=1&&i.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:l}of i)if(a>=0){let u=o.from+a,c=u+l.length;o.text[c-o.from]==" "&&c++,s.push({from:u,to:c})}return{changes:s}}return null}const id=li.define(),C5=li.define(),$5=K.define(),Pk=K.define({combine(t){return rw(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(i,r)=>e(i,r)||n(i,r)})}}),Ek=Bn.define({create(){return $n.empty},update(t,e){let n=e.state.facet(Pk),i=e.annotation(id);if(i){let l=Qt.fromTransaction(e,i.selection),u=i.side,c=u==0?t.undone:t.done;return l?c=Tu(c,c.length,n.minDepth,l):c=Ck(c,e.startState.selection),new $n(u==0?i.rest:c,u==0?c:i.rest)}let r=e.annotation(C5);if((r=="full"||r=="before")&&(t=t.isolate()),e.annotation(qe.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let s=Qt.fromTransaction(e),o=e.annotation(qe.time),a=e.annotation(qe.userEvent);return s?t=t.addChanges(s,o,a,n,e):e.selection&&(t=t.addSelection(e.startState.selection,o,a,n.newGroupDelay)),(r=="full"||r=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new $n(t.done.map(Qt.fromJSON),t.undone.map(Qt.fromJSON))}});function qO(t={}){return[Ek,Pk.of(t),Y.domEventHandlers({beforeinput(e,n){let i=e.inputType=="historyUndo"?Jp:e.inputType=="historyRedo"?xu:null;return i?(e.preventDefault(),i(n)):!1}})]}function Sc(t,e){return function({state:n,dispatch:i}){if(!e&&n.readOnly)return!1;let r=n.field(Ek,!1);if(!r)return!1;let s=r.pop(t,n,e);return s?(i(s),!0):!1}}const Jp=Sc(0,!1),xu=Sc(1,!1),I5=Sc(0,!0),Q5=Sc(1,!0);class Qt{constructor(e,n,i,r,s){this.changes=e,this.effects=n,this.mapped=i,this.startSelection=r,this.selectionsAfter=s}setSelAfter(e){return new Qt(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,i;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(r=>r.toJSON())}}static fromJSON(e){return new Qt(e.changes&&Ge.fromJSON(e.changes),[],e.mapped&&Ln.fromJSON(e.mapped),e.startSelection&&I.fromJSON(e.startSelection),e.selectionsAfter.map(I.fromJSON))}static fromTransaction(e,n){let i=Jt;for(let r of e.startState.facet($5)){let s=r(e);s.length&&(i=i.concat(s))}return!i.length&&e.changes.empty?null:new Qt(e.changes.invert(e.startState.doc),i,void 0,n||e.startState.selection,Jt)}static selection(e){return new Qt(void 0,Jt,void 0,void 0,e)}}function Tu(t,e,n,i){let r=e+1>n+20?e-n-1:0,s=t.slice(r,e);return s.push(i),s}function R5(t,e){let n=[],i=!1;return t.iterChangedRanges((r,s)=>n.push(r,s)),e.iterChangedRanges((r,s,o,a)=>{for(let l=0;l<n.length;){let u=n[l++],c=n[l++];a>=u&&o<=c&&(i=!0)}}),i}function D5(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,i)=>n.empty!=e.ranges[i].empty).length===0}function Ak(t,e){return t.length?e.length?t.concat(e):t:e}const Jt=[],V5=200;function Ck(t,e){if(t.length){let n=t[t.length-1],i=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-V5));return i.length&&i[i.length-1].eq(e)?t:(i.push(e),Tu(t,t.length-1,1e9,n.setSelAfter(i)))}else return[Qt.selection([e])]}function L5(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function gh(t,e){if(!t.length)return t;let n=t.length,i=Jt;for(;n;){let r=Z5(t[n-1],e,i);if(r.changes&&!r.changes.empty||r.effects.length){let s=t.slice(0,n);return s[n-1]=r,s}else e=r.mapped,n--,i=r.selectionsAfter}return i.length?[Qt.selection(i)]:Jt}function Z5(t,e,n){let i=Ak(t.selectionsAfter.length?t.selectionsAfter.map(a=>a.map(e)):Jt,n);if(!t.changes)return Qt.selection(i);let r=t.changes.map(e),s=e.mapDesc(t.changes,!0),o=t.mapped?t.mapped.composeDesc(s):s;return new Qt(r,xe.mapEffects(t.effects,e),o,t.startSelection.map(s),i)}const M5=/^(input\.type|delete)($|\.)/;class $n{constructor(e,n,i=0,r=void 0){this.done=e,this.undone=n,this.prevTime=i,this.prevUserEvent=r}isolate(){return this.prevTime?new $n(this.done,this.undone):this}addChanges(e,n,i,r,s){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!i||M5.test(i))&&(!a.selectionsAfter.length&&n-this.prevTime<r.newGroupDelay&&r.joinToEvent(s,R5(a.changes,e.changes))||i=="input.type.compose")?o=Tu(o,o.length-1,r.minDepth,new Qt(e.changes.compose(a.changes),Ak(e.effects,a.effects),a.mapped,a.startSelection,Jt)):o=Tu(o,o.length,r.minDepth,e),new $n(o,Jt,n,i)}addSelection(e,n,i,r){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:Jt;return s.length>0&&n-this.prevTime<r&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&D5(s[s.length-1],e)?this:new $n(Ck(this.done,e),this.undone,n,i)}addMapping(e){return new $n(gh(this.done,e),gh(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,i){let r=e==0?this.done:this.undone;if(r.length==0)return null;let s=r[r.length-1],o=s.selectionsAfter[0]||n.selection;if(i&&s.selectionsAfter.length)return n.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:id.of({side:e,rest:L5(r),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let a=r.length==1?Jt:r.slice(0,r.length-1);return s.mapped&&(a=gh(a,s.mapped)),n.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:id.of({side:e,rest:a,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}$n.empty=new $n(Jt,Jt);const F5=[{key:"Mod-z",run:Jp,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:xu,preventDefault:!0},{linux:"Ctrl-Shift-z",run:xu,preventDefault:!0},{key:"Mod-u",run:I5,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Q5,preventDefault:!0}];function Qs(t,e){return I.create(t.ranges.map(e),t.mainIndex)}function jn(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function gn({state:t,dispatch:e},n){let i=Qs(t.selection,n);return i.eq(t.selection,!0)?!1:(e(jn(t,i)),!0)}function xc(t,e){return I.cursor(e?t.to:t.from)}function $k(t,e){return gn(t,n=>n.empty?t.moveByChar(n,e):xc(n,e))}function St(t){return t.textDirectionAt(t.state.selection.main.head)==We.LTR}const Ik=t=>$k(t,!St(t)),Qk=t=>$k(t,St(t));function Rk(t,e){return gn(t,n=>n.empty?t.moveByGroup(n,e):xc(n,e))}const N5=t=>Rk(t,!St(t)),B5=t=>Rk(t,St(t));function j5(t,e,n){if(e.type.prop(n))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function Tc(t,e,n){let i=Ze(t).resolveInner(e.head),r=n?J.closedBy:J.openedBy;for(let l=e.head;;){let u=n?i.childAfter(l):i.childBefore(l);if(!u)break;j5(t,u,r)?i=u:l=n?u.to:u.from}let s=i.type.prop(r),o,a;return s&&(o=n?Fr(t,i.from,1):Fr(t,i.to,-1))&&o.matched?a=n?o.end.to:o.end.from:a=n?i.to:i.from,I.cursor(a,n?-1:1)}const X5=t=>gn(t,e=>Tc(t.state,e,!St(t))),z5=t=>gn(t,e=>Tc(t.state,e,St(t)));function Dk(t,e){return gn(t,n=>{if(!n.empty)return xc(n,e);let i=t.moveVertically(n,e);return i.head!=n.head?i:t.moveToLineBoundary(n,e)})}const Vk=t=>Dk(t,!1),Lk=t=>Dk(t,!0);function Zk(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,i=0,r;if(e){for(let s of t.state.facet(Y.scrollMargins)){let o=s(t);o?.top&&(n=Math.max(o?.top,n)),o?.bottom&&(i=Math.max(o?.bottom,i))}r=t.scrollDOM.clientHeight-n-i}else r=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:i,selfScroll:e,height:Math.max(t.defaultLineHeight,r-5)}}function Mk(t,e){let n=Zk(t),{state:i}=t,r=Qs(i.selection,o=>o.empty?t.moveVertically(o,e,n.height):xc(o,e));if(r.eq(i.selection))return!1;let s;if(n.selfScroll){let o=t.coordsAtPos(i.selection.main.head),a=t.scrollDOM.getBoundingClientRect(),l=a.top+n.marginTop,u=a.bottom-n.marginBottom;o&&o.top>l&&o.bottom<u&&(s=Y.scrollIntoView(r.main.head,{y:"start",yMargin:o.top-l}))}return t.dispatch(jn(i,r),{effects:s}),!0}const WO=t=>Mk(t,!1),rd=t=>Mk(t,!0);function ji(t,e,n){let i=t.lineBlockAt(e.head),r=t.moveToLineBoundary(e,n);if(r.head==e.head&&r.head!=(n?i.to:i.from)&&(r=t.moveToLineBoundary(e,n,!1)),!n&&r.head==i.from&&i.length){let s=/^\s*/.exec(t.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;s&&e.head!=i.from+s&&(r=I.cursor(i.from+s))}return r}const q5=t=>gn(t,e=>ji(t,e,!0)),W5=t=>gn(t,e=>ji(t,e,!1)),Y5=t=>gn(t,e=>ji(t,e,!St(t))),U5=t=>gn(t,e=>ji(t,e,St(t))),G5=t=>gn(t,e=>I.cursor(t.lineBlockAt(e.head).from,1)),H5=t=>gn(t,e=>I.cursor(t.lineBlockAt(e.head).to,-1));function K5(t,e,n){let i=!1,r=Qs(t.selection,s=>{let o=Fr(t,s.head,-1)||Fr(t,s.head,1)||s.head>0&&Fr(t,s.head-1,1)||s.head<t.doc.length&&Fr(t,s.head+1,-1);if(!o||!o.end)return s;i=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return n?I.range(s.anchor,a):I.cursor(a)});return i?(e(jn(t,r)),!0):!1}const J5=({state:t,dispatch:e})=>K5(t,e,!1);function on(t,e){let n=Qs(t.state.selection,i=>{let r=e(i);return I.range(i.anchor,r.head,r.goalColumn,r.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(jn(t.state,n)),!0)}function Fk(t,e){return on(t,n=>t.moveByChar(n,e))}const Nk=t=>Fk(t,!St(t)),Bk=t=>Fk(t,St(t));function jk(t,e){return on(t,n=>t.moveByGroup(n,e))}const eQ=t=>jk(t,!St(t)),tQ=t=>jk(t,St(t)),nQ=t=>on(t,e=>Tc(t.state,e,!St(t))),iQ=t=>on(t,e=>Tc(t.state,e,St(t)));function Xk(t,e){return on(t,n=>t.moveVertically(n,e))}const zk=t=>Xk(t,!1),qk=t=>Xk(t,!0);function Wk(t,e){return on(t,n=>t.moveVertically(n,e,Zk(t).height))}const YO=t=>Wk(t,!1),UO=t=>Wk(t,!0),rQ=t=>on(t,e=>ji(t,e,!0)),sQ=t=>on(t,e=>ji(t,e,!1)),oQ=t=>on(t,e=>ji(t,e,!St(t))),aQ=t=>on(t,e=>ji(t,e,St(t))),lQ=t=>on(t,e=>I.cursor(t.lineBlockAt(e.head).from)),uQ=t=>on(t,e=>I.cursor(t.lineBlockAt(e.head).to)),GO=({state:t,dispatch:e})=>(e(jn(t,{anchor:0})),!0),HO=({state:t,dispatch:e})=>(e(jn(t,{anchor:t.doc.length})),!0),KO=({state:t,dispatch:e})=>(e(jn(t,{anchor:t.selection.main.anchor,head:0})),!0),JO=({state:t,dispatch:e})=>(e(jn(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),cQ=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),hQ=({state:t,dispatch:e})=>{let n=Pc(t).map(({from:i,to:r})=>I.range(i,Math.min(r+1,t.doc.length)));return e(t.update({selection:I.create(n),userEvent:"select"})),!0},fQ=({state:t,dispatch:e})=>{let n=Qs(t.selection,i=>{var r;let s=Ze(t).resolveStack(i.from,1);for(let o=s;o;o=o.next){let{node:a}=o;if((a.from<i.from&&a.to>=i.to||a.to>i.to&&a.from<=i.from)&&(!((r=a.parent)===null||r===void 0)&&r.parent))return I.range(a.to,a.from)}return i});return e(jn(t,n)),!0},dQ=({state:t,dispatch:e})=>{let n=t.selection,i=null;return n.ranges.length>1?i=I.create([n.main]):n.main.empty||(i=I.create([I.cursor(n.main.head)])),i?(e(jn(t,i)),!0):!1};function Ia(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:i}=t,r=i.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let l=e(s);l<o?(n="delete.backward",l=ml(t,l,!1)):l>o&&(n="delete.forward",l=ml(t,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=ml(t,o,!1),a=ml(t,a,!0);return o==a?{range:s}:{changes:{from:o,to:a},range:I.cursor(o,o<s.head?-1:1)}});return r.changes.empty?!1:(t.dispatch(i.update(r,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?Y.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function ml(t,e,n){if(t instanceof Y)for(let i of t.state.facet(Y.atomicRanges).map(r=>r(t)))i.between(e,e,(r,s)=>{r<e&&s>e&&(e=n?s:r)});return e}const Yk=(t,e)=>Ia(t,n=>{let i=n.from,{state:r}=t,s=r.doc.lineAt(i),o,a;if(!e&&i>s.from&&i<s.from+200&&!/[^ \t]/.test(o=s.text.slice(0,i-s.from))){if(o[o.length-1]=="	")return i-1;let l=ri(o,r.tabSize),u=l%yr(r)||yr(r);for(let c=0;c<u&&o[o.length-1-c]==" ";c++)i--;a=i}else a=Pt(s.text,i-s.from,e,e)+s.from,a==i&&s.number!=(e?r.doc.lines:1)?a+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(s.text.slice(a-s.from,i-s.from))&&(a=Pt(s.text,a-s.from,!1,!1)+s.from);return a}),sd=t=>Yk(t,!1),Uk=t=>Yk(t,!0),Gk=(t,e)=>Ia(t,n=>{let i=n.head,{state:r}=t,s=r.doc.lineAt(i),o=r.charCategorizer(i);for(let a=null;;){if(i==(e?s.to:s.from)){i==n.head&&s.number!=(e?r.doc.lines:1)&&(i+=e?1:-1);break}let l=Pt(s.text,i-s.from,e)+s.from,u=s.text.slice(Math.min(i,l)-s.from,Math.max(i,l)-s.from),c=o(u);if(a!=null&&c!=a)break;(u!=" "||i!=n.head)&&(a=c),i=l}return i}),Hk=t=>Gk(t,!1),pQ=t=>Gk(t,!0),mQ=t=>Ia(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),gQ=t=>Ia(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),OQ=t=>Ia(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),bQ=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:be.of(["",""])},range:I.cursor(i.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},yQ=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(i=>{if(!i.empty||i.from==0||i.from==t.doc.length)return{range:i};let r=i.from,s=t.doc.lineAt(r),o=r==s.from?r-1:Pt(s.text,r-s.from,!1)+s.from,a=r==s.to?r+1:Pt(s.text,r-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:t.doc.slice(r,a).append(t.doc.slice(o,r))},range:I.cursor(a)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Pc(t){let e=[],n=-1;for(let i of t.selection.ranges){let r=t.doc.lineAt(i.from),s=t.doc.lineAt(i.to);if(!i.empty&&i.to==s.from&&(s=t.doc.lineAt(i.to-1)),n>=r.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(i)}else e.push({from:r.from,to:s.to,ranges:[i]});n=s.number+1}return e}function Kk(t,e,n){if(t.readOnly)return!1;let i=[],r=[];for(let s of Pc(t)){if(n?s.to==t.doc.length:s.from==0)continue;let o=t.doc.lineAt(n?s.to+1:s.from-1),a=o.length+1;if(n){i.push({from:s.to,to:o.to},{from:s.from,insert:o.text+t.lineBreak});for(let l of s.ranges)r.push(I.range(Math.min(t.doc.length,l.anchor+a),Math.min(t.doc.length,l.head+a)))}else{i.push({from:o.from,to:s.from},{from:s.to,insert:t.lineBreak+o.text});for(let l of s.ranges)r.push(I.range(l.anchor-a,l.head-a))}}return i.length?(e(t.update({changes:i,scrollIntoView:!0,selection:I.create(r,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const vQ=({state:t,dispatch:e})=>Kk(t,e,!1),_Q=({state:t,dispatch:e})=>Kk(t,e,!0);function Jk(t,e,n){if(t.readOnly)return!1;let i=[];for(let r of Pc(t))n?i.push({from:r.from,insert:t.doc.slice(r.from,r.to)+t.lineBreak}):i.push({from:r.to,insert:t.lineBreak+t.doc.slice(r.from,r.to)});return e(t.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const wQ=({state:t,dispatch:e})=>Jk(t,e,!1),kQ=({state:t,dispatch:e})=>Jk(t,e,!0),eS=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(Pc(e).map(({from:r,to:s})=>(r>0?r--:s<e.doc.length&&s++,{from:r,to:s}))),i=Qs(e.selection,r=>t.moveVertically(r,!0)).map(n);return t.dispatch({changes:n,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function SQ(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=Ze(t).resolveInner(e),i=n.childBefore(e),r=n.childAfter(e),s;return i&&r&&i.to<=e&&r.from>=e&&(s=i.type.prop(J.closedBy))&&s.indexOf(r.name)>-1&&t.doc.lineAt(i.to).from==t.doc.lineAt(r.from).from&&!/\S/.test(t.sliceDoc(i.to,r.from))?{from:i.to,to:r.from}:null}const xQ=tS(!1),TQ=tS(!0);function tS(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let i=e.changeByRange(r=>{let{from:s,to:o}=r,a=e.doc.lineAt(s),l=!t&&s==o&&SQ(e,s);t&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let u=new kc(e,{simulateBreak:s,simulateDoubleBreak:!!l}),c=dk(u,s);for(c==null&&(c=ri(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:s,to:o}=l:s>a.from&&s<a.from+100&&!/\S/.test(a.text.slice(0,s))&&(s=a.from);let h=["",Su(e,c)];return l&&h.push(Su(e,u.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:be.of(h)},range:I.cursor(s+1+h[1].length)}});return n(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function em(t,e){let n=-1;return t.changeByRange(i=>{let r=[];for(let o=i.from;o<=i.to;){let a=t.doc.lineAt(o);a.number>n&&(i.empty||i.to>a.from)&&(e(a,r,i),n=a.number),o=a.to+1}let s=t.changes(r);return{changes:r,range:I.range(s.mapPos(i.anchor,1),s.mapPos(i.head,1))}})}const PQ=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),i=new kc(t,{overrideIndentation:s=>{let o=n[s];return o??-1}}),r=em(t,(s,o,a)=>{let l=dk(i,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let u=/^\s*/.exec(s.text)[0],c=Su(t,l);(u!=c||a.from<s.from+u.length)&&(n[s.from]=l,o.push({from:s.from,to:s.from+u.length,insert:c}))});return r.changes.empty||e(t.update(r,{userEvent:"indent"})),!0},nS=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(em(t,(n,i)=>{i.push({from:n.from,insert:t.facet($s)})}),{userEvent:"input.indent"})),!0),iS=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(em(t,(n,i)=>{let r=/^\s*/.exec(n.text)[0];if(!r)return;let s=ri(r,t.tabSize),o=0,a=Su(t,Math.max(0,s-yr(t)));for(;o<r.length&&o<a.length&&r.charCodeAt(o)==a.charCodeAt(o);)o++;i.push({from:n.from+o,to:n.from+r.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),EQ=[{key:"Ctrl-b",run:Ik,shift:Nk,preventDefault:!0},{key:"Ctrl-f",run:Qk,shift:Bk},{key:"Ctrl-p",run:Vk,shift:zk},{key:"Ctrl-n",run:Lk,shift:qk},{key:"Ctrl-a",run:G5,shift:lQ},{key:"Ctrl-e",run:H5,shift:uQ},{key:"Ctrl-d",run:Uk},{key:"Ctrl-h",run:sd},{key:"Ctrl-k",run:mQ},{key:"Ctrl-Alt-h",run:Hk},{key:"Ctrl-o",run:bQ},{key:"Ctrl-t",run:yQ},{key:"Ctrl-v",run:rd}],AQ=[{key:"ArrowLeft",run:Ik,shift:Nk,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:N5,shift:eQ,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:Y5,shift:oQ,preventDefault:!0},{key:"ArrowRight",run:Qk,shift:Bk,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:B5,shift:tQ,preventDefault:!0},{mac:"Cmd-ArrowRight",run:U5,shift:aQ,preventDefault:!0},{key:"ArrowUp",run:Vk,shift:zk,preventDefault:!0},{mac:"Cmd-ArrowUp",run:GO,shift:KO},{mac:"Ctrl-ArrowUp",run:WO,shift:YO},{key:"ArrowDown",run:Lk,shift:qk,preventDefault:!0},{mac:"Cmd-ArrowDown",run:HO,shift:JO},{mac:"Ctrl-ArrowDown",run:rd,shift:UO},{key:"PageUp",run:WO,shift:YO},{key:"PageDown",run:rd,shift:UO},{key:"Home",run:W5,shift:sQ,preventDefault:!0},{key:"Mod-Home",run:GO,shift:KO},{key:"End",run:q5,shift:rQ,preventDefault:!0},{key:"Mod-End",run:HO,shift:JO},{key:"Enter",run:xQ},{key:"Mod-a",run:cQ},{key:"Backspace",run:sd,shift:sd},{key:"Delete",run:Uk},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Hk},{key:"Mod-Delete",mac:"Alt-Delete",run:pQ},{mac:"Mod-Backspace",run:gQ},{mac:"Mod-Delete",run:OQ}].concat(EQ.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),CQ=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:X5,shift:nQ},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:z5,shift:iQ},{key:"Alt-ArrowUp",run:vQ},{key:"Shift-Alt-ArrowUp",run:wQ},{key:"Alt-ArrowDown",run:_Q},{key:"Shift-Alt-ArrowDown",run:kQ},{key:"Escape",run:dQ},{key:"Mod-Enter",run:TQ},{key:"Alt-l",mac:"Ctrl-l",run:hQ},{key:"Mod-i",run:fQ,preventDefault:!0},{key:"Mod-[",run:iS},{key:"Mod-]",run:nS},{key:"Mod-Alt-\\",run:PQ},{key:"Shift-Mod-k",run:eS},{key:"Shift-Mod-\\",run:J5},{key:"Mod-/",run:k5},{key:"Alt-A",run:x5}].concat(AQ),$Q={key:"Tab",run:nS,shift:iS};class tm{constructor(e,n,i){this.state=e,this.pos=n,this.explicit=i,this.abortListeners=[]}tokenBefore(e){let n=Ze(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),i=Math.max(n.from,this.pos-250),r=n.text.slice(i-n.from,this.pos-n.from),s=r.search(sS(e,!1));return s<0?null:{from:i+s,to:this.pos,text:r.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,n){e=="abort"&&this.abortListeners&&this.abortListeners.push(n)}}function e1(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function IQ(t){let e=Object.create(null),n=Object.create(null);for(let{label:r}of t){e[r[0]]=!0;for(let s=1;s<r.length;s++)n[r[s]]=!0}let i=e1(e)+e1(n)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function rS(t){let e=t.map(r=>typeof r=="string"?{label:r}:r),[n,i]=e.every(r=>/^\w+$/.test(r.label))?[/\w*$/,/\w+$/]:IQ(e);return r=>{let s=r.matchBefore(i);return s||r.explicit?{from:s?s.from:r.pos,options:e,validFor:n}:null}}function QQ(t,e){return n=>{for(let i=Ze(n.state).resolveInner(n.pos,-1);i;i=i.parent){if(t.indexOf(i.name)>-1)return null;if(i.type.isTop)break}return e(n)}}class t1{constructor(e,n,i,r){this.completion=e,this.source=n,this.match=i,this.score=r}}function Ci(t){return t.selection.main.from}function sS(t,e){var n;let{source:i}=t,r=e&&i[0]!="^",s=i[i.length-1]!="$";return!r&&!s?t:new RegExp(`${r?"^":""}(?:${i})${s?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const oS=li.define();function RQ(t,e,n,i){let{main:r}=t.selection,s=n-r.from,o=i-r.from;return Object.assign(Object.assign({},t.changeByRange(a=>a!=r&&n!=i&&t.sliceDoc(a.from+s,a.from+o)!=t.sliceDoc(n,i)?{range:a}:{changes:{from:a.from+s,to:i==r.from?a.to:a.from+o,insert:e},range:I.cursor(a.from+s+e.length)})),{scrollIntoView:!0,userEvent:"input.complete"})}const n1=new WeakMap;function DQ(t){if(!Array.isArray(t))return t;let e=n1.get(t);return e||n1.set(t,e=rS(t)),e}const Pu=xe.define(),Ko=xe.define();class VQ{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let i=kn(e,n),r=bi(i);this.chars.push(i);let s=e.slice(n,n+r),o=s.toUpperCase();this.folded.push(kn(o==s?s.toLowerCase():o,0)),n+=r}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,!0}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return!1;let{chars:n,folded:i,any:r,precise:s,byWord:o}=this;if(n.length==1){let y=kn(e,0),v=bi(y),k=v==e.length?0:-100;if(y!=n[0])if(y==i[0])k+=-200;else return!1;return this.ret(k,[0,v])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=n.length,u=0;if(a<0){for(let y=0,v=Math.min(e.length,200);y<v&&u<l;){let k=kn(e,y);(k==n[u]||k==i[u])&&(r[u++]=y),y+=bi(k)}if(u<l)return!1}let c=0,h=0,f=!1,d=0,p=-1,g=-1,m=/[a-z]/.test(e),O=!0;for(let y=0,v=Math.min(e.length,200),k=0;y<v&&h<l;){let _=kn(e,y);a<0&&(c<l&&_==n[c]&&(s[c++]=y),d<l&&(_==n[d]||_==i[d]?(d==0&&(p=y),g=y+1,d++):d=0));let A,T=_<255?_>=48&&_<=57||_>=97&&_<=122?2:_>=65&&_<=90?1:0:(A=P6(_))!=A.toLowerCase()?1:A!=A.toUpperCase()?2:0;(!y||T==1&&m||k==0&&T!=0)&&(n[h]==_||i[h]==_&&(f=!0)?o[h++]=y:o.length&&(O=!1)),k=T,y+=bi(_)}return h==l&&o[0]==0&&O?this.result(-100+(f?-200:0),o,e):d==l&&p==0?this.ret(-200-e.length+(g==e.length?0:-100),[0,g]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):d==l?this.ret(-900-e.length,[p,g]):h==l?this.result(-100+(f?-200:0)+-700+(O?0:-1100),o,e):n.length==2?!1:this.result((r[0]?-700:0)+-200+-1100,r,e)}result(e,n,i){let r=[],s=0;for(let o of n){let a=o+(this.astral?bi(kn(i,o)):1);s&&r[s-1]==o?r[s-1]=a:(r[s++]=o,r[s++]=a)}return this.ret(e-i.length,r)}}const ct=K.define({combine(t){return rw(t,{activateOnTyping:!0,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:LQ,compareCompletions:(e,n)=>e.label.localeCompare(n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>i=>i1(e(i),n(i)),optionClass:(e,n)=>i=>i1(e(i),n(i)),addToOptions:(e,n)=>e.concat(n)})}});function i1(t,e){return t?e?t+" "+e:t:e}function LQ(t,e,n,i,r,s){let o=t.textDirection==We.RTL,a=o,l=!1,u="top",c,h,f=e.left-r.left,d=r.right-e.right,p=i.right-i.left,g=i.bottom-i.top;if(a&&f<Math.min(p,d)?a=!1:!a&&d<Math.min(p,f)&&(a=!0),p<=(a?f:d))c=Math.max(r.top,Math.min(n.top,r.bottom-g))-e.top,h=Math.min(400,a?f:d);else{l=!0,h=Math.min(400,(o?e.right:r.right-e.left)-30);let y=r.bottom-e.bottom;y>=g||y>e.top?c=n.bottom-e.top:(u="bottom",c=e.bottom-n.top)}let m=(e.bottom-e.top)/s.offsetHeight,O=(e.right-e.left)/s.offsetWidth;return{style:`${u}: ${c/m}px; max-width: ${h/O}px`,class:"cm-completionInfo-"+(l?o?"left-narrow":"right-narrow":a?"left":"right")}}function ZQ(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),n.type&&i.classList.add(...n.type.split(/\s+/g).map(r=>"cm-completionIcon-"+r)),i.setAttribute("aria-hidden","true"),i},position:20}),e.push({render(n,i,r,s){let o=document.createElement("span");o.className="cm-completionLabel";let a=n.displayLabel||n.label,l=0;for(let u=0;u<s.length;){let c=s[u++],h=s[u++];c>l&&o.appendChild(document.createTextNode(a.slice(l,c)));let f=o.appendChild(document.createElement("span"));f.appendChild(document.createTextNode(a.slice(c,h))),f.className="cm-completionMatchedText",l=h}return l<a.length&&o.appendChild(document.createTextNode(a.slice(l))),o},position:50},{render(n){if(!n.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=n.detail,i},position:80}),e.sort((n,i)=>n.position-i.position).map(n=>n.render)}function Oh(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let r=Math.floor(e/n);return{from:r*n,to:(r+1)*n}}let i=Math.floor((t-e)/n);return{from:t-(i+1)*n,to:t-i*n}}class MQ{constructor(e,n,i){this.view=e,this.stateField=n,this.applyCompletion=i,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let r=e.state.field(n),{options:s,selected:o}=r.open,a=e.state.facet(ct);this.optionContent=ZQ(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=Oh(s.length,o,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:u}=e.state.field(n).open;for(let c=l.target,h;c&&c!=this.dom;c=c.parentNode)if(c.nodeName=="LI"&&(h=/-(\d+)$/.exec(c.id))&&+h[1]<u.length){this.applyCompletion(e,u[+h[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let u=e.state.field(this.stateField,!1);u&&u.tooltip&&e.state.facet(ct).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:Ko.of(null)})}),this.showOptions(s,r.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let i=e.state.field(this.stateField),r=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),i!=r){let{options:s,selected:o,disabled:a}=i.open;(!r.open||r.open.options!=s)&&(this.range=Oh(s.length,o,e.state.facet(ct).maxRenderedOptions),this.showOptions(s,i.id)),this.updateSel(),a!=((n=r.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let i of this.currentClass.split(" "))i&&this.dom.classList.remove(i);for(let i of n.split(" "))i&&this.dom.classList.add(i);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=Oh(n.options.length,n.selected,this.view.state.facet(ct).maxRenderedOptions),this.showOptions(n.options,e.id)),this.updateSelectedOption(n.selected)){this.destroyInfo();let{completion:i}=n.options[n.selected],{info:r}=i;if(!r)return;let s=typeof r=="string"?document.createTextNode(r):r(i);if(!s)return;"then"in s?s.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,i)}).catch(o=>Ht(this.view.state,o,"completion info")):this.addInfoPane(s,i)}}addInfoPane(e,n){this.destroyInfo();let i=this.info=document.createElement("div");if(i.className="cm-tooltip cm-completionInfo",e.nodeType!=null)i.appendChild(e),this.infoDestroy=null;else{let{dom:r,destroy:s}=e;i.appendChild(r),this.infoDestroy=s||null}this.dom.appendChild(i),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let i=this.list.firstChild,r=this.range.from;i;i=i.nextSibling,r++)i.nodeName!="LI"||!i.id?r--:r==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),n=i):i.hasAttribute("aria-selected")&&i.removeAttribute("aria-selected");return n&&NQ(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),r=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.defaultView||window;s={left:0,top:0,right:o.innerWidth,bottom:o.innerHeight}}return r.top>Math.min(s.bottom,n.bottom)-10||r.bottom<Math.max(s.top,n.top)+10?null:this.view.state.facet(ct).positionInfo(this.view,n,r,i,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,i){const r=document.createElement("ul");r.id=n,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions"));let s=null;for(let o=i.from;o<i.to;o++){let{completion:a,match:l}=e[o],{section:u}=a;if(u){let f=typeof u=="string"?u:u.name;if(f!=s&&(o>i.from||i.from==0))if(s=f,typeof u!="string"&&u.header)r.appendChild(u.header(u));else{let d=r.appendChild(document.createElement("completion-section"));d.textContent=f}}const c=r.appendChild(document.createElement("li"));c.id=n+"-"+o,c.setAttribute("role","option");let h=this.optionClass(a);h&&(c.className=h);for(let f of this.optionContent){let d=f(a,this.view.state,this.view,l);d&&c.appendChild(d)}}return i.from&&r.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function FQ(t,e){return n=>new MQ(n,t,e)}function NQ(t,e){let n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),r=n.height/t.offsetHeight;i.top<n.top?t.scrollTop-=(n.top-i.top)/r:i.bottom>n.bottom&&(t.scrollTop+=(i.bottom-n.bottom)/r)}function r1(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function BQ(t,e){let n=[],i=null,r=l=>{n.push(l);let{section:u}=l.completion;if(u){i||(i=[]);let c=typeof u=="string"?u:u.name;i.some(h=>h.name==c)||i.push(typeof u=="string"?{name:c}:u)}};for(let l of t)if(l.hasResult()){let u=l.result.getMatch;if(l.result.filter===!1)for(let c of l.result.options)r(new t1(c,l.source,u?u(c):[],1e9-n.length));else{let c=new VQ(e.sliceDoc(l.from,l.to));for(let h of l.result.options)if(c.match(h.label)){let f=h.displayLabel?u?u(h,c.matched):[]:c.matched;r(new t1(h,l.source,f,c.score+(h.boost||0)))}}}if(i){let l=Object.create(null),u=0,c=(h,f)=>{var d,p;return((d=h.rank)!==null&&d!==void 0?d:1e9)-((p=f.rank)!==null&&p!==void 0?p:1e9)||(h.name<f.name?-1:1)};for(let h of i.sort(c))u-=1e5,l[h.name]=u;for(let h of n){let{section:f}=h.completion;f&&(h.score+=l[typeof f=="string"?f:f.name])}}let s=[],o=null,a=e.facet(ct).compareCompletions;for(let l of n.sort((u,c)=>c.score-u.score||a(u.completion,c.completion))){let u=l.completion;!o||o.label!=u.label||o.detail!=u.detail||o.type!=null&&u.type!=null&&o.type!=u.type||o.apply!=u.apply||o.boost!=u.boost?s.push(l):r1(l.completion)>r1(o)&&(s[s.length-1]=l),o=l.completion}return s}class Nr{constructor(e,n,i,r,s,o){this.options=e,this.attrs=n,this.tooltip=i,this.timestamp=r,this.selected=s,this.disabled=o}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new Nr(this.options,s1(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,i,r,s){let o=BQ(e,n);if(!o.length)return r&&e.some(l=>l.state==1)?new Nr(r.options,r.attrs,r.tooltip,r.timestamp,r.selected,!0):null;let a=n.facet(ct).selectOnOpen?0:-1;if(r&&r.selected!=a&&r.selected!=-1){let l=r.options[r.selected].completion;for(let u=0;u<o.length;u++)if(o[u].completion==l){a=u;break}}return new Nr(o,s1(i,a),{pos:e.reduce((l,u)=>u.hasResult()?Math.min(l,u.from):l,1e8),create:WQ,above:s.aboveCursor},r?r.timestamp:Date.now(),a,!1)}map(e){return new Nr(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class Eu{constructor(e,n,i){this.active=e,this.id=n,this.open=i}static start(){return new Eu(zQ,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,i=n.facet(ct),s=(i.override||n.languageDataAt("autocomplete",Ci(n)).map(DQ)).map(a=>(this.active.find(u=>u.source==a)||new $t(a,this.active.some(u=>u.state!=0)?1:0)).update(e,i));s.length==this.active.length&&s.every((a,l)=>a==this.active[l])&&(s=this.active);let o=this.open;o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(a=>a.hasResult()&&e.changes.touchesRange(a.from,a.to))||!jQ(s,this.active)?o=Nr.build(s,n,this.id,o,i):o&&o.disabled&&!s.some(a=>a.state==1)&&(o=null),!o&&s.every(a=>a.state!=1)&&s.some(a=>a.hasResult())&&(s=s.map(a=>a.hasResult()?new $t(a.source,0):a));for(let a of e.effects)a.is(lS)&&(o=o&&o.setSelected(a.value,this.id));return s==this.active&&o==this.open?this:new Eu(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:XQ}}function jQ(t,e){if(t==e)return!0;for(let n=0,i=0;;){for(;n<t.length&&!t[n].hasResult;)n++;for(;i<e.length&&!e[i].hasResult;)i++;let r=n==t.length,s=i==e.length;if(r||s)return r==s;if(t[n++].result!=e[i++].result)return!1}}const XQ={"aria-autocomplete":"list"};function s1(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const zQ=[];function od(t){return t.isUserEvent("input.type")?"input":t.isUserEvent("delete.backward")?"delete":null}class $t{constructor(e,n,i=-1){this.source=e,this.state=n,this.explicitPos=i}hasResult(){return!1}update(e,n){let i=od(e),r=this;i?r=r.handleUserEvent(e,i,n):e.docChanged?r=r.handleChange(e):e.selection&&r.state!=0&&(r=new $t(r.source,0));for(let s of e.effects)if(s.is(Pu))r=new $t(r.source,1,s.value?Ci(e.state):-1);else if(s.is(Ko))r=new $t(r.source,0);else if(s.is(aS))for(let o of s.value)o.source==r.source&&(r=o);return r}handleUserEvent(e,n,i){return n=="delete"||!i.activateOnTyping?this.map(e.changes):new $t(this.source,1)}handleChange(e){return e.changes.touchesRange(Ci(e.startState))?new $t(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new $t(this.source,this.state,e.mapPos(this.explicitPos))}}class Hr extends $t{constructor(e,n,i,r,s){super(e,2,n),this.result=i,this.from=r,this.to=s}hasResult(){return!0}handleUserEvent(e,n,i){var r;let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),a=Ci(e.state);if((this.explicitPos<0?a<=s:a<this.from)||a>o||n=="delete"&&Ci(e.startState)==this.from)return new $t(this.source,n=="input"&&i.activateOnTyping?1:0);let l=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos),u;return qQ(this.result.validFor,e.state,s,o)?new Hr(this.source,l,this.result,s,o):this.result.update&&(u=this.result.update(this.result,s,o,new tm(e.state,a,l>=0)))?new Hr(this.source,l,u,u.from,(r=u.to)!==null&&r!==void 0?r:Ci(e.state)):new $t(this.source,1,l)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new $t(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new Hr(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}function qQ(t,e,n,i){if(!t)return!1;let r=e.sliceDoc(n,i);return typeof t=="function"?t(r,n,i,e):sS(t,!0).test(r)}const aS=xe.define({map(t,e){return t.map(n=>n.map(e))}}),lS=xe.define(),It=Bn.define({create(){return Eu.start()},update(t,e){return t.update(e)},provide:t=>[tk.from(t,e=>e.tooltip),Y.contentAttributes.from(t,e=>e.attrs)]});function nm(t,e){const n=e.completion.apply||e.completion.label;let i=t.state.field(It).active.find(r=>r.source==e.source);return i instanceof Hr?(typeof n=="string"?t.dispatch(Object.assign(Object.assign({},RQ(t.state,n,i.from,i.to)),{annotations:oS.of(e.completion)})):n(t,e.completion,i.from,i.to),!0):!1}const WQ=FQ(It,nm);function gl(t,e="option"){return n=>{let i=n.state.field(It,!1);if(!i||!i.open||i.open.disabled||Date.now()-i.open.timestamp<n.state.facet(ct).interactionDelay)return!1;let r=1,s;e=="page"&&(s=nk(n,i.open.tooltip))&&(r=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=i.open.options,a=i.open.selected>-1?i.open.selected+r*(t?1:-1):t?0:o-1;return a<0?a=e=="page"?0:o-1:a>=o&&(a=e=="page"?o-1:0),n.dispatch({effects:lS.of(a)}),!0}}const YQ=t=>{let e=t.state.field(It,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(ct).interactionDelay?!1:nm(t,e.open.options[e.open.selected])},UQ=t=>t.state.field(It,!1)?(t.dispatch({effects:Pu.of(!0)}),!0):!1,GQ=t=>{let e=t.state.field(It,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:Ko.of(null)}),!0)};class HQ{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const KQ=50,JQ=1e3,eR=Nn.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(It).active)e.state==1&&this.startQuery(e)}update(t){let e=t.state.field(It);if(!t.selectionSet&&!t.docChanged&&t.startState.field(It)==e)return;let n=t.transactions.some(r=>(r.selection||r.docChanged)&&!od(r));for(let r=0;r<this.running.length;r++){let s=this.running[r];if(n||s.updates.length+t.transactions.length>KQ&&Date.now()-s.time>JQ){for(let o of s.context.abortListeners)try{o()}catch(a){Ht(this.view.state,a)}s.context.abortListeners=null,this.running.splice(r--,1)}else s.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(r=>r.effects.some(s=>s.is(Pu)))&&(this.pendingStart=!0);let i=this.pendingStart?50:t.state.facet(ct).activateOnTypingDelay;if(this.debounceUpdate=e.active.some(r=>r.state==1&&!this.running.some(s=>s.active.source==r.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let r of t.transactions)od(r)=="input"?this.composing=2:this.composing==2&&r.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(It);for(let n of e.active)n.state==1&&!this.running.some(i=>i.active.source==n.source)&&this.startQuery(n)}startQuery(t){let{state:e}=this.view,n=Ci(e),i=new tm(e,n,t.explicitPos==n),r=new HQ(t,i);this.running.push(r),Promise.resolve(t.source(i)).then(s=>{r.context.aborted||(r.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:Ko.of(null)}),Ht(this.view.state,s)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(ct).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(ct);for(let i=0;i<this.running.length;i++){let r=this.running[i];if(r.done===void 0)continue;if(this.running.splice(i--,1),r.done){let o=new Hr(r.active.source,r.active.explicitPos,r.done,r.done.from,(t=r.done.to)!==null&&t!==void 0?t:Ci(r.updates.length?r.updates[0].startState:this.view.state));for(let a of r.updates)o=o.update(a,n);if(o.hasResult()){e.push(o);continue}}let s=this.view.state.field(It).active.find(o=>o.source==r.active.source);if(s&&s.state==1)if(r.done==null){let o=new $t(r.active.source,0);for(let a of r.updates)o=o.update(a,n);o.state!=1&&e.push(o)}else this.startQuery(s)}e.length&&this.view.dispatch({effects:aS.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(It,!1);if(e&&e.tooltip&&this.view.state.facet(ct).closeOnBlur){let n=e.open&&nk(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Ko.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Pu.of(!1)}),20),this.composing=0}}}),tR=typeof navigator=="object"&&/Win/.test(navigator.platform),nR=Sr.highest(Y.domEventHandlers({keydown(t,e){let n=e.state.field(It,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&!(tR&&t.altKey)||t.metaKey)return!1;let i=n.open.options[n.open.selected],r=n.active.find(o=>o.source==i.source),s=i.completion.commitCharacters||r.result.commitCharacters;return s&&s.indexOf(t.key)>-1&&nm(e,i),!1}})),uS=Y.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class iR{constructor(e,n,i,r){this.field=e,this.line=n,this.from=i,this.to=r}}class im{constructor(e,n,i){this.field=e,this.from=n,this.to=i}map(e){let n=e.mapPos(this.from,-1,xt.TrackDel),i=e.mapPos(this.to,1,xt.TrackDel);return n==null||i==null?null:new im(this.field,n,i)}}class rm{constructor(e,n){this.lines=e,this.fieldPositions=n}instantiate(e,n){let i=[],r=[n],s=e.doc.lineAt(n),o=/^\s*/.exec(s.text)[0];for(let l of this.lines){if(i.length){let u=o,c=/^\t*/.exec(l)[0].length;for(let h=0;h<c;h++)u+=e.facet($s);r.push(n+u.length-c),l=u+l.slice(c)}i.push(l),n+=l.length+1}let a=this.fieldPositions.map(l=>new im(l.field,r[l.line]+l.from,r[l.line]+l.to));return{text:i,ranges:a}}static parse(e){let n=[],i=[],r=[],s;for(let o of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(o);){let a=s[1]?+s[1]:null,l=s[2]||s[3]||"",u=-1;for(let c=0;c<n.length;c++)(a!=null?n[c].seq==a:l&&n[c].name==l)&&(u=c);if(u<0){let c=0;for(;c<n.length&&(a==null||n[c].seq!=null&&n[c].seq<a);)c++;n.splice(c,0,{seq:a,name:l}),u=c;for(let h of r)h.field>=u&&h.field++}r.push(new iR(u,i.length,s.index,s.index+l.length)),o=o.slice(0,s.index)+l+o.slice(s.index+s[0].length)}for(let a;a=/\\([{}])/.exec(o);){o=o.slice(0,a.index)+a[1]+o.slice(a.index+a[0].length);for(let l of r)l.line==i.length&&l.from>a.index&&(l.from--,l.to--)}i.push(o)}return new rm(i,r)}}let rR=ke.widget({widget:new class extends Ta{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),sR=ke.mark({class:"cm-snippetField"});class Rs{constructor(e,n){this.ranges=e,this.active=n,this.deco=ke.set(e.map(i=>(i.from==i.to?rR:sR).range(i.from,i.to)))}map(e){let n=[];for(let i of this.ranges){let r=i.map(e);if(!r)return null;n.push(r)}return new Rs(n,this.active)}selectionInsideField(e){return e.ranges.every(n=>this.ranges.some(i=>i.field==this.active&&i.from<=n.from&&i.to>=n.to))}}const Qa=xe.define({map(t,e){return t&&t.map(e)}}),oR=xe.define(),Jo=Bn.define({create(){return null},update(t,e){for(let n of e.effects){if(n.is(Qa))return n.value;if(n.is(oR)&&t)return new Rs(t.ranges,n.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>Y.decorations.from(t,e=>e?e.deco:ke.none)});function sm(t,e){return I.create(t.filter(n=>n.field==e).map(n=>I.range(n.from,n.to)))}function aR(t){let e=rm.parse(t);return(n,i,r,s)=>{let{text:o,ranges:a}=e.instantiate(n.state,r),l={changes:{from:r,to:s,insert:be.of(o)},scrollIntoView:!0,annotations:i?[oS.of(i),qe.userEvent.of("input.complete")]:void 0};if(a.length&&(l.selection=sm(a,0)),a.some(u=>u.field>0)){let u=new Rs(a,0),c=l.effects=[Qa.of(u)];n.state.field(Jo,!1)===void 0&&c.push(xe.appendConfig.of([Jo,fR,dR,uS]))}n.dispatch(n.state.update(l))}}function cS(t){return({state:e,dispatch:n})=>{let i=e.field(Jo,!1);if(!i||t<0&&i.active==0)return!1;let r=i.active+t,s=t>0&&!i.ranges.some(o=>o.field==r+t);return n(e.update({selection:sm(i.ranges,r),effects:Qa.of(s?null:new Rs(i.ranges,r)),scrollIntoView:!0})),!0}}const lR=({state:t,dispatch:e})=>t.field(Jo,!1)?(e(t.update({effects:Qa.of(null)})),!0):!1,uR=cS(1),cR=cS(-1),hR=[{key:"Tab",run:uR,shift:cR},{key:"Escape",run:lR}],o1=K.define({combine(t){return t.length?t[0]:hR}}),fR=Sr.highest(Aa.compute([o1],t=>t.facet(o1)));function At(t,e){return Object.assign(Object.assign({},e),{apply:aR(t)})}const dR=Y.domEventHandlers({mousedown(t,e){let n=e.state.field(Jo,!1),i;if(!n||(i=e.posAtCoords({x:t.clientX,y:t.clientY}))==null)return!1;let r=n.ranges.find(s=>s.from<=i&&s.to>=i);return!r||r.field==n.active?!1:(e.dispatch({selection:sm(n.ranges,r.field),effects:Qa.of(n.ranges.some(s=>s.field>r.field)?new Rs(n.ranges,r.field):null),scrollIntoView:!0}),!0)}}),hS=new class extends pr{};hS.startSide=1;hS.endSide=-1;function pR(t={}){return[nR,It,ct.of(t),eR,gR,uS]}const mR=[{key:"Ctrl-Space",run:UQ},{key:"Escape",run:GQ},{key:"ArrowDown",run:gl(!0)},{key:"ArrowUp",run:gl(!1)},{key:"PageDown",run:gl(!0,"page")},{key:"PageUp",run:gl(!1,"page")},{key:"Enter",run:YQ}],gR=Sr.highest(Aa.computeN([ct],t=>t.facet(ct).defaultKeymap?[mR]:[]));function C(t){return new Os(Yp.define(t))}function ci(t){return E(()=>import("./index.l_y0bbwi.js"),__vite__mapDeps([0,1,2,3,4,5])).then(e=>e.sql({dialect:e[t]}))}const OR=[P.of({name:"C",extensions:["c","h","ino"],load(){return E(()=>import("./index.49ch_bVm.js"),__vite__mapDeps([6,1,2,3,4,5])).then(t=>t.cpp())}}),P.of({name:"C++",alias:["cpp"],extensions:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],load(){return E(()=>import("./index.49ch_bVm.js"),__vite__mapDeps([6,1,2,3,4,5])).then(t=>t.cpp())}}),P.of({name:"CQL",alias:["cassandra"],extensions:["cql"],load(){return ci("Cassandra")}}),P.of({name:"CSS",extensions:["css"],load(){return E(()=>Promise.resolve().then(()=>u8),void 0).then(t=>t.css())}}),P.of({name:"HTML",alias:["xhtml"],extensions:["html","htm","handlebars","hbs"],load(){return E(()=>Promise.resolve().then(()=>U8),void 0).then(t=>t.html())}}),P.of({name:"Java",extensions:["java"],load(){return E(()=>import("./index.vfqFfZCF.js"),__vite__mapDeps([7,1,2,3,4,5])).then(t=>t.java())}}),P.of({name:"JavaScript",alias:["ecmascript","js","node"],extensions:["js","mjs","cjs"],load(){return E(()=>Promise.resolve().then(()=>yl),void 0).then(t=>t.javascript())}}),P.of({name:"JSON",alias:["json5"],extensions:["json","map"],load(){return E(()=>import("./index.AZ1Tji6j.js"),__vite__mapDeps([8,1,2,3,4,5])).then(t=>t.json())}}),P.of({name:"JSX",extensions:["jsx"],load(){return E(()=>Promise.resolve().then(()=>yl),void 0).then(t=>t.javascript({jsx:!0}))}}),P.of({name:"LESS",extensions:["less"],load(){return E(()=>import("./index.MafOi7gm.js"),__vite__mapDeps([9,1,2,3,4,5])).then(t=>t.less())}}),P.of({name:"Liquid",extensions:["liquid"],load(){return E(()=>import("./index.MElc3t5f.js"),__vite__mapDeps([10,1,2,3,4,5])).then(t=>t.liquid())}}),P.of({name:"MariaDB SQL",load(){return ci("MariaSQL")}}),P.of({name:"Markdown",extensions:["md","markdown","mkd"],load(){return E(()=>Promise.resolve().then(()=>r9),void 0).then(t=>t.markdown())}}),P.of({name:"MS SQL",load(){return ci("MSSQL")}}),P.of({name:"MySQL",load(){return ci("MySQL")}}),P.of({name:"PHP",extensions:["php","php3","php4","php5","php7","phtml"],load(){return E(()=>import("./index.g3sSJlV_.js"),__vite__mapDeps([11,1,2,3,4,5])).then(t=>t.php())}}),P.of({name:"PLSQL",extensions:["pls"],load(){return ci("PLSQL")}}),P.of({name:"PostgreSQL",load(){return ci("PostgreSQL")}}),P.of({name:"Python",extensions:["BUILD","bzl","py","pyw"],filename:/^(BUCK|BUILD)$/,load(){return E(()=>import("./index.na9Yjtw5.js"),__vite__mapDeps([12,1,2,3,4,5])).then(t=>t.python())}}),P.of({name:"Rust",extensions:["rs"],load(){return E(()=>import("./index.xow7cbfU.js"),__vite__mapDeps([13,1,2,3,4,5])).then(t=>t.rust())}}),P.of({name:"Sass",extensions:["sass"],load(){return E(()=>import("./index.dTozOb7J.js"),__vite__mapDeps([14,1,2,3,4,5])).then(t=>t.sass({indented:!0}))}}),P.of({name:"SCSS",extensions:["scss"],load(){return E(()=>import("./index.dTozOb7J.js"),__vite__mapDeps([14,1,2,3,4,5])).then(t=>t.sass())}}),P.of({name:"SQL",extensions:["sql"],load(){return ci("StandardSQL")}}),P.of({name:"SQLite",load(){return ci("SQLite")}}),P.of({name:"TSX",extensions:["tsx"],load(){return E(()=>Promise.resolve().then(()=>yl),void 0).then(t=>t.javascript({jsx:!0,typescript:!0}))}}),P.of({name:"TypeScript",alias:["ts"],extensions:["ts","mts","cts"],load(){return E(()=>Promise.resolve().then(()=>yl),void 0).then(t=>t.javascript({typescript:!0}))}}),P.of({name:"WebAssembly",extensions:["wat","wast"],load(){return E(()=>import("./index.2y8X5Dv_.js"),__vite__mapDeps([15,1,2,3,4,5])).then(t=>t.wast())}}),P.of({name:"XML",alias:["rss","wsdl","xsd"],extensions:["xml","xsl","xsd","svg"],load(){return E(()=>import("./index.jAUWzdDU.js"),__vite__mapDeps([16,1,2,3,4,5])).then(t=>t.xml())}}),P.of({name:"YAML",alias:["yml"],extensions:["yaml","yml"],load(){return E(()=>import("./index.xTbjmx61.js"),__vite__mapDeps([17,1,2,3,4,5])).then(t=>t.yaml())}}),P.of({name:"APL",extensions:["dyalog","apl"],load(){return E(()=>import("./apl.NWJ71v8P.js"),__vite__mapDeps([])).then(t=>C(t.apl))}}),P.of({name:"PGP",alias:["asciiarmor"],extensions:["asc","pgp","sig"],load(){return E(()=>import("./asciiarmor.b1CB_ZQy.js"),__vite__mapDeps([])).then(t=>C(t.asciiArmor))}}),P.of({name:"ASN.1",extensions:["asn","asn1"],load(){return E(()=>import("./asn1.8gHclKtu.js"),__vite__mapDeps([])).then(t=>C(t.asn1({})))}}),P.of({name:"Asterisk",filename:/^extensions\.conf$/i,load(){return E(()=>import("./asterisk.ACCUf8tF.js"),__vite__mapDeps([])).then(t=>C(t.asterisk))}}),P.of({name:"Brainfuck",extensions:["b","bf"],load(){return E(()=>import("./brainfuck.PKU_UYGU.js"),__vite__mapDeps([])).then(t=>C(t.brainfuck))}}),P.of({name:"Cobol",extensions:["cob","cpy"],load(){return E(()=>import("./cobol.33-QaiV4.js"),__vite__mapDeps([])).then(t=>C(t.cobol))}}),P.of({name:"C#",alias:["csharp","cs"],extensions:["cs"],load(){return E(()=>import("./clike.mt9ye8fP.js"),__vite__mapDeps([])).then(t=>C(t.csharp))}}),P.of({name:"Clojure",extensions:["clj","cljc","cljx"],load(){return E(()=>import("./clojure.plf_rynZ.js"),__vite__mapDeps([])).then(t=>C(t.clojure))}}),P.of({name:"ClojureScript",extensions:["cljs"],load(){return E(()=>import("./clojure.plf_rynZ.js"),__vite__mapDeps([])).then(t=>C(t.clojure))}}),P.of({name:"Closure Stylesheets (GSS)",extensions:["gss"],load(){return E(()=>import("./css.tpsEXL3H.js"),__vite__mapDeps([])).then(t=>C(t.gss))}}),P.of({name:"CMake",extensions:["cmake","cmake.in"],filename:/^CMakeLists\.txt$/,load(){return E(()=>import("./cmake.eS1IfDXW.js"),__vite__mapDeps([])).then(t=>C(t.cmake))}}),P.of({name:"CoffeeScript",alias:["coffee","coffee-script"],extensions:["coffee"],load(){return E(()=>import("./coffeescript.VEaTNWO1.js"),__vite__mapDeps([])).then(t=>C(t.coffeeScript))}}),P.of({name:"Common Lisp",alias:["lisp"],extensions:["cl","lisp","el"],load(){return E(()=>import("./commonlisp.kJBx8_bc.js"),__vite__mapDeps([])).then(t=>C(t.commonLisp))}}),P.of({name:"Cypher",extensions:["cyp","cypher"],load(){return E(()=>import("./cypher.QyyJuGxc.js"),__vite__mapDeps([])).then(t=>C(t.cypher))}}),P.of({name:"Cython",extensions:["pyx","pxd","pxi"],load(){return E(()=>import("./python.xljIYvii.js"),__vite__mapDeps([])).then(t=>C(t.cython))}}),P.of({name:"Crystal",extensions:["cr"],load(){return E(()=>import("./crystal.dFKz1t2p.js"),__vite__mapDeps([])).then(t=>C(t.crystal))}}),P.of({name:"D",extensions:["d"],load(){return E(()=>import("./d.Ux4432M7.js"),__vite__mapDeps([])).then(t=>C(t.d))}}),P.of({name:"Dart",extensions:["dart"],load(){return E(()=>import("./clike.mt9ye8fP.js"),__vite__mapDeps([])).then(t=>C(t.dart))}}),P.of({name:"diff",extensions:["diff","patch"],load(){return E(()=>import("./diff.W9T6HfPr.js"),__vite__mapDeps([])).then(t=>C(t.diff))}}),P.of({name:"Dockerfile",filename:/^Dockerfile$/,load(){return E(()=>import("./dockerfile.4Msa9_-P.js"),__vite__mapDeps([18,19])).then(t=>C(t.dockerFile))}}),P.of({name:"DTD",extensions:["dtd"],load(){return E(()=>import("./dtd.wOAoOpgq.js"),__vite__mapDeps([])).then(t=>C(t.dtd))}}),P.of({name:"Dylan",extensions:["dylan","dyl","intr"],load(){return E(()=>import("./dylan.NRnXAE2N.js"),__vite__mapDeps([])).then(t=>C(t.dylan))}}),P.of({name:"EBNF",load(){return E(()=>import("./ebnf.d73T8eT9.js"),__vite__mapDeps([])).then(t=>C(t.ebnf))}}),P.of({name:"ECL",extensions:["ecl"],load(){return E(()=>import("./ecl.Iq2T8Exp.js"),__vite__mapDeps([])).then(t=>C(t.ecl))}}),P.of({name:"edn",extensions:["edn"],load(){return E(()=>import("./clojure.plf_rynZ.js"),__vite__mapDeps([])).then(t=>C(t.clojure))}}),P.of({name:"Eiffel",extensions:["e"],load(){return E(()=>import("./eiffel.bWq2HPfv.js"),__vite__mapDeps([])).then(t=>C(t.eiffel))}}),P.of({name:"Elm",extensions:["elm"],load(){return E(()=>import("./elm.ya_I4TKC.js"),__vite__mapDeps([])).then(t=>C(t.elm))}}),P.of({name:"Erlang",extensions:["erl"],load(){return E(()=>import("./erlang.TfXG0eQu.js"),__vite__mapDeps([])).then(t=>C(t.erlang))}}),P.of({name:"Esper",load(){return E(()=>import("./sql.3IaSLchm.js"),__vite__mapDeps([])).then(t=>C(t.esper))}}),P.of({name:"Factor",extensions:["factor"],load(){return E(()=>import("./factor.eiz_FLDg.js"),__vite__mapDeps([20,19])).then(t=>C(t.factor))}}),P.of({name:"FCL",load(){return E(()=>import("./fcl.TM4st5N8.js"),__vite__mapDeps([])).then(t=>C(t.fcl))}}),P.of({name:"Forth",extensions:["forth","fth","4th"],load(){return E(()=>import("./forth.QMA36C2f.js"),__vite__mapDeps([])).then(t=>C(t.forth))}}),P.of({name:"Fortran",extensions:["f","for","f77","f90","f95"],load(){return E(()=>import("./fortran.VJrN18k6.js"),__vite__mapDeps([])).then(t=>C(t.fortran))}}),P.of({name:"F#",alias:["fsharp"],extensions:["fs"],load(){return E(()=>import("./mllike.ilm95jrV.js"),__vite__mapDeps([])).then(t=>C(t.fSharp))}}),P.of({name:"Gas",extensions:["s"],load(){return E(()=>import("./gas.FGOyvNF7.js"),__vite__mapDeps([])).then(t=>C(t.gas))}}),P.of({name:"Gherkin",extensions:["feature"],load(){return E(()=>import("./gherkin.pp3J_uZm.js"),__vite__mapDeps([])).then(t=>C(t.gherkin))}}),P.of({name:"Go",extensions:["go"],load(){return E(()=>import("./go.FYuTHF55.js"),__vite__mapDeps([])).then(t=>C(t.go))}}),P.of({name:"Groovy",extensions:["groovy","gradle"],filename:/^Jenkinsfile$/,load(){return E(()=>import("./groovy.EIBxbSyw.js"),__vite__mapDeps([])).then(t=>C(t.groovy))}}),P.of({name:"Haskell",extensions:["hs"],load(){return E(()=>import("./haskell.Bro2iIMS.js"),__vite__mapDeps([])).then(t=>C(t.haskell))}}),P.of({name:"Haxe",extensions:["hx"],load(){return E(()=>import("./haxe.d1iSDE_y.js"),__vite__mapDeps([])).then(t=>C(t.haxe))}}),P.of({name:"HXML",extensions:["hxml"],load(){return E(()=>import("./haxe.d1iSDE_y.js"),__vite__mapDeps([])).then(t=>C(t.hxml))}}),P.of({name:"HTTP",load(){return E(()=>import("./http.CuvaccQI.js"),__vite__mapDeps([])).then(t=>C(t.http))}}),P.of({name:"IDL",extensions:["pro"],load(){return E(()=>import("./idl.q3g1g2-u.js"),__vite__mapDeps([])).then(t=>C(t.idl))}}),P.of({name:"JSON-LD",alias:["jsonld"],extensions:["jsonld"],load(){return E(()=>import("./javascript.upQ8KtFH.js"),__vite__mapDeps([])).then(t=>C(t.jsonld))}}),P.of({name:"Jinja2",extensions:["j2","jinja","jinja2"],load(){return E(()=>import("./jinja2.cN3oZf3H.js"),__vite__mapDeps([])).then(t=>C(t.jinja2))}}),P.of({name:"Julia",extensions:["jl"],load(){return E(()=>import("./julia.VvN2hwtz.js"),__vite__mapDeps([])).then(t=>C(t.julia))}}),P.of({name:"Kotlin",extensions:["kt","kts"],load(){return E(()=>import("./clike.mt9ye8fP.js"),__vite__mapDeps([])).then(t=>C(t.kotlin))}}),P.of({name:"LiveScript",alias:["ls"],extensions:["ls"],load(){return E(()=>import("./livescript.7ItMEI6r.js"),__vite__mapDeps([])).then(t=>C(t.liveScript))}}),P.of({name:"Lua",extensions:["lua"],load(){return E(()=>import("./lua.mz08zoKz.js"),__vite__mapDeps([])).then(t=>C(t.lua))}}),P.of({name:"mIRC",extensions:["mrc"],load(){return E(()=>import("./mirc.xT_VZoiu.js"),__vite__mapDeps([])).then(t=>C(t.mirc))}}),P.of({name:"Mathematica",extensions:["m","nb","wl","wls"],load(){return E(()=>import("./mathematica.ssx8jSNw.js"),__vite__mapDeps([])).then(t=>C(t.mathematica))}}),P.of({name:"Modelica",extensions:["mo"],load(){return E(()=>import("./modelica.Ih1c_U0Z.js"),__vite__mapDeps([])).then(t=>C(t.modelica))}}),P.of({name:"MUMPS",extensions:["mps"],load(){return E(()=>import("./mumps._AJA66o-.js"),__vite__mapDeps([])).then(t=>C(t.mumps))}}),P.of({name:"Mbox",extensions:["mbox"],load(){return E(()=>import("./mbox.i42h5yC3.js"),__vite__mapDeps([])).then(t=>C(t.mbox))}}),P.of({name:"Nginx",filename:/nginx.*\.conf$/i,load(){return E(()=>import("./nginx.kN-ewIt1.js"),__vite__mapDeps([])).then(t=>C(t.nginx))}}),P.of({name:"NSIS",extensions:["nsh","nsi"],load(){return E(()=>import("./nsis.BV0fG17R.js"),__vite__mapDeps([21,19])).then(t=>C(t.nsis))}}),P.of({name:"NTriples",extensions:["nt","nq"],load(){return E(()=>import("./ntriples.I089Btpy.js"),__vite__mapDeps([])).then(t=>C(t.ntriples))}}),P.of({name:"Objective-C",alias:["objective-c","objc"],extensions:["m"],load(){return E(()=>import("./clike.mt9ye8fP.js"),__vite__mapDeps([])).then(t=>C(t.objectiveC))}}),P.of({name:"Objective-C++",alias:["objective-c++","objc++"],extensions:["mm"],load(){return E(()=>import("./clike.mt9ye8fP.js"),__vite__mapDeps([])).then(t=>C(t.objectiveCpp))}}),P.of({name:"OCaml",extensions:["ml","mli","mll","mly"],load(){return E(()=>import("./mllike.ilm95jrV.js"),__vite__mapDeps([])).then(t=>C(t.oCaml))}}),P.of({name:"Octave",extensions:["m"],load(){return E(()=>import("./octave.r9zOB_Vn.js"),__vite__mapDeps([])).then(t=>C(t.octave))}}),P.of({name:"Oz",extensions:["oz"],load(){return E(()=>import("./oz.YDRr8C9p.js"),__vite__mapDeps([])).then(t=>C(t.oz))}}),P.of({name:"Pascal",extensions:["p","pas"],load(){return E(()=>import("./pascal.jv2vrLQY.js"),__vite__mapDeps([])).then(t=>C(t.pascal))}}),P.of({name:"Perl",extensions:["pl","pm"],load(){return E(()=>import("./perl.nuTMZjQF.js"),__vite__mapDeps([])).then(t=>C(t.perl))}}),P.of({name:"Pig",extensions:["pig"],load(){return E(()=>import("./pig.oLtu5bJ7.js"),__vite__mapDeps([])).then(t=>C(t.pig))}}),P.of({name:"PowerShell",extensions:["ps1","psd1","psm1"],load(){return E(()=>import("./powershell.DqDkz_Va.js"),__vite__mapDeps([])).then(t=>C(t.powerShell))}}),P.of({name:"Properties files",alias:["ini","properties"],extensions:["properties","ini","in"],load(){return E(()=>import("./properties.sEOi2jVd.js"),__vite__mapDeps([])).then(t=>C(t.properties))}}),P.of({name:"ProtoBuf",extensions:["proto"],load(){return E(()=>import("./protobuf.sval7f48.js"),__vite__mapDeps([])).then(t=>C(t.protobuf))}}),P.of({name:"Puppet",extensions:["pp"],load(){return E(()=>import("./puppet.hc5qP9oF.js"),__vite__mapDeps([])).then(t=>C(t.puppet))}}),P.of({name:"Q",extensions:["q"],load(){return E(()=>import("./q.iLNioecz.js"),__vite__mapDeps([])).then(t=>C(t.q))}}),P.of({name:"R",alias:["rscript"],extensions:["r","R"],load(){return E(()=>import("./r.2K9hScqI.js"),__vite__mapDeps([])).then(t=>C(t.r))}}),P.of({name:"RPM Changes",load(){return E(()=>import("./rpm.cddeyEgF.js"),__vite__mapDeps([])).then(t=>C(t.rpmChanges))}}),P.of({name:"RPM Spec",extensions:["spec"],load(){return E(()=>import("./rpm.cddeyEgF.js"),__vite__mapDeps([])).then(t=>C(t.rpmSpec))}}),P.of({name:"Ruby",alias:["jruby","macruby","rake","rb","rbx"],extensions:["rb"],filename:/^(Gemfile|Rakefile)$/,load(){return E(()=>import("./ruby.fz4IzCwP.js"),__vite__mapDeps([])).then(t=>C(t.ruby))}}),P.of({name:"SAS",extensions:["sas"],load(){return E(()=>import("./sas.myoI2zC6.js"),__vite__mapDeps([])).then(t=>C(t.sas))}}),P.of({name:"Scala",extensions:["scala"],load(){return E(()=>import("./clike.mt9ye8fP.js"),__vite__mapDeps([])).then(t=>C(t.scala))}}),P.of({name:"Scheme",extensions:["scm","ss"],load(){return E(()=>import("./scheme.Wu_JkYzm.js"),__vite__mapDeps([])).then(t=>C(t.scheme))}}),P.of({name:"Shell",alias:["bash","sh","zsh"],extensions:["sh","ksh","bash"],filename:/^PKGBUILD$/,load(){return E(()=>import("./shell.R8s-uXLG.js"),__vite__mapDeps([])).then(t=>C(t.shell))}}),P.of({name:"Sieve",extensions:["siv","sieve"],load(){return E(()=>import("./sieve.BFMRIS71.js"),__vite__mapDeps([])).then(t=>C(t.sieve))}}),P.of({name:"Smalltalk",extensions:["st"],load(){return E(()=>import("./smalltalk.QQ4DQgSw.js"),__vite__mapDeps([])).then(t=>C(t.smalltalk))}}),P.of({name:"Solr",load(){return E(()=>import("./solr.O4MIKuLG.js"),__vite__mapDeps([])).then(t=>C(t.solr))}}),P.of({name:"SML",extensions:["sml","sig","fun","smackspec"],load(){return E(()=>import("./mllike.ilm95jrV.js"),__vite__mapDeps([])).then(t=>C(t.sml))}}),P.of({name:"SPARQL",alias:["sparul"],extensions:["rq","sparql"],load(){return E(()=>import("./sparql.BNeMoJj7.js"),__vite__mapDeps([])).then(t=>C(t.sparql))}}),P.of({name:"Spreadsheet",alias:["excel","formula"],load(){return E(()=>import("./spreadsheet.8QjSk1AQ.js"),__vite__mapDeps([])).then(t=>C(t.spreadsheet))}}),P.of({name:"Squirrel",extensions:["nut"],load(){return E(()=>import("./clike.mt9ye8fP.js"),__vite__mapDeps([])).then(t=>C(t.squirrel))}}),P.of({name:"Stylus",extensions:["styl"],load(){return E(()=>import("./stylus.AowBLEsR.js"),__vite__mapDeps([])).then(t=>C(t.stylus))}}),P.of({name:"Swift",extensions:["swift"],load(){return E(()=>import("./swift.-PB4YP9H.js"),__vite__mapDeps([])).then(t=>C(t.swift))}}),P.of({name:"sTeX",load(){return E(()=>import("./stex.cSGW5tcK.js"),__vite__mapDeps([])).then(t=>C(t.stex))}}),P.of({name:"LaTeX",alias:["tex"],extensions:["text","ltx","tex"],load(){return E(()=>import("./stex.cSGW5tcK.js"),__vite__mapDeps([])).then(t=>C(t.stex))}}),P.of({name:"SystemVerilog",extensions:["v","sv","svh"],load(){return E(()=>import("./verilog.gtvpmGm4.js"),__vite__mapDeps([])).then(t=>C(t.verilog))}}),P.of({name:"Tcl",extensions:["tcl"],load(){return E(()=>import("./tcl.IIeu2IgZ.js"),__vite__mapDeps([])).then(t=>C(t.tcl))}}),P.of({name:"Textile",extensions:["textile"],load(){return E(()=>import("./textile.TGFROhJu.js"),__vite__mapDeps([])).then(t=>C(t.textile))}}),P.of({name:"TiddlyWiki",load(){return E(()=>import("./tiddlywiki.v9VLGu89.js"),__vite__mapDeps([])).then(t=>C(t.tiddlyWiki))}}),P.of({name:"Tiki wiki",load(){return E(()=>import("./tiki.xL01oi36.js"),__vite__mapDeps([])).then(t=>C(t.tiki))}}),P.of({name:"TOML",extensions:["toml"],load(){return E(()=>import("./toml.KzdM7nz6.js"),__vite__mapDeps([])).then(t=>C(t.toml))}}),P.of({name:"Troff",extensions:["1","2","3","4","5","6","7","8","9"],load(){return E(()=>import("./troff.TW67-YrU.js"),__vite__mapDeps([])).then(t=>C(t.troff))}}),P.of({name:"TTCN",extensions:["ttcn","ttcn3","ttcnpp"],load(){return E(()=>import("./ttcn.lKwyfmq7.js"),__vite__mapDeps([])).then(t=>C(t.ttcn))}}),P.of({name:"TTCN_CFG",extensions:["cfg"],load(){return E(()=>import("./ttcn-cfg.9oMIyPXS.js"),__vite__mapDeps([])).then(t=>C(t.ttcnCfg))}}),P.of({name:"Turtle",extensions:["ttl"],load(){return E(()=>import("./turtle.HvFxsMWZ.js"),__vite__mapDeps([])).then(t=>C(t.turtle))}}),P.of({name:"Web IDL",extensions:["webidl"],load(){return E(()=>import("./webidl.AOIJrqhM.js"),__vite__mapDeps([])).then(t=>C(t.webIDL))}}),P.of({name:"VB.NET",extensions:["vb"],load(){return E(()=>import("./vb.jxJyRQTP.js"),__vite__mapDeps([])).then(t=>C(t.vb))}}),P.of({name:"VBScript",extensions:["vbs"],load(){return E(()=>import("./vbscript.9aq5ZLL2.js"),__vite__mapDeps([])).then(t=>C(t.vbScript))}}),P.of({name:"Velocity",extensions:["vtl"],load(){return E(()=>import("./velocity.tQduwHMU.js"),__vite__mapDeps([])).then(t=>C(t.velocity))}}),P.of({name:"Verilog",extensions:["v"],load(){return E(()=>import("./verilog.gtvpmGm4.js"),__vite__mapDeps([])).then(t=>C(t.verilog))}}),P.of({name:"VHDL",extensions:["vhd","vhdl"],load(){return E(()=>import("./vhdl.yDlzwohc.js"),__vite__mapDeps([])).then(t=>C(t.vhdl))}}),P.of({name:"XQuery",extensions:["xy","xquery"],load(){return E(()=>import("./xquery.BsqSevUJ.js"),__vite__mapDeps([])).then(t=>C(t.xQuery))}}),P.of({name:"Yacas",extensions:["ys"],load(){return E(()=>import("./yacas.DpZwsl3j.js"),__vite__mapDeps([])).then(t=>C(t.yacas))}}),P.of({name:"Z80",extensions:["z80"],load(){return E(()=>import("./z80.b6-IzNvM.js"),__vite__mapDeps([])).then(t=>C(t.z80))}}),P.of({name:"MscGen",extensions:["mscgen","mscin","msc"],load(){return E(()=>import("./mscgen.n9YzwnbL.js"),__vite__mapDeps([])).then(t=>C(t.mscgen))}}),P.of({name:"Xù",extensions:["xu"],load(){return E(()=>import("./mscgen.n9YzwnbL.js"),__vite__mapDeps([])).then(t=>C(t.xu))}}),P.of({name:"MsGenny",extensions:["msgenny"],load(){return E(()=>import("./mscgen.n9YzwnbL.js"),__vite__mapDeps([])).then(t=>C(t.msgenny))}}),P.of({name:"Vue",extensions:["vue"],load(){return E(()=>import("./index.7ZrestL4.js"),__vite__mapDeps([22,1,2,3,4,5])).then(t=>t.vue())}}),P.of({name:"Angular Template",load(){return E(()=>import("./index.2T-P_R25.js"),__vite__mapDeps([23,1,2,3,4,5])).then(t=>t.angular())}})];class Au{static create(e,n,i,r,s){let o=r+(r<<8)+e+(n<<4)|0;return new Au(e,n,i,o,s,[],[])}constructor(e,n,i,r,s,o,a){this.type=e,this.value=n,this.from=i,this.hash=r,this.end=s,this.children=o,this.positions=a,this.hashProp=[[J.contextHash,r]]}addChild(e,n){e.prop(J.contextHash)!=this.hash&&(e=new se(e.type,e.children,e.positions,e.length,this.hashProp)),this.children.push(e),this.positions.push(n)}toTree(e,n=this.end){let i=this.children.length-1;return i>=0&&(n=Math.max(n,this.positions[i]+this.children[i].length+this.from)),new se(e.types[this.type],this.children,this.positions,n-this.from).balance({makeTree:(r,s,o)=>new se(Ye.none,r,s,o,this.hashProp)})}}var D;(function(t){t[t.Document=1]="Document",t[t.CodeBlock=2]="CodeBlock",t[t.FencedCode=3]="FencedCode",t[t.Blockquote=4]="Blockquote",t[t.HorizontalRule=5]="HorizontalRule",t[t.BulletList=6]="BulletList",t[t.OrderedList=7]="OrderedList",t[t.ListItem=8]="ListItem",t[t.ATXHeading1=9]="ATXHeading1",t[t.ATXHeading2=10]="ATXHeading2",t[t.ATXHeading3=11]="ATXHeading3",t[t.ATXHeading4=12]="ATXHeading4",t[t.ATXHeading5=13]="ATXHeading5",t[t.ATXHeading6=14]="ATXHeading6",t[t.SetextHeading1=15]="SetextHeading1",t[t.SetextHeading2=16]="SetextHeading2",t[t.HTMLBlock=17]="HTMLBlock",t[t.LinkReference=18]="LinkReference",t[t.Paragraph=19]="Paragraph",t[t.CommentBlock=20]="CommentBlock",t[t.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",t[t.Escape=22]="Escape",t[t.Entity=23]="Entity",t[t.HardBreak=24]="HardBreak",t[t.Emphasis=25]="Emphasis",t[t.StrongEmphasis=26]="StrongEmphasis",t[t.Link=27]="Link",t[t.Image=28]="Image",t[t.InlineCode=29]="InlineCode",t[t.HTMLTag=30]="HTMLTag",t[t.Comment=31]="Comment",t[t.ProcessingInstruction=32]="ProcessingInstruction",t[t.Autolink=33]="Autolink",t[t.HeaderMark=34]="HeaderMark",t[t.QuoteMark=35]="QuoteMark",t[t.ListMark=36]="ListMark",t[t.LinkMark=37]="LinkMark",t[t.EmphasisMark=38]="EmphasisMark",t[t.CodeMark=39]="CodeMark",t[t.CodeText=40]="CodeText",t[t.CodeInfo=41]="CodeInfo",t[t.LinkTitle=42]="LinkTitle",t[t.LinkLabel=43]="LinkLabel",t[t.URL=44]="URL"})(D||(D={}));class bR{constructor(e,n){this.start=e,this.content=n,this.marks=[],this.parsers=[]}}class yR{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let e=this.skipSpace(this.basePos);this.indent=this.countIndent(e,this.pos,this.indent),this.pos=e,this.next=e==this.text.length?-1:this.text.charCodeAt(e)}skipSpace(e){return wo(this.text,e)}reset(e){for(this.text=e,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(e){this.basePos=e,this.baseIndent=this.countIndent(e,this.pos,this.indent)}moveBaseColumn(e){this.baseIndent=e,this.basePos=this.findColumn(e)}addMarker(e){this.markers.push(e)}countIndent(e,n=0,i=0){for(let r=n;r<e;r++)i+=this.text.charCodeAt(r)==9?4-i%4:1;return i}findColumn(e){let n=0;for(let i=0;n<this.text.length&&i<e;n++)i+=this.text.charCodeAt(n)==9?4-i%4:1;return n}scrub(){if(!this.baseIndent)return this.text;let e="";for(let n=0;n<this.basePos;n++)e+=" ";return e+this.text.slice(this.basePos)}}function a1(t,e,n){if(n.pos==n.text.length||t!=e.block&&n.indent>=e.stack[n.depth+1].value+n.baseIndent)return!0;if(n.indent>=n.baseIndent+4)return!1;let i=(t.type==D.OrderedList?lm:am)(n,e,!1);return i>0&&(t.type!=D.BulletList||om(n,e,!1)<0)&&n.text.charCodeAt(n.pos+i-1)==t.value}const fS={[D.Blockquote](t,e,n){return n.next!=62?!1:(n.markers.push(ue(D.QuoteMark,e.lineStart+n.pos,e.lineStart+n.pos+1)),n.moveBase(n.pos+(an(n.text.charCodeAt(n.pos+1))?2:1)),t.end=e.lineStart+n.text.length,!0)},[D.ListItem](t,e,n){return n.indent<n.baseIndent+t.value&&n.next>-1?!1:(n.moveBaseColumn(n.baseIndent+t.value),!0)},[D.OrderedList]:a1,[D.BulletList]:a1,[D.Document](){return!0}};function an(t){return t==32||t==9||t==10||t==13}function wo(t,e=0){for(;e<t.length&&an(t.charCodeAt(e));)e++;return e}function l1(t,e,n){for(;e>n&&an(t.charCodeAt(e-1));)e--;return e}function dS(t){if(t.next!=96&&t.next!=126)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==t.next;)e++;if(e<t.pos+3)return-1;if(t.next==96){for(let n=e;n<t.text.length;n++)if(t.text.charCodeAt(n)==96)return-1}return e}function pS(t){return t.next!=62?-1:t.text.charCodeAt(t.pos+1)==32?2:1}function om(t,e,n){if(t.next!=42&&t.next!=45&&t.next!=95)return-1;let i=1;for(let r=t.pos+1;r<t.text.length;r++){let s=t.text.charCodeAt(r);if(s==t.next)i++;else if(!an(s))return-1}return n&&t.next==45&&OS(t)>-1&&t.depth==e.stack.length||i<3?-1:1}function mS(t,e){for(let n=t.stack.length-1;n>=0;n--)if(t.stack[n].type==e)return!0;return!1}function am(t,e,n){return(t.next==45||t.next==43||t.next==42)&&(t.pos==t.text.length-1||an(t.text.charCodeAt(t.pos+1)))&&(!n||mS(e,D.BulletList)||t.skipSpace(t.pos+2)<t.text.length)?1:-1}function lm(t,e,n){let i=t.pos,r=t.next;for(;r>=48&&r<=57;){i++;if(i==t.text.length)return-1;r=t.text.charCodeAt(i)}return i==t.pos||i>t.pos+9||r!=46&&r!=41||i<t.text.length-1&&!an(t.text.charCodeAt(i+1))||n&&!mS(e,D.OrderedList)&&(t.skipSpace(i+1)==t.text.length||i>t.pos+1||t.next!=49)?-1:i+1-t.pos}function gS(t){if(t.next!=35)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==35;)e++;if(e<t.text.length&&t.text.charCodeAt(e)!=32)return-1;let n=e-t.pos;return n>6?-1:n}function OS(t){if(t.next!=45&&t.next!=61||t.indent>=t.baseIndent+4)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==t.next;)e++;let n=e;for(;e<t.text.length&&an(t.text.charCodeAt(e));)e++;return e==t.text.length?n:-1}const ad=/^[ \t]*$/,bS=/-->/,yS=/\?>/,ld=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,bS],[/^\s*<\?/,yS],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,ad],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,ad]];function vS(t,e,n){if(t.next!=60)return-1;let i=t.text.slice(t.pos);for(let r=0,s=ld.length-(n?1:0);r<s;r++)if(ld[r][0].test(i))return r;return-1}function u1(t,e){let n=t.countIndent(e,t.pos,t.indent),i=t.countIndent(t.skipSpace(e),e,n);return i>=n+5?n+1:i}function Yi(t,e,n){let i=t.length-1;i>=0&&t[i].to==e&&t[i].type==D.CodeText?t[i].to=n:t.push(ue(D.CodeText,e,n))}const Ol={LinkReference:void 0,IndentedCode(t,e){let n=e.baseIndent+4;if(e.indent<n)return!1;let i=e.findColumn(n),r=t.lineStart+i,s=t.lineStart+e.text.length,o=[],a=[];for(Yi(o,r,s);t.nextLine()&&e.depth>=t.stack.length;)if(e.pos==e.text.length){Yi(a,t.lineStart-1,t.lineStart);for(let l of e.markers)a.push(l)}else{if(e.indent<n)break;{if(a.length){for(let u of a)u.type==D.CodeText?Yi(o,u.from,u.to):o.push(u);a=[]}Yi(o,t.lineStart-1,t.lineStart);for(let u of e.markers)o.push(u);s=t.lineStart+e.text.length;let l=t.lineStart+e.findColumn(e.baseIndent+4);l<s&&Yi(o,l,s)}}return a.length&&(a=a.filter(l=>l.type!=D.CodeText),a.length&&(e.markers=a.concat(e.markers))),t.addNode(t.buffer.writeElements(o,-r).finish(D.CodeBlock,s-r),r),!0},FencedCode(t,e){let n=dS(e);if(n<0)return!1;let i=t.lineStart+e.pos,r=e.next,s=n-e.pos,o=e.skipSpace(n),a=l1(e.text,e.text.length,o),l=[ue(D.CodeMark,i,i+s)];o<a&&l.push(ue(D.CodeInfo,t.lineStart+o,t.lineStart+a));for(let u=!0;t.nextLine()&&e.depth>=t.stack.length;u=!1){let c=e.pos;if(e.indent-e.baseIndent<4)for(;c<e.text.length&&e.text.charCodeAt(c)==r;)c++;if(c-e.pos>=s&&e.skipSpace(c)==e.text.length){for(let h of e.markers)l.push(h);l.push(ue(D.CodeMark,t.lineStart+e.pos,t.lineStart+c)),t.nextLine();break}else{u||Yi(l,t.lineStart-1,t.lineStart);for(let d of e.markers)l.push(d);let h=t.lineStart+e.basePos,f=t.lineStart+e.text.length;h<f&&Yi(l,h,f)}}return t.addNode(t.buffer.writeElements(l,-i).finish(D.FencedCode,t.prevLineEnd()-i),i),!0},Blockquote(t,e){let n=pS(e);return n<0?!1:(t.startContext(D.Blockquote,e.pos),t.addNode(D.QuoteMark,t.lineStart+e.pos,t.lineStart+e.pos+1),e.moveBase(e.pos+n),null)},HorizontalRule(t,e){if(om(e,t,!1)<0)return!1;let n=t.lineStart+e.pos;return t.nextLine(),t.addNode(D.HorizontalRule,n),!0},BulletList(t,e){let n=am(e,t,!1);if(n<0)return!1;t.block.type!=D.BulletList&&t.startContext(D.BulletList,e.basePos,e.next);let i=u1(e,e.pos+1);return t.startContext(D.ListItem,e.basePos,i-e.baseIndent),t.addNode(D.ListMark,t.lineStart+e.pos,t.lineStart+e.pos+n),e.moveBaseColumn(i),null},OrderedList(t,e){let n=lm(e,t,!1);if(n<0)return!1;t.block.type!=D.OrderedList&&t.startContext(D.OrderedList,e.basePos,e.text.charCodeAt(e.pos+n-1));let i=u1(e,e.pos+n);return t.startContext(D.ListItem,e.basePos,i-e.baseIndent),t.addNode(D.ListMark,t.lineStart+e.pos,t.lineStart+e.pos+n),e.moveBaseColumn(i),null},ATXHeading(t,e){let n=gS(e);if(n<0)return!1;let i=e.pos,r=t.lineStart+i,s=l1(e.text,e.text.length,i),o=s;for(;o>i&&e.text.charCodeAt(o-1)==e.next;)o--;(o==s||o==i||!an(e.text.charCodeAt(o-1)))&&(o=e.text.length);let a=t.buffer.write(D.HeaderMark,0,n).writeElements(t.parser.parseInline(e.text.slice(i+n+1,o),r+n+1),-r);o<e.text.length&&a.write(D.HeaderMark,o-i,s-i);let l=a.finish(D.ATXHeading1-1+n,e.text.length-i);return t.nextLine(),t.addNode(l,r),!0},HTMLBlock(t,e){let n=vS(e,t,!1);if(n<0)return!1;let i=t.lineStart+e.pos,r=ld[n][1],s=[],o=r!=ad;for(;!r.test(e.text)&&t.nextLine();){if(e.depth<t.stack.length){o=!1;break}for(let u of e.markers)s.push(u)}o&&t.nextLine();let a=r==bS?D.CommentBlock:r==yS?D.ProcessingInstructionBlock:D.HTMLBlock,l=t.prevLineEnd();return t.addNode(t.buffer.writeElements(s,-i).finish(a,l-i),i),!0},SetextHeading:void 0};class vR{constructor(e){this.stage=0,this.elts=[],this.pos=0,this.start=e.start,this.advance(e.content)}nextLine(e,n,i){if(this.stage==-1)return!1;let r=i.content+`
`+n.scrub(),s=this.advance(r);return s>-1&&s<r.length?this.complete(e,i,s):!1}finish(e,n){return(this.stage==2||this.stage==3)&&wo(n.content,this.pos)==n.content.length?this.complete(e,n,n.content.length):!1}complete(e,n,i){return e.addLeafElement(n,ue(D.LinkReference,this.start,this.start+i,this.elts)),!0}nextStage(e){return e?(this.pos=e.to-this.start,this.elts.push(e),this.stage++,!0):(e===!1&&(this.stage=-1),!1)}advance(e){for(;;){if(this.stage==-1)return-1;if(this.stage==0){if(!this.nextStage(AS(e,this.pos,this.start,!0)))return-1;if(e.charCodeAt(this.pos)!=58)return this.stage=-1;this.elts.push(ue(D.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(this.stage==1){if(!this.nextStage(PS(e,wo(e,this.pos),this.start)))return-1}else if(this.stage==2){let n=wo(e,this.pos),i=0;if(n>this.pos){let r=ES(e,n,this.start);if(r){let s=bh(e,r.to-this.start);s>0&&(this.nextStage(r),i=s)}}return i||(i=bh(e,this.pos)),i>0&&i<e.length?i:-1}else return bh(e,this.pos)}}}function bh(t,e){for(;e<t.length;e++){let n=t.charCodeAt(e);if(n==10)break;if(!an(n))return-1}return e}class _R{nextLine(e,n,i){let r=n.depth<e.stack.length?-1:OS(n),s=n.next;if(r<0)return!1;let o=ue(D.HeaderMark,e.lineStart+n.pos,e.lineStart+r);return e.nextLine(),e.addLeafElement(i,ue(s==61?D.SetextHeading1:D.SetextHeading2,i.start,e.prevLineEnd(),[...e.parser.parseInline(i.content,i.start),o])),!0}finish(){return!1}}const wR={LinkReference(t,e){return e.content.charCodeAt(0)==91?new vR(e):null},SetextHeading(){return new _R}},kR=[(t,e)=>gS(e)>=0,(t,e)=>dS(e)>=0,(t,e)=>pS(e)>=0,(t,e)=>am(e,t,!0)>=0,(t,e)=>lm(e,t,!0)>=0,(t,e)=>om(e,t,!0)>=0,(t,e)=>vS(e,t,!0)>=0],SR={text:"",end:0};class xR{constructor(e,n,i,r){this.parser=e,this.input=n,this.ranges=r,this.line=new yR,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=r[r.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=r[0].from,this.block=Au.create(D.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=i.length?new AR(i,n):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(this.stoppedAt!=null&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:e}=this;for(;;){for(let i=0;;){let r=e.depth<this.stack.length?this.stack[this.stack.length-1]:null;for(;i<e.markers.length&&(!r||e.markers[i].from<r.end);){let s=e.markers[i++];this.addNode(s.type,s.from,s.to)}if(!r)break;this.finishContext()}if(e.pos<e.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(e.basePos))return null;e:for(;;){for(let i of this.parser.blockParsers)if(i){let r=i(this,e);if(r!=!1){if(r==!0)return null;e.forward();continue e}}break}let n=new bR(this.lineStart+e.pos,e.text.slice(e.pos));for(let i of this.parser.leafBlockParsers)if(i){let r=i(this,n);r&&n.parsers.push(r)}e:for(;this.nextLine()&&e.pos!=e.text.length;){if(e.indent<e.baseIndent+4){for(let i of this.parser.endLeafBlock)if(i(this,e,n))break e}for(let i of n.parsers)if(i.nextLine(this,e,n))return null;n.content+=`
`+e.scrub();for(let i of e.markers)n.marks.push(i)}return this.finishLeaf(n),null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}reuseFragment(e){if(!this.fragments.moveTo(this.absoluteLineStart+e,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let n=this.fragments.takeNodes(this);return n?(this.absoluteLineStart+=n,this.lineStart=CS(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0):!1}get depth(){return this.stack.length}parentType(e=this.depth-1){return this.parser.nodeSet.types[this.stack[e].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(e){let n=SR;if(n.end=e,e>=this.to)n.text="";else if(n.text=this.lineChunkAt(e),n.end+=n.text.length,this.ranges.length>1){let i=this.absoluteLineStart,r=this.rangeI;for(;this.ranges[r].to<n.end;){r++;let s=this.ranges[r].from,o=this.lineChunkAt(s);n.end=s+o.length,n.text=n.text.slice(0,this.ranges[r-1].to-i)+o,i=n.end-n.text.length}}return n}readLine(){let{line:e}=this,{text:n,end:i}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=i,e.reset(n);e.depth<this.stack.length;e.depth++){let r=this.stack[e.depth],s=this.parser.skipContextMarkup[r.type];if(!s)throw new Error("Unhandled block context "+D[r.type]);if(!s(r,this,e))break;e.forward()}}lineChunkAt(e){let n=this.input.chunk(e),i;if(this.input.lineChunks)i=n==`
`?"":n;else{let r=n.indexOf(`
`);i=r<0?n:n.slice(0,r)}return e+i.length>this.to?i.slice(0,this.to-e):i}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(e,n,i=0){this.block=Au.create(e,i,this.lineStart+n,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(e,n,i=0){this.startContext(this.parser.getNodeType(e),n,i)}addNode(e,n,i){typeof e=="number"&&(e=new se(this.parser.nodeSet.types[e],bs,bs,(i??this.prevLineEnd())-n)),this.block.addChild(e,n-this.block.from)}addElement(e){this.block.addChild(e.toTree(this.parser.nodeSet),e.from-this.block.from)}addLeafElement(e,n){this.addNode(this.buffer.writeElements(cd(n.children,e.marks),-n.from).finish(n.type,n.to-n.from),n.from)}finishContext(){let e=this.stack.pop(),n=this.stack[this.stack.length-1];n.addChild(e.toTree(this.parser.nodeSet),e.from-n.from),this.block=n}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(e){return this.ranges.length>1?_S(this.ranges,0,e.topNode,this.ranges[0].from,this.reusePlaceholders):e}finishLeaf(e){for(let i of e.parsers)if(i.finish(this,e))return;let n=cd(this.parser.parseInline(e.content,e.start),e.marks);this.addNode(this.buffer.writeElements(n,-e.start).finish(D.Paragraph,e.content.length),e.start)}elt(e,n,i,r){return typeof e=="string"?ue(this.parser.getNodeType(e),n,i,r):new SS(e,n)}get buffer(){return new kS(this.parser.nodeSet)}}function _S(t,e,n,i,r){let s=t[e].to,o=[],a=[],l=n.from+i;function u(c,h){for(;h?c>=s:c>s;){let f=t[e+1].from-s;i+=f,c+=f,e++,s=t[e].to}}for(let c=n.firstChild;c;c=c.nextSibling){u(c.from+i,!0);let h=c.from+i,f,d=r.get(c.tree);d?f=d:c.to+i>s?(f=_S(t,e,c,i,r),u(c.to+i,!1)):f=c.toTree(),o.push(f),a.push(h-l)}return u(n.to+i,!1),new se(n.type,o,a,n.to+i-l,n.tree?n.tree.propValues:void 0)}class Ec extends _c{constructor(e,n,i,r,s,o,a,l,u){super(),this.nodeSet=e,this.blockParsers=n,this.leafBlockParsers=i,this.blockNames=r,this.endLeafBlock=s,this.skipContextMarkup=o,this.inlineParsers=a,this.inlineNames=l,this.wrappers=u,this.nodeTypes=Object.create(null);for(let c of e.types)this.nodeTypes[c.name]=c.id}createParse(e,n,i){let r=new xR(this,e,n,i);for(let s of this.wrappers)r=s(r,e,n,i);return r}configure(e){let n=ud(e);if(!n)return this;let{nodeSet:i,skipContextMarkup:r}=this,s=this.blockParsers.slice(),o=this.leafBlockParsers.slice(),a=this.blockNames.slice(),l=this.inlineParsers.slice(),u=this.inlineNames.slice(),c=this.endLeafBlock.slice(),h=this.wrappers;if(Ws(n.defineNodes)){r=Object.assign({},r);let f=i.types.slice(),d;for(let p of n.defineNodes){let{name:g,block:m,composite:O,style:y}=typeof p=="string"?{name:p}:p;if(f.some(_=>_.name==g))continue;O&&(r[f.length]=(_,A,T)=>O(A,T,_.value));let v=f.length,k=O?["Block","BlockContext"]:m?v>=D.ATXHeading1&&v<=D.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;f.push(Ye.define({id:v,name:g,props:k&&[[J.group,k]]})),y&&(d||(d={}),Array.isArray(y)||y instanceof cn?d[g]=y:Object.assign(d,y))}i=new As(f),d&&(i=i.extend(Cs(d)))}if(Ws(n.props)&&(i=i.extend(...n.props)),Ws(n.remove))for(let f of n.remove){let d=this.blockNames.indexOf(f),p=this.inlineNames.indexOf(f);d>-1&&(s[d]=o[d]=void 0),p>-1&&(l[p]=void 0)}if(Ws(n.parseBlock))for(let f of n.parseBlock){let d=a.indexOf(f.name);if(d>-1)s[d]=f.parse,o[d]=f.leaf;else{let p=f.before?bl(a,f.before):f.after?bl(a,f.after)+1:a.length-1;s.splice(p,0,f.parse),o.splice(p,0,f.leaf),a.splice(p,0,f.name)}f.endLeaf&&c.push(f.endLeaf)}if(Ws(n.parseInline))for(let f of n.parseInline){let d=u.indexOf(f.name);if(d>-1)l[d]=f.parse;else{let p=f.before?bl(u,f.before):f.after?bl(u,f.after)+1:u.length-1;l.splice(p,0,f.parse),u.splice(p,0,f.name)}}return n.wrap&&(h=h.concat(n.wrap)),new Ec(i,s,o,a,c,r,l,u,h)}getNodeType(e){let n=this.nodeTypes[e];if(n==null)throw new RangeError(`Unknown node type '${e}'`);return n}parseInline(e,n){let i=new PR(this,e,n);e:for(let r=n;r<i.end;){let s=i.char(r);for(let o of this.inlineParsers)if(o){let a=o(i,s,r);if(a>=0){r=a;continue e}}r++}return i.resolveMarkers(0)}}function Ws(t){return t!=null&&t.length>0}function ud(t){if(!Array.isArray(t))return t;if(t.length==0)return null;let e=ud(t[0]);if(t.length==1)return e;let n=ud(t.slice(1));if(!n||!e)return e||n;let i=(o,a)=>(o||bs).concat(a||bs),r=e.wrap,s=n.wrap;return{props:i(e.props,n.props),defineNodes:i(e.defineNodes,n.defineNodes),parseBlock:i(e.parseBlock,n.parseBlock),parseInline:i(e.parseInline,n.parseInline),remove:i(e.remove,n.remove),wrap:r?s?(o,a,l,u)=>r(s(o,a,l,u),a,l,u):r:s}}function bl(t,e){let n=t.indexOf(e);if(n<0)throw new RangeError(`Position specified relative to unknown parser ${e}`);return n}let wS=[Ye.none];for(let t=1,e;e=D[t];t++)wS[t]=Ye.define({id:t,name:e,props:t>=D.Escape?[]:[[J.group,t in fS?["Block","BlockContext"]:["Block","LeafBlock"]]],top:e=="Document"});const bs=[];class kS{constructor(e){this.nodeSet=e,this.content=[],this.nodes=[]}write(e,n,i,r=0){return this.content.push(e,n,i,4+r*4),this}writeElements(e,n=0){for(let i of e)i.writeTo(this,n);return this}finish(e,n){return se.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:e,length:n})}}let ea=class{constructor(e,n,i,r=bs){this.type=e,this.from=n,this.to=i,this.children=r}writeTo(e,n){let i=e.content.length;e.writeElements(this.children,n),e.content.push(this.type,this.from+n,this.to+n,e.content.length+4-i)}toTree(e){return new kS(e).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}};class SS{constructor(e,n){this.tree=e,this.from=n}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return bs}writeTo(e,n){e.nodes.push(this.tree),e.content.push(e.nodes.length-1,this.from+n,this.to+n,-1)}toTree(){return this.tree}}function ue(t,e,n,i){return new ea(t,e,n,i)}const xS={resolve:"Emphasis",mark:"EmphasisMark"},TS={resolve:"Emphasis",mark:"EmphasisMark"},Ys={},c1={};class hn{constructor(e,n,i,r){this.type=e,this.from=n,this.to=i,this.side=r}}const h1="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";let ta=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{ta=new RegExp("[\\p{Pc}|\\p{Pd}|\\p{Pe}|\\p{Pf}|\\p{Pi}|\\p{Po}|\\p{Ps}]","u")}catch{}const yh={Escape(t,e,n){if(e!=92||n==t.end-1)return-1;let i=t.char(n+1);for(let r=0;r<h1.length;r++)if(h1.charCodeAt(r)==i)return t.append(ue(D.Escape,n,n+2));return-1},Entity(t,e,n){if(e!=38)return-1;let i=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(t.slice(n+1,n+31));return i?t.append(ue(D.Entity,n,n+1+i[0].length)):-1},InlineCode(t,e,n){if(e!=96||n&&t.char(n-1)==96)return-1;let i=n+1;for(;i<t.end&&t.char(i)==96;)i++;let r=i-n,s=0;for(;i<t.end;i++)if(t.char(i)==96){if(s++,s==r&&t.char(i+1)!=96)return t.append(ue(D.InlineCode,n,i+1,[ue(D.CodeMark,n,n+r),ue(D.CodeMark,i+1-r,i+1)]))}else s=0;return-1},HTMLTag(t,e,n){if(e!=60||n==t.end-1)return-1;let i=t.slice(n+1,t.end),r=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(i);if(r)return t.append(ue(D.Autolink,n,n+1+r[0].length,[ue(D.LinkMark,n,n+1),ue(D.URL,n+1,n+r[0].length),ue(D.LinkMark,n+r[0].length,n+1+r[0].length)]));let s=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(i);if(s)return t.append(ue(D.Comment,n,n+1+s[0].length));let o=/^\?[^]*?\?>/.exec(i);if(o)return t.append(ue(D.ProcessingInstruction,n,n+1+o[0].length));let a=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(i);return a?t.append(ue(D.HTMLTag,n,n+1+a[0].length)):-1},Emphasis(t,e,n){if(e!=95&&e!=42)return-1;let i=n+1;for(;t.char(i)==e;)i++;let r=t.slice(n-1,n),s=t.slice(i,i+1),o=ta.test(r),a=ta.test(s),l=/\s|^$/.test(r),u=/\s|^$/.test(s),c=!u&&(!a||l||o),h=!l&&(!o||u||a),f=c&&(e==42||!h||o),d=h&&(e==42||!c||a);return t.append(new hn(e==95?xS:TS,n,i,(f?1:0)|(d?2:0)))},HardBreak(t,e,n){if(e==92&&t.char(n+1)==10)return t.append(ue(D.HardBreak,n,n+2));if(e==32){let i=n+1;for(;t.char(i)==32;)i++;if(t.char(i)==10&&i>=n+2)return t.append(ue(D.HardBreak,n,i+1))}return-1},Link(t,e,n){return e==91?t.append(new hn(Ys,n,n+1,1)):-1},Image(t,e,n){return e==33&&t.char(n+1)==91?t.append(new hn(c1,n,n+2,1)):-1},LinkEnd(t,e,n){if(e!=93)return-1;for(let i=t.parts.length-1;i>=0;i--){let r=t.parts[i];if(r instanceof hn&&(r.type==Ys||r.type==c1)){if(!r.side||t.skipSpace(r.to)==n&&!/[(\[]/.test(t.slice(n+1,n+2)))return t.parts[i]=null,-1;let s=t.takeContent(i),o=t.parts[i]=TR(t,s,r.type==Ys?D.Link:D.Image,r.from,n+1);if(r.type==Ys)for(let a=0;a<i;a++){let l=t.parts[a];l instanceof hn&&l.type==Ys&&(l.side=0)}return o.to}}return-1}};function TR(t,e,n,i,r){let{text:s}=t,o=t.char(r),a=r;if(e.unshift(ue(D.LinkMark,i,i+(n==D.Image?2:1))),e.push(ue(D.LinkMark,r-1,r)),o==40){let l=t.skipSpace(r+1),u=PS(s,l-t.offset,t.offset),c;u&&(l=t.skipSpace(u.to),l!=u.to&&(c=ES(s,l-t.offset,t.offset),c&&(l=t.skipSpace(c.to)))),t.char(l)==41&&(e.push(ue(D.LinkMark,r,r+1)),a=l+1,u&&e.push(u),c&&e.push(c),e.push(ue(D.LinkMark,l,a)))}else if(o==91){let l=AS(s,r-t.offset,t.offset,!1);l&&(e.push(l),a=l.to)}return ue(n,i,a,e)}function PS(t,e,n){if(t.charCodeAt(e)==60){for(let r=e+1;r<t.length;r++){let s=t.charCodeAt(r);if(s==62)return ue(D.URL,e+n,r+1+n);if(s==60||s==10)return!1}return null}else{let r=0,s=e;for(let o=!1;s<t.length;s++){let a=t.charCodeAt(s);if(an(a))break;if(o)o=!1;else if(a==40)r++;else if(a==41){if(!r)break;r--}else a==92&&(o=!0)}return s>e?ue(D.URL,e+n,s+n):s==t.length?null:!1}}function ES(t,e,n){let i=t.charCodeAt(e);if(i!=39&&i!=34&&i!=40)return!1;let r=i==40?41:i;for(let s=e+1,o=!1;s<t.length;s++){let a=t.charCodeAt(s);if(o)o=!1;else{if(a==r)return ue(D.LinkTitle,e+n,s+1+n);a==92&&(o=!0)}}return null}function AS(t,e,n,i){for(let r=!1,s=e+1,o=Math.min(t.length,s+999);s<o;s++){let a=t.charCodeAt(s);if(r)r=!1;else{if(a==93)return i?!1:ue(D.LinkLabel,e+n,s+1+n);if(i&&!an(a)&&(i=!1),a==91)return!1;a==92&&(r=!0)}}return null}class PR{constructor(e,n,i){this.parser=e,this.text=n,this.offset=i,this.parts=[]}char(e){return e>=this.end?-1:this.text.charCodeAt(e-this.offset)}get end(){return this.offset+this.text.length}slice(e,n){return this.text.slice(e-this.offset,n-this.offset)}append(e){return this.parts.push(e),e.to}addDelimiter(e,n,i,r,s){return this.append(new hn(e,n,i,(r?1:0)|(s?2:0)))}addElement(e){return this.append(e)}resolveMarkers(e){for(let i=e;i<this.parts.length;i++){let r=this.parts[i];if(!(r instanceof hn&&r.type.resolve&&r.side&2))continue;let s=r.type==xS||r.type==TS,o=r.to-r.from,a,l=i-1;for(;l>=e;l--){let g=this.parts[l];if(g instanceof hn&&g.side&1&&g.type==r.type&&!(s&&(r.side&1||g.side&2)&&(g.to-g.from+o)%3==0&&((g.to-g.from)%3||o%3))){a=g;break}}if(!a)continue;let u=r.type.resolve,c=[],h=a.from,f=r.to;if(s){let g=Math.min(2,a.to-a.from,o);h=a.to-g,f=r.from+g,u=g==1?"Emphasis":"StrongEmphasis"}a.type.mark&&c.push(this.elt(a.type.mark,h,a.to));for(let g=l+1;g<i;g++)this.parts[g]instanceof ea&&c.push(this.parts[g]),this.parts[g]=null;r.type.mark&&c.push(this.elt(r.type.mark,r.from,f));let d=this.elt(u,h,f,c);this.parts[l]=s&&a.from!=h?new hn(a.type,a.from,h,a.side):null,(this.parts[i]=s&&r.to!=f?new hn(r.type,f,r.to,r.side):null)?this.parts.splice(i,0,d):this.parts[i]=d}let n=[];for(let i=e;i<this.parts.length;i++){let r=this.parts[i];r instanceof ea&&n.push(r)}return n}findOpeningDelimiter(e){for(let n=this.parts.length-1;n>=0;n--){let i=this.parts[n];if(i instanceof hn&&i.type==e)return n}return null}takeContent(e){let n=this.resolveMarkers(e);return this.parts.length=e,n}skipSpace(e){return wo(this.text,e-this.offset)+this.offset}elt(e,n,i,r){return typeof e=="string"?ue(this.parser.getNodeType(e),n,i,r):new SS(e,n)}}function cd(t,e){if(!e.length)return t;if(!t.length)return e;let n=t.slice(),i=0;for(let r of e){for(;i<n.length&&n[i].to<r.to;)i++;if(i<n.length&&n[i].from<r.from){let s=n[i];s instanceof ea&&(n[i]=new ea(s.type,s.from,s.to,cd(s.children,[r])))}else n.splice(i++,0,r)}return n}const ER=[D.CodeBlock,D.ListItem,D.OrderedList,D.BulletList];let AR=class{constructor(e,n){this.fragments=e,this.input=n,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,e.length&&(this.fragment=e[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(e,n){for(;this.fragment&&this.fragment.to<=e;)this.nextFragment();if(!this.fragment||this.fragment.from>(e?e-1:0))return!1;if(this.fragmentEnd<0){let s=this.fragment.to;for(;s>0&&this.input.read(s-1,s)!=`
`;)s--;this.fragmentEnd=s?s-1:0}let i=this.cursor;i||(i=this.cursor=this.fragment.tree.cursor(),i.firstChild());let r=e+this.fragment.offset;for(;i.to<=r;)if(!i.parent())return!1;for(;;){if(i.from>=r)return this.fragment.from<=n;if(!i.childAfter(r))return!1}}matches(e){let n=this.cursor.tree;return n&&n.prop(J.contextHash)==e}takeNodes(e){let n=this.cursor,i=this.fragment.offset,r=this.fragmentEnd-(this.fragment.openEnd?1:0),s=e.absoluteLineStart,o=s,a=e.block.children.length,l=o,u=a;for(;;){if(n.to-i>r){if(n.type.isAnonymous&&n.firstChild())continue;break}let c=CS(n.from-i,e.ranges);if(n.to-i<=e.ranges[e.rangeI].to)e.addNode(n.tree,c);else{let h=new se(e.parser.nodeSet.types[D.Paragraph],[],[],0,e.block.hashProp);e.reusePlaceholders.set(h,n.tree),e.addNode(h,c)}if(n.type.is("Block")&&(ER.indexOf(n.type.id)<0?(o=n.to-i,a=e.block.children.length):(o=l,a=u,l=n.to-i,u=e.block.children.length)),!n.nextSibling())break}for(;e.block.children.length>a;)e.block.children.pop(),e.block.positions.pop();return o-s}};function CS(t,e){let n=t;for(let i=1;i<e.length;i++){let r=e[i-1].to,s=e[i].from;r<t&&(n-=s-r)}return n}const CR=Cs({"Blockquote/...":b.quote,HorizontalRule:b.contentSeparator,"ATXHeading1/... SetextHeading1/...":b.heading1,"ATXHeading2/... SetextHeading2/...":b.heading2,"ATXHeading3/...":b.heading3,"ATXHeading4/...":b.heading4,"ATXHeading5/...":b.heading5,"ATXHeading6/...":b.heading6,"Comment CommentBlock":b.comment,Escape:b.escape,Entity:b.character,"Emphasis/...":b.emphasis,"StrongEmphasis/...":b.strong,"Link/... Image/...":b.link,"OrderedList/... BulletList/...":b.list,"BlockQuote/...":b.quote,"InlineCode CodeText":b.monospace,"URL Autolink":b.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":b.processingInstruction,"CodeInfo LinkLabel":b.labelName,LinkTitle:b.string,Paragraph:b.content}),$R=new Ec(new As(wS).extend(CR),Object.keys(Ol).map(t=>Ol[t]),Object.keys(Ol).map(t=>wR[t]),Object.keys(Ol),kR,fS,Object.keys(yh).map(t=>yh[t]),Object.keys(yh),[]);function IR(t,e,n){let i=[];for(let r=t.firstChild,s=e;;r=r.nextSibling){let o=r?r.from:n;if(o>s&&i.push({from:s,to:o}),!r)break;s=r.to}return i}function QR(t){let{codeParser:e,htmlParser:n}=t;return{wrap:lk((r,s)=>{let o=r.type.id;if(e&&(o==D.CodeBlock||o==D.FencedCode)){let a="";if(o==D.FencedCode){let u=r.node.getChild(D.CodeInfo);u&&(a=s.read(u.from,u.to))}let l=e(a);if(l)return{parser:l,overlay:u=>u.type.id==D.CodeText}}else if(n&&(o==D.HTMLBlock||o==D.HTMLTag))return{parser:n,overlay:IR(r.node,r.from,r.to)};return null})}}const RR={resolve:"Strikethrough",mark:"StrikethroughMark"},DR={defineNodes:[{name:"Strikethrough",style:{"Strikethrough/...":b.strikethrough}},{name:"StrikethroughMark",style:b.processingInstruction}],parseInline:[{name:"Strikethrough",parse(t,e,n){if(e!=126||t.char(n+1)!=126||t.char(n+2)==126)return-1;let i=t.slice(n-1,n),r=t.slice(n+2,n+3),s=/\s|^$/.test(i),o=/\s|^$/.test(r),a=ta.test(i),l=ta.test(r);return t.addDelimiter(RR,n,n+2,!o&&(!l||s||a),!s&&(!a||o||l))},after:"Emphasis"}]};function ko(t,e,n=0,i,r=0){let s=0,o=!0,a=-1,l=-1,u=!1,c=()=>{i.push(t.elt("TableCell",r+a,r+l,t.parser.parseInline(e.slice(a,l),r+a)))};for(let h=n;h<e.length;h++){let f=e.charCodeAt(h);f==124&&!u?((!o||a>-1)&&s++,o=!1,i&&(a>-1&&c(),i.push(t.elt("TableDelimiter",h+r,h+r+1))),a=l=-1):(u||f!=32&&f!=9)&&(a<0&&(a=h),l=h+1),u=!u&&f==92}return a>-1&&(s++,i&&c()),s}function f1(t,e){for(let n=e;n<t.length;n++){let i=t.charCodeAt(n);if(i==124)return!0;i==92&&n++}return!1}const $S=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/;class d1{constructor(){this.rows=null}nextLine(e,n,i){if(this.rows==null){this.rows=!1;let r;if((n.next==45||n.next==58||n.next==124)&&$S.test(r=n.text.slice(n.pos))){let s=[];ko(e,i.content,0,s,i.start)==ko(e,r,n.pos)&&(this.rows=[e.elt("TableHeader",i.start,i.start+i.content.length,s),e.elt("TableDelimiter",e.lineStart+n.pos,e.lineStart+n.text.length)])}}else if(this.rows){let r=[];ko(e,n.text,n.pos,r,e.lineStart),this.rows.push(e.elt("TableRow",e.lineStart+n.pos,e.lineStart+n.text.length,r))}return!1}finish(e,n){return this.rows?(e.addLeafElement(n,e.elt("Table",n.start,n.start+n.content.length,this.rows)),!0):!1}}const VR={defineNodes:[{name:"Table",block:!0},{name:"TableHeader",style:{"TableHeader/...":b.heading}},"TableRow",{name:"TableCell",style:b.content},{name:"TableDelimiter",style:b.processingInstruction}],parseBlock:[{name:"Table",leaf(t,e){return f1(e.content,0)?new d1:null},endLeaf(t,e,n){if(n.parsers.some(r=>r instanceof d1)||!f1(e.text,e.basePos))return!1;let i=t.scanLine(t.absoluteLineEnd+1).text;return $S.test(i)&&ko(t,e.text,e.basePos)==ko(t,i,e.basePos)},before:"SetextHeading"}]};class LR{nextLine(){return!1}finish(e,n){return e.addLeafElement(n,e.elt("Task",n.start,n.start+n.content.length,[e.elt("TaskMarker",n.start,n.start+3),...e.parser.parseInline(n.content.slice(3),n.start+3)])),!0}}const ZR={defineNodes:[{name:"Task",block:!0,style:b.list},{name:"TaskMarker",style:b.atom}],parseBlock:[{name:"TaskList",leaf(t,e){return/^\[[ xX]\][ \t]/.test(e.content)&&t.parentType().name=="ListItem"?new LR:null},after:"SetextHeading"}]},p1=/(www\.)|(https?:\/\/)|([\w.+-]+@)|(mailto:|xmpp:)/gy,m1=/[\w-]+(\.[\w-]+)+(\/[^\s<]*)?/gy,MR=/[\w-]+\.[\w-]+($|\/)/,g1=/[\w.+-]+@[\w-]+(\.[\w.-]+)+/gy,O1=/\/[a-zA-Z\d@.]+/gy;function b1(t,e,n,i){let r=0;for(let s=e;s<n;s++)t[s]==i&&r++;return r}function FR(t,e){m1.lastIndex=e;let n=m1.exec(t);if(!n||MR.exec(n[0])[0].indexOf("_")>-1)return-1;let i=e+n[0].length;for(;;){let r=t[i-1],s;if(/[?!.,:*_~]/.test(r)||r==")"&&b1(t,e,i,")")>b1(t,e,i,"("))i--;else if(r==";"&&(s=/&(?:#\d+|#x[a-f\d]+|\w+);$/.exec(t.slice(e,i))))i=e+s.index;else break}return i}function y1(t,e){g1.lastIndex=e;let n=g1.exec(t);if(!n)return-1;let i=n[0][n[0].length-1];return i=="_"||i=="-"?-1:e+n[0].length-(i=="."?1:0)}const NR={parseInline:[{name:"Autolink",parse(t,e,n){let i=n-t.offset;p1.lastIndex=i;let r=p1.exec(t.text),s=-1;return!r||(r[1]||r[2]?s=FR(t.text,i+r[0].length):r[3]?s=y1(t.text,i):(s=y1(t.text,i+r[0].length),s>-1&&r[0]=="xmpp:"&&(O1.lastIndex=s,r=O1.exec(t.text),r&&(s=r.index+r[0].length))),s<0)?-1:(t.addElement(t.elt("URL",n,s+t.offset)),s+t.offset)}}]},BR=[VR,ZR,DR,NR];function IS(t,e,n){return(i,r,s)=>{if(r!=t||i.char(s+1)==t)return-1;let o=[i.elt(n,s,s+1)];for(let a=s+1;a<i.end;a++){let l=i.char(a);if(l==t)return i.addElement(i.elt(e,s,a+1,o.concat(i.elt(n,a,a+1))));if(l==92&&o.push(i.elt("Escape",a,a+++2)),an(l))break}return-1}}const jR={defineNodes:[{name:"Superscript",style:b.special(b.content)},{name:"SuperscriptMark",style:b.processingInstruction}],parseInline:[{name:"Superscript",parse:IS(94,"Superscript","SuperscriptMark")}]},XR={defineNodes:[{name:"Subscript",style:b.special(b.content)},{name:"SubscriptMark",style:b.processingInstruction}],parseInline:[{name:"Subscript",parse:IS(126,"Subscript","SubscriptMark")}]},zR={defineNodes:[{name:"Emoji",style:b.character}],parseInline:[{name:"Emoji",parse(t,e,n){let i;return e!=58||!(i=/^[a-zA-Z_0-9]+:/.exec(t.slice(n+1,t.end)))?-1:t.addElement(t.elt("Emoji",n,n+1+i[0].length))}}]};var v1={};let qR=class hd{constructor(e,n,i,r,s,o,a,l,u,c=0,h){this.p=e,this.stack=n,this.state=i,this.reducePos=r,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=u,this.lookAhead=c,this.parent=h}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,i=0){let r=e.parser.context;return new hd(e,[],n,i,i,0,[],0,r?new _1(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let i=e>>19,r=e&65535,{parser:s}=this.p,o=s.dynamicPrecedence(r);if(o&&(this.score+=o),i==0){this.pushState(s.getGoto(this.state,r,!0),this.reducePos),r<s.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,4,!0),this.reduceContext(r,this.reducePos);return}let a=this.stack.length-(i-1)*3-(e&262144?6:0),l=a?this.stack[a-2]:this.p.ranges[0].from,u=this.reducePos-l;u>=2e3&&!(!((n=this.p.parser.nodeSet.types[r])===null||n===void 0)&&n.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=u):this.p.lastBigReductionSize<u&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=u));let c=a?this.stack[a-1]:0,h=this.bufferBase+this.buffer.length-c;if(r<s.minRepeatTerm||e&131072){let f=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,l,f,h+4,!0)}if(e&262144)this.state=this.stack[a];else{let f=this.stack[a-3];this.state=s.getGoto(f,r,!0)}for(;this.stack.length>a;)this.stack.pop();this.reduceContext(r,l)}storeNode(e,n,i,r=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(n==i)return;if(o.buffer[a-2]>=n){o.buffer[a-2]=i;return}}}if(!s||this.pos==i)this.buffer.push(e,n,i,r);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0)for(;o>0&&this.buffer[o-2]>i;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,r>4&&(r-=4);this.buffer[o]=e,this.buffer[o+1]=n,this.buffer[o+2]=i,this.buffer[o+3]=r}}shift(e,n,i,r){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=r,this.shiftContext(n,i),n<=this.p.parser.maxNode&&this.buffer.push(n,i,r,4);else{let s=e,{parser:o}=this.p;(r>this.pos||n<=o.maxNode)&&(this.pos=r,o.stateFlag(s,1)||(this.reducePos=r)),this.pushState(s,i),this.shiftContext(n,i),n<=o.maxNode&&this.buffer.push(n,i,r,4)}}apply(e,n,i,r){e&65536?this.reduce(e):this.shift(e,n,i,r)}useNode(e,n){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let r=this.pos;this.reducePos=this.pos=r+e.length,this.pushState(n,r),this.buffer.push(i,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let i=e.buffer.slice(n),r=e.bufferBase+n;for(;e&&r==e.bufferBase;)e=e.parent;return new hd(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,r,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,i?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new WR(this);;){let i=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(i==0)return!1;if(!(i&65536))return!0;n.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let r=[];for(let s=0,o;s<n.length;s+=2)(o=n[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&r.push(n[s],o);if(this.stack.length<120)for(let s=0;r.length<8&&s<n.length;s+=2){let o=n[s+1];r.some((a,l)=>l&1&&a==o)||r.push(n[s],o)}n=r}let i=[];for(let r=0;r<n.length&&i.length<4;r+=2){let s=n[r+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(n[r],this.pos),o.reducePos=this.pos,o.score-=200,i.push(o)}return i}forceReduce(){let{parser:e}=this.p,n=e.stateSlot(this.state,5);if(!(n&65536))return!1;if(!e.validAction(this.state,n)){let i=n>>19,r=n&65535,s=this.stack.length-i*3;if(s<0||e.getGoto(this.stack[s],r,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;n=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:e}=this.p,n=[],i=(r,s)=>{if(!n.includes(r))return n.push(r),e.allActions(r,o=>{if(!(o&393216))if(o&65536){let a=(o>>19)-s;if(a>1){let l=o&65535,u=this.stack.length-a*3;if(u>=0&&e.getGoto(this.stack[u],l,!1)>=0)return a<<19|65536|l}}else{let a=i(o,s+1);if(a!=null)return a}})};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new _1(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}};class _1{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}class WR{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,i=e>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let r=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=r}}class Cu{constructor(e,n,i){this.stack=e,this.pos=n,this.index=i,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new Cu(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Cu(this.stack,this.pos,this.index)}}function ao(t,e=Uint16Array){if(typeof t!="string")return t;let n=null;for(let i=0,r=0;i<t.length;){let s=0;for(;;){let o=t.charCodeAt(i++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}n?n[r++]=s:n=new e(s)}return n}class Nl{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const w1=new Nl;class YR{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=w1,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let i=this.range,r=this.rangeIndex,s=this.pos+e;for(;s<i.from;){if(!r)return null;let o=this.ranges[--r];s-=i.from-o.to,i=o}for(;n<0?s>i.to:s>=i.to;){if(r==this.ranges.length-1)return null;let o=this.ranges[++r];s+=o.from-i.to,i=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,i,r;if(n>=0&&n<this.chunk.length)i=this.pos+e,r=this.chunk.charCodeAt(n);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(i=s,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=i;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-i)),r=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),r}acceptToken(e,n=0){let i=n?this.resolveOffset(n,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}acceptTokenTo(e,n){this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=w1,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let i="";for(let r of this.ranges){if(r.from>=n)break;r.to>e&&(i+=this.input.read(Math.max(r.from,e),Math.min(r.to,n)))}return i}}class Kr{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:i}=n.p;QS(this.data,e,n,this.id,i.data,i.tokenPrecTable)}}Kr.prototype.contextual=Kr.prototype.fallback=Kr.prototype.extend=!1;class $u{constructor(e,n,i){this.precTable=n,this.elseToken=i,this.data=typeof e=="string"?ao(e):e}token(e,n){let i=e.pos,r=0;for(;;){let s=e.next<0,o=e.resolveOffset(1,1);if(QS(this.data,e,n,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(s||r++,o==null)break;e.reset(o,e.token)}r&&(e.reset(i,e.token),e.acceptToken(this.elseToken,r))}}$u.prototype.contextual=Kr.prototype.fallback=Kr.prototype.extend=!1;class On{constructor(e,n={}){this.token=e,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}}function QS(t,e,n,i,r,s){let o=0,a=1<<i,{dialect:l}=n.p.parser;e:for(;a&t[o];){let u=t[o+1];for(let d=o+3;d<u;d+=2)if((t[d+1]&a)>0){let p=t[d];if(l.allows(p)&&(e.token.value==-1||e.token.value==p||UR(p,e.token.value,r,s))){e.acceptToken(p);break}}let c=e.next,h=0,f=t[o+2];if(e.next<0&&f>h&&t[u+f*3-3]==65535){o=t[u+f*3-1];continue e}for(;h<f;){let d=h+f>>1,p=u+d+(d<<1),g=t[p],m=t[p+1]||65536;if(c<g)f=d;else if(c>=m)h=d+1;else{o=t[p+2],e.advance();continue e}}break}}function k1(t,e,n){for(let i=e,r;(r=t[i])!=65535;i++)if(r==n)return i-e;return-1}function UR(t,e,n,i){let r=k1(n,i,e);return r<0||k1(n,i,t)<r}const Zt=typeof process<"u"&&v1&&/\bparse\b/.test(v1.LOG);let vh=null;function S1(t,e,n){let i=t.cursor(Te.IncludeAnonymous);for(i.moveTo(e);;)if(!(n<0?i.childBefore(e):i.childAfter(e)))for(;;){if((n<0?i.to<e:i.from>e)&&!i.type.isError)return n<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(t.length,Math.max(i.from+1,e+25));if(n<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return n<0?0:t.length}}class GR{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?S1(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?S1(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let i=this.trees[n],r=this.index[n];if(r==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=i.children[r],o=this.start[n]+i.positions[r];if(o>e)return this.nextStart=o,null;if(s instanceof se){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let l=s.prop(J.lookAhead);if(!l||a+l<this.fragment.to)return s}}this.index[n]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[n]++,this.nextStart=o+s.length}}}class HR{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(i=>new Nl)}getActions(e){let n=0,i=null,{parser:r}=e.p,{tokenizers:s}=r,o=r.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let u=0;u<s.length;u++){if(!(1<<u&o))continue;let c=s[u],h=this.tokens[u];if(!(i&&!c.fallback)&&((c.contextual||h.start!=e.pos||h.mask!=o||h.context!=a)&&(this.updateCachedToken(h,c,e),h.mask=o,h.context=a),h.lookAhead>h.end+25&&(l=Math.max(h.lookAhead,l)),h.value!=0)){let f=n;if(h.extended>-1&&(n=this.addActions(e,h.extended,h.end,n)),n=this.addActions(e,h.value,h.end,n),!c.extend&&(i=h,n>f))break}}for(;this.actions.length>n;)this.actions.pop();return l&&e.setLookAhead(l),!i&&e.pos==this.stream.end&&(i=new Nl,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,n=this.addActions(e,i.value,i.end,n)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new Nl,{pos:i,p:r}=e;return n.start=i,n.end=Math.min(i+1,r.stream.end),n.value=i==r.stream.end?r.parser.eofTerm:0,n}updateCachedToken(e,n,i){let r=this.stream.clipPos(i.pos);if(n.token(this.stream.reset(r,e),i),e.value>-1){let{parser:s}=i.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let a=s.specializers[o](this.stream.read(e.start,e.end),i);if(a>=0&&i.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(r+1)}putAction(e,n,i,r){for(let s=0;s<r;s+=3)if(this.actions[s]==e)return r;return this.actions[r++]=e,this.actions[r++]=n,this.actions[r++]=i,r}addActions(e,n,i,r){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let u=o.stateSlot(s,l?2:1);;u+=3){if(a[u]==65535)if(a[u+1]==1)u=Wn(a,u+2);else{r==0&&a[u+1]==2&&(r=this.putAction(Wn(a,u+2),n,i,r));break}a[u]==n&&(r=this.putAction(Wn(a,u+1),n,i,r))}return r}}class KR{constructor(e,n,i,r){this.parser=e,this.input=n,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new YR(n,r),this.tokens=new HR(e,this.stream),this.topTerm=e.top[1];let{from:s}=r[0];this.stacks=[qR.start(this,e.top[0],s)],this.fragments=i.length&&this.stream.end-s>e.bufferLength*4?new GR(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,i=this.stacks=[],r,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>n)i.push(a);else{if(this.advanceStack(a,i,e))continue;{r||(r=[],s=[]),r.push(a);let l=this.tokens.getMainToken(a);s.push(l.value,l.end)}}break}}if(!i.length){let o=r&&eD(r);if(o)return Zt&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw Zt&&r&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&r){let o=this.stoppedAt!=null&&r[0].pos>this.stoppedAt?r[0]:this.runRecovery(r,s,i);if(o)return Zt&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(i.length>o)for(i.sort((a,l)=>l.score-a.score);i.length>o;)i.pop();i.some(a=>a.reducePos>n)&&this.recovering--}else if(i.length>1){e:for(let o=0;o<i.length-1;o++){let a=i[o];for(let l=o+1;l<i.length;l++){let u=i[l];if(a.sameState(u)||a.buffer.length>500&&u.buffer.length>500)if((a.score-u.score||a.buffer.length-u.buffer.length)>0)i.splice(l--,1);else{i.splice(o--,1);continue e}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let o=1;o<i.length;o++)i[o].pos<this.minStackPos&&(this.minStackPos=i[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,i){let r=e.pos,{parser:s}=this,o=Zt?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&r>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let u=e.curContext&&e.curContext.tracker.strict,c=u?e.curContext.hash:0;for(let h=this.fragments.nodeAt(r);h;){let f=this.parser.nodeSet.types[h.type.id]==h.type?s.getGoto(e.state,h.type.id):-1;if(f>-1&&h.length&&(!u||(h.prop(J.contextHash)||0)==c))return e.useNode(h,f),Zt&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(h.type.id)})`),!0;if(!(h instanceof se)||h.children.length==0||h.positions[0]>0)break;let d=h.children[0];if(d instanceof se&&h.positions[0]==0)h=d;else break}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),Zt&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(a&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let u=0;u<l.length;){let c=l[u++],h=l[u++],f=l[u++],d=u==l.length||!i,p=d?e:e.split(),g=this.tokens.mainToken;if(p.apply(c,h,g?g.start:p.pos,f),Zt&&console.log(o+this.stackID(p)+` (via ${c&65536?`reduce of ${s.getName(c&65535)}`:"shift"} for ${s.getName(h)} @ ${r}${p==e?"":", split"})`),d)return!0;p.pos>r?n.push(p):i.push(p)}return!1}advanceFully(e,n){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return x1(e,n),!0}}runRecovery(e,n,i){let r=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],l=n[o<<1],u=n[(o<<1)+1],c=Zt?this.stackID(a)+" -> ":"";if(a.deadEnd&&(s||(s=!0,a.restart(),Zt&&console.log(c+this.stackID(a)+" (restarted)"),this.advanceFully(a,i))))continue;let h=a.split(),f=c;for(let d=0;h.forceReduce()&&d<10&&(Zt&&console.log(f+this.stackID(h)+" (via force-reduce)"),!this.advanceFully(h,i));d++)Zt&&(f=this.stackID(h)+" -> ");for(let d of a.recoverByInsert(l))Zt&&console.log(c+this.stackID(d)+" (via recover-insert)"),this.advanceFully(d,i);this.stream.end>a.pos?(u==a.pos&&(u++,l=0),a.recoverByDelete(l,u),Zt&&console.log(c+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),x1(a,i)):(!r||r.score<a.score)&&(r=a)}return r}stackToTree(e){return e.close(),se.build({buffer:Cu.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(vh||(vh=new WeakMap)).get(e);return n||vh.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function x1(t,e){for(let n=0;n<e.length;n++){let i=e[n];if(i.pos==t.pos&&i.sameState(t)){e[n].score<t.score&&(e[n]=t);return}}e.push(t)}class JR{constructor(e,n,i){this.source=e,this.flags=n,this.disabled=i}allows(e){return!this.disabled||this.disabled[e]==0}}const _h=t=>t;class RS{constructor(e){this.start=e.start,this.shift=e.shift||_h,this.reduce=e.reduce||_h,this.reuse=e.reuse||_h,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class ys extends _c{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let a=0;a<e.repeatNodeCount;a++)n.push("");let i=Object.keys(e.topRules).map(a=>e.topRules[a][1]),r=[];for(let a=0;a<n.length;a++)r.push([]);function s(a,l,u){r[a].push([l,l.deserialize(String(u))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=J[l]);for(let u=1;u<a.length;){let c=a[u++];if(c>=0)s(c,l,a[u++]);else{let h=a[u+-c];for(let f=-c;f>0;f--)s(a[u++],l,h);u++}}}this.nodeSet=new As(n.map((a,l)=>Ye.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:r[l],top:i.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=ik;let o=ao(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(T1),this.states=ao(e.states,Uint32Array),this.data=ao(e.stateData),this.goto=ao(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new Kr(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,i){let r=new KR(this,e,n,i);for(let s of this.wrappers)r=s(r,e,n,i);return r}getGoto(e,n,i=!1){let r=this.goto;if(n>=r[0])return-1;for(let s=r[n+1];;){let o=r[s++],a=o&1,l=r[s++];if(a&&i)return l;for(let u=s+(o>>1);s<u;s++)if(r[s]==e)return l;if(a)return-1}}hasAction(e,n){let i=this.data;for(let r=0;r<2;r++)for(let s=this.stateSlot(e,r?2:1),o;;s+=3){if((o=i[s])==65535)if(i[s+1]==1)o=i[s=Wn(i,s+2)];else{if(i[s+1]==2)return Wn(i,s+2);break}if(o==n||o==0)return Wn(i,s+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){return!!this.allActions(e,i=>i==n?!0:null)}allActions(e,n){let i=this.stateSlot(e,4),r=i?n(i):void 0;for(let s=this.stateSlot(e,1);r==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=Wn(this.data,s+2);else break;r=n(Wn(this.data,s+1))}return r}nextStates(e){let n=[];for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=Wn(this.data,i+2);else break;if(!(this.data[i+2]&1)){let r=this.data[i+1];n.some((s,o)=>o&1&&s==r)||n.push(this.data[i],r)}}return n}configure(e){let n=Object.assign(Object.create(ys.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=i}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(i=>{let r=e.tokenizers.find(s=>s.from==i);return r?r.to:i})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((i,r)=>{let s=e.specializers.find(a=>a.from==i.external);if(!s)return i;let o=Object.assign(Object.assign({},i),{external:s.to});return n.specializers[r]=T1(o),o})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),i=n.map(()=>!1);if(e)for(let s of e.split(" ")){let o=n.indexOf(s);o>=0&&(i[o]=!0)}let r=null;for(let s=0;s<n.length;s++)if(!i[s])for(let o=this.dialects[n[s]],a;(a=this.data[o++])!=65535;)(r||(r=new Uint8Array(this.maxTerm+1)))[a]=1;return new JR(e,i,r)}static deserialize(e){return new ys(e)}}function Wn(t,e){return t[e]|t[e+1]<<16}function eD(t){let e=null;for(let n of t){let i=n.p.stoppedAt;(n.pos==n.p.stream.end||i!=null&&n.pos>i)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function T1(t){if(t.external){let e=t.extend?1:0;return(n,i)=>t.external(n,i)<<1|e}return t.get}const tD=54,nD=1,iD=55,rD=2,sD=56,oD=3,P1=4,aD=5,Iu=6,DS=7,VS=8,LS=9,ZS=10,lD=11,uD=12,cD=13,wh=57,hD=14,E1=58,MS=20,fD=22,FS=23,dD=24,fd=26,NS=27,pD=28,mD=31,gD=34,OD=36,bD=37,yD=0,vD=1,_D={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},wD={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},A1={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function kD(t){return t==45||t==46||t==58||t>=65&&t<=90||t==95||t>=97&&t<=122||t>=161}function BS(t){return t==9||t==10||t==13||t==32}let C1=null,$1=null,I1=0;function dd(t,e){let n=t.pos+e;if(I1==n&&$1==t)return C1;let i=t.peek(e);for(;BS(i);)i=t.peek(++e);let r="";for(;kD(i);)r+=String.fromCharCode(i),i=t.peek(++e);return $1=t,I1=n,C1=r?r.toLowerCase():i==SD||i==xD?void 0:null}const jS=60,Qu=62,um=47,SD=63,xD=33,TD=45;function Q1(t,e){this.name=t,this.parent=e,this.hash=e?e.hash:0;for(let n=0;n<t.length;n++)this.hash+=(this.hash<<4)+t.charCodeAt(n)+(t.charCodeAt(n)<<8)}const PD=[Iu,ZS,DS,VS,LS],ED=new RS({start:null,shift(t,e,n,i){return PD.indexOf(e)>-1?new Q1(dd(i,1)||"",t):t},reduce(t,e){return e==MS&&t?t.parent:t},reuse(t,e,n,i){let r=e.type.id;return r==Iu||r==OD?new Q1(dd(i,1)||"",t):t},hash(t){return t?t.hash:0},strict:!1}),AD=new On((t,e)=>{if(t.next!=jS){t.next<0&&e.context&&t.acceptToken(wh);return}t.advance();let n=t.next==um;n&&t.advance();let i=dd(t,0);if(i===void 0)return;if(!i)return t.acceptToken(n?hD:Iu);let r=e.context?e.context.name:null;if(n){if(i==r)return t.acceptToken(lD);if(r&&wD[r])return t.acceptToken(wh,-2);if(e.dialectEnabled(yD))return t.acceptToken(uD);for(let s=e.context;s;s=s.parent)if(s.name==i)return;t.acceptToken(cD)}else{if(i=="script")return t.acceptToken(DS);if(i=="style")return t.acceptToken(VS);if(i=="textarea")return t.acceptToken(LS);if(_D.hasOwnProperty(i))return t.acceptToken(ZS);r&&A1[r]&&A1[r][i]?t.acceptToken(wh,-1):t.acceptToken(Iu)}},{contextual:!0}),CD=new On(t=>{for(let e=0,n=0;;n++){if(t.next<0){n&&t.acceptToken(E1);break}if(t.next==TD)e++;else if(t.next==Qu&&e>=2){n>=3&&t.acceptToken(E1,-2);break}else e=0;t.advance()}});function $D(t){for(;t;t=t.parent)if(t.name=="svg"||t.name=="math")return!0;return!1}const ID=new On((t,e)=>{if(t.next==um&&t.peek(1)==Qu){let n=e.dialectEnabled(vD)||$D(e.context);t.acceptToken(n?aD:P1,2)}else t.next==Qu&&t.acceptToken(P1,1)});function cm(t,e,n){let i=2+t.length;return new On(r=>{for(let s=0,o=0,a=0;;a++){if(r.next<0){a&&r.acceptToken(e);break}if(s==0&&r.next==jS||s==1&&r.next==um||s>=2&&s<i&&r.next==t.charCodeAt(s-2))s++,o++;else if((s==2||s==i)&&BS(r.next))o++;else if(s==i&&r.next==Qu){a>o?r.acceptToken(e,-o):r.acceptToken(n,-(o-2));break}else if((r.next==10||r.next==13)&&a){r.acceptToken(e,1);break}else s=o=0;r.advance()}})}const QD=cm("script",tD,nD),RD=cm("style",iD,rD),DD=cm("textarea",sD,oD),VD=Cs({"Text RawText":b.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":b.angleBracket,TagName:b.tagName,"MismatchedCloseTag/TagName":[b.tagName,b.invalid],AttributeName:b.attributeName,"AttributeValue UnquotedAttributeValue":b.attributeValue,Is:b.definitionOperator,"EntityReference CharacterReference":b.character,Comment:b.blockComment,ProcessingInst:b.processingInstruction,DoctypeDecl:b.documentMeta}),LD=ys.deserialize({version:14,states:",xOVO!rOOO!WQ#tO'#CqO!]Q#tO'#CzO!bQ#tO'#C}O!gQ#tO'#DQO!lQ#tO'#DSO!qOaO'#CpO!|ObO'#CpO#XOdO'#CpO$eO!rO'#CpOOO`'#Cp'#CpO$lO$fO'#DTO$tQ#tO'#DVO$yQ#tO'#DWOOO`'#Dk'#DkOOO`'#DY'#DYQVO!rOOO%OQ&rO,59]O%ZQ&rO,59fO%fQ&rO,59iO%qQ&rO,59lO%|Q&rO,59nOOOa'#D^'#D^O&XOaO'#CxO&dOaO,59[OOOb'#D_'#D_O&lObO'#C{O&wObO,59[OOOd'#D`'#D`O'POdO'#DOO'[OdO,59[OOO`'#Da'#DaO'dO!rO,59[O'kQ#tO'#DROOO`,59[,59[OOOp'#Db'#DbO'pO$fO,59oOOO`,59o,59oO'xQ#|O,59qO'}Q#|O,59rOOO`-E7W-E7WO(SQ&rO'#CsOOQW'#DZ'#DZO(bQ&rO1G.wOOOa1G.w1G.wOOO`1G/Y1G/YO(mQ&rO1G/QOOOb1G/Q1G/QO(xQ&rO1G/TOOOd1G/T1G/TO)TQ&rO1G/WOOO`1G/W1G/WO)`Q&rO1G/YOOOa-E7[-E7[O)kQ#tO'#CyOOO`1G.v1G.vOOOb-E7]-E7]O)pQ#tO'#C|OOOd-E7^-E7^O)uQ#tO'#DPOOO`-E7_-E7_O)zQ#|O,59mOOOp-E7`-E7`OOO`1G/Z1G/ZOOO`1G/]1G/]OOO`1G/^1G/^O*PQ,UO,59_OOQW-E7X-E7XOOOa7+$c7+$cOOO`7+$t7+$tOOOb7+$l7+$lOOOd7+$o7+$oOOO`7+$r7+$rO*[Q#|O,59eO*aQ#|O,59hO*fQ#|O,59kOOO`1G/X1G/XO*kO7[O'#CvO*|OMhO'#CvOOQW1G.y1G.yOOO`1G/P1G/POOO`1G/S1G/SOOO`1G/V1G/VOOOO'#D['#D[O+_O7[O,59bOOQW,59b,59bOOOO'#D]'#D]O+pOMhO,59bOOOO-E7Y-E7YOOQW1G.|1G.|OOOO-E7Z-E7Z",stateData:",]~O!^OS~OUSOVPOWQOXROYTO[]O][O^^O`^Oa^Ob^Oc^Ox^O{_O!dZO~OfaO~OfbO~OfcO~OfdO~OfeO~O!WfOPlP!ZlP~O!XiOQoP!ZoP~O!YlORrP!ZrP~OUSOVPOWQOXROYTOZqO[]O][O^^O`^Oa^Ob^Oc^Ox^O!dZO~O!ZrO~P#dO![sO!euO~OfvO~OfwO~OS|OT}OhyO~OS!POT}OhyO~OS!ROT}OhyO~OS!TOT}OhyO~OS}OT}OhyO~O!WfOPlX!ZlX~OP!WO!Z!XO~O!XiOQoX!ZoX~OQ!ZO!Z!XO~O!YlORrX!ZrX~OR!]O!Z!XO~O!Z!XO~P#dOf!_O~O![sO!e!aO~OS!bO~OS!cO~Oi!dOSgXTgXhgX~OS!fOT!gOhyO~OS!hOT!gOhyO~OS!iOT!gOhyO~OS!jOT!gOhyO~OS!gOT!gOhyO~Of!kO~Of!lO~Of!mO~OS!nO~Ok!qO!`!oO!b!pO~OS!rO~OS!sO~OS!tO~Oa!uOb!uOc!uO!`!wO!a!uO~Oa!xOb!xOc!xO!b!wO!c!xO~Oa!uOb!uOc!uO!`!{O!a!uO~Oa!xOb!xOc!xO!b!{O!c!xO~OT~bac!dx{!d~",goto:"%p!`PPPPPPPPPPPPPPPPPPPP!a!gP!mPP!yP!|#P#S#Y#]#`#f#i#l#r#x!aP!a!aP$O$U$l$r$x%O%U%[%bPPPPPPPP%hX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:"⚠ StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:67,context:ED,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,21,30,33,36,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,29,32,35,37,"OpenTag"],["group",-9,14,17,18,19,20,39,40,41,42,"Entity",16,"Entity TextContent",-3,28,31,34,"TextContent Entity"],["isolate",-11,21,29,30,32,33,35,36,37,38,41,42,"ltr",-3,26,27,39,""]],propSources:[VD],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|c`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bX`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UV`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pT`POv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!cpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({W`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!a`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!a`!cpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYkWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]``P!a`!cp!^^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebhSkWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXhSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vchS`P!a`!cpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!`h`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WihSkWc!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zbkWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOa!R!R7tP;=`<%l7S!Z8OYkWa!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{ihSkWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbhSkWa!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QchSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXhSa!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TakWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOb!R!RAwP;=`<%lAY!ZBRYkWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbhSkWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbhSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXhSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!bx`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYlhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_khS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_X`P!a`!cp!eQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZhSfQ`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!a`!cpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!a`!cp!dPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!a`!cpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!a`!cpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!a`!cpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!a`!cpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!a`!cpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!a`!cpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!a`!cpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!cpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO{PP!-nP;=`<%l!-Sq!-xS!cp{POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!a`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!a`{POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!a`!cp{POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!a`!cpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!a`!cpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!a`!cpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!a`!cpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!a`!cpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!a`!cpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!cpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOxPP!7TP;=`<%l!6Vq!7]V!cpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!cpxPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!a`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!a`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!a`xPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!a`!cpxPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXiS`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[QD,RD,DD,ID,AD,CD,0,1,2,3,4,5],topRules:{Document:[0,15]},dialects:{noMatch:0,selfClosing:509},tokenPrec:511});function XS(t,e){let n=Object.create(null);for(let i of t.getChildren(FS)){let r=i.getChild(dD),s=i.getChild(fd)||i.getChild(NS);r&&(n[e.read(r.from,r.to)]=s?s.type.id==fd?e.read(s.from+1,s.to-1):e.read(s.from,s.to):"")}return n}function R1(t,e){let n=t.getChild(fD);return n?e.read(n.from,n.to):" "}function kh(t,e,n){let i;for(let r of n)if(!r.attrs||r.attrs(i||(i=XS(t.node.parent.firstChild,e))))return{parser:r.parser};return null}function zS(t=[],e=[]){let n=[],i=[],r=[],s=[];for(let a of t)(a.tag=="script"?n:a.tag=="style"?i:a.tag=="textarea"?r:s).push(a);let o=e.length?Object.create(null):null;for(let a of e)(o[a.name]||(o[a.name]=[])).push(a);return lk((a,l)=>{let u=a.type.id;if(u==pD)return kh(a,l,n);if(u==mD)return kh(a,l,i);if(u==gD)return kh(a,l,r);if(u==MS&&s.length){let c=a.node,h=c.firstChild,f=h&&R1(h,l),d;if(f){for(let p of s)if(p.tag==f&&(!p.attrs||p.attrs(d||(d=XS(c,l))))){let g=c.lastChild,m=g.type.id==bD?g.from:c.to;if(m>h.to)return{parser:p.parser,overlay:[{from:h.to,to:m}]}}}}if(o&&u==FS){let c=a.node,h;if(h=c.firstChild){let f=o[l.read(h.from,h.to)];if(f)for(let d of f){if(d.tagName&&d.tagName!=R1(c.parent,l))continue;let p=c.lastChild;if(p.type.id==fd){let g=p.from+1,m=p.lastChild,O=p.to-(m&&m.isError?0:1);if(O>g)return{parser:d.parser,overlay:[{from:g,to:O}]}}else if(p.type.id==NS)return{parser:d.parser,overlay:[{from:p.from,to:p.to}]}}}}return null})}const ZD=99,D1=1,MD=100,FD=101,V1=2,qS=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],ND=58,BD=40,WS=95,jD=91,Bl=45,XD=46,zD=35,qD=37,WD=38,YD=92,UD=10;function na(t){return t>=65&&t<=90||t>=97&&t<=122||t>=161}function YS(t){return t>=48&&t<=57}const GD=new On((t,e)=>{for(let n=!1,i=0,r=0;;r++){let{next:s}=t;if(na(s)||s==Bl||s==WS||n&&YS(s))!n&&(s!=Bl||r>0)&&(n=!0),i===r&&s==Bl&&i++,t.advance();else if(s==YD&&t.peek(1)!=UD)t.advance(),t.next>-1&&t.advance(),n=!0;else{n&&t.acceptToken(s==BD?MD:i==2&&e.canShift(V1)?V1:FD);break}}}),HD=new On(t=>{if(qS.includes(t.peek(-1))){let{next:e}=t;(na(e)||e==WS||e==zD||e==XD||e==jD||e==ND&&na(t.peek(1))||e==Bl||e==WD)&&t.acceptToken(ZD)}}),KD=new On(t=>{if(!qS.includes(t.peek(-1))){let{next:e}=t;if(e==qD&&(t.advance(),t.acceptToken(D1)),na(e)){do t.advance();while(na(t.next)||YS(t.next));t.acceptToken(D1)}}}),JD=Cs({"AtKeyword import charset namespace keyframes media supports":b.definitionKeyword,"from to selector":b.keyword,NamespaceName:b.namespace,KeyframeName:b.labelName,KeyframeRangeName:b.operatorKeyword,TagName:b.tagName,ClassName:b.className,PseudoClassName:b.constant(b.className),IdName:b.labelName,"FeatureName PropertyName":b.propertyName,AttributeName:b.attributeName,NumberLiteral:b.number,KeywordQuery:b.keyword,UnaryQueryOp:b.operatorKeyword,"CallTag ValueName":b.atom,VariableName:b.variableName,Callee:b.operatorKeyword,Unit:b.unit,"UniversalSelector NestingSelector":b.definitionOperator,MatchOp:b.compareOperator,"ChildOp SiblingOp, LogicOp":b.logicOperator,BinOp:b.arithmeticOperator,Important:b.modifier,Comment:b.blockComment,ColorLiteral:b.color,"ParenthesizedContent StringLiteral":b.string,":":b.punctuation,"PseudoOp #":b.derefOperator,"; ,":b.separator,"( )":b.paren,"[ ]":b.squareBracket,"{ }":b.brace}),e8={__proto__:null,lang:32,"nth-child":32,"nth-last-child":32,"nth-of-type":32,"nth-last-of-type":32,dir:32,"host-context":32,url:60,"url-prefix":60,domain:60,regexp:60,selector:138},t8={__proto__:null,"@import":118,"@media":142,"@charset":146,"@namespace":150,"@keyframes":156,"@supports":168},n8={__proto__:null,not:132,only:132},i8=ys.deserialize({version:14,states:":^QYQ[OOO#_Q[OOP#fOWOOOOQP'#Cd'#CdOOQP'#Cc'#CcO#kQ[O'#CfO$_QXO'#CaO$fQ[O'#ChO$qQ[O'#DTO$vQ[O'#DWOOQP'#Em'#EmO${QdO'#DgO%jQ[O'#DtO${QdO'#DvO%{Q[O'#DxO&WQ[O'#D{O&`Q[O'#ERO&nQ[O'#ETOOQS'#El'#ElOOQS'#EW'#EWQYQ[OOO&uQXO'#CdO'jQWO'#DcO'oQWO'#EsO'zQ[O'#EsQOQWOOP(UO#tO'#C_POOO)C@[)C@[OOQP'#Cg'#CgOOQP,59Q,59QO#kQ[O,59QO(aQ[O'#E[O({QWO,58{O)TQ[O,59SO$qQ[O,59oO$vQ[O,59rO(aQ[O,59uO(aQ[O,59wO(aQ[O,59xO)`Q[O'#DbOOQS,58{,58{OOQP'#Ck'#CkOOQO'#DR'#DROOQP,59S,59SO)gQWO,59SO)lQWO,59SOOQP'#DV'#DVOOQP,59o,59oOOQO'#DX'#DXO)qQ`O,59rOOQS'#Cp'#CpO${QdO'#CqO)yQvO'#CsO+ZQtO,5:ROOQO'#Cx'#CxO)lQWO'#CwO+oQWO'#CyO+tQ[O'#DOOOQS'#Ep'#EpOOQO'#Dj'#DjO+|Q[O'#DqO,[QWO'#EtO&`Q[O'#DoO,jQWO'#DrOOQO'#Eu'#EuO)OQWO,5:`O,oQpO,5:bOOQS'#Dz'#DzO,wQWO,5:dO,|Q[O,5:dOOQO'#D}'#D}O-UQWO,5:gO-ZQWO,5:mO-cQWO,5:oOOQS-E8U-E8UO${QdO,59}O-kQ[O'#E^O-xQWO,5;_O-xQWO,5;_POOO'#EV'#EVP.TO#tO,58yPOOO,58y,58yOOQP1G.l1G.lO.zQXO,5:vOOQO-E8Y-E8YOOQS1G.g1G.gOOQP1G.n1G.nO)gQWO1G.nO)lQWO1G.nOOQP1G/Z1G/ZO/XQ`O1G/^O/rQXO1G/aO0YQXO1G/cO0pQXO1G/dO1WQWO,59|O1]Q[O'#DSO1dQdO'#CoOOQP1G/^1G/^O${QdO1G/^O1kQpO,59]OOQS,59_,59_O${QdO,59aO1sQWO1G/mOOQS,59c,59cO1xQ!bO,59eOOQS'#DP'#DPOOQS'#EY'#EYO2QQ[O,59jOOQS,59j,59jO2YQWO'#DjO2eQWO,5:VO2jQWO,5:]O&`Q[O,5:XO&`Q[O'#E_O2rQWO,5;`O2}QWO,5:ZO(aQ[O,5:^OOQS1G/z1G/zOOQS1G/|1G/|OOQS1G0O1G0OO3`QWO1G0OO3eQdO'#EOOOQS1G0R1G0ROOQS1G0X1G0XOOQS1G0Z1G0ZO3pQtO1G/iOOQO,5:x,5:xO4WQ[O,5:xOOQO-E8[-E8[O4eQWO1G0yPOOO-E8T-E8TPOOO1G.e1G.eOOQP7+$Y7+$YOOQP7+$x7+$xO${QdO7+$xOOQS1G/h1G/hO4pQXO'#ErO4wQWO,59nO4|QtO'#EXO5tQdO'#EoO6OQWO,59ZO6TQpO7+$xOOQS1G.w1G.wOOQS1G.{1G.{OOQS7+%X7+%XO6]QWO1G/POOQS-E8W-E8WOOQS1G/U1G/UO${QdO1G/qOOQO1G/w1G/wOOQO1G/s1G/sO6bQWO,5:yOOQO-E8]-E8]O6pQXO1G/xOOQS7+%j7+%jO6wQYO'#CsOOQO'#EQ'#EQO7SQ`O'#EPOOQO'#EP'#EPO7_QWO'#E`O7gQdO,5:jOOQS,5:j,5:jO7rQtO'#E]O${QdO'#E]O8sQdO7+%TOOQO7+%T7+%TOOQO1G0d1G0dO9WQpO<<HdO9`QWO,5;^OOQP1G/Y1G/YOOQS-E8V-E8VO${QdO'#EZO9hQWO,5;ZOOQT1G.u1G.uOOQP<<Hd<<HdOOQS7+$k7+$kO9pQdO7+%]OOQO7+%d7+%dOOQO,5:k,5:kO3hQdO'#EaO7_QWO,5:zOOQS,5:z,5:zOOQS-E8^-E8^OOQS1G0U1G0UO9wQtO,5:wOOQS-E8Z-E8ZOOQO<<Ho<<HoOOQPAN>OAN>OO:xQdO,5:uOOQO-E8X-E8XOOQO<<Hw<<HwOOQO,5:{,5:{OOQO-E8_-E8_OOQS1G0f1G0f",stateData:";[~O#ZOS#[QQ~OUYOXYO]VO^VOqXOxWO![aO!]ZO!i[O!k]O!m^O!p_O!v`O#XRO#bTO~OQfOUYOXYO]VO^VOqXOxWO![aO!]ZO!i[O!k]O!m^O!p_O!v`O#XeO#bTO~O#U#gP~P!ZO#[jO~O#XlO~O]qO^qOqsOtoOxrO!OtO!RvO#VuO#bnO~O!TwO~P#pO`}O#WzO#XyO~O#X!OO~O#X!QO~OQ![Ob!TOf![Oh![On!YOq!ZO#W!WO#X!SO#e!UO~Ob!^O!d!`O!g!aO#X!]O!T#hP~Oh!fOn!YO#X!eO~Oh!hO#X!hO~Ob!^O!d!`O!g!aO#X!]O~O!Y#hP~P%jO]WX]!WX^WXqWXtWXxWX!OWX!RWX!TWX#VWX#bWX~O]!mO~O!Y!nO#U#gX!S#gX~O#U#gX!S#gX~P!ZO#]!qO#^!qO#_!sO~OUYOXYO]VO^VOqXOxWO#XRO#bTO~OtoO!TwO~O`!zO#WzO#XyO~O!S#gP~P!ZOb#RO~Ob#SO~Op#TO|#UO~OP#WObgXjgX!YgX!dgX!ggX#XgXagXQgXfgXhgXngXqgXtgX!XgX#UgX#WgX#egXpgX!SgX~Ob!^Oj#XO!d!`O!g!aO#X!]O!Y#hP~Ob#[O~Op#`O#X#]O~Ob!^O!d!`O!g!aO#X#aO~Ot#eO!b#dO!T#hX!Y#hX~Ob#hO~Oj#XO!Y#jO~O!Y#kO~Oh#lOn!YO~O!T#mO~O!TwO!b#dO~O!TwO!Y#pO~O!Y#QX#U#QX!S#QX~P!ZO!Y!nO#U#ga!S#ga~O#]!qO#^!qO#_#wO~O]qO^qOqsOxrO!OtO!RvO#VuO#bnO~Ot#Oa!T#Oaa#Oa~P.`Op#yO|#zO~O]qO^qOqsOxrO#bnO~Ot}i!O}i!R}i!T}i#V}ia}i~P/aOt!Pi!O!Pi!R!Pi!T!Pi#V!Pia!Pi~P/aOt!Qi!O!Qi!R!Qi!T!Qi#V!Qia!Qi~P/aO!S#{O~Oa#fP~P(aOa#cP~P${Oa$SOj#XO~O!Y$UO~Oh$VOo$VO~Op$XO#X#]O~O]!`Xa!^X!b!^X~O]$YO~Oa$ZO!b#dO~Ot#eO!T#ha!Y#ha~O!b#dOt!ca!T!ca!Y!caa!ca~O!Y$`O~O!S$gO#X$bO#e$aO~Oj#XOt$iO!X$kO!Y!Vi#U!Vi!S!Vi~P${O!Y#Qa#U#Qa!S#Qa~P!ZO!Y!nO#U#gi!S#gi~Oa#fX~P#pOa$oO~Oj#XOQ!{Xa!{Xb!{Xf!{Xh!{Xn!{Xq!{Xt!{X#W!{X#X!{X#e!{X~Ot$qOa#cX~P${Oa$sO~Oj#XOp$tO~Oa$uO~O!b#dOt#Ra!T#Ra!Y#Ra~Oa$wO~P.`OP#WOtgX!TgX~O#e$aOt!sX!T!sX~Ot$yO!TwO~O!S$}O#X$bO#e$aO~Oj#XOQ#PXb#PXf#PXh#PXn#PXq#PXt#PX!X#PX!Y#PX#U#PX#W#PX#X#PX#e#PX!S#PX~Ot$iO!X%QO!Y!Vq#U!Vq!S!Vq~P${Oj#XOp%RO~OtoOa#fa~Ot$qOa#ca~Oa%UO~P${Oj#XOQ#Pab#Paf#Pah#Pan#Paq#Pat#Pa!X#Pa!Y#Pa#U#Pa#W#Pa#X#Pa#e#Pa!S#Pa~Oa!}at!}a~P${O#Zo#[#ej!R#e~",goto:"-g#jPPP#kP#nP#w$WP#w$g#wPP$mPPP$s$|$|P%`P$|P$|%z&^PPPP$|&vP&z'Q#wP'W#w'^P#wP#w#wPPP'd'y(WPP#nPP(_(_(i(_P(_P(_(_P#nP#nP#nP(l#nP(o(r(u(|#nP#nP)R)X)h)v)|*S*^*d*n*t*zPPPPPPPPPP+Q+ZP+v+yP,o,r,x-RRkQ_bOPdhw!n#skYOPdhotuvw!n#R#h#skSOPdhotuvw!n#R#h#sQmTR!tnQ{VR!xqQ!x}Q#Z!XR#x!zq![Z]!T!m#S#U#X#q#z$P$Y$i$j$q$v%Sp![Z]!T!m#S#U#X#q#z$P$Y$i$j$q$v%SU$d#m$f$yR$x$cq!XZ]!T!m#S#U#X#q#z$P$Y$i$j$q$v%Sp![Z]!T!m#S#U#X#q#z$P$Y$i$j$q$v%SQ!f^R#l!gT#^!Z#_Q|VR!yqQ!x|R#x!yQ!PWR!{rQ!RXR!|sQxUQ!wpQ#i!cQ#o!jQ#p!kQ${$eR%X$zSgPwQ!phQ#r!nR$l#sZfPhw!n#sa!b[`a!V!^!`#d#eR#b!^R!g^R!i_R#n!iS$e#m$fR%V$yV$c#m$f$yQ!rjR#v!rQdOShPwU!ldh#sR#s!nQ$P#SU$p$P$v%SQ$v$YR%S$qQ#_!ZR$W#_Q$r$PR%T$rQpUS!vp$nR$n#|Q$j#qR%P$jQ!ogS#t!o#uR#u!pQ#f!_R$^#fQ$f#mR$|$fQ$z$eR%W$z_cOPdhw!n#s^UOPdhw!n#sQ!uoQ!}tQ#OuQ#PvQ#|#RR$_#hR$Q#SQ!VZQ!d]Q#V!TQ#q!m[$O#S$P$Y$q$v%SQ$R#UQ$T#XS$h#q$jQ$m#zR%O$iR#}#RQiPR#QwQ!c[Q!kaR#Y!VU!_[a!VQ!j`Q#c!^Q#g!`Q$[#dR$]#e",nodeNames:"⚠ Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent ] [ LineNames LineName , PseudoClassName ArgList IdSelector # IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports AtRule Styles",maxTerm:117,nodeProps:[["isolate",-2,3,24,""],["openedBy",17,"(",32,"[",50,"{"],["closedBy",18,")",33,"]",51,"}"]],propSources:[JD],skippedNodes:[0,3,87],repeatNodeCount:11,tokenData:"J^~R!^OX$}X^%u^p$}pq%uqr)Xrs.Rst/utu6duv$}vw7^wx7oxy9^yz9oz{9t{|:_|}?Q}!O?c!O!P@Q!P!Q@i!Q![Ab![!]B]!]!^CX!^!_$}!_!`Cj!`!aC{!a!b$}!b!cDw!c!}$}!}#OFa#O#P$}#P#QFr#Q#R6d#R#T$}#T#UGT#U#c$}#c#dHf#d#o$}#o#pH{#p#q6d#q#rI^#r#sIo#s#y$}#y#z%u#z$f$}$f$g%u$g#BY$}#BY#BZ%u#BZ$IS$}$IS$I_%u$I_$I|$}$I|$JO%u$JO$JT$}$JT$JU%u$JU$KV$}$KV$KW%u$KW&FU$}&FU&FV%u&FV;'S$};'S;=`JW<%lO$}`%QSOy%^z;'S%^;'S;=`%o<%lO%^`%cSo`Oy%^z;'S%^;'S;=`%o<%lO%^`%rP;=`<%l%^~%zh#Z~OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^~'mh#Z~o`OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^l)[UOy%^z#]%^#]#^)n#^;'S%^;'S;=`%o<%lO%^l)sUo`Oy%^z#a%^#a#b*V#b;'S%^;'S;=`%o<%lO%^l*[Uo`Oy%^z#d%^#d#e*n#e;'S%^;'S;=`%o<%lO%^l*sUo`Oy%^z#c%^#c#d+V#d;'S%^;'S;=`%o<%lO%^l+[Uo`Oy%^z#f%^#f#g+n#g;'S%^;'S;=`%o<%lO%^l+sUo`Oy%^z#h%^#h#i,V#i;'S%^;'S;=`%o<%lO%^l,[Uo`Oy%^z#T%^#T#U,n#U;'S%^;'S;=`%o<%lO%^l,sUo`Oy%^z#b%^#b#c-V#c;'S%^;'S;=`%o<%lO%^l-[Uo`Oy%^z#h%^#h#i-n#i;'S%^;'S;=`%o<%lO%^l-uS!X[o`Oy%^z;'S%^;'S;=`%o<%lO%^~.UWOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o<%lO.R~.sOh~~.vRO;'S.R;'S;=`/P;=`O.R~/SXOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o;=`<%l.R<%lO.R~/rP;=`<%l.Rn/zYxQOy%^z!Q%^!Q![0j![!c%^!c!i0j!i#T%^#T#Z0j#Z;'S%^;'S;=`%o<%lO%^l0oYo`Oy%^z!Q%^!Q![1_![!c%^!c!i1_!i#T%^#T#Z1_#Z;'S%^;'S;=`%o<%lO%^l1dYo`Oy%^z!Q%^!Q![2S![!c%^!c!i2S!i#T%^#T#Z2S#Z;'S%^;'S;=`%o<%lO%^l2ZYf[o`Oy%^z!Q%^!Q![2y![!c%^!c!i2y!i#T%^#T#Z2y#Z;'S%^;'S;=`%o<%lO%^l3QYf[o`Oy%^z!Q%^!Q![3p![!c%^!c!i3p!i#T%^#T#Z3p#Z;'S%^;'S;=`%o<%lO%^l3uYo`Oy%^z!Q%^!Q![4e![!c%^!c!i4e!i#T%^#T#Z4e#Z;'S%^;'S;=`%o<%lO%^l4lYf[o`Oy%^z!Q%^!Q![5[![!c%^!c!i5[!i#T%^#T#Z5[#Z;'S%^;'S;=`%o<%lO%^l5aYo`Oy%^z!Q%^!Q![6P![!c%^!c!i6P!i#T%^#T#Z6P#Z;'S%^;'S;=`%o<%lO%^l6WSf[o`Oy%^z;'S%^;'S;=`%o<%lO%^d6gUOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^d7QS|So`Oy%^z;'S%^;'S;=`%o<%lO%^b7cSXQOy%^z;'S%^;'S;=`%o<%lO%^~7rWOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W<%lO7o~8_RO;'S7o;'S;=`8h;=`O7o~8kXOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W;=`<%l7o<%lO7o~9ZP;=`<%l7on9cSb^Oy%^z;'S%^;'S;=`%o<%lO%^~9tOa~n9{UUQjWOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^n:fWjW!RQOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^l;TUo`Oy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^l;nYo`#e[Oy%^z!Q%^!Q![;g![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^l<cYo`Oy%^z{%^{|=R|}%^}!O=R!O!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=WUo`Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=qUo`#e[Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l>[[o`#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^n?VSt^Oy%^z;'S%^;'S;=`%o<%lO%^l?hWjWOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^n@VU#bQOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^~@nTjWOy%^z{@}{;'S%^;'S;=`%o<%lO%^~AUSo`#[~Oy%^z;'S%^;'S;=`%o<%lO%^lAg[#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^bBbU]QOy%^z![%^![!]Bt!];'S%^;'S;=`%o<%lO%^bB{S^Qo`Oy%^z;'S%^;'S;=`%o<%lO%^nC^S!Y^Oy%^z;'S%^;'S;=`%o<%lO%^dCoS|SOy%^z;'S%^;'S;=`%o<%lO%^bDQU!OQOy%^z!`%^!`!aDd!a;'S%^;'S;=`%o<%lO%^bDkS!OQo`Oy%^z;'S%^;'S;=`%o<%lO%^bDzWOy%^z!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^bEk[![Qo`Oy%^z}%^}!OEd!O!Q%^!Q![Ed![!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^nFfSq^Oy%^z;'S%^;'S;=`%o<%lO%^nFwSp^Oy%^z;'S%^;'S;=`%o<%lO%^bGWUOy%^z#b%^#b#cGj#c;'S%^;'S;=`%o<%lO%^bGoUo`Oy%^z#W%^#W#XHR#X;'S%^;'S;=`%o<%lO%^bHYS!bQo`Oy%^z;'S%^;'S;=`%o<%lO%^bHiUOy%^z#f%^#f#gHR#g;'S%^;'S;=`%o<%lO%^fIQS!TUOy%^z;'S%^;'S;=`%o<%lO%^nIcS!S^Oy%^z;'S%^;'S;=`%o<%lO%^fItU!RQOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^`JZP;=`<%l$}",tokenizers:[HD,KD,GD,1,2,3,4,new $u("m~RRYZ[z{a~~g~aO#^~~dP!P!Qg~lO#_~~",28,105)],topRules:{StyleSheet:[0,4],Styles:[1,86]},specialized:[{term:100,get:t=>e8[t]||-1},{term:58,get:t=>t8[t]||-1},{term:101,get:t=>n8[t]||-1}],tokenPrec:1200});let Sh=null;function xh(){if(!Sh&&typeof document=="object"&&document.body){let{style:t}=document.body,e=[],n=new Set;for(let i in t)i!="cssText"&&i!="cssFloat"&&typeof t[i]=="string"&&(/[A-Z]/.test(i)&&(i=i.replace(/[A-Z]/g,r=>"-"+r.toLowerCase())),n.has(i)||(e.push(i),n.add(i)));Sh=e.sort().map(i=>({type:"property",label:i}))}return Sh||[]}const L1=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(t=>({type:"class",label:t})),Z1=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(t=>({type:"keyword",label:t})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(t=>({type:"constant",label:t}))),r8=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(t=>({type:"type",label:t})),hi=/^(\w[\w-]*|-\w[\w-]*|)$/,s8=/^-(-[\w-]*)?$/;function o8(t,e){var n;if((t.name=="("||t.type.isError)&&(t=t.parent||t),t.name!="ArgList")return!1;let i=(n=t.parent)===null||n===void 0?void 0:n.firstChild;return i?.name!="Callee"?!1:e.sliceString(i.from,i.to)=="var"}const M1=new ak,a8=["Declaration"];function l8(t){for(let e=t;;){if(e.type.isTop)return e;if(!(e=e.parent))return t}}function US(t,e,n){if(e.to-e.from>4096){let i=M1.get(e);if(i)return i;let r=[],s=new Set,o=e.cursor(Te.IncludeAnonymous);if(o.firstChild())do for(let a of US(t,o.node,n))s.has(a.label)||(s.add(a.label),r.push(a));while(o.nextSibling());return M1.set(e,r),r}else{let i=[],r=new Set;return e.cursor().iterate(s=>{var o;if(n(s)&&s.matchContext(a8)&&((o=s.node.nextSibling)===null||o===void 0?void 0:o.name)==":"){let a=t.sliceString(s.from,s.to);r.has(a)||(r.add(a),i.push({label:a,type:"variable"}))}}),i}}const GS=t=>e=>{let{state:n,pos:i}=e,r=Ze(n).resolveInner(i,-1),s=r.type.isError&&r.from==r.to-1&&n.doc.sliceString(r.from,r.to)=="-";if(r.name=="PropertyName"||(s||r.name=="TagName")&&/^(Block|Styles)$/.test(r.resolve(r.to).name))return{from:r.from,options:xh(),validFor:hi};if(r.name=="ValueName")return{from:r.from,options:Z1,validFor:hi};if(r.name=="PseudoClassName")return{from:r.from,options:L1,validFor:hi};if(t(r)||(e.explicit||s)&&o8(r,n.doc))return{from:t(r)||s?r.from:i,options:US(n.doc,l8(r),t),validFor:s8};if(r.name=="TagName"){for(let{parent:l}=r;l;l=l.parent)if(l.name=="Block")return{from:r.from,options:xh(),validFor:hi};return{from:r.from,options:r8,validFor:hi}}if(!e.explicit)return null;let o=r.resolve(i),a=o.childBefore(i);return a&&a.name==":"&&o.name=="PseudoClassSelector"?{from:i,options:L1,validFor:hi}:a&&a.name==":"&&o.name=="Declaration"||o.name=="ArgList"?{from:i,options:Z1,validFor:hi}:o.name=="Block"||o.name=="Styles"?{from:i,options:xh(),validFor:hi}:null},HS=GS(t=>t.name=="VariableName"),ia=ps.define({name:"css",parser:i8.configure({props:[Ca.add({Declaration:Fl()}),$a.add({"Block KeyframeList":gk})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function KS(){return new Os(ia,ia.data.of({autocomplete:HS}))}const u8=Object.freeze(Object.defineProperty({__proto__:null,css:KS,cssCompletionSource:HS,cssLanguage:ia,defineCSSCompletionSource:GS},Symbol.toStringTag,{value:"Module"})),c8=309,F1=1,h8=2,f8=3,d8=310,p8=312,m8=313,g8=4,O8=5,b8=0,pd=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],JS=125,y8=59,md=47,v8=42,_8=43,w8=45,k8=60,S8=44,x8=new RS({start:!1,shift(t,e){return e==g8||e==O8||e==p8?t:e==m8},strict:!1}),T8=new On((t,e)=>{let{next:n}=t;(n==JS||n==-1||e.context)&&t.acceptToken(d8)},{contextual:!0,fallback:!0}),P8=new On((t,e)=>{let{next:n}=t,i;pd.indexOf(n)>-1||n==md&&((i=t.peek(1))==md||i==v8)||n!=JS&&n!=y8&&n!=-1&&!e.context&&t.acceptToken(c8)},{contextual:!0}),E8=new On((t,e)=>{let{next:n}=t;if((n==_8||n==w8)&&(t.advance(),n==t.next)){t.advance();let i=!e.context&&e.canShift(F1);t.acceptToken(i?F1:h8)}},{contextual:!0});function Th(t,e){return t>=65&&t<=90||t>=97&&t<=122||t==95||t>=192||!e&&t>=48&&t<=57}const A8=new On((t,e)=>{if(t.next!=k8||!e.dialectEnabled(b8)||(t.advance(),t.next==md))return;let n=0;for(;pd.indexOf(t.next)>-1;)t.advance(),n++;if(Th(t.next,!0)){for(t.advance(),n++;Th(t.next,!1);)t.advance(),n++;for(;pd.indexOf(t.next)>-1;)t.advance(),n++;if(t.next==S8)return;for(let i=0;;i++){if(i==7){if(!Th(t.next,!0))return;break}if(t.next!="extends".charCodeAt(i))break;t.advance(),n++}}t.acceptToken(f8,-n)}),C8=Cs({"get set async static":b.modifier,"for while do if else switch try catch finally return throw break continue default case":b.controlKeyword,"in of await yield void typeof delete instanceof":b.operatorKeyword,"let var const using function class extends":b.definitionKeyword,"import export from":b.moduleKeyword,"with debugger as new":b.keyword,TemplateString:b.special(b.string),super:b.atom,BooleanLiteral:b.bool,this:b.self,null:b.null,Star:b.modifier,VariableName:b.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":b.function(b.variableName),VariableDefinition:b.definition(b.variableName),Label:b.labelName,PropertyName:b.propertyName,PrivatePropertyName:b.special(b.propertyName),"CallExpression/MemberExpression/PropertyName":b.function(b.propertyName),"FunctionDeclaration/VariableDefinition":b.function(b.definition(b.variableName)),"ClassDeclaration/VariableDefinition":b.definition(b.className),PropertyDefinition:b.definition(b.propertyName),PrivatePropertyDefinition:b.definition(b.special(b.propertyName)),UpdateOp:b.updateOperator,"LineComment Hashbang":b.lineComment,BlockComment:b.blockComment,Number:b.number,String:b.string,Escape:b.escape,ArithOp:b.arithmeticOperator,LogicOp:b.logicOperator,BitOp:b.bitwiseOperator,CompareOp:b.compareOperator,RegExp:b.regexp,Equals:b.definitionOperator,Arrow:b.function(b.punctuation),": Spread":b.punctuation,"( )":b.paren,"[ ]":b.squareBracket,"{ }":b.brace,"InterpolationStart InterpolationEnd":b.special(b.brace),".":b.derefOperator,", ;":b.separator,"@":b.meta,TypeName:b.typeName,TypeDefinition:b.definition(b.typeName),"type enum interface implements namespace module declare":b.definitionKeyword,"abstract global Privacy readonly override":b.modifier,"is keyof unique infer":b.operatorKeyword,JSXAttributeValue:b.attributeValue,JSXText:b.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":b.angleBracket,"JSXIdentifier JSXNameSpacedName":b.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":b.attributeName,"JSXBuiltin/JSXIdentifier":b.standard(b.tagName)}),$8={__proto__:null,export:18,as:23,from:31,default:34,async:39,function:40,extends:52,this:56,true:64,false:64,null:76,void:80,typeof:84,super:102,new:136,delete:152,yield:161,await:165,class:170,public:227,private:227,protected:227,readonly:229,instanceof:248,satisfies:251,in:252,const:254,import:286,keyof:339,unique:343,infer:349,is:385,abstract:405,implements:407,type:409,let:412,var:414,using:417,interface:423,enum:427,namespace:433,module:435,declare:439,global:443,for:462,of:471,while:474,with:478,do:482,if:486,else:488,switch:492,case:498,try:504,catch:508,finally:512,return:516,throw:520,break:524,continue:528,debugger:532},I8={__proto__:null,async:123,get:125,set:127,declare:187,public:189,private:189,protected:189,static:191,abstract:193,override:195,readonly:201,accessor:203,new:389},Q8={__proto__:null,"<":143},R8=ys.deserialize({version:14,states:"$<UO%TQ^OOO%[Q^OOO'_Q`OOP(lOWOOO*zQ08SO'#ChO+RO!bO'#CiO+aO#tO'#CiO+oO?MpO'#D^O.QQ^O'#DdO.bQ^O'#DoO%[Q^O'#DyO0fQ^O'#EROOQ07b'#EZ'#EZO1PQWO'#EWOOQO'#El'#ElOOQO'#Ie'#IeO1XQWO'#GmO1dQWO'#EkO1iQWO'#EkO3kQ08SO'#JiO6[Q08SO'#JjO6xQWO'#FZO6}Q&jO'#FqOOQ07b'#Fc'#FcO7YO,YO'#FcO7hQ7[O'#FxO9UQWO'#FwOOQ07b'#Jj'#JjOOQ07`'#Ji'#JiO9ZQWO'#GqOOQU'#KU'#KUO9fQWO'#IRO9kQ07hO'#ISOOQU'#JW'#JWOOQU'#IW'#IWQ`Q^OOO`Q^OOO%[Q^O'#DqO9sQ^O'#D}O9zQ^O'#EPO9aQWO'#GmO:RQ7[O'#CnO:aQWO'#EjO:lQWO'#EuO:qQ7[O'#FbO;`QWO'#GmOOQO'#KV'#KVO;eQWO'#KVO;sQWO'#GuO;sQWO'#GvO;sQWO'#GxO9aQWO'#G{O<jQWO'#HOO>RQWO'#CdO>cQWO'#H[O>kQWO'#HbO>kQWO'#HdO`Q^O'#HfO>kQWO'#HhO>kQWO'#HkO>pQWO'#HqO>uQ07iO'#HwO%[Q^O'#HyO?QQ07iO'#H{O?]Q07iO'#H}O9kQ07hO'#IPO?hQ08SO'#ChO@jQ`O'#DiQOQWOOO%[Q^O'#EPOAQQWO'#ESO:RQ7[O'#EjOA]QWO'#EjOAhQpO'#FbOOQU'#Cf'#CfOOQ07`'#Dn'#DnOOQ07`'#Jm'#JmO%[Q^O'#JmOOQO'#Jq'#JqOOQO'#Ib'#IbOBhQ`O'#EcOOQ07`'#Eb'#EbOCdQ07pO'#EcOCnQ`O'#EVOOQO'#Jp'#JpODSQ`O'#JqOEaQ`O'#EVOCnQ`O'#EcPEnO!0LbO'#CaPOOO)CDu)CDuOOOO'#IX'#IXOEyO!bO,59TOOQ07b,59T,59TOOOO'#IY'#IYOFXO#tO,59TO%[Q^O'#D`OOOO'#I['#I[OFgO?MpO,59xOOQ07b,59x,59xOFuQ^O'#I]OGYQWO'#JkOI[QrO'#JkO+}Q^O'#JkOIcQWO,5:OOIyQWO'#ElOJWQWO'#JyOJcQWO'#JxOJcQWO'#JxOJkQWO,5;YOJpQWO'#JwOOQ07f,5:Z,5:ZOJwQ^O,5:ZOLxQ08SO,5:eOMiQWO,5:mONSQ07hO'#JvONZQWO'#JuO9ZQWO'#JuONoQWO'#JuONwQWO,5;XON|QWO'#JuO!#UQrO'#JjOOQ07b'#Ch'#ChO%[Q^O'#ERO!#tQpO,5:rOOQO'#Jr'#JrOOQO-E<c-E<cO9aQWO,5=XO!$[QWO,5=XO!$aQ^O,5;VO!&dQ7[O'#EgO!'}QWO,5;VO!)mQ7[O'#DsO!)tQ^O'#DxO!*OQ`O,5;`O!*WQ`O,5;`O%[Q^O,5;`OOQU'#FR'#FROOQU'#FT'#FTO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aO%[Q^O,5;aOOQU'#FX'#FXO!*fQ^O,5;rOOQ07b,5;w,5;wOOQ07b,5;x,5;xO!,iQWO,5;xOOQ07b,5;y,5;yO%[Q^O'#IiO!,qQ07hO,5<eO!&dQ7[O,5;aO!-`Q7[O,5;aO%[Q^O,5;uO!-gQ&jO'#FgO!.dQ&jO'#J}O!.OQ&jO'#J}O!.kQ&jO'#J}OOQO'#J}'#J}O!/PQ&jO,5<POOOS,5<],5<]O!/bQ^O'#FsOOOS'#Ih'#IhO7YO,YO,5;}O!/iQ&jO'#FuOOQ07b,5;},5;}O!0YQMhO'#CuOOQ07b'#Cy'#CyO!0mQWO'#CyO!0rO?MpO'#C}O!1`Q7[O,5<bO!1gQWO,5<dO!3SQ!LQO'#GSO!3aQWO'#GTO!3fQWO'#GTO!3kQ!LQO'#GXO!4jQ`O'#G]OOQO'#Gh'#GhO!(SQ7[O'#GgOOQO'#Gj'#GjO!(SQ7[O'#GiO!5]QMhO'#JdOOQ07b'#Jd'#JdO!5gQWO'#JcO!5uQWO'#JbO!5}QWO'#CtOOQ07b'#Cw'#CwOOQ07b'#DR'#DROOQ07b'#DT'#DTO1SQWO'#DVO!(SQ7[O'#FzO!(SQ7[O'#F|O!6VQWO'#GOO!6[QWO'#GPO!3fQWO'#GVO!(SQ7[O'#G[O!6aQWO'#EmO!7OQWO,5<cOOQ07`'#Cq'#CqO!7WQWO'#EnO!8QQ`O'#EoOOQ07`'#Jw'#JwO!8XQ07hO'#KWO9kQ07hO,5=]O`Q^O,5>mOOQU'#J`'#J`OOQU,5>n,5>nOOQU-E<U-E<UO!:ZQ08SO,5:]O!<wQ08SO,5:iO%[Q^O,5:iO!?bQ08SO,5:kOOQO,5@q,5@qO!@RQ7[O,5=XO!@aQ07hO'#JaO9UQWO'#JaO!@rQ07hO,59YO!@}Q`O,59YO!AVQ7[O,59YO:RQ7[O,59YO!AbQWO,5;VO!AjQWO'#HZO!BOQWO'#KZO%[Q^O,5;zO!7{Q`O,5;|O!BWQWO,5=tO!B]QWO,5=tO!BbQWO,5=tO9kQ07hO,5=tO;sQWO,5=dOOQO'#Cu'#CuO!BpQ`O,5=aO!BxQ7[O,5=bO!CTQWO,5=dO!CYQpO,5=gO!CbQWO'#KVO>pQWO'#HQO9aQWO'#HSO!CgQWO'#HSO:RQ7[O'#HUO!ClQWO'#HUOOQU,5=j,5=jO!CqQWO'#HVO!DSQWO'#CnO!DXQWO,59OO!DcQWO,59OO!FhQ^O,59OOOQU,59O,59OO!FxQ07hO,59OO%[Q^O,59OO!ITQ^O'#H^OOQU'#H_'#H_OOQU'#H`'#H`O`Q^O,5=vO!IkQWO,5=vO`Q^O,5=|O`Q^O,5>OO!IpQWO,5>QO`Q^O,5>SO!IuQWO,5>VO!IzQ^O,5>]OOQU,5>c,5>cO%[Q^O,5>cO9kQ07hO,5>eOOQU,5>g,5>gO!NUQWO,5>gOOQU,5>i,5>iO!NUQWO,5>iOOQU,5>k,5>kO!NZQ`O'#D[O%[Q^O'#JmO!NxQ`O'#JmO# gQ`O'#DjO# xQ`O'#DjO#$ZQ^O'#DjO#$bQWO'#JlO#$jQWO,5:TO#$oQWO'#EpO#$}QWO'#JzO#%VQWO,5;ZO#%[Q`O'#DjO#%iQ`O'#EUOOQ07b,5:n,5:nO%[Q^O,5:nO#%pQWO,5:nO>pQWO,5;UO!@}Q`O,5;UO!AVQ7[O,5;UO:RQ7[O,5;UO#%xQWO,5@XO#%}Q$ISO,5:rOOQO-E<`-E<`O#'TQ07pO,5:}OCnQ`O,5:qO#'_Q`O,5:qOCnQ`O,5:}O!@rQ07hO,5:qOOQ07`'#Ef'#EfOOQO,5:},5:}O%[Q^O,5:}O#'lQ07hO,5:}O#'wQ07hO,5:}O!@}Q`O,5:qOOQO,5;T,5;TO#(VQ07hO,5:}POOO'#IV'#IVP#(kO!0LbO,58{POOO,58{,58{OOOO-E<V-E<VOOQ07b1G.o1G.oOOOO-E<W-E<WO#(vQpO,59zOOOO-E<Y-E<YOOQ07b1G/d1G/dO#({QrO,5>wO+}Q^O,5>wOOQO,5>},5>}O#)VQ^O'#I]OOQO-E<Z-E<ZO#)dQWO,5@VO#)lQrO,5@VO#)sQWO,5@dOOQ07b1G/j1G/jO%[Q^O,5@eO#){QWO'#IcOOQO-E<a-E<aO#)sQWO,5@dOOQ07`1G0t1G0tOOQ07f1G/u1G/uOOQ07f1G0X1G0XO%[Q^O,5@bO#*aQ07hO,5@bO#*rQ07hO,5@bO#*yQWO,5@aO9ZQWO,5@aO#+RQWO,5@aO#+aQWO'#IfO#*yQWO,5@aOOQ07`1G0s1G0sO!*OQ`O,5:tO!*ZQ`O,5:tOOQO,5:v,5:vO#,RQWO,5:vO#,ZQ7[O1G2sO9aQWO1G2sOOQ07b1G0q1G0qO#,iQ08SO1G0qO#-nQ08QO,5;ROOQ07b'#GR'#GRO#.[Q08SO'#JdO!$aQ^O1G0qO#0dQ7[O'#JnO#0nQWO,5:_O#0sQrO'#JoO%[Q^O'#JoO#0}QWO,5:dOOQ07b'#D['#D[OOQ07b1G0z1G0zO%[Q^O1G0zOOQ07b1G1d1G1dO#1SQWO1G0zO#3kQ08SO1G0{O#3rQ08SO1G0{O#6]Q08SO1G0{O#6dQ08SO1G0{O#8nQ08SO1G0{O#9UQ08SO1G0{O#<OQ08SO1G0{O#<VQ08SO1G0{O#>jQ08SO1G0{O#>wQ08SO1G0{O#@uQ08SO1G0{O#CuQ(CYO'#ChO#EsQ(CYO1G1^O#EzQ(CYO'#JjO!,lQWO1G1dO#F[Q08SO,5?TOOQ07`-E<g-E<gO#GOQ08SO1G0{OOQ07b1G0{1G0{O#IZQ08SO1G1aO#I}Q&jO,5<TO#JVQ&jO,5<UO#J_Q&jO'#FlO#JvQWO'#FkOOQO'#KO'#KOOOQO'#Ig'#IgO#J{Q&jO1G1kOOQ07b1G1k1G1kOOOS1G1v1G1vO#K^Q(CYO'#JiO#KhQWO,5<_O!*fQ^O,5<_OOOS-E<f-E<fOOQ07b1G1i1G1iO#KmQ`O'#J}OOQ07b,5<a,5<aO#KuQ`O,5<aOOQ07b,59e,59eO!&dQ7[O'#DPOOOO'#IZ'#IZO#KzO?MpO,59iOOQ07b,59i,59iO%[Q^O1G1|O!6[QWO'#IkO#LVQ7[O,5<uOOQ07b,5<r,5<rO!(SQ7[O'#InO#LuQ7[O,5=RO!(SQ7[O'#IpO#MhQ7[O,5=TO!&dQ7[O,5=VOOQO1G2O1G2OO#MrQpO'#CqO#NVQpO,5<nO#N^QWO'#KRO9aQWO'#KRO#NlQWO,5<pO!(SQ7[O,5<oO#NqQWO'#GUO#N|QWO,5<oO$ RQpO'#GRO$ `QpO'#KSO$ jQWO'#KSO!&dQ7[O'#KSO$ oQWO,5<sO$ tQ`O'#G^O!4eQ`O'#G^O$!VQWO'#G`O$![QWO'#GbO!3fQWO'#GeO$!aQ07hO'#ImO$!lQ`O,5<wOOQ07f,5<w,5<wO$!sQ`O'#G^O$#RQ`O'#G_O$#ZQ`O'#G_O$#`Q7[O,5=RO$#pQ7[O,5=TOOQ07b,5=W,5=WO!(SQ7[O,5?}O!(SQ7[O,5?}O$$QQWO'#IrO$$]QWO,5?|O$$eQWO,59`O$%UQ7[O,59qOOQ07b,59q,59qO$%wQ7[O,5<fO$&jQ7[O,5<hO@bQWO,5<jOOQ07b,5<k,5<kO$&tQWO,5<qO$&yQ7[O,5<vO$'ZQWO'#JuO!$aQ^O1G1}O$'`QWO1G1}O9ZQWO'#JxO9ZQWO'#EpO%[Q^O'#EpO9ZQWO'#ItO$'eQ07hO,5@rOOQU1G2w1G2wOOQU1G4X1G4XOOQ07b1G/w1G/wO!,iQWO1G/wO$)jQ08SO1G0TOOQU1G2s1G2sO!&dQ7[O1G2sO%[Q^O1G2sO#,^QWO1G2sO$+nQ7[O'#EgOOQ07`,5?{,5?{O$+xQ07hO,5?{OOQU1G.t1G.tO!@rQ07hO1G.tO!@}Q`O1G.tO!AVQ7[O1G.tO$,ZQWO1G0qO$,`QWO'#ChO$,kQWO'#K[O$,sQWO,5=uO$,xQWO'#K[O$,}QWO'#K[O$-]QWO'#IzO$-kQWO,5@uO$-sQrO1G1fOOQ07b1G1h1G1hO9aQWO1G3`O@bQWO1G3`O$-zQWO1G3`O$.PQWO1G3`OOQU1G3`1G3`O!CTQWO1G3OO!&dQ7[O1G2{O$.UQWO1G2{OOQU1G2|1G2|O!&dQ7[O1G2|O$.ZQWO1G2|O$.cQ`O'#GzOOQU1G3O1G3OO!4eQ`O'#IvO!CYQpO1G3ROOQU1G3R1G3ROOQU,5=l,5=lO$.kQ7[O,5=nO9aQWO,5=nO$![QWO,5=pO9UQWO,5=pO!@}Q`O,5=pO!AVQ7[O,5=pO:RQ7[O,5=pO$.yQWO'#KYO$/UQWO,5=qOOQU1G.j1G.jO$/ZQ07hO1G.jO@bQWO1G.jO$/fQWO1G.jO9kQ07hO1G.jO$1kQrO,5@wO$1{QWO,5@wO9ZQWO,5@wO$2WQ^O,5=xO$2_QWO,5=xOOQU1G3b1G3bO`Q^O1G3bOOQU1G3h1G3hOOQU1G3j1G3jO>kQWO1G3lO$2dQ^O1G3nO$6hQ^O'#HmOOQU1G3q1G3qO$6uQWO'#HsO>pQWO'#HuOOQU1G3w1G3wO$6}Q^O1G3wO9kQ07hO1G3}OOQU1G4P1G4POOQ07`'#GY'#GYO9kQ07hO1G4RO9kQ07hO1G4TO$;UQWO,5@XO!*fQ^O,5;[O9ZQWO,5;[O>pQWO,5:UO!*fQ^O,5:UO!@}Q`O,5:UO$;ZQ(CYO,5:UOOQO,5;[,5;[O$;eQ`O'#I^O$;{QWO,5@WOOQ07b1G/o1G/oO$<TQ`O'#IdO$<_QWO,5@fOOQ07`1G0u1G0uO# xQ`O,5:UOOQO'#Ia'#IaO$<gQ`O,5:pOOQ07f,5:p,5:pO#%sQWO1G0YOOQ07b1G0Y1G0YO%[Q^O1G0YOOQ07b1G0p1G0pO>pQWO1G0pO!@}Q`O1G0pO!AVQ7[O1G0pOOQ07`1G5s1G5sO!@rQ07hO1G0]OOQO1G0i1G0iO%[Q^O1G0iO$<nQ07hO1G0iO$<yQ07hO1G0iO!@}Q`O1G0]OCnQ`O1G0]O$=XQ07hO1G0iOOQO1G0]1G0]O$=mQ08SO1G0iPOOO-E<T-E<TPOOO1G.g1G.gOOOO1G/f1G/fO$=wQpO,5<eO$>PQrO1G4cOOQO1G4i1G4iO%[Q^O,5>wO$>ZQWO1G5qO$>cQWO1G6OO$>kQrO1G6PO9ZQWO,5>}O$>uQ08SO1G5|O%[Q^O1G5|O$?VQ07hO1G5|O$?hQWO1G5{O$?hQWO1G5{O9ZQWO1G5{O$?pQWO,5?QO9ZQWO,5?QOOQO,5?Q,5?QO$@UQWO,5?QO$'ZQWO,5?QOOQO-E<d-E<dOOQO1G0`1G0`OOQO1G0b1G0bO!,lQWO1G0bOOQU7+(_7+(_O!&dQ7[O7+(_O%[Q^O7+(_O$@dQWO7+(_O$@oQ7[O7+(_O$@}Q08SO,5=RO$CYQ08SO,5=TO$EeQ08SO,5=RO$GvQ08SO,5=TO$JXQ08SO,59qO$LaQ08SO,5<fO$NlQ08SO,5<hO%!wQ08SO,5<vOOQ07b7+&]7+&]O%%YQ08SO7+&]O%%|Q7[O'#I_O%&WQWO,5@YOOQ07b1G/y1G/yO%&`Q^O'#I`O%&mQWO,5@ZO%&uQrO,5@ZOOQ07b1G0O1G0OO%'PQWO7+&fOOQ07b7+&f7+&fO%'UQ(CYO,5:eO%[Q^O7+&xO%'`Q(CYO,5:]O%'mQ(CYO,5:iO%'wQ(CYO,5:kOOQ07b7+'O7+'OOOQO1G1o1G1oOOQO1G1p1G1pO%(RQtO,5<WO!*fQ^O,5<VOOQO-E<e-E<eOOQ07b7+'V7+'VOOOS7+'b7+'bOOOS1G1y1G1yO%(^QWO1G1yOOQ07b1G1{1G1{O%(cQpO,59kOOOO-E<X-E<XOOQ07b1G/T1G/TO%(jQ08SO7+'hOOQ07b,5?V,5?VO%)^QpO,5?VOOQ07b1G2a1G2aP!&dQ7[O'#IkPOQ07b-E<i-E<iO%)|Q7[O,5?YOOQ07b-E<l-E<lO%*oQ7[O,5?[OOQ07b-E<n-E<nO%*yQpO1G2qOOQ07b1G2Y1G2YO%+QQWO'#IjO%+`QWO,5@mO%+`QWO,5@mO%+hQWO,5@mO%+sQWO,5@mOOQO1G2[1G2[O%,RQ7[O1G2ZO!(SQ7[O1G2ZO%,cQ!LQO'#IlO%,sQWO,5@nO!&dQ7[O,5@nO%,{QpO,5@nOOQ07b1G2_1G2_OOQ07`,5<x,5<xOOQ07`,5<y,5<yO$'ZQWO,5<yOC_QWO,5<yO!@}Q`O,5<xOOQO'#Ga'#GaO%-VQWO,5<zOOQ07`,5<|,5<|O$'ZQWO,5=POOQO,5?X,5?XOOQO-E<k-E<kOOQ07f1G2c1G2cO!4eQ`O,5<xO%-_QWO,5<yO$!VQWO,5<zO!4eQ`O,5<yO!(SQ7[O'#InO%.RQ7[O1G2mO!(SQ7[O'#IpO%.tQ7[O1G2oO%/OQ7[O1G5iO%/YQ7[O1G5iOOQO,5?^,5?^OOQO-E<p-E<pOOQO1G.z1G.zO!7{Q`O,59sO%[Q^O,59sO%/gQWO1G2UO!(SQ7[O1G2]O%/lQ08SO7+'iOOQ07b7+'i7+'iO!$aQ^O7+'iO%0`QWO,5;[OOQ07`,5?`,5?`OOQ07`-E<r-E<rOOQ07b7+%c7+%cO%0eQpO'#KTO#%sQWO7+(_O%0oQrO7+(_O$@gQWO7+(_O%0vQ08QO'#ChO%1ZQ08QO,5<}O%1{QWO,5<}OOQ07`1G5g1G5gOOQU7+$`7+$`O!@rQ07hO7+$`O!@}Q`O7+$`O!$aQ^O7+&]O%2QQWO'#IyO%2iQWO,5@vOOQO1G3a1G3aO9aQWO,5@vO%2iQWO,5@vO%2qQWO,5@vOOQO,5?f,5?fOOQO-E<x-E<xOOQ07b7+'Q7+'QO%2vQWO7+(zO9kQ07hO7+(zO9aQWO7+(zO@bQWO7+(zOOQU7+(j7+(jO%2{Q08QO7+(gO!&dQ7[O7+(gO%3VQpO7+(hOOQU7+(h7+(hO!&dQ7[O7+(hO%3^QWO'#KXO%3iQWO,5=fOOQO,5?b,5?bOOQO-E<t-E<tOOQU7+(m7+(mO%4xQ`O'#HTOOQU1G3Y1G3YO!&dQ7[O1G3YO%[Q^O1G3YO%5PQWO1G3YO%5[Q7[O1G3YO9kQ07hO1G3[O$![QWO1G3[O9UQWO1G3[O!@}Q`O1G3[O!AVQ7[O1G3[O%5jQWO'#IxO%6OQWO,5@tO%6WQ`O,5@tOOQ07`1G3]1G3]OOQU7+$U7+$UO@bQWO7+$UO9kQ07hO7+$UO%6cQWO7+$UO%[Q^O1G6cO%[Q^O1G6dO%6hQ07hO1G6cO%6rQ^O1G3dO%6yQWO1G3dO%7OQ^O1G3dOOQU7+(|7+(|O9kQ07hO7+)WO`Q^O7+)YOOQU'#K_'#K_OOQU'#I{'#I{O%7VQ^O,5>XOOQU,5>X,5>XO%[Q^O'#HnO%7dQWO'#HpOOQU,5>_,5>_O9ZQWO,5>_OOQU,5>a,5>aOOQU7+)c7+)cOOQU7+)i7+)iOOQU7+)m7+)mOOQU7+)o7+)oO%7iQ`O1G5sO%7}Q(CYO1G0vO%8XQWO1G0vOOQO1G/p1G/pO%8dQ(CYO1G/pO>pQWO1G/pO!*fQ^O'#DjOOQO,5>x,5>xOOQO-E<[-E<[OOQO,5?O,5?OOOQO-E<b-E<bO!@}Q`O1G/pOOQO-E<_-E<_OOQ07f1G0[1G0[OOQ07b7+%t7+%tO#%sQWO7+%tOOQ07b7+&[7+&[O>pQWO7+&[O!@}Q`O7+&[OOQO7+%w7+%wO$=mQ08SO7+&TOOQO7+&T7+&TO%[Q^O7+&TO%8nQ07hO7+&TO!@rQ07hO7+%wO!@}Q`O7+%wO%8yQ07hO7+&TO%9XQ08SO7++hO%[Q^O7++hO%9iQWO7++gO%9iQWO7++gOOQO1G4l1G4lO9ZQWO1G4lO%9qQWO1G4lOOQO7+%|7+%|O#%sQWO<<KyO%0oQrO<<KyO%:PQWO<<KyOOQU<<Ky<<KyO!&dQ7[O<<KyO%[Q^O<<KyO%:XQWO<<KyO%:dQ08SO,5?YO%<oQ08SO,5?[O%>zQ08SO1G2ZO%A]Q08SO1G2mO%ChQ08SO1G2oO%EsQ7[O,5>yOOQO-E<]-E<]O%E}QrO,5>zO%[Q^O,5>zOOQO-E<^-E<^O%FXQWO1G5uOOQ07b<<JQ<<JQO%FaQ(CYO1G0qO%HkQ(CYO1G0{O%HrQ(CYO1G0{O%JvQ(CYO1G0{O%J}Q(CYO1G0{O%LrQ(CYO1G0{O%MYQ(CYO1G0{O& mQ(CYO1G0{O& tQ(CYO1G0{O&#rQ(CYO1G0{O&$PQ(CYO1G0{O&%}Q(CYO1G0{O&&bQ08SO<<JdO&'gQ(CYO1G0{O&)]Q(CYO'#JdO&+`Q(CYO1G1aO&+mQ(CYO1G0TO!*fQ^O'#FnOOQO'#KP'#KPOOQO1G1r1G1rO&+wQWO1G1qO&+|Q(CYO,5?TOOOS7+'e7+'eOOOO1G/V1G/VOOQ07b1G4q1G4qO!(SQ7[O7+(]O&,WQWO,5?UO9aQWO,5?UOOQO-E<h-E<hO&,fQWO1G6XO&,fQWO1G6XO&,nQWO1G6XO&,yQ7[O7+'uO&-ZQpO,5?WO&-eQWO,5?WO!&dQ7[O,5?WOOQO-E<j-E<jO&-jQpO1G6YO&-tQWO1G6YOOQ07`1G2e1G2eO$'ZQWO1G2eOOQ07`1G2d1G2dO&-|QWO1G2fO!&dQ7[O1G2fOOQ07`1G2k1G2kO!@}Q`O1G2dOC_QWO1G2eO&.RQWO1G2fO&.ZQWO1G2eO&.}Q7[O,5?YOOQ07b-E<m-E<mO&/pQ7[O,5?[OOQ07b-E<o-E<oO!(SQ7[O7++TOOQ07b1G/_1G/_O&/zQWO1G/_OOQ07b7+'p7+'pO&0PQ7[O7+'wO&0aQ08SO<<KTOOQ07b<<KT<<KTO&1TQWO1G0vO!&dQ7[O'#IsO&1YQWO,5@oO!&dQ7[O1G2iOOQU<<Gz<<GzO!@rQ07hO<<GzO&1bQ08SO<<IwOOQ07b<<Iw<<IwOOQO,5?e,5?eO&2UQWO,5?eO&2ZQWO,5?eOOQO-E<w-E<wO&2iQWO1G6bO&2iQWO1G6bO9aQWO1G6bO@bQWO<<LfOOQU<<Lf<<LfO&2qQWO<<LfO9kQ07hO<<LfOOQU<<LR<<LRO%2{Q08QO<<LROOQU<<LS<<LSO%3VQpO<<LSO&2vQ`O'#IuO&3RQWO,5@sO!*fQ^O,5@sOOQU1G3Q1G3QO&3ZQ^O'#JmOOQO'#Iw'#IwO9kQ07hO'#IwO&3eQ`O,5=oOOQU,5=o,5=oO&3lQ`O'#EcO&4QQWO7+(tO&4VQWO7+(tOOQU7+(t7+(tO!&dQ7[O7+(tO%[Q^O7+(tO&4_QWO7+(tOOQU7+(v7+(vO9kQ07hO7+(vO$![QWO7+(vO9UQWO7+(vO!@}Q`O7+(vO&4jQWO,5?dOOQO-E<v-E<vOOQO'#HW'#HWO&4uQWO1G6`O9kQ07hO<<GpOOQU<<Gp<<GpO@bQWO<<GpO&4}QWO7++}O&5SQWO7+,OO%[Q^O7++}O%[Q^O7+,OOOQU7+)O7+)OO&5XQWO7+)OO&5^Q^O7+)OO&5eQWO7+)OOOQU<<Lr<<LrOOQU<<Lt<<LtOOQU-E<y-E<yOOQU1G3s1G3sO&5jQWO,5>YOOQU,5>[,5>[O&5oQWO1G3yO9ZQWO7+&bO!*fQ^O7+&bOOQO7+%[7+%[O&5tQ(CYO1G6PO>pQWO7+%[OOQ07b<<I`<<I`OOQ07b<<Iv<<IvO>pQWO<<IvOOQO<<Io<<IoO$=mQ08SO<<IoO%[Q^O<<IoOOQO<<Ic<<IcO!@rQ07hO<<IcO&6OQ07hO<<IoO&6ZQ08SO<= SO&6kQWO<= ROOQO7+*W7+*WO9ZQWO7+*WOOQUANAeANAeO&6sQWOANAeO!&dQ7[OANAeO#%sQWOANAeO%0oQrOANAeO%[Q^OANAeO&6{Q08SO7+'uO&9^Q08SO,5?YO&;iQ08SO,5?[O&=tQ08SO7+'wO&@VQrO1G4fO&@aQ(CYO7+&]O&BeQ(CYO,5=RO&DlQ(CYO,5=TO&D|Q(CYO,5=RO&E^Q(CYO,5=TO&EnQ(CYO,59qO&GqQ(CYO,5<fO&ItQ(CYO,5<hO&KwQ(CYO,5<vO&MmQ(CYO7+'hO&MzQ(CYO7+'iO&NXQWO,5<YOOQO7+']7+']O&N^Q7[O<<KwOOQO1G4p1G4pO&NeQWO1G4pO&NpQWO1G4pO' OQWO7++sO' OQWO7++sO!&dQ7[O1G4rO' WQpO1G4rO' bQWO7++tOOQ07`7+(P7+(PO$'ZQWO7+(QO' jQpO7+(QOOQ07`7+(O7+(OO$'ZQWO7+(PO' qQWO7+(QO!&dQ7[O7+(QOC_QWO7+(PO' vQ7[O<<NoOOQ07b7+$y7+$yO'!QQpO,5?_OOQO-E<q-E<qO'![Q08QO7+(TOOQUAN=fAN=fO9aQWO1G5POOQO1G5P1G5PO'!lQWO1G5PO'!qQWO7++|O'!qQWO7++|O9kQ07hOANBQO@bQWOANBQOOQUANBQANBQOOQUANAmANAmOOQUANAnANAnO'!yQWO,5?aOOQO-E<s-E<sO'#UQ(CYO1G6_O'%fQrO'#ChOOQO,5?c,5?cOOQO-E<u-E<uOOQU1G3Z1G3ZO&3ZQ^O,5<zOOQU<<L`<<L`O!&dQ7[O<<L`O&4QQWO<<L`O'%pQWO<<L`O%[Q^O<<L`OOQU<<Lb<<LbO9kQ07hO<<LbO$![QWO<<LbO9UQWO<<LbO'%xQ`O1G5OO'&TQWO7++zOOQUAN=[AN=[O9kQ07hOAN=[OOQU<= i<= iOOQU<= j<= jO'&]QWO<= iO'&bQWO<= jOOQU<<Lj<<LjO'&gQWO<<LjO'&lQ^O<<LjOOQU1G3t1G3tO>pQWO7+)eO'&sQWO<<I|O''OQ(CYO<<I|OOQO<<Hv<<HvOOQ07bAN?bAN?bOOQOAN?ZAN?ZO$=mQ08SOAN?ZOOQOAN>}AN>}O%[Q^OAN?ZOOQO<<Mr<<MrOOQUG27PG27PO!&dQ7[OG27PO#%sQWOG27PO''YQWOG27PO%0oQrOG27PO''bQ(CYO<<JdO''oQ(CYO1G2ZO')eQ(CYO,5?YO'+hQ(CYO,5?[O'-kQ(CYO1G2mO'/nQ(CYO1G2oO'1qQ(CYO<<KTO'2OQ(CYO<<IwOOQO1G1t1G1tO!(SQ7[OANAcOOQO7+*[7+*[O'2]QWO7+*[O'2hQWO<= _O'2pQpO7+*^OOQ07`<<Kl<<KlO$'ZQWO<<KlOOQ07`<<Kk<<KkO'2zQpO<<KlO$'ZQWO<<KkOOQO7+*k7+*kO9aQWO7+*kO'3RQWO<= hOOQUG27lG27lO9kQ07hOG27lO!*fQ^O1G4{O'3ZQWO7++yO&4QQWOANAzOOQUANAzANAzO!&dQ7[OANAzO'3cQWOANAzOOQUANA|ANA|O9kQ07hOANA|O$![QWOANA|OOQO'#HX'#HXOOQO7+*j7+*jOOQUG22vG22vOOQUANETANETOOQUANEUANEUOOQUANBUANBUO'3kQWOANBUOOQU<<MP<<MPO!*fQ^OAN?hOOQOG24uG24uO$=mQ08SOG24uO#%sQWOLD,kOOQULD,kLD,kO!&dQ7[OLD,kO'3pQWOLD,kO'3xQ(CYO7+'uO'5nQ(CYO,5?YO'7qQ(CYO,5?[O'9tQ(CYO7+'wO';jQ7[OG26}OOQO<<Mv<<MvOOQ07`ANAWANAWO$'ZQWOANAWOOQ07`ANAVANAVOOQO<<NV<<NVOOQULD-WLD-WO';zQ(CYO7+*gOOQUG27fG27fO&4QQWOG27fO!&dQ7[OG27fOOQUG27hG27hO9kQ07hOG27hOOQUG27pG27pO'<UQ(CYOG25SOOQOLD*aLD*aOOQU!$(!V!$(!VO#%sQWO!$(!VO!&dQ7[O!$(!VO'<`Q08SOG26}OOQ07`G26rG26rOOQULD-QLD-QO&4QQWOLD-QOOQULD-SLD-SOOQU!)9Eq!)9EqO#%sQWO!)9EqOOQU!$(!l!$(!lOOQU!.K;]!.K;]O'>qQ(CYOG26}O!*fQ^O'#DyO1PQWO'#EWO'@gQrO'#JiO!*fQ^O'#DqO'@nQ^O'#D}O'@uQrO'#ChO'C]QrO'#ChO!*fQ^O'#EPO'CmQ^O,5;VO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O,5;aO!*fQ^O'#IiO'EpQWO,5<eO'ExQ7[O,5;aO'GcQ7[O,5;aO!*fQ^O,5;uO!&dQ7[O'#GgO'ExQ7[O'#GgO!&dQ7[O'#GiO'ExQ7[O'#GiO1SQWO'#DVO1SQWO'#DVO!&dQ7[O'#FzO'ExQ7[O'#FzO!&dQ7[O'#F|O'ExQ7[O'#F|O!&dQ7[O'#G[O'ExQ7[O'#G[O!*fQ^O,5:iO!*fQ^O,5@eO'CmQ^O1G0qO'GjQ(CYO'#ChO!*fQ^O1G1|O!&dQ7[O'#InO'ExQ7[O'#InO!&dQ7[O'#IpO'ExQ7[O'#IpO!&dQ7[O,5<oO'ExQ7[O,5<oO'CmQ^O1G1}O!*fQ^O7+&xO!&dQ7[O1G2ZO'ExQ7[O1G2ZO!&dQ7[O'#InO'ExQ7[O'#InO!&dQ7[O'#IpO'ExQ7[O'#IpO!&dQ7[O1G2]O'ExQ7[O1G2]O'CmQ^O7+'iO'CmQ^O7+&]O!&dQ7[OANAcO'ExQ7[OANAcO'GtQWO'#EkO'GyQWO'#EkO'HRQWO'#FZO'HWQWO'#EuO'H]QWO'#JyO'HhQWO'#JwO'HsQWO,5;VO'HxQ7[O,5<bO'IPQWO'#GTO'IUQWO'#GTO'IZQWO,5<cO'IcQWO,5;VO'IkQ(CYO1G1^O'IrQWO,5<oO'IwQWO,5<oO'I|QWO,5<qO'JRQWO,5<qO'JWQWO1G1}O'J]QWO1G0qO'JbQ7[O<<KwO'JiQ7[O<<KwO7hQ7[O'#FxO9UQWO'#FwOA]QWO'#EjO!*fQ^O,5;rO!3fQWO'#GTO!3fQWO'#GTO!3fQWO'#GVO!3fQWO'#GVO!(SQ7[O7+(]O!(SQ7[O7+(]O%*yQpO1G2qO%*yQpO1G2qO!&dQ7[O,5=VO!&dQ7[O,5=V",stateData:"'Km~O'tOS'uOSSOS'vRQ~OPYOQYORfOX!VO`qOczOdyOlkOnYOokOpkOvkOxYOzYO!PWO!TkO!UkO![XO!fuO!kZO!nYO!oYO!pYO!rvO!twO!wxO!{]O#s!PO$T|O%b}O%d!QO%f!OO%g!OO%h!OO%k!RO%m!SO%p!TO%q!TO%s!UO&P!WO&V!XO&X!YO&Z!ZO&]![O&`!]O&f!^O&l!_O&n!`O&p!aO&r!bO&t!cO'{SO'}TO(QUO(XVO(g[O(tiO~OVtO~P`OPYOQYORfOc!jOd!iOlkOnYOokOpkOvkOxYOzYO!PWO!TkO!UkO![!eO!fuO!kZO!nYO!oYO!pYO!rvO!t!gO!w!hO$T!kO'{!dO'}TO(QUO(XVO(g[O(tiO~O`!vOo!nO!P!oO!_!xO!`!uO!a!uO!{:dO#P!pO#Q!pO#R!wO#S!pO#T!pO#W!yO#X!yO'|!lO'}TO(QUO([!mO(g!sO~O'v!zO~OP[XZ[X`[Xn[X|[X}[X!P[X!Y[X!h[X!i[X!k[X!o[X#[[X#geX#j[X#k[X#l[X#m[X#n[X#o[X#p[X#q[X#r[X#t[X#v[X#x[X#y[X$O[X'r[X(X[X(h[X(o[X(p[X~O!d$|X~P(qO^!|O'}#OO(O!|O(P#OO~O^#PO(P#OO(Q#OO(R#PO~Ot#RO!R#SO(Y#SO(Z#UO~OPYOQYORfOc!jOd!iOlkOnYOokOpkOvkOxYOzYO!PWO!TkO!UkO![!eO!fuO!kZO!nYO!oYO!pYO!rvO!t!gO!w!hO$T!kO'{:hO'}TO(QUO(XVO(g[O(tiO~O!X#YO!Y#VO!V(_P!V(lP~P+}O!Z#bO~P`OPYOQYORfOc!jOd!iOnYOokOpkOvkOxYOzYO!PWO!TkO!UkO![!eO!fuO!kZO!nYO!oYO!pYO!rvO!t!gO!w!hO$T!kO'}TO(QUO(XVO(g[O(tiO~Ol#lO!X#hO!{]O#e#kO#f#hO'{:iO!j(iP~P.iO!k#nO'{#mO~O!w#rO!{]O%b#sO~O#g#tO~O!d#uO#g#tO~OP$]OZ$dOn$QO|#yO}#zO!P#{O!Y$aO!h$SO!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO#n$RO#o$SO#p$SO#q$cO#r$SO#t$TO#v$VO#x$XO#y$YO(XVO(h$ZO(o#|O(p#}O~O`(]X'r(]X'p(]X!j(]X!V(]X![(]X%c(]X!d(]X~P1qO#[$eO$O$eOP(^XZ(^Xn(^X|(^X}(^X!P(^X!Y(^X!h(^X!k(^X!o(^X#j(^X#k(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#t(^X#v(^X#x(^X#y(^X(X(^X(h(^X(o(^X(p(^X![(^X%c(^X~O`(^X!i(^X'r(^X'p(^X!V(^X!j(^Xr(^X!d(^X~P4XO#[$eO~O$Y$gO$[$fO$c$lO~ORfO![$mO$f$nO$h$pO~Og%VOl%WOn$tOo$sOp$sOv%XOx%YOz%ZO!P${O![$|O!f%`O!k$xO#f%aO$T%^O$o%[O$q%]O$t%_O'{$rO'}TO(QUO(X$uO(o$}O(p%POf(UP~O!k%bO~O!P%eO![%fO'{%dO~O!d%jO~O`%kO'r%kO~O'|!lO~P%[O%h%rO~P%[Og%VO!k%bO'{%dO'|!lO~Od%yO!k%bO'{%dO~O#r$SO~O|&OO![%{O!k%}O%d&RO'{%dO'|!lO'}TO(QUO_(}P~O!w#rO~O%m&TO!P(yX![(yX'{(yX~O'{&UO~O!t&ZO#s!PO%d!QO%f!OO%g!OO%h!OO%k!RO%m!SO%p!TO%q!TO~Oc&`Od&_O!w&]O%b&^O%u&[O~P;xOc&cOdyO![&bO!t&ZO!wxO!{]O#s!PO%b}O%f!OO%g!OO%h!OO%k!RO%m!SO%p!TO%q!TO%s!UO~Oa&fO#[&iO%d&dO'|!lO~P<}O!k&jO!t&nO~O!k#nO~O![XO~O`%kO'q&vO'r%kO~O`%kO'q&yO'r%kO~O`%kO'q&{O'r%kO~O'p[X!V[Xr[X!j[X&T[X![[X%c[X!d[X~P(qO!_'YO!`'RO!a'RO'|!lO'}TO(QUO~Oo'PO!P'OO!X'SO([&}O!Z(`P!Z(nP~P@UOj']O!['ZO'{%dO~Od'bO!k%bO'{%dO~O|&OO!k%}O~Oo!nO!P!oO!{:dO#P!pO#Q!pO#S!pO#T!pO'|!lO'}TO(QUO([!mO(g!sO~O!_'hO!`'gO!a'gO#R!pO#W'iO#X'iO~PApO`%kOg%VO!d#uO!k%bO'r%kO(h'kO~O!o'oO#['mO~PCOOo!nO!P!oO'}TO(QUO([!mO(g!sO~O![XOo(eX!P(eX!_(eX!`(eX!a(eX!{(eX#P(eX#Q(eX#R(eX#S(eX#T(eX#W(eX#X(eX'|(eX'}(eX(Q(eX([(eX(g(eX~O!`'gO!a'gO'|!lO~PCnO'w'sO'x'sO'y'uO~O^!|O'}'wO(O!|O(P'wO~O^#PO(P'wO(Q'wO(R#PO~Ot#RO!R#SO(Y#SO(Z'{O~O!X'}O!V'PX!V'VX!Y'PX!Y'VX~P+}O!Y(PO!V(_X~OP$]OZ$dOn$QO|#yO}#zO!P#{O!Y(PO!h$SO!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO#n$RO#o$SO#p$SO#q$cO#r$SO#t$TO#v$VO#x$XO#y$YO(XVO(h$ZO(o#|O(p#}O~O!V(_X~PGbO!V(UO~O!V(kX!Y(kX!d(kX!j(kX(h(kX~O#[(kX#g#`X!Z(kX~PIhO#[(VO!V(mX!Y(mX~O!Y(WO!V(lX~O!V(ZO~O#[$eO~PIhO!Z([O~P`O|#yO}#zO!P#{O!i#wO!k#xO(XVOP!maZ!man!ma!Y!ma!h!ma!o!ma#j!ma#k!ma#l!ma#m!ma#n!ma#o!ma#p!ma#q!ma#r!ma#t!ma#v!ma#x!ma#y!ma(h!ma(o!ma(p!ma~O`!ma'r!ma'p!ma!V!ma!j!mar!ma![!ma%c!ma!d!ma~PKOO!j(]O~O!d#uO#[(^O(h'kO!Y(jX`(jX'r(jX~O!j(jX~PMnO!P%eO![%fO!{]O#e(cO#f(bO'{%dO~O!Y(dO!j(iX~O!j(fO~O!P%eO![%fO#f(bO'{%dO~OP(^XZ(^Xn(^X|(^X}(^X!P(^X!Y(^X!h(^X!i(^X!k(^X!o(^X#j(^X#k(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#t(^X#v(^X#x(^X#y(^X(X(^X(h(^X(o(^X(p(^X~O!d#uO!j(^X~P! [O|(gO}(hO!i#wO!k#xO!{!za!P!za~O!w!za%b!za![!za#e!za#f!za'{!za~P!#`O!w(lO~OPYOQYORfOc!jOd!iOlkOnYOokOpkOvkOxYOzYO!PWO!TkO!UkO![XO!fuO!kZO!nYO!oYO!pYO!rvO!t!gO!w!hO$T!kO'{!dO'}TO(QUO(XVO(g[O(tiO~Og%VOl%WOn$tOo$sOp$sOv%XOx%YOz;QO!P${O![$|O!f<`O!k$xO#f;WO$T%^O$o;SO$q;UO$t%_O'{(pO'}TO(QUO(X$uO(o$}O(p%PO~O#g(rO~Og%VOl%WOn$tOo$sOp$sOv%XOx%YOz%ZO!P${O![$|O!f%`O!k$xO#f%aO$T%^O$o%[O$q%]O$t%_O'{(pO'}TO(QUO(X$uO(o$}O(p%PO~Of(bP~P!(SO!X(vO!j(cP~P%[O([(xO(g[O~O!P(zO!k#xO([(xO(g[O~OP:cOQ:cORfOc<[Od!iOlkOn:cOokOpkOvkOx:cOz:cO!PWO!TkO!UkO![!eO!f:fO!kZO!n:cO!o:cO!p:cO!r:gO!t:jO!w!hO$T!kO'{)YO'}TO(QUO(XVO(g[O(t<YO~O})]O!k#xO~O!Y$aO`$ma'r$ma'p$ma!j$ma!V$ma![$ma%c$ma!d$ma~O#s)aO~P!&dO|)dO!d)cO![$ZX$W$ZX$Y$ZX$[$ZX$c$ZX~O!d)cO![(qX$W(qX$Y(qX$[(qX$c(qX~O|)dO~P!.OO|)dO![(qX$W(qX$Y(qX$[(qX$c(qX~O![)fO$W)jO$Y)eO$[)eO$c)kO~O!X)nO~P!*fO$Y$gO$[$fO$c)rO~Oj$uX|$uX!P$uX!i$uX(o$uX(p$uX~OfiXf$uXjiX!YiX#[iX~P!/tOo)tO~Ot)uO(Y)vO(Z)xO~Oj*RO|)zO!P){O(o$}O(p%PO~Of)yO~P!0}Of*SO~Og%VOl%WOn$tOo$sOp$sOv%XOx%YOz;QO!P${O![$|O!f<`O!k$xO#f;WO$T%^O$o;SO$q;UO$t%_O'}TO(QUO(X$uO(o$}O(p%PO~O!X*WO'{*TO!j(uP~P!1lO#g*YO~O!k*ZO~O!X*`O'{*]O!V(vP~P!1lOn*lO!P*dO!_*jO!`*cO!a*cO!k*ZO#W*kO%Y*fO'|!lO([!mO~O!Z*iO~P!3xO!i#wOj(WX|(WX!P(WX(o(WX(p(WX!Y(WX#[(WX~Of(WX#|(WX~P!4qOj*qO#[*pOf(VX!Y(VX~O!Y*rOf(UX~O'{&UOf(UP~O!k*yO~O'{(pO~Ol*}O!P%eO!X#hO![%fO!{]O#e#kO#f#hO'{%dO!j(iP~O!d#uO#g+OO~O!P%eO!X+QO!Y(WO![%fO'{%dO!V(lP~Oo'VO!P+SO!X+RO'}TO(QUO([(xO~O!Z(nP~P!7lO!Y+TO`(zX'r(zX~OP$]OZ$dOn$QO|#yO}#zO!P#{O!h$SO!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO#n$RO#o$SO#p$SO#q$cO#r$SO#t$TO#v$VO#x$XO#y$YO(XVO(h$ZO(o#|O(p#}O~O`!ea!Y!ea'r!ea'p!ea!V!ea!j!ear!ea![!ea%c!ea!d!ea~P!8dO|#yO}#zO!P#{O!i#wO!k#xO(XVOP!qaZ!qan!qa!Y!qa!h!qa!o!qa#j!qa#k!qa#l!qa#m!qa#n!qa#o!qa#p!qa#q!qa#r!qa#t!qa#v!qa#x!qa#y!qa(h!qa(o!qa(p!qa~O`!qa'r!qa'p!qa!V!qa!j!qar!qa![!qa%c!qa!d!qa~P!:}O|#yO}#zO!P#{O!i#wO!k#xO(XVOP!saZ!san!sa!Y!sa!h!sa!o!sa#j!sa#k!sa#l!sa#m!sa#n!sa#o!sa#p!sa#q!sa#r!sa#t!sa#v!sa#x!sa#y!sa(h!sa(o!sa(p!sa~O`!sa'r!sa'p!sa!V!sa!j!sar!sa![!sa%c!sa!d!sa~P!=hOg%VOj+^O!['ZO%c+]O~O!d+`O`(TX![(TX'r(TX!Y(TX~O`%kO![XO'r%kO~Og%VO!k%bO~Og%VO!k%bO'{%dO~O!d#uO#g(rO~Oa+kO%d+lO'{+hO'}TO(QUO!Z)OP~O!Y+mO_(}X~OZ+qO~O_+rO~O![%{O'{%dO'|!lO_(}P~Og%VO#[+wO~Og%VOj+zO![$|O~O![+|O~O|,OO![XO~O%h%rO~O!w,TO~Od,YO~Oa,ZO'{#mO'}TO(QUO!Z(|P~Od%yO~O%d!QO'{&UO~P<}OZ,`O_,_O~OPYOQYORfOczOdyOlkOnYOokOpkOvkOxYOzYO!PWO!TkO!UkO!fuO!kZO!nYO!oYO!pYO!rvO!wxO!{]O%b}O'}TO(QUO(XVO(g[O(tiO~O![!eO!t!gO$T!kO'{!dO~P!DkO_,_O`%kO'r%kO~OPYOQYORfOc!jOd!iOlkOnYOokOpkOvkOxYOzYO!PWO!TkO!UkO![!eO!fuO!kZO!nYO!oYO!pYO!rvO!w!hO$T!kO'{!dO'}TO(QUO(XVO(g[O(tiO~O`,eO!twO#s!OO%f!OO%g!OO%h!OO~P!GTO!k&jO~O&V,kO~O![,mO~O&h,oO&j,pOP&eaQ&eaR&eaX&ea`&eac&ead&eal&ean&eao&eap&eav&eax&eaz&ea!P&ea!T&ea!U&ea![&ea!f&ea!k&ea!n&ea!o&ea!p&ea!r&ea!t&ea!w&ea!{&ea#s&ea$T&ea%b&ea%d&ea%f&ea%g&ea%h&ea%k&ea%m&ea%p&ea%q&ea%s&ea&P&ea&V&ea&X&ea&Z&ea&]&ea&`&ea&f&ea&l&ea&n&ea&p&ea&r&ea&t&ea'p&ea'{&ea'}&ea(Q&ea(X&ea(g&ea(t&ea!Z&ea&^&eaa&ea&c&ea~O'{,uO~Og!bX!Y!OX!Y!bX!Z!OX!Z!bX!d!OX!d!bX!k!bX#[!OX~O!d,zO#[,yOg(aX!Y#dX!Y(aX!Z#dX!Z(aX!d(aX!k(aX~Og%VO!d,|O!k%bO!Y!^X!Z!^X~Oo!nO!P!oO'}TO(QUO([!mO~OP:cOQ:cORfOc<[Od!iOlkOn:cOokOpkOvkOx:cOz:cO!PWO!TkO!UkO![!eO!f:fO!kZO!n:cO!o:cO!p:cO!r:gO!t:jO!w!hO$T!kO'}TO(QUO(XVO(g[O(t<YO~O'{;]O~P#!ZO!Y-QO!Z(`X~O!Z-SO~O!d,zO#[,yO!Y#dX!Z#dX~O!Y-TO!Z(nX~O!Z-VO~O!`-WO!a-WO'|!lO~P# xO!Z-ZO~P'_Oj-^O!['ZO~O!V-cO~Oo!za!_!za!`!za!a!za#P!za#Q!za#R!za#S!za#T!za#W!za#X!za'|!za'}!za(Q!za([!za(g!za~P!#`O!o-hO#[-fO~PCOO!`-jO!a-jO'|!lO~PCnO`%kO#[-fO'r%kO~O`%kO!d#uO#[-fO'r%kO~O`%kO!d#uO!o-hO#[-fO'r%kO(h'kO~O'w'sO'x'sO'y-oO~Or-pO~O!V'Pa!Y'Pa~P!8dO!X-tO!V'PX!Y'PX~P%[O!Y(PO!V(_a~O!V(_a~PGbO!Y(WO!V(la~O!P%eO!X-xO![%fO'{%dO!V'VX!Y'VX~O#[-zO!Y(ja!j(ja`(ja'r(ja~O!d#uO~P#*aO!Y(dO!j(ia~O!P%eO![%fO#f.OO'{%dO~Ol.TO!P%eO!X.QO![%fO!{]O#e.SO#f.QO'{%dO!Y'YX!j'YX~O}.XO!k#xO~Og%VOj.[O!['ZO%c.ZO~O`#_i!Y#_i'r#_i'p#_i!V#_i!j#_ir#_i![#_i%c#_i!d#_i~P!8dOj<fO|)zO!P){O(o$}O(p%PO~O#g#Za`#Za#[#Za'r#Za!Y#Za!j#Za![#Za!V#Za~P#-]O#g(WXP(WXZ(WX`(WXn(WX}(WX!h(WX!k(WX!o(WX#j(WX#k(WX#l(WX#m(WX#n(WX#o(WX#p(WX#q(WX#r(WX#t(WX#v(WX#x(WX#y(WX'r(WX(X(WX(h(WX!j(WX!V(WX'p(WXr(WX![(WX%c(WX!d(WX~P!4qO!Y.iOf(bX~P!0}Of.kO~O!Y.lO!j(cX~P!8dO!j.oO~O!V.qO~OP$]O|#yO}#zO!P#{O!i#wO!k#xO!o$]O(XVOZ#ii`#iin#ii!Y#ii!h#ii#k#ii#l#ii#m#ii#n#ii#o#ii#p#ii#q#ii#r#ii#t#ii#v#ii#x#ii#y#ii'r#ii(h#ii(o#ii(p#ii'p#ii!V#ii!j#iir#ii![#ii%c#ii!d#ii~O#j#ii~P#1XO#j$OO~P#1XOP$]O|#yO}#zO!P#{O!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO(XVOZ#ii`#ii!Y#ii!h#ii#n#ii#o#ii#p#ii#q#ii#r#ii#t#ii#v#ii#x#ii#y#ii'r#ii(h#ii(o#ii(p#ii'p#ii!V#ii!j#iir#ii![#ii%c#ii!d#ii~On#ii~P#3yOn$QO~P#3yOP$]On$QO|#yO}#zO!P#{O!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO#n$RO(XVO`#ii!Y#ii#t#ii#v#ii#x#ii#y#ii'r#ii(h#ii(o#ii(p#ii'p#ii!V#ii!j#iir#ii![#ii%c#ii!d#ii~OZ#ii!h#ii#o#ii#p#ii#q#ii#r#ii~P#6kOZ$dO!h$SO#o$SO#p$SO#q$cO#r$SO~P#6kOP$]OZ$dOn$QO|#yO}#zO!P#{O!h$SO!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO#n$RO#o$SO#p$SO#q$cO#r$SO#t$TO(XVO(p#}O`#ii!Y#ii#x#ii#y#ii'r#ii(h#ii(o#ii'p#ii!V#ii!j#iir#ii![#ii%c#ii!d#ii~O#v$VO~P#9lO#v#ii~P#9lOP$]OZ$dOn$QO|#yO}#zO!P#{O!h$SO!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO#n$RO#o$SO#p$SO#q$cO#r$SO#t$TO(XVO`#ii!Y#ii#x#ii#y#ii'r#ii(h#ii'p#ii!V#ii!j#iir#ii![#ii%c#ii!d#ii~O#v#ii(o#ii(p#ii~P#<^O#v$VO(o#|O(p#}O~P#<^OP$]OZ$dOn$QO|#yO}#zO!P#{O!h$SO!i#wO!k#xO!o$]O#j$OO#k$PO#l$PO#m$PO#n$RO#o$SO#p$SO#q$cO#r$SO#t$TO#v$VO#x$XO(XVO(o#|O(p#}O~O`#ii!Y#ii#y#ii'r#ii(h#ii'p#ii!V#ii!j#iir#ii![#ii%c#ii!d#ii~P#?UOP[XZ[Xn[X|[X}[X!P[X!h[X!i[X!k[X!o[X#[[X#geX#j[X#k[X#l[X#m[X#n[X#o[X#p[X#q[X#r[X#t[X#v[X#x[X#y[X$O[X(X[X(h[X(o[X(p[X!Y[X!Z[X~O#|[X~P#AoOP$]OZ:zOn:nO|#yO}#zO!P#{O!h:pO!i#wO!k#xO!o$]O#j:lO#k:mO#l:mO#m:mO#n:oO#o:pO#p:pO#q:yO#r:pO#t:qO#v:sO#x:uO#y:vO(XVO(h$ZO(o#|O(p#}O~O#|.sO~P#C|O#[:{O$O:{O#|(^X!Z(^X~P! [O`']a!Y']a'r']a'p']a!j']a!V']ar']a![']a%c']a!d']a~P!8dOP#iiZ#ii`#iin#ii}#ii!Y#ii!h#ii!i#ii!k#ii!o#ii#j#ii#k#ii#l#ii#m#ii#n#ii#o#ii#p#ii#q#ii#r#ii#t#ii#v#ii#x#ii#y#ii'r#ii(X#ii(h#ii'p#ii!V#ii!j#iir#ii![#ii%c#ii!d#ii~P#-]O`#}i!Y#}i'r#}i'p#}i!V#}i!j#}ir#}i![#}i%c#}i!d#}i~P!8dO$Y.xO$[.xO~O$Y.yO$[.yO~O!d)cO#[.zO![$`X$W$`X$Y$`X$[$`X$c$`X~O!X.{O~O![)fO$W.}O$Y)eO$[)eO$c/OO~O!Y:wO!Z(]X~P#C|O!Z/PO~O!d)cO$c(qX~O$c/RO~Ot)uO(Y)vO(Z/UO~O!V/YO~P!&dO(o$}Oj%Za|%Za!P%Za(p%Za!Y%Za#[%Za~Of%Za#|%Za~P#L^O(p%POj%]a|%]a!P%]a(o%]a!Y%]a#[%]a~Of%]a#|%]a~P#MPO!YeX!deX!jeX!j$uX(heX~P!/tO!j/bO~P#-]O!Y/cO!d#uO(h'kO!j(uX~O!j/hO~O!X*WO'{%dO!j(uP~O#g/jO~O!V$uX!Y$uX!d$|X~P!/tO!Y/kO!V(vX~P#-]O!d/mO~O!V/oO~Og%VOn/sO!d#uO!k%bO(h'kO~O'{/uO~O!d+`O~O`%kO!Y/yO'r%kO~O!Z/{O~P!3xO!`/|O!a/|O'|!lO([!mO~O!P0OO([!mO~O#W0PO~Of%Za!Y%Za#[%Za#|%Za~P!0}Of%]a!Y%]a#[%]a#|%]a~P!0}O'{&UOf'fX!Y'fX~O!Y*rOf(Ua~Of0YO~O|0ZO}0ZO!P0[Ojya(oya(pya!Yya#[ya~Ofya#|ya~P$$jO|)zO!P){Oj$na(o$na(p$na!Y$na#[$na~Of$na#|$na~P$%`O|)zO!P){Oj$pa(o$pa(p$pa!Y$pa#[$pa~Of$pa#|$pa~P$&RO#g0^O~Of%Oa!Y%Oa#[%Oa#|%Oa~P!0}O!d#uO~O#g0aO~O!Y+TO`(za'r(za~O|#yO}#zO!P#{O!i#wO!k#xO(XVOP!qiZ!qin!qi!Y!qi!h!qi!o!qi#j!qi#k!qi#l!qi#m!qi#n!qi#o!qi#p!qi#q!qi#r!qi#t!qi#v!qi#x!qi#y!qi(h!qi(o!qi(p!qi~O`!qi'r!qi'p!qi!V!qi!j!qir!qi![!qi%c!qi!d!qi~P$'pOg%VOn$tOo$sOp$sOv%XOx%YOz;QO!P${O![$|O!f<`O!k$xO#f;WO$T%^O$o;SO$q;UO$t%_O'}TO(QUO(X$uO(o$}O(p%PO~Ol0kO'{0jO~P$*ZO!d+`O`(Ta![(Ta'r(Ta!Y(Ta~O#g0qO~OZ[X!YeX!ZeX~O!Y0rO!Z)OX~O!Z0tO~OZ0uO~Oa0wO'{+hO'}TO(QUO~O![%{O'{%dO_'nX!Y'nX~O!Y+mO_(}a~O!j0zO~P!8dOZ0}O~O_1OO~O#[1RO~Oj1UO![$|O~O([(xO!Z({P~Og%VOj1_O![1[O%c1^O~OZ1iO!Y1gO!Z(|X~O!Z1jO~O_1lO`%kO'r%kO~O'{#mO'}TO(QUO~O#[$eO$O$eOP(^XZ(^Xn(^X|(^X}(^X!P(^X!Y(^X!h(^X!k(^X!o(^X#j(^X#k(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#t(^X#v(^X#x(^X#y(^X(X(^X(h(^X(o(^X(p(^X~O#r1oO&T1pO`(^X!i(^X~P$/qO#[$eO#r1oO&T1pO~O`1rO~P%[O`1tO~O&^1wOP&[iQ&[iR&[iX&[i`&[ic&[id&[il&[in&[io&[ip&[iv&[ix&[iz&[i!P&[i!T&[i!U&[i![&[i!f&[i!k&[i!n&[i!o&[i!p&[i!r&[i!t&[i!w&[i!{&[i#s&[i$T&[i%b&[i%d&[i%f&[i%g&[i%h&[i%k&[i%m&[i%p&[i%q&[i%s&[i&P&[i&V&[i&X&[i&Z&[i&]&[i&`&[i&f&[i&l&[i&n&[i&p&[i&r&[i&t&[i'p&[i'{&[i'}&[i(Q&[i(X&[i(g&[i(t&[i!Z&[ia&[i&c&[i~Oa1}O!Z1{O&c1|O~P`O![XO!k2PO~O&j,pOP&eiQ&eiR&eiX&ei`&eic&eid&eil&ein&eio&eip&eiv&eix&eiz&ei!P&ei!T&ei!U&ei![&ei!f&ei!k&ei!n&ei!o&ei!p&ei!r&ei!t&ei!w&ei!{&ei#s&ei$T&ei%b&ei%d&ei%f&ei%g&ei%h&ei%k&ei%m&ei%p&ei%q&ei%s&ei&P&ei&V&ei&X&ei&Z&ei&]&ei&`&ei&f&ei&l&ei&n&ei&p&ei&r&ei&t&ei'p&ei'{&ei'}&ei(Q&ei(X&ei(g&ei(t&ei!Z&ei&^&eia&ei&c&ei~O!V2VO~O!Y!^a!Z!^a~P#C|Oo!nO!P!oO!X2]O([!mO!Y'QX!Z'QX~P@UO!Y-QO!Z(`a~O!Y'WX!Z'WX~P!7lO!Y-TO!Z(na~O!Z2dO~P'_O`%kO#[2mO'r%kO~O`%kO!d#uO#[2mO'r%kO~O`%kO!d#uO!o2qO#[2mO'r%kO(h'kO~O`%kO'r%kO~P!8dO!Y$aOr$ma~O!V'Pi!Y'Pi~P!8dO!Y(PO!V(_i~O!Y(WO!V(li~O!V(mi!Y(mi~P!8dO!Y(ji!j(ji`(ji'r(ji~P!8dO#[2sO!Y(ji!j(ji`(ji'r(ji~O!Y(dO!j(ii~O!P%eO![%fO!{]O#e2xO#f2wO'{%dO~O!P%eO![%fO#f2wO'{%dO~Oj3PO!['ZO%c3OO~Og%VOj3PO!['ZO%c3OO~O#g%ZaP%ZaZ%Za`%Zan%Za}%Za!h%Za!i%Za!k%Za!o%Za#j%Za#k%Za#l%Za#m%Za#n%Za#o%Za#p%Za#q%Za#r%Za#t%Za#v%Za#x%Za#y%Za'r%Za(X%Za(h%Za!j%Za!V%Za'p%Zar%Za![%Za%c%Za!d%Za~P#L^O#g%]aP%]aZ%]a`%]an%]a}%]a!h%]a!i%]a!k%]a!o%]a#j%]a#k%]a#l%]a#m%]a#n%]a#o%]a#p%]a#q%]a#r%]a#t%]a#v%]a#x%]a#y%]a'r%]a(X%]a(h%]a!j%]a!V%]a'p%]ar%]a![%]a%c%]a!d%]a~P#MPO#g%ZaP%ZaZ%Za`%Zan%Za}%Za!Y%Za!h%Za!i%Za!k%Za!o%Za#j%Za#k%Za#l%Za#m%Za#n%Za#o%Za#p%Za#q%Za#r%Za#t%Za#v%Za#x%Za#y%Za'r%Za(X%Za(h%Za!j%Za!V%Za'p%Za#[%Zar%Za![%Za%c%Za!d%Za~P#-]O#g%]aP%]aZ%]a`%]an%]a}%]a!Y%]a!h%]a!i%]a!k%]a!o%]a#j%]a#k%]a#l%]a#m%]a#n%]a#o%]a#p%]a#q%]a#r%]a#t%]a#v%]a#x%]a#y%]a'r%]a(X%]a(h%]a!j%]a!V%]a'p%]a#[%]ar%]a![%]a%c%]a!d%]a~P#-]O#gyaPyaZya`yanya!hya!iya!kya!oya#jya#kya#lya#mya#nya#oya#pya#qya#rya#tya#vya#xya#yya'rya(Xya(hya!jya!Vya'pyarya![ya%cya!dya~P$$jO#g$naP$naZ$na`$nan$na}$na!h$na!i$na!k$na!o$na#j$na#k$na#l$na#m$na#n$na#o$na#p$na#q$na#r$na#t$na#v$na#x$na#y$na'r$na(X$na(h$na!j$na!V$na'p$nar$na![$na%c$na!d$na~P$%`O#g$paP$paZ$pa`$pan$pa}$pa!h$pa!i$pa!k$pa!o$pa#j$pa#k$pa#l$pa#m$pa#n$pa#o$pa#p$pa#q$pa#r$pa#t$pa#v$pa#x$pa#y$pa'r$pa(X$pa(h$pa!j$pa!V$pa'p$par$pa![$pa%c$pa!d$pa~P$&RO#g%OaP%OaZ%Oa`%Oan%Oa}%Oa!Y%Oa!h%Oa!i%Oa!k%Oa!o%Oa#j%Oa#k%Oa#l%Oa#m%Oa#n%Oa#o%Oa#p%Oa#q%Oa#r%Oa#t%Oa#v%Oa#x%Oa#y%Oa'r%Oa(X%Oa(h%Oa!j%Oa!V%Oa'p%Oa#[%Oar%Oa![%Oa%c%Oa!d%Oa~P#-]O`#_q!Y#_q'r#_q'p#_q!V#_q!j#_qr#_q![#_q%c#_q!d#_q~P!8dOf'RX!Y'RX~P!(SO!Y.iOf(ba~O!X3ZO!Y'SX!j'SX~P%[O!Y.lO!j(ca~O!Y.lO!j(ca~P!8dO!V3^O~O#|!ma!Z!ma~PKOO#|!ea!Y!ea!Z!ea~P#C|O#|!qa!Z!qa~P!:}O#|!sa!Z!sa~P!=hORfO![3pO$a3qO~O!Z3uO~Or3vO~P#-]O`$jq!Y$jq'r$jq'p$jq!V$jq!j$jqr$jq![$jq%c$jq!d$jq~P!8dO!V3wO~P#-]O|)zO!P){O(p%POj'ba(o'ba!Y'ba#['ba~Of'ba#|'ba~P%)eO|)zO!P){Oj'da(o'da(p'da!Y'da#['da~Of'da#|'da~P%*WO(h$ZO~P#-]O!X3zO'{%dO!Y'^X!j'^X~O!Y/cO!j(ua~O!Y/cO!d#uO!j(ua~O!Y/cO!d#uO(h'kO!j(ua~Of$wi!Y$wi#[$wi#|$wi~P!0}O!X4SO'{*]O!V'`X!Y'`X~P!1lO!Y/kO!V(va~O!Y/kO!V(va~P#-]O!d#uO#r4[O~On4_O!d#uO(h'kO~O(o$}Oj%Zi|%Zi!P%Zi(p%Zi!Y%Zi#[%Zi~Of%Zi#|%Zi~P%-jO(p%POj%]i|%]i!P%]i(o%]i!Y%]i#[%]i~Of%]i#|%]i~P%.]Of(Vi!Y(Vi~P!0}O#[4fOf(Vi!Y(Vi~P!0}O!j4iO~O`$kq!Y$kq'r$kq'p$kq!V$kq!j$kqr$kq![$kq%c$kq!d$kq~P!8dO!V4mO~O!Y4nO![(wX~P#-]O!i#wO~P4XO`$uX![$uX%W[X'r$uX!Y$uX~P!/tO%W4pO`kXjkX|kX!PkX![kX'rkX(okX(pkX!YkX~O%W4pO~Oa4vO%d4wO'{+hO'}TO(QUO!Y'mX!Z'mX~O!Y0rO!Z)Oa~OZ4{O~O_4|O~O`%kO'r%kO~P#-]O![$|O~P#-]O!Y5UO#[5WO!Z({X~O!Z5XO~Oo!nO!P5YO!_!xO!`!uO!a!uO!{:dO#P!pO#Q!pO#R!pO#S!pO#T!pO#W5_O#X!yO'|!lO'}TO(QUO([!mO(g!sO~O!Z5^O~P%3nOj5dO![1[O%c5cO~Og%VOj5dO![1[O%c5cO~Oa5kO'{#mO'}TO(QUO!Y'lX!Z'lX~O!Y1gO!Z(|a~O'}TO(QUO([5mO~O_5qO~O#r5tO&T5uO~PMnO!j5vO~P%[O`5xO~O`5xO~P%[Oa1}O!Z5}O&c1|O~P`O!d6PO~O!d6ROg(ai!Y(ai!Z(ai!d(ai!k(ai~O!Y#di!Z#di~P#C|O#[6SO!Y#di!Z#di~O!Y!^i!Z!^i~P#C|O`%kO#[6]O'r%kO~O`%kO!d#uO#[6]O'r%kO~O!Y(jq!j(jq`(jq'r(jq~P!8dO!Y(dO!j(iq~O!P%eO![%fO#f6dO'{%dO~O!['ZO%c6gO~Oj6jO!['ZO%c6gO~O#g'baP'baZ'ba`'ban'ba}'ba!h'ba!i'ba!k'ba!o'ba#j'ba#k'ba#l'ba#m'ba#n'ba#o'ba#p'ba#q'ba#r'ba#t'ba#v'ba#x'ba#y'ba'r'ba(X'ba(h'ba!j'ba!V'ba'p'bar'ba!['ba%c'ba!d'ba~P%)eO#g'daP'daZ'da`'dan'da}'da!h'da!i'da!k'da!o'da#j'da#k'da#l'da#m'da#n'da#o'da#p'da#q'da#r'da#t'da#v'da#x'da#y'da'r'da(X'da(h'da!j'da!V'da'p'dar'da!['da%c'da!d'da~P%*WO#g$wiP$wiZ$wi`$win$wi}$wi!Y$wi!h$wi!i$wi!k$wi!o$wi#j$wi#k$wi#l$wi#m$wi#n$wi#o$wi#p$wi#q$wi#r$wi#t$wi#v$wi#x$wi#y$wi'r$wi(X$wi(h$wi!j$wi!V$wi'p$wi#[$wir$wi![$wi%c$wi!d$wi~P#-]O#g%ZiP%ZiZ%Zi`%Zin%Zi}%Zi!h%Zi!i%Zi!k%Zi!o%Zi#j%Zi#k%Zi#l%Zi#m%Zi#n%Zi#o%Zi#p%Zi#q%Zi#r%Zi#t%Zi#v%Zi#x%Zi#y%Zi'r%Zi(X%Zi(h%Zi!j%Zi!V%Zi'p%Zir%Zi![%Zi%c%Zi!d%Zi~P%-jO#g%]iP%]iZ%]i`%]in%]i}%]i!h%]i!i%]i!k%]i!o%]i#j%]i#k%]i#l%]i#m%]i#n%]i#o%]i#p%]i#q%]i#r%]i#t%]i#v%]i#x%]i#y%]i'r%]i(X%]i(h%]i!j%]i!V%]i'p%]ir%]i![%]i%c%]i!d%]i~P%.]Of'Ra!Y'Ra~P!0}O!Y'Sa!j'Sa~P!8dO!Y.lO!j(ci~O#|#_i!Y#_i!Z#_i~P#C|OP$]O|#yO}#zO!P#{O!i#wO!k#xO!o$]O(XVOZ#iin#ii!h#ii#k#ii#l#ii#m#ii#n#ii#o#ii#p#ii#q#ii#r#ii#t#ii#v#ii#x#ii#y#ii#|#ii(h#ii(o#ii(p#ii!Y#ii!Z#ii~O#j#ii~P%FnO#j:lO~P%FnOP$]O|#yO}#zO!P#{O!i#wO!k#xO!o$]O#j:lO#k:mO#l:mO#m:mO(XVOZ#ii!h#ii#n#ii#o#ii#p#ii#q#ii#r#ii#t#ii#v#ii#x#ii#y#ii#|#ii(h#ii(o#ii(p#ii!Y#ii!Z#ii~On#ii~P%HyOn:nO~P%HyOP$]On:nO|#yO}#zO!P#{O!i#wO!k#xO!o$]O#j:lO#k:mO#l:mO#m:mO#n:oO(XVO#t#ii#v#ii#x#ii#y#ii#|#ii(h#ii(o#ii(p#ii!Y#ii!Z#ii~OZ#ii!h#ii#o#ii#p#ii#q#ii#r#ii~P%KUOZ:zO!h:pO#o:pO#p:pO#q:yO#r:pO~P%KUOP$]OZ:zOn:nO|#yO}#zO!P#{O!h:pO!i#wO!k#xO!o$]O#j:lO#k:mO#l:mO#m:mO#n:oO#o:pO#p:pO#q:yO#r:pO#t:qO(XVO(p#}O#x#ii#y#ii#|#ii(h#ii(o#ii!Y#ii!Z#ii~O#v:sO~P%MpO#v#ii~P%MpOP$]OZ:zOn:nO|#yO}#zO!P#{O!h:pO!i#wO!k#xO!o$]O#j:lO#k:mO#l:mO#m:mO#n:oO#o:pO#p:pO#q:yO#r:pO#t:qO(XVO#x#ii#y#ii#|#ii(h#ii!Y#ii!Z#ii~O#v#ii(o#ii(p#ii~P& {O#v:sO(o#|O(p#}O~P& {OP$]OZ:zOn:nO|#yO}#zO!P#{O!h:pO!i#wO!k#xO!o$]O#j:lO#k:mO#l:mO#m:mO#n:oO#o:pO#p:pO#q:yO#r:pO#t:qO#v:sO#x:uO(XVO(o#|O(p#}O~O#y#ii#|#ii(h#ii!Y#ii!Z#ii~P&$^O`#zy!Y#zy'r#zy'p#zy!V#zy!j#zyr#zy![#zy%c#zy!d#zy~P!8dOj<gO|)zO!P){O(o$}O(p%PO~OP#iiZ#iin#ii}#ii!h#ii!i#ii!k#ii!o#ii#j#ii#k#ii#l#ii#m#ii#n#ii#o#ii#p#ii#q#ii#r#ii#t#ii#v#ii#x#ii#y#ii#|#ii(X#ii(h#ii!Y#ii!Z#ii~P&'UO!i#wOP(WXZ(WXj(WXn(WX|(WX}(WX!P(WX!h(WX!k(WX!o(WX#j(WX#k(WX#l(WX#m(WX#n(WX#o(WX#p(WX#q(WX#r(WX#t(WX#v(WX#x(WX#y(WX#|(WX(X(WX(h(WX(o(WX(p(WX!Y(WX!Z(WX~O#|#}i!Y#}i!Z#}i~P#C|O#|!qi!Z!qi~P$'pO!Z6|O~O!Y']a!Z']a~P#C|O!d#uO(h'kO!Y'^a!j'^a~O!Y/cO!j(ui~O!Y/cO!d#uO!j(ui~Of$wq!Y$wq#[$wq#|$wq~P!0}O!V'`a!Y'`a~P#-]O!d7TO~O!Y/kO!V(vi~P#-]O!Y/kO!V(vi~O!V7XO~O!d#uO#r7^O~On7_O!d#uO(h'kO~O|)zO!P){O(p%POj'ca(o'ca!Y'ca#['ca~Of'ca#|'ca~P&.fO|)zO!P){Oj'ea(o'ea(p'ea!Y'ea#['ea~Of'ea#|'ea~P&/XO!V7aO~Of$yq!Y$yq#[$yq#|$yq~P!0}O`$ky!Y$ky'r$ky'p$ky!V$ky!j$kyr$ky![$ky%c$ky!d$ky~P!8dO!d6RO~O!Y4nO![(wa~O`#_y!Y#_y'r#_y'p#_y!V#_y!j#_yr#_y![#_y%c#_y!d#_y~P!8dOZ7fO~Oa7hO'{+hO'}TO(QUO~O!Y0rO!Z)Oi~O_7lO~O([(xO!Y'iX!Z'iX~O!Y5UO!Z({a~OlkO'{7sO~P.iO!Z7vO~P%3nOo!nO!P7wO'}TO(QUO([!mO(g!sO~O![1[O~O![1[O%c7yO~Oj7|O![1[O%c7yO~OZ8RO!Y'la!Z'la~O!Y1gO!Z(|i~O!j8VO~O!j8WO~O!j8ZO~O!j8ZO~P%[O`8]O~O!d8^O~O!j8_O~O!Y(mi!Z(mi~P#C|O`%kO#[8gO'r%kO~O!Y(jy!j(jy`(jy'r(jy~P!8dO!Y(dO!j(iy~O!['ZO%c8jO~O#g$wqP$wqZ$wq`$wqn$wq}$wq!Y$wq!h$wq!i$wq!k$wq!o$wq#j$wq#k$wq#l$wq#m$wq#n$wq#o$wq#p$wq#q$wq#r$wq#t$wq#v$wq#x$wq#y$wq'r$wq(X$wq(h$wq!j$wq!V$wq'p$wq#[$wqr$wq![$wq%c$wq!d$wq~P#-]O#g'caP'caZ'ca`'can'ca}'ca!h'ca!i'ca!k'ca!o'ca#j'ca#k'ca#l'ca#m'ca#n'ca#o'ca#p'ca#q'ca#r'ca#t'ca#v'ca#x'ca#y'ca'r'ca(X'ca(h'ca!j'ca!V'ca'p'car'ca!['ca%c'ca!d'ca~P&.fO#g'eaP'eaZ'ea`'ean'ea}'ea!h'ea!i'ea!k'ea!o'ea#j'ea#k'ea#l'ea#m'ea#n'ea#o'ea#p'ea#q'ea#r'ea#t'ea#v'ea#x'ea#y'ea'r'ea(X'ea(h'ea!j'ea!V'ea'p'ear'ea!['ea%c'ea!d'ea~P&/XO#g$yqP$yqZ$yq`$yqn$yq}$yq!Y$yq!h$yq!i$yq!k$yq!o$yq#j$yq#k$yq#l$yq#m$yq#n$yq#o$yq#p$yq#q$yq#r$yq#t$yq#v$yq#x$yq#y$yq'r$yq(X$yq(h$yq!j$yq!V$yq'p$yq#[$yqr$yq![$yq%c$yq!d$yq~P#-]O!Y'Si!j'Si~P!8dO#|#_q!Y#_q!Z#_q~P#C|O(o$}OP%ZaZ%Zan%Za}%Za!h%Za!i%Za!k%Za!o%Za#j%Za#k%Za#l%Za#m%Za#n%Za#o%Za#p%Za#q%Za#r%Za#t%Za#v%Za#x%Za#y%Za#|%Za(X%Za(h%Za!Y%Za!Z%Za~Oj%Za|%Za!P%Za(p%Za~P&@nO(p%POP%]aZ%]an%]a}%]a!h%]a!i%]a!k%]a!o%]a#j%]a#k%]a#l%]a#m%]a#n%]a#o%]a#p%]a#q%]a#r%]a#t%]a#v%]a#x%]a#y%]a#|%]a(X%]a(h%]a!Y%]a!Z%]a~Oj%]a|%]a!P%]a(o%]a~P&BuOj<gO|)zO!P){O(p%PO~P&@nOj<gO|)zO!P){O(o$}O~P&BuO|0ZO}0ZO!P0[OPyaZyajyanya!hya!iya!kya!oya#jya#kya#lya#mya#nya#oya#pya#qya#rya#tya#vya#xya#yya#|ya(Xya(hya(oya(pya!Yya!Zya~O|)zO!P){OP$naZ$naj$nan$na}$na!h$na!i$na!k$na!o$na#j$na#k$na#l$na#m$na#n$na#o$na#p$na#q$na#r$na#t$na#v$na#x$na#y$na#|$na(X$na(h$na(o$na(p$na!Y$na!Z$na~O|)zO!P){OP$paZ$paj$pan$pa}$pa!h$pa!i$pa!k$pa!o$pa#j$pa#k$pa#l$pa#m$pa#n$pa#o$pa#p$pa#q$pa#r$pa#t$pa#v$pa#x$pa#y$pa#|$pa(X$pa(h$pa(o$pa(p$pa!Y$pa!Z$pa~OP%OaZ%Oan%Oa}%Oa!h%Oa!i%Oa!k%Oa!o%Oa#j%Oa#k%Oa#l%Oa#m%Oa#n%Oa#o%Oa#p%Oa#q%Oa#r%Oa#t%Oa#v%Oa#x%Oa#y%Oa#|%Oa(X%Oa(h%Oa!Y%Oa!Z%Oa~P&'UO#|$jq!Y$jq!Z$jq~P#C|O#|$kq!Y$kq!Z$kq~P#C|O!Z8vO~O#|8wO~P!0}O!d#uO!Y'^i!j'^i~O!d#uO(h'kO!Y'^i!j'^i~O!Y/cO!j(uq~O!V'`i!Y'`i~P#-]O!Y/kO!V(vq~O!V8}O~P#-]O!V8}O~Of(Vy!Y(Vy~P!0}O!Y'ga!['ga~P#-]O`%Vq![%Vq'r%Vq!Y%Vq~P#-]OZ9SO~O!Y0rO!Z)Oq~O#[9WO!Y'ia!Z'ia~O!Y5UO!Z({i~P#C|OP[XZ[Xn[X|[X}[X!P[X!V[X!Y[X!h[X!i[X!k[X!o[X#[[X#geX#j[X#k[X#l[X#m[X#n[X#o[X#p[X#q[X#r[X#t[X#v[X#x[X#y[X$O[X(X[X(h[X(o[X(p[X~O!d%TX#r%TX~P'#`O![1[O%c9[O~O'}TO(QUO([9aO~O!Y1gO!Z(|q~O!j9dO~O!j9eO~O!j9fO~O!j9fO~P%[O#[9iO!Y#dy!Z#dy~O!Y#dy!Z#dy~P#C|O!['ZO%c9nO~O#|#zy!Y#zy!Z#zy~P#C|OP$wiZ$win$wi}$wi!h$wi!i$wi!k$wi!o$wi#j$wi#k$wi#l$wi#m$wi#n$wi#o$wi#p$wi#q$wi#r$wi#t$wi#v$wi#x$wi#y$wi#|$wi(X$wi(h$wi!Y$wi!Z$wi~P&'UO|)zO!P){O(p%POP'baZ'baj'ban'ba}'ba!h'ba!i'ba!k'ba!o'ba#j'ba#k'ba#l'ba#m'ba#n'ba#o'ba#p'ba#q'ba#r'ba#t'ba#v'ba#x'ba#y'ba#|'ba(X'ba(h'ba(o'ba!Y'ba!Z'ba~O|)zO!P){OP'daZ'daj'dan'da}'da!h'da!i'da!k'da!o'da#j'da#k'da#l'da#m'da#n'da#o'da#p'da#q'da#r'da#t'da#v'da#x'da#y'da#|'da(X'da(h'da(o'da(p'da!Y'da!Z'da~O(o$}OP%ZiZ%Zij%Zin%Zi|%Zi}%Zi!P%Zi!h%Zi!i%Zi!k%Zi!o%Zi#j%Zi#k%Zi#l%Zi#m%Zi#n%Zi#o%Zi#p%Zi#q%Zi#r%Zi#t%Zi#v%Zi#x%Zi#y%Zi#|%Zi(X%Zi(h%Zi(p%Zi!Y%Zi!Z%Zi~O(p%POP%]iZ%]ij%]in%]i|%]i}%]i!P%]i!h%]i!i%]i!k%]i!o%]i#j%]i#k%]i#l%]i#m%]i#n%]i#o%]i#p%]i#q%]i#r%]i#t%]i#v%]i#x%]i#y%]i#|%]i(X%]i(h%]i(o%]i!Y%]i!Z%]i~O#|$ky!Y$ky!Z$ky~P#C|O#|#_y!Y#_y!Z#_y~P#C|O!d#uO!Y'^q!j'^q~O!Y/cO!j(uy~O!V'`q!Y'`q~P#-]O!V9wO~P#-]O!Y0rO!Z)Oy~O!Y5UO!Z({q~O![1[O%c:OO~O!j:RO~O!['ZO%c:WO~OP$wqZ$wqn$wq}$wq!h$wq!i$wq!k$wq!o$wq#j$wq#k$wq#l$wq#m$wq#n$wq#o$wq#p$wq#q$wq#r$wq#t$wq#v$wq#x$wq#y$wq#|$wq(X$wq(h$wq!Y$wq!Z$wq~P&'UO|)zO!P){O(p%POP'caZ'caj'can'ca}'ca!h'ca!i'ca!k'ca!o'ca#j'ca#k'ca#l'ca#m'ca#n'ca#o'ca#p'ca#q'ca#r'ca#t'ca#v'ca#x'ca#y'ca#|'ca(X'ca(h'ca(o'ca!Y'ca!Z'ca~O|)zO!P){OP'eaZ'eaj'ean'ea}'ea!h'ea!i'ea!k'ea!o'ea#j'ea#k'ea#l'ea#m'ea#n'ea#o'ea#p'ea#q'ea#r'ea#t'ea#v'ea#x'ea#y'ea#|'ea(X'ea(h'ea(o'ea(p'ea!Y'ea!Z'ea~OP$yqZ$yqn$yq}$yq!h$yq!i$yq!k$yq!o$yq#j$yq#k$yq#l$yq#m$yq#n$yq#o$yq#p$yq#q$yq#r$yq#t$yq#v$yq#x$yq#y$yq#|$yq(X$yq(h$yq!Y$yq!Z$yq~P&'UOf%_!Z!Y%_!Z#[%_!Z#|%_!Z~P!0}O!Y'iq!Z'iq~P#C|O!Y#d!Z!Z#d!Z~P#C|O#g%_!ZP%_!ZZ%_!Z`%_!Zn%_!Z}%_!Z!Y%_!Z!h%_!Z!i%_!Z!k%_!Z!o%_!Z#j%_!Z#k%_!Z#l%_!Z#m%_!Z#n%_!Z#o%_!Z#p%_!Z#q%_!Z#r%_!Z#t%_!Z#v%_!Z#x%_!Z#y%_!Z'r%_!Z(X%_!Z(h%_!Z!j%_!Z!V%_!Z'p%_!Z#[%_!Zr%_!Z![%_!Z%c%_!Z!d%_!Z~P#-]OP%_!ZZ%_!Zn%_!Z}%_!Z!h%_!Z!i%_!Z!k%_!Z!o%_!Z#j%_!Z#k%_!Z#l%_!Z#m%_!Z#n%_!Z#o%_!Z#p%_!Z#q%_!Z#r%_!Z#t%_!Z#v%_!Z#x%_!Z#y%_!Z#|%_!Z(X%_!Z(h%_!Z!Y%_!Z!Z%_!Z~P&'UOr(]X~P1qO'|!lO~P!*fO!VeX!YeX#[eX~P'#`OP[XZ[Xn[X|[X}[X!P[X!Y[X!YeX!h[X!i[X!k[X!o[X#[[X#[eX#geX#j[X#k[X#l[X#m[X#n[X#o[X#p[X#q[X#r[X#t[X#v[X#x[X#y[X$O[X(X[X(h[X(o[X(p[X~O!deX!j[X!jeX(heX~P'ASOP:cOQ:cORfOc<[Od!iOlkOn:cOokOpkOvkOx:cOz:cO!PWO!TkO!UkO![XO!f:fO!kZO!n:cO!o:cO!p:cO!r:gO!t:jO!w!hO$T!kO'{)YO'}TO(QUO(XVO(g[O(t<YO~O!Y:wO!Z$ma~Og%VOl%WOn$tOo$sOp$sOv%XOx%YOz;RO!P${O![$|O!f<aO!k$xO#f;XO$T%^O$o;TO$q;VO$t%_O'{(pO'}TO(QUO(X$uO(o$}O(p%PO~O#s)aO~P'ExO!Z[X!ZeX~P'ASO#g:kO~O!d#uO#g:kO~O#[:{O~O#r:pO~O#[;ZO!Y(mX!Z(mX~O#[:{O!Y(kX!Z(kX~O#g;[O~Of;^O~P!0}O#g;cO~O#g;dO~O!d#uO#g;eO~O!d#uO#g;[O~O#|;fO~P#C|O#g;gO~O#g;hO~O#g;mO~O#g;nO~O#g;oO~O#g;pO~O#|;qO~P!0}O#|;rO~P!0}O!i#P#Q#S#T#W#e#f#q(t$o$q$t%W%b%c%d%k%m%p%q%s%u~'vS#k!U't'|#lo#j#mn|'u$Y'u'{$[([~",goto:"$2p)SPPPPP)TPP)WP)iP*x.|PPPP5pPP6WPP<S?gP?zP?zPPP?zPAxP?zP?zP?zPA|PPBRPBlPGdPPPGhPPPPGhJiPPPJoKjPGhPMxPPPP!!WGhPPPGhPGhP!$fGhP!'z!(|!)VP!)y!)}!)yPPPPP!-Y!(|PP!-v!.pP!1dGhGh!1i!4s!9Y!9Y!=OPPP!=VGhPPPPPPPPPPP!@dP!AqPPGh!CSPGhPGhGhGhGhPGh!DfP!GnP!JrP!Jv!KQ!KU!KUP!GkP!KY!KYP!N^P!NbGhGh!Nh##k?zP?zP?z?zP#$v?z?z#'O?z#)k?z#+m?z?z#,[#.f#.f#.j#.r#.f#.zP#.fP?z#/d?z#3R?z?z5pPPP#6vPPP#7a#7aP#7aP#7w#7aPP#7}P#7tP#7t#8b#7t#8|#9S5m)W#9V)WP#9^#9^#9^P)WP)WP)WP)WPP)WP#9d#9gP#9g)WP#9kP#9nP)WP)WP)WP)WP)WP)W)WPP#9t#9z#:V#:]#:c#:i#:o#:}#;T#;Z#;e#;k#;u#<U#<[#<|#=`#=f#=l#=z#>a#@O#@^#@d#Ax#BW#Cr#DQ#DW#D^#Dd#Dn#Dt#Dz#EU#Eh#EnPPPPPPPPPP#EtPPPPPPP#Fi#Ip#KP#KW#K`PPPP$!d$%Z$+r$+u$+x$,q$,t$,w$-O$-WPP$-^$-b$.Y$/X$/]$/qPP$/u$/{$0PP$0S$0W$0Z$1P$1h$2P$2T$2W$2Z$2a$2d$2h$2lR!{RoqOXst!Z#c%j&m&o&p&r,h,m1w1zY!uQ'Z-Y1[5]Q%pvQ%xyQ&P|Q&e!VS'R!e-QQ'a!iS'g!r!xS*c$|*hQ+f%yQ+s&RQ,X&_Q-W'YQ-b'bQ-j'hQ/|*jQ1f,YR;Y:g%OdOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%j%p%}&f&i&m&o&p&r&v'O']'m'}(P(V(^(r(v(z)y+O+S,e,h,m-^-f-t-z.l.s0[0a0q1_1o1p1r1t1w1z1|2m2s3Z5Y5d5t5u5x6]7w7|8]8gS#p]:d!r)[$[$m'S)n,y,|.{2]3p5W6S9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]Q*u%ZQ+k%{Q,Z&bQ,b&jQ.c;QQ0h+^Q0l+`Q0w+lQ1n,`Q2{.[Q4v0rQ5k1gQ6i3PQ6u;RQ7h4wR8m6j&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%j%p%}&f&i&j&m&o&p&r&v'O'S']'m'}(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]t!nQ!r!u!x!y'R'Y'Z'g'h'i-Q-W-Y-j1[5]5_$v$si#u#w$c$d$x${%O%Q%[%]%a)u){)}*P*R*Y*`*p*q+]+`+w+z.Z.i/Z/j/k/m0Q0S0^1R1U1^3O3x4S4[4f4n4p5c6g7T7^7y8j8w9[9n:O:W:y:z:|:};O;P;S;T;U;V;W;X;_;`;a;b;c;d;g;h;i;j;k;l;m;n;q;r<Y<b<c<f<gQ&S|Q'P!eS'V%f-TQ+k%{Q,Z&bQ0]*yQ0w+lQ0|+rQ1m,_Q1n,`Q4v0rQ5P1OQ5k1gQ5n1iQ5o1lQ7h4wQ7k4|Q8U5qQ9V7lR9b8RrnOXst!V!Z#c%j&d&m&o&p&r,h,m1w1zR,]&f&v^OPXYstuvwz!Z!`!g!j!o#R#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%j%p%}&f&i&j&m&o&p&r&v'O']'m(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<[<][#[WZ#V#Y'S'}!S%gm#g#h#k%b%e(W(b(c(d+Q+R+T,d,z-x.O.P.Q.S2P2w2x6R6dQ%sxQ%wyS%||&RQ&Y!TQ'^!hQ'`!iQ(k#rS*V$x*ZS+e%x%yQ+i%{Q,S&]Q,W&_S-a'a'bQ.^(lQ/g*WQ0p+fQ0v+lQ0x+mQ0{+qQ1a,TS1e,X,YQ2i-bQ3y/cQ4u0rQ4y0uQ5O0}Q5j1fQ7Q3zQ7g4wQ7j4{Q9R7fR9y9S!O$zi#w%O%Q%[%]%a)}*P*Y*p*q.i/j0Q0S0^3x4f8w<Y<b<c!S%uy!i!t%w%x%y'Q'`'a'b'f'p*b+e+f,}-a-b-i/t0p2b2i2p4^Q+_%sQ+x&VQ+{&WQ,V&_Q.](kQ1`,SU1d,W,X,YQ3Q.^Q5e1aS5i1e1fQ8Q5j#W<^#u$c$d$x${)u){*R*`+]+`+w+z.Z/Z/k/m1R1U1^3O4S4[4n4p5c6g7T7^7y8j9[9n:O:W:|;O;S;U;W;_;a;c;g;i;k;m;q<f<go<_:y:z:};P;T;V;X;`;b;d;h;j;l;n;rW%Ti%V*r<YS&V!Q&dQ&W!RQ&X!SR+v&T$w%Si#u#w$c$d$x${%O%Q%[%]%a)u){)}*P*R*Y*`*p*q+]+`+w+z.Z.i/Z/j/k/m0Q0S0^1R1U1^3O3x4S4[4f4n4p5c6g7T7^7y8j8w9[9n:O:W:y:z:|:};O;P;S;T;U;V;W;X;_;`;a;b;c;d;g;h;i;j;k;l;m;n;q;r<Y<b<c<f<gT)v$u)wV*v%Z;Q;RU'V!e%f-TS(y#y#zQ+p&OS.V(g(hQ1V+|Q4g0ZR7p5U&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%j%p%}&f&i&j&m&o&p&r&v'O'S']'m'}(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]$i$`c#X#d%n%o%q'|(S(n(u(})O)P)Q)R)S)T)U)V)W)X)Z)^)b)l+Z+o-O-m-r-w-y.h.n.r.t.u.v/V0_2W2Z2k2r3Y3_3`3a3b3c3d3e3f3g3h3i3j3k3n3o3t4k4s6U6[6a6o6p6y6z7r8a8e8n8t8u9k9{:S:e<PT#SV#T&}kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%j%p%}&f&i&j&m&o&p&r&v'O'S']'m'}(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]Q'T!eR2^-Qv!nQ!e!r!u!x!y'R'Y'Z'g'h'i-Q-W-Y-j1[5]5_S*b$|*hS/t*c*jQ/}*kQ1X,OQ4^/|R4a0PnqOXst!Z#c%j&m&o&p&r,h,m1w1zQ&t!^Q'q!wS(m#t:kQ+c%vQ,Q&YQ,R&[Q-_'_Q-l'jS.g(r;[S0`+O;eQ0n+dQ1Z,PQ2O,oQ2Q,pQ2Y,{Q2g-`Q2j-dS4l0a;oQ4q0oS4t0q;pQ6T2[Q6X2hQ6^2oQ7e4rQ8b6VQ8c6YQ8f6_R9h8_$d$_c#X#d%o%q'|(S(n(u(})O)P)Q)R)S)T)U)V)W)X)Z)^)b)l+Z+o-O-m-r-w-y.h.n.r.u.v/V0_2W2Z2k2r3Y3_3`3a3b3c3d3e3f3g3h3i3j3k3n3o3t4k4s6U6[6a6o6p6y6z7r8a8e8n8t8u9k9{:S:e<PS(j#o'dU*o%R(q3mS+Y%n.tQ2|0hQ6f2{Q8l6iR9o8m$d$^c#X#d%o%q'|(S(n(u(})O)P)Q)R)S)T)U)V)W)X)Z)^)b)l+Z+o-O-m-r-w-y.h.n.r.u.v/V0_2W2Z2k2r3Y3_3`3a3b3c3d3e3f3g3h3i3j3k3n3o3t4k4s6U6[6a6o6p6y6z7r8a8e8n8t8u9k9{:S:e<PS(i#o'dS({#z$_S+X%n.tS.W(h(jQ.w)]Q0e+YR2y.X&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%j%p%}&f&i&j&m&o&p&r&v'O'S']'m'}(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]S#p]:dQ&o!XQ&p!YQ&r![Q&s!]R1v,kQ'[!hQ+[%sQ-]'^S.Y(k+_Q2e-[W2}.].^0g0iQ6W2fU6e2z2|3QS8i6f6hS9m8k8lS:U9l9oQ:^:VR:a:_U!vQ'Z-YT5Z1[5]!Q_OXZ`st!V!Z#c#g%b%j&d&f&m&o&p&r(d,h,m.P1w1z]!pQ!r'Z-Y1[5]T#p]:d%Y{OPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%j%p%}&f&i&j&m&o&p&r&v'O']'m'}(P(V(^(r(v(z)y+O+S+^,e,h,m-^-f-t-z.[.l.s0[0a0q1_1o1p1r1t1w1z1|2m2s3P3Z5Y5d5t5u5x6]6j7w7|8]8gS(y#y#zS.V(g(h!s;v$[$m'S)n,y,|.{2]3p5W6S9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]Y!tQ'Z-Y1[5]Q'f!rS'p!u!xS'r!y5_S-i'g'hQ-k'iR2p-jQ'o!tS(`#f1qS-h'f'rQ/f*VQ/r*bQ2q-kQ4O/gS4X/s/}Q7P3yS7[4_4aQ8y7QR9Q7_Q#vbQ'n!tS(_#f1qS(a#l*}Q+P%cQ+a%tQ+g%zU-g'f'o'rQ-{(`Q/e*VQ/q*bQ/w*eQ0m+bQ1b,US2n-h-kQ2v.TS3}/f/gS4W/r/}Q4Z/vQ4]/xQ5g1cQ6`2qQ7O3yQ7S4OS7W4X4aQ7]4`Q8O5hS8x7P7QQ8|7XQ9O7[Q9_8PQ9u8yQ9v8}Q9x9QQ:Q9`Q:Y9wQ;y;tQ<U;}R<V<OV!vQ'Z-Y%YaOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%j%p%}&f&i&j&m&o&p&r&v'O']'m'}(P(V(^(r(v(z)y+O+S+^,e,h,m-^-f-t-z.[.l.s0[0a0q1_1o1p1r1t1w1z1|2m2s3P3Z5Y5d5t5u5x6]6j7w7|8]8gS#vz!j!r;s$[$m'S)n,y,|.{2]3p5W6S9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]R;y<[%YbOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%j%p%}&f&i&j&m&o&p&r&v'O']'m'}(P(V(^(r(v(z)y+O+S+^,e,h,m-^-f-t-z.[.l.s0[0a0q1_1o1p1r1t1w1z1|2m2s3P3Z5Y5d5t5u5x6]6j7w7|8]8gQ%cj!S%ty!i!t%w%x%y'Q'`'a'b'f'p*b+e+f,}-a-b-i/t0p2b2i2p4^S%zz!jQ+b%uQ,U&_W1c,V,W,X,YU5h1d1e1fS8P5i5jQ9`8Q!r;t$[$m'S)n,y,|.{2]3p5W6S9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]Q;}<ZR<O<[$|eOPXYstuvw!Z!`!g!o#R#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%j%p%}&f&i&m&o&p&r&v'O']'m(P(V(^(r(v(z)y+O+S+^,e,h,m-^-f-t-z.[.l.s0[0a0q1_1o1p1r1t1w1z1|2m2s3P3Z5Y5d5t5u5x6]6j7w7|8]8gY#aWZ#V#Y'}!S%gm#g#h#k%b%e(W(b(c(d+Q+R+T,d,z-x.O.P.Q.S2P2w2x6R6dQ,c&j!p;u$[$m)n,y,|.{2]3p5W6S9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]R;x'SS'W!e%fR2`-T%OdOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%j%p%}&f&i&m&o&p&r&v'O']'m'}(P(V(^(r(v(z)y+O+S,e,h,m-^-f-t-z.l.s0[0a0q1_1o1p1r1t1w1z1|2m2s3Z5Y5d5t5u5x6]7w7|8]8g!r)[$[$m'S)n,y,|.{2]3p5W6S9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]Q,b&jQ0h+^Q2{.[Q6i3PR8m6j!b$Uc#X%n'|(S(n(u)W)X)^)b+o-m-r-w-y.h.n/V0_2k2r3Y3k4k4s6[6a6o8e9k:e!P:r)Z)l-O.t2W2Z3_3i3j3n3t6U6p6y6z7r8a8n8t8u9{:S<P!f$Wc#X%n'|(S(n(u)T)U)W)X)^)b+o-m-r-w-y.h.n/V0_2k2r3Y3k4k4s6[6a6o8e9k:e!T:t)Z)l-O.t2W2Z3_3f3g3i3j3n3t6U6p6y6z7r8a8n8t8u9{:S<P!^$[c#X%n'|(S(n(u)^)b+o-m-r-w-y.h.n/V0_2k2r3Y3k4k4s6[6a6o8e9k:eQ3x/az<])Z)l-O.t2W2Z3_3n3t6U6p6y6z7r8a8n8t8u9{:S<PQ<b<dR<c<e&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%j%p%}&f&i&j&m&o&p&r&v'O'S']'m'}(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]S$nh$oR3q.z'TgOPWXYZhstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m$o%j%p%}&f&i&j&m&o&p&r&v'O'S']'m'}(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.z.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]T$jf$pQ$hfS)e$k)iR)q$pT$if$pT)g$k)i'ThOPWXYZhstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m$o%j%p%}&f&i&j&m&o&p&r&v'O'S']'m'}(P(V(^(r(v(z)n)y+O+S+^,e,h,m,y,|-^-f-t-z.[.l.s.z.{0[0a0q1_1o1p1r1t1w1z1|2]2m2s3P3Z3p5W5Y5d5t5u5x6S6]6j7w7|8]8g9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]T$nh$oQ$qhR)p$o%YjOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%j%p%}&f&i&j&m&o&p&r&v'O']'m'}(P(V(^(r(v(z)y+O+S+^,e,h,m-^-f-t-z.[.l.s0[0a0q1_1o1p1r1t1w1z1|2m2s3P3Z5Y5d5t5u5x6]6j7w7|8]8g!s<Z$[$m'S)n,y,|.{2]3p5W6S9W9i:c:f:g:j:k:l:m:n:o:p:q:r:s:t:u:v:w:{;Y;Z;[;^;e;f;o;p<]#clOPXZst!Z!`!o#R#c#n#{$m%j&f&i&j&m&o&p&r&v'O'](z)n+S+^,e,h,m-^.[.{0[1_1o1p1r1t1w1z1|3P3p5Y5d5t5u5x6j7w7|8]!O%Ri#w%O%Q%[%]%a)}*P*Y*p*q.i/j0Q0S0^3x4f8w<Y<b<c#W(q#u$c$d$x${)u){*R*`+]+`+w+z.Z/Z/k/m1R1U1^3O4S4[4n4p5c6g7T7^7y8j9[9n:O:W:|;O;S;U;W;_;a;c;g;i;k;m;q<f<gQ*z%_Q/W)zo3m:y:z:};P;T;V;X;`;b;d;h;j;l;n;r!O$yi#w%O%Q%[%]%a)}*P*Y*p*q.i/j0Q0S0^3x4f8w<Y<b<cQ*[$zS*e$|*hQ*{%`Q/x*f#W;{#u$c$d$x${)u){*R*`+]+`+w+z.Z/Z/k/m1R1U1^3O4S4[4n4p5c6g7T7^7y8j9[9n:O:W:|;O;S;U;W;_;a;c;g;i;k;m;q<f<gn;|:y:z:};P;T;V;X;`;b;d;h;j;l;n;rQ<Q<^Q<R<_Q<S<`R<T<a!O%Ri#w%O%Q%[%]%a)}*P*Y*p*q.i/j0Q0S0^3x4f8w<Y<b<c#W(q#u$c$d$x${)u){*R*`+]+`+w+z.Z/Z/k/m1R1U1^3O4S4[4n4p5c6g7T7^7y8j9[9n:O:W:|;O;S;U;W;_;a;c;g;i;k;m;q<f<go3m:y:z:};P;T;V;X;`;b;d;h;j;l;n;rnoOXst!Z#c%j&m&o&p&r,h,m1w1zQ*_${Q,v&yQ,w&{R4R/k$v%Si#u#w$c$d$x${%O%Q%[%]%a)u){)}*P*R*Y*`*p*q+]+`+w+z.Z.i/Z/j/k/m0Q0S0^1R1U1^3O3x4S4[4f4n4p5c6g7T7^7y8j8w9[9n:O:W:y:z:|:};O;P;S;T;U;V;W;X;_;`;a;b;c;d;g;h;i;j;k;l;m;n;q;r<Y<b<c<f<gQ+y&WQ1T+{Q5S1SR7o5TT*g$|*hS*g$|*hT5[1[5]S/v*d5YT4`0O7wQ+a%tQ/w*eQ0m+bQ1b,UQ5g1cQ8O5hQ9_8PR:Q9`!O%Oi#w%O%Q%[%]%a)}*P*Y*p*q.i/j0Q0S0^3x4f8w<Y<b<cr)}$v(s*O*n*|/i0U0V3W4P4j6}7`9t;z<W<XS0Q*m0R#W:|#u$c$d$x${)u){*R*`+]+`+w+z.Z/Z/k/m1R1U1^3O4S4[4n4p5c6g7T7^7y8j9[9n:O:W:|;O;S;U;W;_;a;c;g;i;k;m;q<f<gn:}:y:z:};P;T;V;X;`;b;d;h;j;l;n;r!^;_(o)`*U*^._.b.f/S/X/a/n0f1Q1S3T4Q4U5R5T6k6n7U7Y7b7d8{9P:X<d<e`;`3l6q6t6x8o9p9s:bS;i.a3UT;j6s8r!O%Qi#w%O%Q%[%]%a)}*P*Y*p*q.i/j0Q0S0^3x4f8w<Y<b<cv*P$v(s*Q*m*|/]/i0U0V3W4P4b4j6}7`9t;z<W<XS0S*n0T#W;O#u$c$d$x${)u){*R*`+]+`+w+z.Z/Z/k/m1R1U1^3O4S4[4n4p5c6g7T7^7y8j9[9n:O:W:|;O;S;U;W;_;a;c;g;i;k;m;q<f<gn;P:y:z:};P;T;V;X;`;b;d;h;j;l;n;r!b;a(o)`*U*^.`.a.f/S/X/a/n0f1Q1S3R3T4Q4U5R5T6k6l6n7U7Y7b7d8{9P:X<d<ed;b3l6r6s6x8o8p9p9q9s:bS;k.b3VT;l6t8srnOXst!V!Z#c%j&d&m&o&p&r,h,m1w1zQ&a!UR,e&jrnOXst!V!Z#c%j&d&m&o&p&r,h,m1w1zR&a!UQ+}&XR1P+vsnOXst!V!Z#c%j&d&m&o&p&r,h,m1w1zQ1],SS5b1`1aU7x5`5a5eS9Z7z7{S9|9Y9]Q:Z9}R:`:[Q&h!VR,^&dR5n1iS%||&RR0x+mQ&m!WR,h&nR,n&sT1x,m1zR,r&tQ,q&tR2R,rQ't!zR-n'tSsOtQ#cXT%ms#cQ!}TR'v!}Q#QUR'x#QQ)w$uR/T)wQ#TVR'z#TQ#WWU(Q#W(R-uQ(R#XR-u(SQ-R'TR2_-RQ.j(sR3X.jQ.m(uS3[.m3]R3].nQ-Y'ZR2c-YY!rQ'Z-Y1[5]R'e!rS#^W%eU(X#^(Y-vQ(Y#_R-v(TQ-U'WR2a-Ut`OXst!V!Z#c%j&d&f&m&o&p&r,h,m1w1zS#gZ%bU#q`#g.PR.P(dQ(e#iQ-|(aW.U(e-|2t6bQ2t-}R6b2uQ)i$kR.|)iQ$ohR)o$oQ$bcU)_$b-q:xQ-q:eR:x)lQ/d*VW3{/d3|7R8zU3|/e/f/gS7R3}4OR8z7S$X)|$v(o(s)`*U*^*m*n*w*x*|.a.b.d.e.f/S/X/]/_/a/i/n0U0V0f1Q1S3R3S3T3W3l4P4Q4U4b4d4j5R5T6k6l6m6n6s6t6v6w6x6}7U7Y7`7b7d8o8p8q8{9P9p9q9r9s9t:X:b;z<W<X<d<eQ/l*^U4T/l4V7VQ4V/nR7V4UQ*h$|R/z*hr*O$v(s*m*n*|/i0U0V3W4P4j6}7`9t;z<W<X!^._(o)`*U*^.a.b.f/S/X/a/n0f1Q1S3T4Q4U5R5T6k6n7U7Y7b7d8{9P:X<d<eU/^*O._6qa6q3l6s6t6x8o9p9s:bQ0R*mQ3U.aU4c0R3U8rR8r6sv*Q$v(s*m*n*|/]/i0U0V3W4P4b4j6}7`9t;z<W<X!b.`(o)`*U*^.a.b.f/S/X/a/n0f1Q1S3R3T4Q4U5R5T6k6l6n7U7Y7b7d8{9P:X<d<eU/`*Q.`6re6r3l6s6t6x8o8p9p9q9s:bQ0T*nQ3V.bU4e0T3V8sR8s6tQ*s%UR0X*sQ4o0fR7c4oQ+U%hR0d+UQ5V1VS7q5V9XR9X7rQ,P&YR1Y,PQ5]1[R7u5]Q1h,ZS5l1h8SR8S5nQ0s+iW4x0s4z7i9TQ4z0vQ7i4yR9T7jQ+n%|R0y+nQ1z,mR5|1zYrOXst#cQ&q!ZQ+W%jQ,g&mQ,i&oQ,j&pQ,l&rQ1u,hS1x,m1zR5{1wQ%lpQ&u!_Q&x!aQ&z!bQ&|!cQ'l!tQ+V%iQ+c%vQ+u&SQ,]&hQ,t&wW-e'f'n'o'rQ-l'jQ/y*gQ0n+dS1k,^,aQ2S,sQ2T,vQ2U,wQ2j-dW2l-g-h-k-mQ4q0oQ4}0|Q5Q1QQ5f1bQ5p1mQ5z1vU6Z2k2n2qQ6^2oQ7e4rQ7m5PQ7n5RQ7t5[Q7}5gQ8T5oS8d6[6`Q8f6_Q9U7kQ9^8OQ9c8UQ9j8eQ9z9VQ:P9_Q:T9kR:]:QQ%vyQ'_!iQ'j!tU+d%w%x%yQ,{'QU-`'`'a'bS-d'f'pQ/p*bS0o+e+fQ2[,}S2h-a-bQ2o-iQ4Y/tQ4r0pQ6V2bQ6Y2iQ6_2pR7Z4^S$wi<YR*t%VU%Ui%V<YR0W*rQ$viS(o#u+`Q(s#wS)`$c$dQ*U$xQ*^${Q*m%OQ*n%QQ*w%[Q*x%]Q*|%aQ.a:|Q.b;OQ.d;SQ.e;UQ.f;WQ/S)uS/X){/ZQ/])}Q/_*PQ/a*RQ/i*YQ/n*`Q0U*pQ0V*qh0f+].Z1^3O5c6g7y8j9[9n:O:WQ1Q+wQ1S+zQ3R;_Q3S;aQ3T;cQ3W.iS3l:y:zQ4P/jQ4Q/kQ4U/mQ4b0QQ4d0SQ4j0^Q5R1RQ5T1UQ6k;gQ6l;iQ6m;kQ6n;mQ6s:}Q6t;PQ6v;TQ6w;VQ6x;XQ6}3xQ7U4SQ7Y4[Q7`4fQ7b4nQ7d4pQ8o;dQ8p;`Q8q;bQ8{7TQ9P7^Q9p;hQ9q;jQ9r;lQ9s;nQ9t8wQ:X;qQ:b;rQ;z<YQ<W<bQ<X<cQ<d<fR<e<gnpOXst!Z#c%j&m&o&p&r,h,m1w1zQ!fPS#eZ#nQ&w!`U'c!o5Y7wQ'y#RQ(|#{Q)m$mS,a&f&iQ,f&jQ,s&vQ,x'OQ-[']Q.p(zQ/Q)nQ0b+SQ0i+^Q1s,eQ2f-^Q2|.[Q3s.{Q4h0[Q5a1_Q5r1oQ5s1pQ5w1rQ5y1tQ6O1|Q6f3PQ6{3pQ7{5dQ8X5tQ8Y5uQ8[5xQ8l6jQ9]7|R9g8]#WcOPXZst!Z!`!o#c#n#{%j&f&i&j&m&o&p&r&v'O'](z+S+^,e,h,m-^.[0[1_1o1p1r1t1w1z1|3P5Y5d5t5u5x6j7w7|8]Q#XWQ#dYQ%nuQ%ovS%qw!gS'|#V(PQ(S#YQ(n#tQ(u#xQ(}$OQ)O$PQ)P$QQ)Q$RQ)R$SQ)S$TQ)T$UQ)U$VQ)V$WQ)W$XQ)X$YQ)Z$[Q)^$aQ)b$eW)l$m)n.{3pQ+Z%pQ+o%}S-O'S2]Q-m'mS-r'}-tQ-w(VQ-y(^Q.h(rQ.n(vQ.r:cQ.t:fQ.u:gQ.v:jQ/V)yQ0_+OQ2W,yQ2Z,|Q2k-fQ2r-zQ3Y.lQ3_:kQ3`:lQ3a:mQ3b:nQ3c:oQ3d:pQ3e:qQ3f:rQ3g:sQ3h:tQ3i:uQ3j:vQ3k.sQ3n:{Q3o;YQ3t:wQ4k0aQ4s0qQ6U;ZQ6[2mQ6a2sQ6o3ZQ6p;[Q6y;^Q6z;eQ7r5WQ8a6SQ8e6]Q8n;fQ8t;oQ8u;pQ9k8gQ9{9WQ:S9iQ:e#RR<P<]R#ZWR'U!eY!tQ'Z-Y1[5]S'Q!e-QQ'f!rS'p!u!xS'r!y5_S,}'R'YS-i'g'hQ-k'iQ2b-WR2p-jR(t#wR(w#xQ!fQT-X'Z-Y]!qQ!r'Z-Y1[5]Q#o]R'd:dT#jZ%bS#iZ%bS%hm,dU(a#g#h#kS-}(b(cQ.R(dQ0c+TQ2u.OU2v.P.Q.SS6c2w2xR8h6d`#]W#V#Y%e'}(W+Q-xr#fZm#g#h#k%b(b(c(d+T.O.P.Q.S2w2x6dQ1q,dQ2X,zQ6Q2PQ8`6RT;w'S+RT#`W%eS#_W%eS(O#V(WS(T#Y+QS-P'S+RT-s'}-xT'X!e%fQ$kfR)s$pT)h$k)iR3r.zT*X$x*ZR*a${Q0g+]Q2z.ZQ5`1^Q6h3OQ7z5cQ8k6gQ9Y7yQ9l8jQ9}9[Q:V9nQ:[:OR:_:WnqOXst!Z#c%j&m&o&p&r,h,m1w1zQ&g!VR,]&dtmOXst!U!V!Z#c%j&d&m&o&p&r,h,m1w1zR,d&jT%im,dR1W+|R,[&bQ&Q|R+t&RR+j%{T&k!W&nT&l!W&nT1y,m1z",nodeNames:"⚠ ArithOp ArithOp JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:371,context:x8,nodeProps:[["isolate",-8,4,5,13,33,35,48,50,52,""],["group",-26,8,16,18,65,201,205,209,210,212,215,218,228,230,236,238,240,242,245,251,257,259,261,263,265,267,268,"Statement",-32,12,13,28,31,32,38,48,51,52,54,59,67,75,79,81,83,84,106,107,116,117,134,137,139,140,141,142,144,145,164,165,167,"Expression",-23,27,29,33,37,39,41,168,170,172,173,175,176,177,179,180,181,183,184,185,195,197,199,200,"Type",-3,87,99,105,"ClassItem"],["openedBy",22,"<",34,"InterpolationStart",53,"[",57,"{",72,"(",157,"JSXStartCloseTag"],["closedBy",23,">",36,"InterpolationEnd",47,"]",58,"}",73,")",162,"JSXEndTag"]],propSources:[C8],skippedNodes:[0,4,5,271],repeatNodeCount:37,tokenData:"$Fj(CSR!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#8g!R![#:v![!]#Gv!]!^#IS!^!_#J^!_!`#Ns!`!a$#_!a!b$(l!b!c$,k!c!}Er!}#O$-u#O#P$/P#P#Q$4h#Q#R$5r#R#SEr#S#T$7P#T#o$8Z#o#p$<k#p#q$=a#q#r$>q#r#s$?}#s$f%Z$f$g+g$g#BYEr#BY#BZ$AX#BZ$ISEr$IS$I_$AX$I_$I|Er$I|$I}$Dd$I}$JO$Dd$JO$JTEr$JT$JU$AX$JU$KVEr$KV$KW$AX$KW&FUEr&FU&FV$AX&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$AX?HUOEr(n%d_$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$f&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$f&j(R!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(R!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$f&j(OpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(OpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Op(R!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z(CS+rq$f&j(Op(R!b't(;dOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z(CS.ST(P#S$f&j'u(;dO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c(CS.n_$f&j(Op(R!b'u(;dOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`/x`$f&j!o$Ip(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S1V`#t$Id$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S2d_#t$Id$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/|3l_'}$(n$f&j(R!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$f&j(R!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$f&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$a`$f&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$a``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$a`$f&j(R!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(R!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$a`(R!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k#%|:hh$f&j(Op(R!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__VS$f&j(Op(R!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]VS$f&j(R!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXVS$f&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSVSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWVS(R!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]VS$f&j(OpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWVS(OpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYVS(Op(R!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S#%|C}i$f&j(g!L^(Op(R!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr#%|EoP;=`<%lCr(CSFRk$f&j(Op(R!b$Y#t'{&;d([!LYOY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$f&j(Op(R!b$Y#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv(CSJPP;=`<%lEr%#SJ_`$f&j(Op(R!b#l$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SKl_$f&j$O$Id(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&COLva(p&;`$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SNW`$f&j#x$Id(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/|! c_(Q$)`$f&j(OpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$f&j(OpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$f&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$a`$f&j(OpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(OpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$a`(OpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b(*Q!'t_!k(!b$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'l!)O_!jM|$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h!*[b$f&j(Op(R!b'|#)d#m$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S!+o`$f&j(Op(R!b#j$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&-O!,|`$f&j(Op(R!bn&%`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&C[!.Z_!Y&;l$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!/ec$f&j(Op(R!b|'<nOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!0ya$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!2Z_!XMt$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!3eg$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!5Vg$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!6wc$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!8_c$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!9uf$f&j(Op(R!b#k$IdOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpxz!;Zz{#,f{!P!;Z!P!Q#-{!Q!^!;Z!^!_#'Z!_!`#5k!`!a#7Q!a!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(r!;fb$f&j(Op(R!b!USOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(Q!<w`$f&j(R!b!USOY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eb!Q!^!<n!^!_!GY!_!}!<n!}#O!Ja#O#P!Dj#P#o!<n#o#p!GY#p;'S!<n;'S;=`!Kj<%lO!<n&n!>Q^$f&j!USOY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@Y!_!}!=y!}#O!Bw#O#P!Dj#P#o!=y#o#p!@Y#p;'S!=y;'S;=`!E[<%lO!=y&n!?Ta$f&j!USO!^&c!_#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&cS!@_X!USOY!@YZ!P!@Y!P!Q!@z!Q!}!@Y!}#O!Ac#O#P!Bb#P;'S!@Y;'S;=`!Bq<%lO!@YS!APU!US#Z#[!@z#]#^!@z#a#b!@z#g#h!@z#i#j!@z#m#n!@zS!AfVOY!AcZ#O!Ac#O#P!A{#P#Q!@Y#Q;'S!Ac;'S;=`!B[<%lO!AcS!BOSOY!AcZ;'S!Ac;'S;=`!B[<%lO!AcS!B_P;=`<%l!AcS!BeSOY!@YZ;'S!@Y;'S;=`!Bq<%lO!@YS!BtP;=`<%l!@Y&n!B|[$f&jOY!BwYZ&cZ!^!Bw!^!_!Ac!_#O!Bw#O#P!Cr#P#Q!=y#Q#o!Bw#o#p!Ac#p;'S!Bw;'S;=`!Dd<%lO!Bw&n!CwX$f&jOY!BwYZ&cZ!^!Bw!^!_!Ac!_#o!Bw#o#p!Ac#p;'S!Bw;'S;=`!Dd<%lO!Bw&n!DgP;=`<%l!Bw&n!DoX$f&jOY!=yYZ&cZ!^!=y!^!_!@Y!_#o!=y#o#p!@Y#p;'S!=y;'S;=`!E[<%lO!=y&n!E_P;=`<%l!=y(Q!Eki$f&j(R!b!USOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#Z&}#Z#[!Eb#[#]&}#]#^!Eb#^#a&}#a#b!Eb#b#g&}#g#h!Eb#h#i&}#i#j!Eb#j#m&}#m#n!Eb#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!f!GaZ(R!b!USOY!GYZw!GYwx!@Yx!P!GY!P!Q!HS!Q!}!GY!}#O!Ic#O#P!Bb#P;'S!GY;'S;=`!JZ<%lO!GY!f!HZb(R!b!USOY'}Zw'}x#O'}#P#Z'}#Z#[!HS#[#]'}#]#^!HS#^#a'}#a#b!HS#b#g'}#g#h!HS#h#i'}#i#j!HS#j#m'}#m#n!HS#n;'S'};'S;=`(f<%lO'}!f!IhX(R!bOY!IcZw!Icwx!Acx#O!Ic#O#P!A{#P#Q!GY#Q;'S!Ic;'S;=`!JT<%lO!Ic!f!JWP;=`<%l!Ic!f!J^P;=`<%l!GY(Q!Jh^$f&j(R!bOY!JaYZ&cZw!Jawx!Bwx!^!Ja!^!_!Ic!_#O!Ja#O#P!Cr#P#Q!<n#Q#o!Ja#o#p!Ic#p;'S!Ja;'S;=`!Kd<%lO!Ja(Q!KgP;=`<%l!Ja(Q!KmP;=`<%l!<n'`!Ky`$f&j(Op!USOY!KpYZ&cZr!Kprs!=ys!P!Kp!P!Q!L{!Q!^!Kp!^!_!Ns!_!}!Kp!}#O##z#O#P!Dj#P#o!Kp#o#p!Ns#p;'S!Kp;'S;=`#%T<%lO!Kp'`!MUi$f&j(Op!USOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#Z(r#Z#[!L{#[#](r#]#^!L{#^#a(r#a#b!L{#b#g(r#g#h!L{#h#i(r#i#j!L{#j#m(r#m#n!L{#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rt!NzZ(Op!USOY!NsZr!Nsrs!@Ys!P!Ns!P!Q# m!Q!}!Ns!}#O#!|#O#P!Bb#P;'S!Ns;'S;=`##t<%lO!Nst# tb(Op!USOY)rZr)rs#O)r#P#Z)r#Z#[# m#[#])r#]#^# m#^#a)r#a#b# m#b#g)r#g#h# m#h#i)r#i#j# m#j#m)r#m#n# m#n;'S)r;'S;=`*Z<%lO)rt##RX(OpOY#!|Zr#!|rs!Acs#O#!|#O#P!A{#P#Q!Ns#Q;'S#!|;'S;=`##n<%lO#!|t##qP;=`<%l#!|t##wP;=`<%l!Ns'`#$R^$f&j(OpOY##zYZ&cZr##zrs!Bws!^##z!^!_#!|!_#O##z#O#P!Cr#P#Q!Kp#Q#o##z#o#p#!|#p;'S##z;'S;=`#$}<%lO##z'`#%QP;=`<%l##z'`#%WP;=`<%l!Kp(r#%fk$f&j(Op(R!b!USOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#Z%Z#Z#[#%Z#[#]%Z#]#^#%Z#^#a%Z#a#b#%Z#b#g%Z#g#h#%Z#h#i%Z#i#j#%Z#j#m%Z#m#n#%Z#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#W#'d](Op(R!b!USOY#'ZZr#'Zrs!GYsw#'Zwx!Nsx!P#'Z!P!Q#(]!Q!}#'Z!}#O#)w#O#P!Bb#P;'S#'Z;'S;=`#*w<%lO#'Z#W#(fe(Op(R!b!USOY*gZr*grs'}sw*gwx)rx#O*g#P#Z*g#Z#[#(]#[#]*g#]#^#(]#^#a*g#a#b#(]#b#g*g#g#h#(]#h#i*g#i#j#(]#j#m*g#m#n#(]#n;'S*g;'S;=`+Z<%lO*g#W#*OZ(Op(R!bOY#)wZr#)wrs!Icsw#)wwx#!|x#O#)w#O#P!A{#P#Q#'Z#Q;'S#)w;'S;=`#*q<%lO#)w#W#*tP;=`<%l#)w#W#*zP;=`<%l#'Z(r#+W`$f&j(Op(R!bOY#*}YZ&cZr#*}rs!Jasw#*}wx##zx!^#*}!^!_#)w!_#O#*}#O#P!Cr#P#Q!;Z#Q#o#*}#o#p#)w#p;'S#*};'S;=`#,Y<%lO#*}(r#,]P;=`<%l#*}(r#,cP;=`<%l!;Z(CS#,sb$f&j(Op(R!b'v(;d!USOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(CS#.W_$f&j(Op(R!bS(;dOY#-{YZ&cZr#-{rs#/Vsw#-{wx#2gx!^#-{!^!_#4f!_#O#-{#O#P#0X#P#o#-{#o#p#4f#p;'S#-{;'S;=`#5e<%lO#-{(Bb#/`]$f&j(R!bS(;dOY#/VYZ&cZw#/Vwx#0Xx!^#/V!^!_#1j!_#O#/V#O#P#0X#P#o#/V#o#p#1j#p;'S#/V;'S;=`#2a<%lO#/V(AO#0`X$f&jS(;dOY#0XYZ&cZ!^#0X!^!_#0{!_#o#0X#o#p#0{#p;'S#0X;'S;=`#1d<%lO#0X(;d#1QSS(;dOY#0{Z;'S#0{;'S;=`#1^<%lO#0{(;d#1aP;=`<%l#0{(AO#1gP;=`<%l#0X(<v#1qW(R!bS(;dOY#1jZw#1jwx#0{x#O#1j#O#P#0{#P;'S#1j;'S;=`#2Z<%lO#1j(<v#2^P;=`<%l#1j(Bb#2dP;=`<%l#/V(Ap#2p]$f&j(OpS(;dOY#2gYZ&cZr#2grs#0Xs!^#2g!^!_#3i!_#O#2g#O#P#0X#P#o#2g#o#p#3i#p;'S#2g;'S;=`#4`<%lO#2g(<U#3pW(OpS(;dOY#3iZr#3irs#0{s#O#3i#O#P#0{#P;'S#3i;'S;=`#4Y<%lO#3i(<U#4]P;=`<%l#3i(Ap#4cP;=`<%l#2g(=h#4oY(Op(R!bS(;dOY#4fZr#4frs#1jsw#4fwx#3ix#O#4f#O#P#0{#P;'S#4f;'S;=`#5_<%lO#4f(=h#5bP;=`<%l#4f(CS#5hP;=`<%l#-{%#W#5xb$f&j$O$Id(Op(R!b!USOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z+h#7_b$W#t$f&j(Op(R!b!USOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z$/l#8rp$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#:v![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#:v#S#U%Z#U#V#>Q#V#X%Z#X#Y!4|#Y#b%Z#b#c#<v#c#d#AY#d#l%Z#l#m#D[#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#;Rk$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#:v![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#:v#S#X%Z#X#Y!4|#Y#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#=R_$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#>Zd$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#?i!R!S#?i!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#?i#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#?tf$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#?i!R!S#?i!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#?i#S#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Acc$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#Bn!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#Bn#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Bye$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#Bn!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#Bn#S#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Deg$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#E|![!^%Z!^!_*g!_!c%Z!c!i#E|!i#O%Z#O#P&c#P#R%Z#R#S#E|#S#T%Z#T#Z#E|#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#FXi$f&j(Op(R!bo$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#E|![!^%Z!^!_*g!_!c%Z!c!i#E|!i#O%Z#O#P&c#P#R%Z#R#S#E|#S#T%Z#T#Z#E|#Z#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh#HT_!d$b$f&j#|%<f(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#I__`l$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(@^#Jk^g!*v!h'.r(Op(R!b(tSOY*gZr*grs'}sw*gwx)rx!P*g!P!Q#Kg!Q!^*g!^!_#L]!_!`#M}!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#KpX$h&j(Op(R!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#LfZ#n$Id(Op(R!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#MX!`#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#MbX$O$Id(Op(R!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#NWX#o$Id(Op(R!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Gh$ Oa#[%?x$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$!T!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#W$!`_#g$Ih$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh$#nafBf#o$Id$c#|$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$$s!`!a$%}!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$%O_#o$Id$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$&Ya#n$Id$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$'_!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$'j`#n$Id$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h$(wc(h$Ip$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P$*S!P!^%Z!^!_*g!_!a%Z!a!b$+^!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+`$*__}'#p$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$+i`$f&j#y$Id(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&^$,v_!{!Ln$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(@^$.Q_!P(8n$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/UZ$f&jO!^$/w!^!_$0_!_#i$/w#i#j$0d#j#l$/w#l#m$2V#m#o$/w#o#p$0_#p;'S$/w;'S;=`$4b<%lO$/w(n$0OT^#S$f&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0dO^#S(n$0i[$f&jO!Q&c!Q![$1_![!^&c!_!c&c!c!i$1_!i#T&c#T#Z$1_#Z#o&c#o#p$3u#p;'S&c;'S;=`&w<%lO&c(n$1dZ$f&jO!Q&c!Q![$2V![!^&c!_!c&c!c!i$2V!i#T&c#T#Z$2V#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2[Z$f&jO!Q&c!Q![$2}![!^&c!_!c&c!c!i$2}!i#T&c#T#Z$2}#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3SZ$f&jO!Q&c!Q![$/w![!^&c!_!c&c!c!i$/w!i#T&c#T#Z$/w#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$3xR!Q![$4R!c!i$4R#T#Z$4R#S$4US!Q![$4R!c!i$4R#T#Z$4R#q#r$0_(n$4eP;=`<%l$/w!2r$4s_!V!+S$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$5}`#v$Id$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&,v$7[_$f&j(Op(R!b(X&%WOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$8jk$f&j(Op(R!b'{&;d$[#t([!LYOY%ZYZ&cZr%Zrs&}st%Ztu$8Zuw%Zwx(rx}%Z}!O$:_!O!Q%Z!Q![$8Z![!^%Z!^!_*g!_!c%Z!c!}$8Z!}#O%Z#O#P&c#P#R%Z#R#S$8Z#S#T%Z#T#o$8Z#o#p*g#p$g%Z$g;'S$8Z;'S;=`$<e<%lO$8Z+d$:jk$f&j(Op(R!b$[#tOY%ZYZ&cZr%Zrs&}st%Ztu$:_uw%Zwx(rx}%Z}!O$:_!O!Q%Z!Q![$:_![!^%Z!^!_*g!_!c%Z!c!}$:_!}#O%Z#O#P&c#P#R%Z#R#S$:_#S#T%Z#T#o$:_#o#p*g#p$g%Z$g;'S$:_;'S;=`$<_<%lO$:_+d$<bP;=`<%l$:_(CS$<hP;=`<%l$8Z!5p$<tX![!3l(Op(R!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g&CO$=la(o&;`$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+^#q;'S%Z;'S;=`+a<%lO%Z%#`$?O_!Z$I`r`$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(r$@Y_!pS$f&j(Op(R!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$Aj|$f&j(Op(R!b't(;d$Y#t'{&;d([!LYOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$AX#BZ$ISEr$IS$I_$AX$I_$JTEr$JT$JU$AX$JU$KVEr$KV$KW$AX$KW&FUEr&FU&FV$AX&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$AX?HUOEr(CS$Duk$f&j(Op(R!b'u(;d$Y#t'{&;d([!LYOY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[P8,E8,A8,2,3,4,5,6,7,8,9,10,11,12,13,T8,new $u("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOt~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!R~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(Z~~",141,332),new $u("j~RQYZXz{^~^O'x~~aP!P!Qd~iO'y~~",25,315)],topRules:{Script:[0,6],SingleExpression:[1,269],SingleClassItem:[2,270]},dialects:{jsx:0,ts:14614},dynamicPrecedences:{69:1,79:1,81:1,165:1,193:1},specialized:[{term:319,get:t=>$8[t]||-1},{term:334,get:t=>I8[t]||-1},{term:70,get:t=>Q8[t]||-1}],tokenPrec:14638}),hm=[At("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),At("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),At("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),At("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),At("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),At(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),At("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),At(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),At(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),At('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),At('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],e2=hm.concat([At("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),At("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),At("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),N1=new ak,t2=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function Us(t){return(e,n)=>{let i=e.node.getChild("VariableDefinition");return i&&n(i,t),!0}}const D8=["FunctionDeclaration"],V8={FunctionDeclaration:Us("function"),ClassDeclaration:Us("class"),ClassExpression:()=>!0,EnumDeclaration:Us("constant"),TypeAliasDeclaration:Us("type"),NamespaceDeclaration:Us("namespace"),VariableDefinition(t,e){t.matchContext(D8)||e(t,"variable")},TypeDefinition(t,e){e(t,"type")},__proto__:null};function n2(t,e){let n=N1.get(e);if(n)return n;let i=[],r=!0;function s(o,a){let l=t.sliceString(o.from,o.to);i.push({label:l,type:a})}return e.cursor(Te.IncludeAnonymous).iterate(o=>{if(r)r=!1;else if(o.name){let a=V8[o.name];if(a&&a(o,s)||t2.has(o.name))return!1}else if(o.to-o.from>8192){for(let a of n2(t,o.node))i.push(a);return!1}}),N1.set(e,i),i}const Ru=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,fm=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName",".","?."];function i2(t){let e=Ze(t.state).resolveInner(t.pos,-1);if(fm.indexOf(e.name)>-1)return null;let n=e.name=="VariableName"||e.to-e.from<20&&Ru.test(t.state.sliceDoc(e.from,e.to));if(!n&&!t.explicit)return null;let i=[];for(let r=e;r;r=r.parent)t2.has(r.name)&&(i=i.concat(n2(t.state.doc,r)));return{options:i,from:n?e.from:t.pos,validFor:Ru}}function Ph(t,e,n){var i;let r=[];for(;;){let s=e.firstChild,o;if(s?.name=="VariableName")return r.push(t(s)),{path:r.reverse(),name:n};if(s?.name=="MemberExpression"&&((i=o=s.lastChild)===null||i===void 0?void 0:i.name)=="PropertyName")r.push(t(o)),e=s;else return null}}function r2(t){let e=i=>t.state.doc.sliceString(i.from,i.to),n=Ze(t.state).resolveInner(t.pos,-1);return n.name=="PropertyName"?Ph(e,n.parent,e(n)):(n.name=="."||n.name=="?.")&&n.parent.name=="MemberExpression"?Ph(e,n.parent,""):fm.indexOf(n.name)>-1?null:n.name=="VariableName"||n.to-n.from<20&&Ru.test(e(n))?{path:[],name:e(n)}:n.name=="MemberExpression"?Ph(e,n,""):t.explicit?{path:[],name:""}:null}function L8(t,e){let n=[],i=new Set;for(let r=0;;r++){for(let o of(Object.getOwnPropertyNames||Object.keys)(t)){if(!/^[a-zA-Z_$\xaa-\uffdc][\w$\xaa-\uffdc]*$/.test(o)||i.has(o))continue;i.add(o);let a;try{a=t[o]}catch{continue}n.push({label:o,type:typeof a=="function"?/^[A-Z]/.test(o)?"class":e?"function":"method":e?"variable":"property",boost:-r})}let s=Object.getPrototypeOf(t);if(!s)return n;t=s}}function Z8(t){let e=new Map;return n=>{let i=r2(n);if(!i)return null;let r=t;for(let o of i.path)if(r=r[o],!r)return null;let s=e.get(r);return s||e.set(r,s=L8(r,!i.path.length)),{from:n.pos-i.name.length,options:s,validFor:Ru}}}const rn=ps.define({name:"javascript",parser:R8.configure({props:[Ca.add({IfStatement:Fl({except:/^\s*({|else\b)/}),TryStatement:Fl({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:l5,SwitchBody:t=>{let e=t.textAfter,n=/^\s*\}/.test(e),i=/^\s*(case|default)\b/.test(e);return t.baseIndent+(n?0:i?1:2)*t.unit},Block:a5({closing:"}"}),ArrowFunction:t=>t.baseIndent+t.unit,"TemplateString BlockComment":()=>null,"Statement Property":Fl({except:/^{/}),JSXElement(t){let e=/^\s*<\//.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},JSXEscape(t){let e=/\s*\}/.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},"JSXOpenTag JSXSelfClosingTag"(t){return t.column(t.node.from)+t.unit}}),$a.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":gk,BlockComment(t){return{from:t.from+2,to:t.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),s2={test:t=>/^JSX/.test(t.name),facet:wc({commentTokens:{block:{open:"{/*",close:"*/}"}}})},dm=rn.configure({dialect:"ts"},"typescript"),pm=rn.configure({dialect:"jsx",props:[qp.add(t=>t.isTop?[s2]:void 0)]}),mm=rn.configure({dialect:"jsx ts",props:[qp.add(t=>t.isTop?[s2]:void 0)]},"typescript");let o2=t=>({label:t,type:"keyword"});const a2="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(o2),M8=a2.concat(["declare","implements","private","protected","public"].map(o2));function l2(t={}){let e=t.jsx?t.typescript?mm:pm:t.typescript?dm:rn,n=t.typescript?e2.concat(M8):hm.concat(a2);return new Os(e,[rn.data.of({autocomplete:QQ(fm,rS(n))}),rn.data.of({autocomplete:i2}),t.jsx?u2:[]])}function F8(t){for(;;){if(t.name=="JSXOpenTag"||t.name=="JSXSelfClosingTag"||t.name=="JSXFragmentTag")return t;if(t.name=="JSXEscape"||!t.parent)return null;t=t.parent}}function B1(t,e,n=t.length){for(let i=e?.firstChild;i;i=i.nextSibling)if(i.name=="JSXIdentifier"||i.name=="JSXBuiltin"||i.name=="JSXNamespacedName"||i.name=="JSXMemberExpression")return t.sliceString(i.from,Math.min(i.to,n));return""}const N8=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),u2=Y.inputHandler.of((t,e,n,i,r)=>{if((N8?t.composing:t.compositionStarted)||t.state.readOnly||e!=n||i!=">"&&i!="/"||!rn.isActiveAt(t.state,e,-1))return!1;let s=r(),{state:o}=s,a=o.changeByRange(l=>{var u;let{head:c}=l,h=Ze(o).resolveInner(c-1,-1),f;if(h.name=="JSXStartTag"&&(h=h.parent),!(o.doc.sliceString(c-1,c)!=i||h.name=="JSXAttributeValue"&&h.to>c)){if(i==">"&&h.name=="JSXFragmentTag")return{range:l,changes:{from:c,insert:"</>"}};if(i=="/"&&h.name=="JSXStartCloseTag"){let d=h.parent,p=d.parent;if(p&&d.from==c-2&&((f=B1(o.doc,p.firstChild,c))||((u=p.firstChild)===null||u===void 0?void 0:u.name)=="JSXFragmentTag")){let g=`${f}>`;return{range:I.cursor(c+g.length,-1),changes:{from:c,insert:g}}}}else if(i==">"){let d=F8(h);if(d&&d.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(o.doc.sliceString(c,c+2))&&(f=B1(o.doc,d,c)))return{range:l,changes:{from:c,insert:`</${f}>`}}}}return{range:l}});return a.changes.empty?!1:(t.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)});function B8(t,e){return e||(e={parserOptions:{ecmaVersion:2019,sourceType:"module"},env:{browser:!0,node:!0,es6:!0,es2015:!0,es2017:!0,es2020:!0},rules:{}},t.getRules().forEach((n,i)=>{n.meta.docs.recommended&&(e.rules[i]=2)})),n=>{let{state:i}=n,r=[];for(let{from:s,to:o}of rn.findRegions(i)){let a=i.doc.lineAt(s),l={line:a.number-1,col:s-a.from,pos:s};for(let u of t.verify(i.sliceDoc(s,o),e))r.push(j8(u,i.doc,l))}return r}}function j1(t,e,n,i){return n.line(t+i.line).from+e+(t==1?i.col-1:-1)}function j8(t,e,n){let i=j1(t.line,t.column,e,n),r={from:i,to:t.endLine!=null&&t.endColumn!=1?j1(t.endLine,t.endColumn,e,n):i,message:t.message,source:t.ruleId?"eslint:"+t.ruleId:"eslint",severity:t.severity==1?"warning":"error"};if(t.fix){let{range:s,text:o}=t.fix,a=s[0]+n.pos-i,l=s[1]+n.pos-i;r.actions=[{name:"fix",apply(u,c){u.dispatch({changes:{from:c+a,to:c+l,insert:o},scrollIntoView:!0})}}]}return r}const yl=Object.freeze(Object.defineProperty({__proto__:null,autoCloseTags:u2,completionPath:r2,esLint:B8,javascript:l2,javascriptLanguage:rn,jsxLanguage:pm,localCompletionSource:i2,scopeCompletionSource:Z8,snippets:hm,tsxLanguage:mm,typescriptLanguage:dm,typescriptSnippets:e2},Symbol.toStringTag,{value:"Module"})),Gs=["_blank","_self","_top","_parent"],Eh=["ascii","utf-8","utf-16","latin1","latin1"],Ah=["get","post","put","delete"],Ch=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],Mt=["true","false"],q={},X8={a:{attrs:{href:null,ping:null,type:null,media:null,target:Gs,hreflang:null}},abbr:q,address:q,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:q,aside:q,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:q,base:{attrs:{href:null,target:Gs}},bdi:q,bdo:q,blockquote:{attrs:{cite:null}},body:q,br:q,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:Ch,formmethod:Ah,formnovalidate:["novalidate"],formtarget:Gs,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:q,center:q,cite:q,code:q,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:q,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:q,div:q,dl:q,dt:q,em:q,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:q,figure:q,footer:q,form:{attrs:{action:null,name:null,"accept-charset":Eh,autocomplete:["on","off"],enctype:Ch,method:Ah,novalidate:["novalidate"],target:Gs}},h1:q,h2:q,h3:q,h4:q,h5:q,h6:q,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:q,hgroup:q,hr:q,html:{attrs:{manifest:null}},i:q,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:Ch,formmethod:Ah,formnovalidate:["novalidate"],formtarget:Gs,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:q,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:q,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:q,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:Eh,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:q,noscript:q,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:q,param:{attrs:{name:null,value:null}},pre:q,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:q,rt:q,ruby:q,samp:q,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:Eh}},section:q,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:q,source:{attrs:{src:null,type:null,media:null}},span:q,strong:q,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:q,summary:q,sup:q,table:q,tbody:q,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:q,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:q,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:q,time:{attrs:{datetime:null}},title:q,tr:q,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:q,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:q},c2={accesskey:null,class:null,contenteditable:Mt,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:Mt,autocorrect:Mt,autocapitalize:Mt,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":Mt,"aria-autocomplete":["inline","list","both","none"],"aria-busy":Mt,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":Mt,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":Mt,"aria-hidden":Mt,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":Mt,"aria-multiselectable":Mt,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":Mt,"aria-relevant":null,"aria-required":Mt,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},h2="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(t=>"on"+t);for(let t of h2)c2[t]=null;class ra{constructor(e,n){this.tags=Object.assign(Object.assign({},X8),e),this.globalAttrs=Object.assign(Object.assign({},c2),n),this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}ra.default=new ra;function vs(t,e,n=t.length){if(!e)return"";let i=e.firstChild,r=i&&i.getChild("TagName");return r?t.sliceString(r.from,Math.min(r.to,n)):""}function _s(t,e=!1){for(;t;t=t.parent)if(t.name=="Element")if(e)e=!1;else return t;return null}function f2(t,e,n){let i=n.tags[vs(t,_s(e))];return i?.children||n.allTags}function gm(t,e){let n=[];for(let i=_s(e);i&&!i.type.isTop;i=_s(i.parent)){let r=vs(t,i);if(r&&i.lastChild.name=="CloseTag")break;r&&n.indexOf(r)<0&&(e.name=="EndTag"||e.from>=i.firstChild.to)&&n.push(r)}return n}const d2=/^[:\-\.\w\u00b7-\uffff]*$/;function X1(t,e,n,i,r){let s=/\s*>/.test(t.sliceDoc(r,r+5))?"":">",o=_s(n,!0);return{from:i,to:r,options:f2(t.doc,o,e).map(a=>({label:a,type:"type"})).concat(gm(t.doc,n).map((a,l)=>({label:"/"+a,apply:"/"+a+s,type:"type",boost:99-l}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function z1(t,e,n,i){let r=/\s*>/.test(t.sliceDoc(i,i+5))?"":">";return{from:n,to:i,options:gm(t.doc,e).map((s,o)=>({label:s,apply:s+r,type:"type",boost:99-o})),validFor:d2}}function z8(t,e,n,i){let r=[],s=0;for(let o of f2(t.doc,n,e))r.push({label:"<"+o,type:"type"});for(let o of gm(t.doc,n))r.push({label:"</"+o+">",type:"type",boost:99-s++});return{from:i,to:i,options:r,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function q8(t,e,n,i,r){let s=_s(n),o=s?e.tags[vs(t.doc,s)]:null,a=o&&o.attrs?Object.keys(o.attrs):[],l=o&&o.globalAttrs===!1?a:a.length?a.concat(e.globalAttrNames):e.globalAttrNames;return{from:i,to:r,options:l.map(u=>({label:u,type:"property"})),validFor:d2}}function W8(t,e,n,i,r){var s;let o=(s=n.parent)===null||s===void 0?void 0:s.getChild("AttributeName"),a=[],l;if(o){let u=t.sliceDoc(o.from,o.to),c=e.globalAttrs[u];if(!c){let h=_s(n),f=h?e.tags[vs(t.doc,h)]:null;c=f?.attrs&&f.attrs[u]}if(c){let h=t.sliceDoc(i,r).toLowerCase(),f='"',d='"';/^['"]/.test(h)?(l=h[0]=='"'?/^[^"]*$/:/^[^']*$/,f="",d=t.sliceDoc(r,r+1)==h[0]?"":h[0],h=h.slice(1),i++):l=/^[^\s<>='"]*$/;for(let p of c)a.push({label:p,apply:f+p+d,type:"constant"})}}return{from:i,to:r,options:a,validFor:l}}function p2(t,e){let{state:n,pos:i}=e,r=Ze(n).resolveInner(i,-1),s=r.resolve(i);for(let o=i,a;s==r&&(a=r.childBefore(o));){let l=a.lastChild;if(!l||!l.type.isError||l.from<l.to)break;s=r=a,o=l.from}return r.name=="TagName"?r.parent&&/CloseTag$/.test(r.parent.name)?z1(n,r,r.from,i):X1(n,t,r,r.from,i):r.name=="StartTag"?X1(n,t,r,i,i):r.name=="StartCloseTag"||r.name=="IncompleteCloseTag"?z1(n,r,i,i):r.name=="OpenTag"||r.name=="SelfClosingTag"||r.name=="AttributeName"?q8(n,t,r,r.name=="AttributeName"?r.from:i,i):r.name=="Is"||r.name=="AttributeValue"||r.name=="UnquotedAttributeValue"?W8(n,t,r,r.name=="Is"?i:r.from,i):e.explicit&&(s.name=="Element"||s.name=="Text"||s.name=="Document")?z8(n,t,r,i):null}function m2(t){return p2(ra.default,t)}function g2(t){let{extraTags:e,extraGlobalAttributes:n}=t,i=n||e?new ra(e,n):ra.default;return r=>p2(i,r)}const Y8=rn.parser.configure({top:"SingleExpression"}),O2=[{tag:"script",attrs:t=>t.type=="text/typescript"||t.lang=="ts",parser:dm.parser},{tag:"script",attrs:t=>t.type=="text/babel"||t.type=="text/jsx",parser:pm.parser},{tag:"script",attrs:t=>t.type=="text/typescript-jsx",parser:mm.parser},{tag:"script",attrs(t){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(t.type)},parser:Y8},{tag:"script",attrs(t){return!t.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(t.type)},parser:rn.parser},{tag:"style",attrs(t){return(!t.lang||t.lang=="css")&&(!t.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(t.type))},parser:ia.parser}],b2=[{name:"style",parser:ia.parser.configure({top:"Styles"})}].concat(h2.map(t=>({name:t,parser:rn.parser}))),Om=ps.define({name:"html",parser:LD.configure({props:[Ca.add({Element(t){let e=/^(\s*)(<\/)?/.exec(t.textAfter);return t.node.to<=t.pos+e[0].length?t.continue():t.lineIndent(t.node.from)+(e[2]?0:t.unit)},"OpenTag CloseTag SelfClosingTag"(t){return t.column(t.node.from)+t.unit},Document(t){if(t.pos+/\s*/.exec(t.textAfter)[0].length<t.node.to)return t.continue();let e=null,n;for(let i=t.node;;){let r=i.lastChild;if(!r||r.name!="Element"||r.to!=i.to)break;e=i=r}return e&&!((n=e.lastChild)&&(n.name=="CloseTag"||n.name=="SelfClosingTag"))?t.lineIndent(e.from)+t.unit:null}}),$a.add({Element(t){let e=t.firstChild,n=t.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:n.name=="CloseTag"?n.from:t.to}}}),yk.add({"OpenTag CloseTag":t=>t.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}}),So=Om.configure({wrap:zS(O2,b2)});function y2(t={}){let e="",n;t.matchClosingTags===!1&&(e="noMatch"),t.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(t.nestedLanguages&&t.nestedLanguages.length||t.nestedAttributes&&t.nestedAttributes.length)&&(n=zS((t.nestedLanguages||[]).concat(O2),(t.nestedAttributes||[]).concat(b2)));let i=n?Om.configure({wrap:n,dialect:e}):e?So.configure({dialect:e}):So;return new Os(i,[So.data.of({autocomplete:g2(t)}),t.autoCloseTags!==!1?v2:[],l2().support,KS().support])}const q1=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),v2=Y.inputHandler.of((t,e,n,i,r)=>{if(t.composing||t.state.readOnly||e!=n||i!=">"&&i!="/"||!So.isActiveAt(t.state,e,-1))return!1;let s=r(),{state:o}=s,a=o.changeByRange(l=>{var u,c,h;let f=o.doc.sliceString(l.from-1,l.to)==i,{head:d}=l,p=Ze(o).resolveInner(d-1,-1),g;if((p.name=="TagName"||p.name=="StartTag")&&(p=p.parent),f&&i==">"&&p.name=="OpenTag"){if(((c=(u=p.parent)===null||u===void 0?void 0:u.lastChild)===null||c===void 0?void 0:c.name)!="CloseTag"&&(g=vs(o.doc,p.parent,d))&&!q1.has(g)){let m=d+(o.doc.sliceString(d,d+1)===">"?1:0),O=`</${g}>`;return{range:l,changes:{from:d,to:m,insert:O}}}}else if(f&&i=="/"&&p.name=="IncompleteCloseTag"){let m=p.parent;if(p.from==d-2&&((h=m.lastChild)===null||h===void 0?void 0:h.name)!="CloseTag"&&(g=vs(o.doc,m,d))&&!q1.has(g)){let O=d+(o.doc.sliceString(d,d+1)===">"?1:0),y=`${g}>`;return{range:I.cursor(d+y.length,-1),changes:{from:d,to:O,insert:y}}}}return{range:l}});return a.changes.empty?!1:(t.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),U8=Object.freeze(Object.defineProperty({__proto__:null,autoCloseTags:v2,html:y2,htmlCompletionSource:m2,htmlCompletionSourceWith:g2,htmlLanguage:So,htmlPlain:Om},Symbol.toStringTag,{value:"Module"})),_2=wc({commentTokens:{block:{open:"<!--",close:"-->"}}}),w2=new J,k2=$R.configure({props:[$a.add(t=>!t.is("Block")||t.is("Document")||gd(t)!=null?void 0:(e,n)=>({from:n.doc.lineAt(e.from).to,to:e.to})),w2.add(gd),Ca.add({Document:()=>null}),xi.add({Document:_2})]});function gd(t){let e=/^(?:ATX|Setext)Heading(\d)$/.exec(t.name);return e?+e[1]:void 0}function G8(t,e){let n=t;for(;;){let i=n.nextSibling,r;if(!i||(r=gd(i.type))!=null&&r<=e)break;n=i}return n.to}const H8=u5.of((t,e,n)=>{for(let i=Ze(t).resolveInner(n,-1);i&&!(i.from<e);i=i.parent){let r=i.type.prop(w2);if(r==null)continue;let s=G8(i,r);if(s>n)return{from:n,to:s}}return null});function bm(t){return new Bt(_2,t,[H8],"markdown")}const S2=bm(k2),K8=k2.configure([BR,XR,jR,zR,{props:[$a.add({Table:(t,e)=>({from:e.doc.lineAt(t.from).to,to:t.to})})]}]),ym=bm(K8);function J8(t,e){return n=>{if(n&&t){let i=null;if(n=/\S*/.exec(n)[0],typeof t=="function"?i=t(n):i=P.matchLanguageName(t,n,!0),i instanceof P)return i.support?i.support.language.parser:br.getSkippingParser(i.load());if(i)return i.parser}return e?e.parser:null}}class vl{constructor(e,n,i,r,s,o,a){this.node=e,this.from=n,this.to=i,this.spaceBefore=r,this.spaceAfter=s,this.type=o,this.item=a}blank(e,n=!0){let i=this.spaceBefore+(this.node.name=="Blockquote"?">":"");if(e!=null){for(;i.length<e;)i+=" ";return i}else{for(let r=this.to-this.from-i.length-this.spaceAfter.length;r>0;r--)i+=" ";return i+(n?this.spaceAfter:"")}}marker(e,n){let i=this.node.name=="OrderedList"?String(+T2(this.item,e)[2]+n):"";return this.spaceBefore+i+this.type+this.spaceAfter}}function x2(t,e){let n=[];for(let r=t;r&&r.name!="Document";r=r.parent)(r.name=="ListItem"||r.name=="Blockquote"||r.name=="FencedCode")&&n.push(r);let i=[];for(let r=n.length-1;r>=0;r--){let s=n[r],o,a=e.lineAt(s.from),l=s.from-a.from;if(s.name=="FencedCode")i.push(new vl(s,l,l,"","","",null));else if(s.name=="Blockquote"&&(o=/^ *>( ?)/.exec(a.text.slice(l))))i.push(new vl(s,l,l+o[0].length,"",o[1],">",null));else if(s.name=="ListItem"&&s.parent.name=="OrderedList"&&(o=/^( *)\d+([.)])( *)/.exec(a.text.slice(l)))){let u=o[3],c=o[0].length;u.length>=4&&(u=u.slice(0,u.length-4),c-=4),i.push(new vl(s.parent,l,l+c,o[1],u,o[2],s))}else if(s.name=="ListItem"&&s.parent.name=="BulletList"&&(o=/^( *)([-+*])( {1,4}\[[ xX]\])?( +)/.exec(a.text.slice(l)))){let u=o[4],c=o[0].length;u.length>4&&(u=u.slice(0,u.length-4),c-=4);let h=o[2];o[3]&&(h+=o[3].replace(/[xX]/," ")),i.push(new vl(s.parent,l,l+c,o[1],u,h,s))}}return i}function T2(t,e){return/^(\s*)(\d+)(?=[.)])/.exec(e.sliceString(t.from,t.from+10))}function $h(t,e,n,i=0){for(let r=-1,s=t;;){if(s.name=="ListItem"){let a=T2(s,e),l=+a[2];if(r>=0){if(l!=r+1)return;n.push({from:s.from+a[1].length,to:s.from+a[0].length,insert:String(r+2+i)})}r=l}let o=s.nextSibling;if(!o)break;s=o}}function vm(t,e){let n=/^[ \t]*/.exec(t)[0].length;if(!n||e.facet($s)!="	")return t;let i=ri(t,4,n),r="";for(let s=i;s>0;)s>=4?(r+="	",s-=4):(r+=" ",s--);return r+t.slice(n)}const P2=({state:t,dispatch:e})=>{let n=Ze(t),{doc:i}=t,r=null,s=t.changeByRange(o=>{if(!o.empty||!ym.isActiveAt(t,o.from))return r={range:o};let a=o.from,l=i.lineAt(a),u=x2(n.resolveInner(a,-1),i);for(;u.length&&u[u.length-1].from>a-l.from;)u.pop();if(!u.length)return r={range:o};let c=u[u.length-1];if(c.to-c.spaceAfter.length>a-l.from)return r={range:o};let h=a>=c.to-c.spaceAfter.length&&!/\S/.test(l.text.slice(c.to));if(c.item&&h){let m=c.node.firstChild,O=c.node.getChild("ListItem","ListItem");if(m.to>=a||O&&O.to<a||l.from>0&&!/[^\s>]/.test(i.lineAt(l.from-1).text)){let y=u.length>1?u[u.length-2]:null,v,k="";y&&y.item?(v=l.from+y.from,k=y.marker(i,1)):v=l.from+(y?y.to:0);let _=[{from:v,to:a,insert:k}];return c.node.name=="OrderedList"&&$h(c.item,i,_,-2),y&&y.node.name=="OrderedList"&&$h(y.item,i,_),{range:I.cursor(v+k.length),changes:_}}else{let y=Y1(u,t,l);return{range:I.cursor(a+y.length+1),changes:{from:l.from,insert:y+t.lineBreak}}}}if(c.node.name=="Blockquote"&&h&&l.from){let m=i.lineAt(l.from-1),O=/>\s*$/.exec(m.text);if(O&&O.index==c.from){let y=t.changes([{from:m.from+O.index,to:m.to},{from:l.from+c.from,to:l.to}]);return{range:o.map(y),changes:y}}}let f=[];c.node.name=="OrderedList"&&$h(c.item,i,f);let d=c.item&&c.item.from<l.from,p="";if(!d||/^[\s\d.)\-+*>]*/.exec(l.text)[0].length>=c.to)for(let m=0,O=u.length-1;m<=O;m++)p+=m==O&&!d?u[m].marker(i,1):u[m].blank(m<O?ri(l.text,4,u[m+1].from)-p.length:null);let g=a;for(;g>l.from&&/\s/.test(l.text.charAt(g-l.from-1));)g--;return p=vm(p,t),e9(c.node,t.doc)&&(p=Y1(u,t,l)+t.lineBreak+p),f.push({from:g,to:a,insert:t.lineBreak+p}),{range:I.cursor(g+p.length+1),changes:f}});return r?!1:(e(t.update(s,{scrollIntoView:!0,userEvent:"input"})),!0)};function W1(t){return t.name=="QuoteMark"||t.name=="ListMark"}function e9(t,e){if(t.name!="OrderedList"&&t.name!="BulletList")return!1;let n=t.firstChild,i=t.getChild("ListItem","ListItem");if(!i)return!1;let r=e.lineAt(n.to),s=e.lineAt(i.from),o=/^[\s>]*$/.test(r.text);return r.number+(o?0:1)<s.number}function Y1(t,e,n){let i="";for(let r=0,s=t.length-2;r<=s;r++)i+=t[r].blank(r<s?ri(n.text,4,t[r+1].from)-i.length:null,r<s);return vm(i,e)}function t9(t,e){let n=t.resolveInner(e,-1),i=e;W1(n)&&(i=n.from,n=n.parent);for(let r;r=n.childBefore(i);)if(W1(r))i=r.from;else if(r.name=="OrderedList"||r.name=="BulletList")n=r.lastChild,i=n.to;else break;return n}const E2=({state:t,dispatch:e})=>{let n=Ze(t),i=null,r=t.changeByRange(s=>{let o=s.from,{doc:a}=t;if(s.empty&&ym.isActiveAt(t,s.from)){let l=a.lineAt(o),u=x2(t9(n,o),a);if(u.length){let c=u[u.length-1],h=c.to-c.spaceAfter.length+(c.spaceAfter?1:0);if(o-l.from>h&&!/\S/.test(l.text.slice(h,o-l.from)))return{range:I.cursor(l.from+h),changes:{from:l.from+h,to:o}};if(o-l.from==h&&(!c.item||l.from<=c.item.from||!/\S/.test(l.text.slice(0,c.to)))){let f=l.from+c.from;if(c.item&&c.node.from<c.item.from&&/\S/.test(l.text.slice(c.from,c.to))){let d=c.blank(ri(l.text,4,c.to)-ri(l.text,4,c.from));return f==l.from&&(d=vm(d,t)),{range:I.cursor(f+d.length),changes:{from:f,to:l.from+c.to,insert:d}}}if(f<o)return{range:I.cursor(f),changes:{from:f,to:o}}}}}return i={range:s}});return i?!1:(e(t.update(r,{scrollIntoView:!0,userEvent:"delete"})),!0)},A2=[{key:"Enter",run:P2},{key:"Backspace",run:E2}],Od=y2({matchClosingTags:!1});function C2(t={}){let{codeLanguages:e,defaultCodeLanguage:n,addKeymap:i=!0,base:{parser:r}=S2,completeHTMLTags:s=!0}=t;if(!(r instanceof Ec))throw new RangeError("Base parser provided to `markdown` should be a Markdown parser");let o=t.extensions?[t.extensions]:[],a=[Od.support],l;n instanceof Os?(a.push(n.support),l=n.language):n&&(l=n);let u=e||l?J8(e,l):void 0;o.push(QR({codeParser:u,htmlParser:Od.language.parser})),i&&a.push(Sr.high(Aa.of(A2)));let c=bm(r.configure(o));return s&&a.push(c.data.of({autocomplete:n9})),new Os(c,a)}function n9(t){let{state:e,pos:n}=t,i=/<[:\-\.\w\u00b7-\uffff]*$/.exec(e.sliceDoc(n-25,n));if(!i)return null;let r=Ze(e).resolveInner(n,-1);for(;r&&!r.type.isTop;){if(r.name=="CodeBlock"||r.name=="FencedCode"||r.name=="ProcessingInstructionBlock"||r.name=="CommentBlock"||r.name=="Link"||r.name=="Image")return null;r=r.parent}return{from:n-i[0].length,to:n,options:i9(),validFor:/^<[:\-\.\w\u00b7-\uffff]*$/}}let Ih=null;function i9(){if(Ih)return Ih;let t=m2(new tm(pe.create({extensions:Od}),0,!0));return Ih=t?t.options:[]}const r9=Object.freeze(Object.defineProperty({__proto__:null,commonmarkLanguage:S2,deleteMarkupBackward:E2,insertNewlineContinueMarkup:P2,markdown:C2,markdownKeymap:A2,markdownLanguage:ym},Symbol.toStringTag,{value:"Module"}));/*! medium-zoom 1.1.0 | MIT License | https://github.com/francoischalifour/medium-zoom */var Gi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_l=function(e){return e.tagName==="IMG"},s9=function(e){return NodeList.prototype.isPrototypeOf(e)},jl=function(e){return e&&e.nodeType===1},U1=function(e){var n=e.currentSrc||e.src;return n.substr(-4).toLowerCase()===".svg"},G1=function(e){try{return Array.isArray(e)?e.filter(_l):s9(e)?[].slice.call(e).filter(_l):jl(e)?[e].filter(_l):typeof e=="string"?[].slice.call(document.querySelectorAll(e)).filter(_l):[]}catch{throw new TypeError(`The provided selector is invalid.
Expects a CSS selector, a Node element, a NodeList or an array.
See: https://github.com/francoischalifour/medium-zoom`)}},o9=function(e){var n=document.createElement("div");return n.classList.add("medium-zoom-overlay"),n.style.background=e,n},a9=function(e){var n=e.getBoundingClientRect(),i=n.top,r=n.left,s=n.width,o=n.height,a=e.cloneNode(),l=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,u=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return a.removeAttribute("id"),a.style.position="absolute",a.style.top=i+l+"px",a.style.left=r+u+"px",a.style.width=s+"px",a.style.height=o+"px",a.style.transform="",a},$r=function(e,n){var i=Gi({bubbles:!1,cancelable:!1,detail:void 0},n);if(typeof window.CustomEvent=="function")return new CustomEvent(e,i);var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,i.bubbles,i.cancelable,i.detail),r},l9=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=window.Promise||function(R){function M(){}R(M,M)},r=function(R){var M=R.target;if(M===B){p();return}v.indexOf(M)!==-1&&g({target:M})},s=function(){if(!(_||!x.original)){var R=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(A-R)>T.scrollOffset&&setTimeout(p,150)}},o=function(R){var M=R.key||R.keyCode;(M==="Escape"||M==="Esc"||M===27)&&p()},a=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=R;if(R.background&&(B.style.background=R.background),R.container&&R.container instanceof Object&&(M.container=Gi({},T.container,R.container)),R.template){var z=jl(R.template)?R.template:document.querySelector(R.template);M.template=z}return T=Gi({},T,M),v.forEach(function(H){H.dispatchEvent($r("medium-zoom:update",{detail:{zoom:V}}))}),V},l=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t(Gi({},T,R))},u=function(){for(var R=arguments.length,M=Array(R),z=0;z<R;z++)M[z]=arguments[z];var H=M.reduce(function(U,me){return[].concat(U,G1(me))},[]);return H.filter(function(U){return v.indexOf(U)===-1}).forEach(function(U){v.push(U),U.classList.add("medium-zoom-image")}),k.forEach(function(U){var me=U.type,we=U.listener,Je=U.options;H.forEach(function(ce){ce.addEventListener(me,we,Je)})}),V},c=function(){for(var R=arguments.length,M=Array(R),z=0;z<R;z++)M[z]=arguments[z];x.zoomed&&p();var H=M.length>0?M.reduce(function(U,me){return[].concat(U,G1(me))},[]):v;return H.forEach(function(U){U.classList.remove("medium-zoom-image"),U.dispatchEvent($r("medium-zoom:detach",{detail:{zoom:V}}))}),v=v.filter(function(U){return H.indexOf(U)===-1}),V},h=function(R,M){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return v.forEach(function(H){H.addEventListener("medium-zoom:"+R,M,z)}),k.push({type:"medium-zoom:"+R,listener:M,options:z}),V},f=function(R,M){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return v.forEach(function(H){H.removeEventListener("medium-zoom:"+R,M,z)}),k=k.filter(function(H){return!(H.type==="medium-zoom:"+R&&H.listener.toString()===M.toString())}),V},d=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=R.target,z=function(){var U={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},me=void 0,we=void 0;if(T.container)if(T.container instanceof Object)U=Gi({},U,T.container),me=U.width-U.left-U.right-T.margin*2,we=U.height-U.top-U.bottom-T.margin*2;else{var Je=jl(T.container)?T.container:document.querySelector(T.container),ce=Je.getBoundingClientRect(),he=ce.width,dt=ce.height,qt=ce.left,ln=ce.top;U=Gi({},U,{width:he,height:dt,left:qt,top:ln})}me=me||U.width-T.margin*2,we=we||U.height-T.margin*2;var Lt=x.zoomedHd||x.original,Xi=U1(Lt)?me:Lt.naturalWidth||me,La=U1(Lt)?we:Lt.naturalHeight||we,zi=Lt.getBoundingClientRect(),Za=zi.top,Ma=zi.left,Tr=zi.width,Pr=zi.height,Fa=Math.min(Math.max(Tr,Xi),me)/Tr,Na=Math.min(Math.max(Pr,La),we)/Pr,Er=Math.min(Fa,Na),Ba=(-Ma+(me-Tr)/2+T.margin+U.left)/Er,ja=(-Za+(we-Pr)/2+T.margin+U.top)/Er,Vs="scale("+Er+") translate3d("+Ba+"px, "+ja+"px, 0)";x.zoomed.style.transform=Vs,x.zoomedHd&&(x.zoomedHd.style.transform=Vs)};return new i(function(H){if(M&&v.indexOf(M)===-1){H(V);return}var U=function he(){_=!1,x.zoomed.removeEventListener("transitionend",he),x.original.dispatchEvent($r("medium-zoom:opened",{detail:{zoom:V}})),H(V)};if(x.zoomed){H(V);return}if(M)x.original=M;else if(v.length>0){var me=v;x.original=me[0]}else{H(V);return}if(x.original.dispatchEvent($r("medium-zoom:open",{detail:{zoom:V}})),A=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,_=!0,x.zoomed=a9(x.original),document.body.appendChild(B),T.template){var we=jl(T.template)?T.template:document.querySelector(T.template);x.template=document.createElement("div"),x.template.appendChild(we.content.cloneNode(!0)),document.body.appendChild(x.template)}if(x.original.parentElement&&x.original.parentElement.tagName==="PICTURE"&&x.original.currentSrc&&(x.zoomed.src=x.original.currentSrc),document.body.appendChild(x.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("medium-zoom--opened")}),x.original.classList.add("medium-zoom-image--hidden"),x.zoomed.classList.add("medium-zoom-image--opened"),x.zoomed.addEventListener("click",p),x.zoomed.addEventListener("transitionend",U),x.original.getAttribute("data-zoom-src")){x.zoomedHd=x.zoomed.cloneNode(),x.zoomedHd.removeAttribute("srcset"),x.zoomedHd.removeAttribute("sizes"),x.zoomedHd.removeAttribute("loading"),x.zoomedHd.src=x.zoomed.getAttribute("data-zoom-src"),x.zoomedHd.onerror=function(){clearInterval(Je),console.warn("Unable to reach the zoom image target "+x.zoomedHd.src),x.zoomedHd=null,z()};var Je=setInterval(function(){x.zoomedHd.complete&&(clearInterval(Je),x.zoomedHd.classList.add("medium-zoom-image--opened"),x.zoomedHd.addEventListener("click",p),document.body.appendChild(x.zoomedHd),z())},10)}else if(x.original.hasAttribute("srcset")){x.zoomedHd=x.zoomed.cloneNode(),x.zoomedHd.removeAttribute("sizes"),x.zoomedHd.removeAttribute("loading");var ce=x.zoomedHd.addEventListener("load",function(){x.zoomedHd.removeEventListener("load",ce),x.zoomedHd.classList.add("medium-zoom-image--opened"),x.zoomedHd.addEventListener("click",p),document.body.appendChild(x.zoomedHd),z()})}else z()})},p=function(){return new i(function(R){if(_||!x.original){R(V);return}var M=function z(){x.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(x.zoomed),x.zoomedHd&&document.body.removeChild(x.zoomedHd),document.body.removeChild(B),x.zoomed.classList.remove("medium-zoom-image--opened"),x.template&&document.body.removeChild(x.template),_=!1,x.zoomed.removeEventListener("transitionend",z),x.original.dispatchEvent($r("medium-zoom:closed",{detail:{zoom:V}})),x.original=null,x.zoomed=null,x.zoomedHd=null,x.template=null,R(V)};_=!0,document.body.classList.remove("medium-zoom--opened"),x.zoomed.style.transform="",x.zoomedHd&&(x.zoomedHd.style.transform=""),x.template&&(x.template.style.transition="opacity 150ms",x.template.style.opacity=0),x.original.dispatchEvent($r("medium-zoom:close",{detail:{zoom:V}})),x.zoomed.addEventListener("transitionend",M)})},g=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=R.target;return x.original?p():d({target:M})},m=function(){return T},O=function(){return v},y=function(){return x.original},v=[],k=[],_=!1,A=0,T=n,x={original:null,zoomed:null,zoomedHd:null,template:null};Object.prototype.toString.call(e)==="[object Object]"?T=e:(e||typeof e=="string")&&u(e),T=Gi({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},T);var B=o9(T.background);document.addEventListener("click",r),document.addEventListener("keyup",o),document.addEventListener("scroll",s),window.addEventListener("resize",p);var V={open:d,close:p,toggle:g,update:a,clone:l,attach:u,detach:c,on:h,off:f,getOptions:m,getImages:O,getZoomedImage:y};return V};function u9(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(!t||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}var c9=".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}";u9(c9);function _m(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var h9=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,n=[],i=0;i<t.rangeCount;i++)n.push(t.getRangeAt(i));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||n.forEach(function(r){t.addRange(r)}),e&&e.focus()}},f9=h9,H1={"text/plain":"Text","text/html":"Url",default:"Text"},d9="Copy to clipboard: #{key}, Enter";function p9(t){var e=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function m9(t,e){var n,i,r,s,o,a,l=!1;e||(e={}),n=e.debug||!1;try{r=f9(),s=document.createRange(),o=document.getSelection(),a=document.createElement("span"),a.textContent=t,a.ariaHidden="true",a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(c){if(c.stopPropagation(),e.format)if(c.preventDefault(),typeof c.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var h=H1[e.format]||H1.default;window.clipboardData.setData(h,t)}else c.clipboardData.clearData(),c.clipboardData.setData(e.format,t);e.onCopy&&(c.preventDefault(),e.onCopy(c.clipboardData))}),document.body.appendChild(a),s.selectNodeContents(a),o.addRange(s);var u=document.execCommand("copy");if(!u)throw new Error("copy command was unsuccessful");l=!0}catch(c){n&&console.error("unable to copy using execCommand: ",c),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),l=!0}catch(h){n&&console.error("unable to copy using clipboardData: ",h),n&&console.error("falling back to prompt"),i=p9("message"in e?e.message:d9),window.prompt(i,t)}}finally{o&&(typeof o.removeRange=="function"?o.removeRange(s):o.removeAllRanges()),a&&document.body.removeChild(a),r()}return l}var g9=m9;const O9=_m(g9),K1={};function b9(t){let e=K1[t];if(e)return e;e=K1[t]=[];for(let n=0;n<128;n++){const i=String.fromCharCode(n);e.push(i)}for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);e[i]="%"+("0"+i.toString(16).toUpperCase()).slice(-2)}return e}function ws(t,e){typeof e!="string"&&(e=ws.defaultChars);const n=b9(e);return t.replace(/(%[a-f0-9]{2})+/gi,function(i){let r="";for(let s=0,o=i.length;s<o;s+=3){const a=parseInt(i.slice(s+1,s+3),16);if(a<128){r+=n[a];continue}if((a&224)===192&&s+3<o){const l=parseInt(i.slice(s+4,s+6),16);if((l&192)===128){const u=a<<6&1984|l&63;u<128?r+="��":r+=String.fromCharCode(u),s+=3;continue}}if((a&240)===224&&s+6<o){const l=parseInt(i.slice(s+4,s+6),16),u=parseInt(i.slice(s+7,s+9),16);if((l&192)===128&&(u&192)===128){const c=a<<12&61440|l<<6&4032|u&63;c<2048||c>=55296&&c<=57343?r+="���":r+=String.fromCharCode(c),s+=6;continue}}if((a&248)===240&&s+9<o){const l=parseInt(i.slice(s+4,s+6),16),u=parseInt(i.slice(s+7,s+9),16),c=parseInt(i.slice(s+10,s+12),16);if((l&192)===128&&(u&192)===128&&(c&192)===128){let h=a<<18&1835008|l<<12&258048|u<<6&4032|c&63;h<65536||h>1114111?r+="����":(h-=65536,r+=String.fromCharCode(55296+(h>>10),56320+(h&1023))),s+=9;continue}}r+="�"}return r})}ws.defaultChars=";/?:@&=+$,#";ws.componentChars="";const J1={};function y9(t){let e=J1[t];if(e)return e;e=J1[t]=[];for(let n=0;n<128;n++){const i=String.fromCharCode(n);/^[0-9a-z]$/i.test(i)?e.push(i):e.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<t.length;n++)e[t.charCodeAt(n)]=t[n];return e}function Ra(t,e,n){typeof e!="string"&&(n=e,e=Ra.defaultChars),typeof n>"u"&&(n=!0);const i=y9(e);let r="";for(let s=0,o=t.length;s<o;s++){const a=t.charCodeAt(s);if(n&&a===37&&s+2<o&&/^[0-9a-f]{2}$/i.test(t.slice(s+1,s+3))){r+=t.slice(s,s+3),s+=2;continue}if(a<128){r+=i[a];continue}if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&s+1<o){const l=t.charCodeAt(s+1);if(l>=56320&&l<=57343){r+=encodeURIComponent(t[s]+t[s+1]),s++;continue}}r+="%EF%BF%BD";continue}r+=encodeURIComponent(t[s])}return r}Ra.defaultChars=";/?:@&=+$,-_.!~*'()#";Ra.componentChars="-_.!~*'()";function wm(t){let e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&t.hostname.indexOf(":")!==-1?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||"",e}function Du(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const v9=/^([a-z0-9.+-]+:)/i,_9=/:[0-9]*$/,w9=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,k9=["<",">",'"',"`"," ","\r",`
`,"	"],S9=["{","}","|","\\","^","`"].concat(k9),x9=["'"].concat(S9),eb=["%","/","?",";","#"].concat(x9),tb=["/","?","#"],T9=255,nb=/^[+a-z0-9A-Z_-]{0,63}$/,P9=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,ib={javascript:!0,"javascript:":!0},rb={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function km(t,e){if(t&&t instanceof Du)return t;const n=new Du;return n.parse(t,e),n}Du.prototype.parse=function(t,e){let n,i,r,s=t;if(s=s.trim(),!e&&t.split("#").length===1){const u=w9.exec(s);if(u)return this.pathname=u[1],u[2]&&(this.search=u[2]),this}let o=v9.exec(s);if(o&&(o=o[0],n=o.toLowerCase(),this.protocol=o,s=s.substr(o.length)),(e||o||s.match(/^\/\/[^@\/]+@[^@\/]+/))&&(r=s.substr(0,2)==="//",r&&!(o&&ib[o])&&(s=s.substr(2),this.slashes=!0)),!ib[o]&&(r||o&&!rb[o])){let u=-1;for(let p=0;p<tb.length;p++)i=s.indexOf(tb[p]),i!==-1&&(u===-1||i<u)&&(u=i);let c,h;u===-1?h=s.lastIndexOf("@"):h=s.lastIndexOf("@",u),h!==-1&&(c=s.slice(0,h),s=s.slice(h+1),this.auth=c),u=-1;for(let p=0;p<eb.length;p++)i=s.indexOf(eb[p]),i!==-1&&(u===-1||i<u)&&(u=i);u===-1&&(u=s.length),s[u-1]===":"&&u--;const f=s.slice(0,u);s=s.slice(u),this.parseHost(f),this.hostname=this.hostname||"";const d=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!d){const p=this.hostname.split(/\./);for(let g=0,m=p.length;g<m;g++){const O=p[g];if(O&&!O.match(nb)){let y="";for(let v=0,k=O.length;v<k;v++)O.charCodeAt(v)>127?y+="x":y+=O[v];if(!y.match(nb)){const v=p.slice(0,g),k=p.slice(g+1),_=O.match(P9);_&&(v.push(_[1]),k.unshift(_[2])),k.length&&(s=k.join(".")+s),this.hostname=v.join(".");break}}}}this.hostname.length>T9&&(this.hostname=""),d&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const a=s.indexOf("#");a!==-1&&(this.hash=s.substr(a),s=s.slice(0,a));const l=s.indexOf("?");return l!==-1&&(this.search=s.substr(l),s=s.slice(0,l)),s&&(this.pathname=s),rb[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this};Du.prototype.parseHost=function(t){let e=_9.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const E9=Object.freeze(Object.defineProperty({__proto__:null,decode:ws,encode:Ra,format:wm,parse:km},Symbol.toStringTag,{value:"Module"})),$2=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,I2=/[\0-\x1F\x7F-\x9F]/,A9=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,Sm=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,C9=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,Q2=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,$9=Object.freeze(Object.defineProperty({__proto__:null,Any:$2,Cc:I2,Cf:A9,P:Sm,S:C9,Z:Q2},Symbol.toStringTag,{value:"Module"})),I9=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(t=>t.charCodeAt(0))),Q9=new Uint16Array("Ȁaglq	\x1Bɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map(t=>t.charCodeAt(0)));var Qh;const R9=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),D9=(Qh=String.fromCodePoint)!==null&&Qh!==void 0?Qh:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function V9(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=R9.get(t))!==null&&e!==void 0?e:t}var nt;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(nt||(nt={}));const L9=32;var Ti;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(Ti||(Ti={}));function bd(t){return t>=nt.ZERO&&t<=nt.NINE}function Z9(t){return t>=nt.UPPER_A&&t<=nt.UPPER_F||t>=nt.LOWER_A&&t<=nt.LOWER_F}function M9(t){return t>=nt.UPPER_A&&t<=nt.UPPER_Z||t>=nt.LOWER_A&&t<=nt.LOWER_Z||bd(t)}function F9(t){return t===nt.EQUALS||M9(t)}var et;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(et||(et={}));var vi;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(vi||(vi={}));class N9{constructor(e,n,i){this.decodeTree=e,this.emitCodePoint=n,this.errors=i,this.state=et.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=vi.Strict}startEntity(e){this.decodeMode=e,this.state=et.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case et.EntityStart:return e.charCodeAt(n)===nt.NUM?(this.state=et.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=et.NamedEntity,this.stateNamedEntity(e,n));case et.NumericStart:return this.stateNumericStart(e,n);case et.NumericDecimal:return this.stateNumericDecimal(e,n);case et.NumericHex:return this.stateNumericHex(e,n);case et.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|L9)===nt.LOWER_X?(this.state=et.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=et.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,i,r){if(n!==i){const s=i-n;this.result=this.result*Math.pow(r,s)+parseInt(e.substr(n,s),r),this.consumed+=s}}stateNumericHex(e,n){const i=n;for(;n<e.length;){const r=e.charCodeAt(n);if(bd(r)||Z9(r))n+=1;else return this.addToNumericResult(e,i,n,16),this.emitNumericEntity(r,3)}return this.addToNumericResult(e,i,n,16),-1}stateNumericDecimal(e,n){const i=n;for(;n<e.length;){const r=e.charCodeAt(n);if(bd(r))n+=1;else return this.addToNumericResult(e,i,n,10),this.emitNumericEntity(r,2)}return this.addToNumericResult(e,i,n,10),-1}emitNumericEntity(e,n){var i;if(this.consumed<=n)return(i=this.errors)===null||i===void 0||i.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===nt.SEMI)this.consumed+=1;else if(this.decodeMode===vi.Strict)return 0;return this.emitCodePoint(V9(this.result),this.consumed),this.errors&&(e!==nt.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:i}=this;let r=i[this.treeIndex],s=(r&Ti.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const o=e.charCodeAt(n);if(this.treeIndex=B9(i,r,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===vi.Attribute&&(s===0||F9(o))?0:this.emitNotTerminatedNamedEntity();if(r=i[this.treeIndex],s=(r&Ti.VALUE_LENGTH)>>14,s!==0){if(o===nt.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==vi.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:i}=this,r=(i[n]&Ti.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,r,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,i){const{decodeTree:r}=this;return this.emitCodePoint(n===1?r[e]&~Ti.VALUE_LENGTH:r[e+1],i),n===3&&this.emitCodePoint(r[e+2],i),i}end(){var e;switch(this.state){case et.NamedEntity:return this.result!==0&&(this.decodeMode!==vi.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case et.NumericDecimal:return this.emitNumericEntity(0,2);case et.NumericHex:return this.emitNumericEntity(0,3);case et.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case et.EntityStart:return 0}}}function R2(t){let e="";const n=new N9(t,i=>e+=D9(i));return function(r,s){let o=0,a=0;for(;(a=r.indexOf("&",a))>=0;){e+=r.slice(o,a),n.startEntity(s);const u=n.write(r,a+1);if(u<0){o=a+n.end();break}o=a+u,a=u===0?o+1:o}const l=e+r.slice(o);return e="",l}}function B9(t,e,n,i){const r=(e&Ti.BRANCH_LENGTH)>>7,s=e&Ti.JUMP_TABLE;if(r===0)return s!==0&&i===s?n:-1;if(s){const l=i-s;return l<0||l>=r?-1:t[n+l]-1}let o=n,a=o+r-1;for(;o<=a;){const l=o+a>>>1,u=t[l];if(u<i)o=l+1;else if(u>i)a=l-1;else return t[l+r]}return-1}const j9=R2(I9);R2(Q9);function D2(t,e=vi.Legacy){return j9(t,e)}function X9(t){return Object.prototype.toString.call(t)}function xm(t){return X9(t)==="[object String]"}const z9=Object.prototype.hasOwnProperty;function q9(t,e){return z9.call(t,e)}function Ac(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){if(n){if(typeof n!="object")throw new TypeError(n+"must be object");Object.keys(n).forEach(function(i){t[i]=n[i]})}}),t}function V2(t,e,n){return[].concat(t.slice(0,e),n,t.slice(e+1))}function Tm(t){return!(t>=55296&&t<=57343||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534||t>=0&&t<=8||t===11||t>=14&&t<=31||t>=127&&t<=159||t>1114111)}function Vu(t){if(t>65535){t-=65536;const e=55296+(t>>10),n=56320+(t&1023);return String.fromCharCode(e,n)}return String.fromCharCode(t)}const L2=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,W9=/&([a-z#][a-z0-9]{1,31});/gi,Y9=new RegExp(L2.source+"|"+W9.source,"gi"),U9=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function G9(t,e){if(e.charCodeAt(0)===35&&U9.test(e)){const i=e[1].toLowerCase()==="x"?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return Tm(i)?Vu(i):t}const n=D2(t);return n!==t?n:t}function H9(t){return t.indexOf("\\")<0?t:t.replace(L2,"$1")}function sa(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(Y9,function(e,n,i){return n||G9(e,i)})}const K9=/[&<>"]/,J9=/[&<>"]/g,e7={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function t7(t){return e7[t]}function Mi(t){return K9.test(t)?t.replace(J9,t7):t}const n7=/[.?*+^$[\]\\(){}|-]/g;function i7(t){return t.replace(n7,"\\$&")}function Pe(t){switch(t){case 9:case 32:return!0}return!1}function oa(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function aa(t){return Sm.test(t)}function la(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function Cc(t){return t=t.trim().replace(/\s+/g," "),"ẞ".toLowerCase()==="Ṿ"&&(t=t.replace(/ẞ/g,"ß")),t.toLowerCase().toUpperCase()}const r7={mdurl:E9,ucmicro:$9},s7=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:V2,assign:Ac,escapeHtml:Mi,escapeRE:i7,fromCodePoint:Vu,has:q9,isMdAsciiPunct:la,isPunctChar:aa,isSpace:Pe,isString:xm,isValidEntityCode:Tm,isWhiteSpace:oa,lib:r7,normalizeReference:Cc,unescapeAll:sa,unescapeMd:H9},Symbol.toStringTag,{value:"Module"}));function o7(t,e,n){let i,r,s,o;const a=t.posMax,l=t.pos;for(t.pos=e+1,i=1;t.pos<a;){if(s=t.src.charCodeAt(t.pos),s===93&&(i--,i===0)){r=!0;break}if(o=t.pos,t.md.inline.skipToken(t),s===91){if(o===t.pos-1)i++;else if(n)return t.pos=l,-1}}let u=-1;return r&&(u=t.pos),t.pos=l,u}function a7(t,e,n){let i,r=e;const s={ok:!1,pos:0,lines:0,str:""};if(t.charCodeAt(r)===60){for(r++;r<n;){if(i=t.charCodeAt(r),i===10||i===60)return s;if(i===62)return s.pos=r+1,s.str=sa(t.slice(e+1,r)),s.ok=!0,s;if(i===92&&r+1<n){r+=2;continue}r++}return s}let o=0;for(;r<n&&(i=t.charCodeAt(r),!(i===32||i<32||i===127));){if(i===92&&r+1<n){if(t.charCodeAt(r+1)===32)break;r+=2;continue}if(i===40&&(o++,o>32))return s;if(i===41){if(o===0)break;o--}r++}return e===r||o!==0||(s.str=sa(t.slice(e,r)),s.pos=r,s.ok=!0),s}function l7(t,e,n){let i,r,s=0,o=e;const a={ok:!1,pos:0,lines:0,str:""};if(o>=n||(r=t.charCodeAt(o),r!==34&&r!==39&&r!==40))return a;for(o++,r===40&&(r=41);o<n;){if(i=t.charCodeAt(o),i===r)return a.pos=o+1,a.lines=s,a.str=sa(t.slice(e+1,o)),a.ok=!0,a;if(i===40&&r===41)return a;i===10?s++:i===92&&o+1<n&&(o++,t.charCodeAt(o)===10&&s++),o++}return a}const u7=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:a7,parseLinkLabel:o7,parseLinkTitle:l7},Symbol.toStringTag,{value:"Module"})),Xn={};Xn.code_inline=function(t,e,n,i,r){const s=t[e];return"<code"+r.renderAttrs(s)+">"+Mi(s.content)+"</code>"};Xn.code_block=function(t,e,n,i,r){const s=t[e];return"<pre"+r.renderAttrs(s)+"><code>"+Mi(t[e].content)+`</code></pre>
`};Xn.fence=function(t,e,n,i,r){const s=t[e],o=s.info?sa(s.info).trim():"";let a="",l="";if(o){const c=o.split(/(\s+)/g);a=c[0],l=c.slice(2).join("")}let u;if(n.highlight?u=n.highlight(s.content,a,l)||Mi(s.content):u=Mi(s.content),u.indexOf("<pre")===0)return u+`
`;if(o){const c=s.attrIndex("class"),h=s.attrs?s.attrs.slice():[];c<0?h.push(["class",n.langPrefix+a]):(h[c]=h[c].slice(),h[c][1]+=" "+n.langPrefix+a);const f={attrs:h};return`<pre><code${r.renderAttrs(f)}>${u}</code></pre>
`}return`<pre><code${r.renderAttrs(s)}>${u}</code></pre>
`};Xn.image=function(t,e,n,i,r){const s=t[e];return s.attrs[s.attrIndex("alt")][1]=r.renderInlineAsText(s.children,n,i),r.renderToken(t,e,n)};Xn.hardbreak=function(t,e,n){return n.xhtmlOut?`<br />
`:`<br>
`};Xn.softbreak=function(t,e,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};Xn.text=function(t,e){return Mi(t[e].content)};Xn.html_block=function(t,e){return t[e].content};Xn.html_inline=function(t,e){return t[e].content};function Ds(){this.rules=Ac({},Xn)}Ds.prototype.renderAttrs=function(e){let n,i,r;if(!e.attrs)return"";for(r="",n=0,i=e.attrs.length;n<i;n++)r+=" "+Mi(e.attrs[n][0])+'="'+Mi(e.attrs[n][1])+'"';return r};Ds.prototype.renderToken=function(e,n,i){const r=e[n];let s="";if(r.hidden)return"";r.block&&r.nesting!==-1&&n&&e[n-1].hidden&&(s+=`
`),s+=(r.nesting===-1?"</":"<")+r.tag,s+=this.renderAttrs(r),r.nesting===0&&i.xhtmlOut&&(s+=" /");let o=!1;if(r.block&&(o=!0,r.nesting===1&&n+1<e.length)){const a=e[n+1];(a.type==="inline"||a.hidden||a.nesting===-1&&a.tag===r.tag)&&(o=!1)}return s+=o?`>
`:">",s};Ds.prototype.renderInline=function(t,e,n){let i="";const r=this.rules;for(let s=0,o=t.length;s<o;s++){const a=t[s].type;typeof r[a]<"u"?i+=r[a](t,s,e,n,this):i+=this.renderToken(t,s,e)}return i};Ds.prototype.renderInlineAsText=function(t,e,n){let i="";for(let r=0,s=t.length;r<s;r++)switch(t[r].type){case"text":i+=t[r].content;break;case"image":i+=this.renderInlineAsText(t[r].children,e,n);break;case"html_inline":case"html_block":i+=t[r].content;break;case"softbreak":case"hardbreak":i+=`
`;break}return i};Ds.prototype.render=function(t,e,n){let i="";const r=this.rules;for(let s=0,o=t.length;s<o;s++){const a=t[s].type;a==="inline"?i+=this.renderInline(t[s].children,e,n):typeof r[a]<"u"?i+=r[a](t,s,e,n,this):i+=this.renderToken(t,s,e,n)}return i};function Vt(){this.__rules__=[],this.__cache__=null}Vt.prototype.__find__=function(t){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1};Vt.prototype.__compile__=function(){const t=this,e=[""];t.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(i){e.indexOf(i)<0&&e.push(i)})}),t.__cache__={},e.forEach(function(n){t.__cache__[n]=[],t.__rules__.forEach(function(i){i.enabled&&(n&&i.alt.indexOf(n)<0||t.__cache__[n].push(i.fn))})})};Vt.prototype.at=function(t,e,n){const i=this.__find__(t),r=n||{};if(i===-1)throw new Error("Parser rule not found: "+t);this.__rules__[i].fn=e,this.__rules__[i].alt=r.alt||[],this.__cache__=null};Vt.prototype.before=function(t,e,n,i){const r=this.__find__(t),s=i||{};if(r===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(r,0,{name:e,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};Vt.prototype.after=function(t,e,n,i){const r=this.__find__(t),s=i||{};if(r===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(r+1,0,{name:e,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};Vt.prototype.push=function(t,e,n){const i=n||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:i.alt||[]}),this.__cache__=null};Vt.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach(function(i){const r=this.__find__(i);if(r<0){if(e)return;throw new Error("Rules manager: invalid rule name "+i)}this.__rules__[r].enabled=!0,n.push(i)},this),this.__cache__=null,n};Vt.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(t,e)};Vt.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach(function(i){const r=this.__find__(i);if(r<0){if(e)return;throw new Error("Rules manager: invalid rule name "+i)}this.__rules__[r].enabled=!1,n.push(i)},this),this.__cache__=null,n};Vt.prototype.getRules=function(t){return this.__cache__===null&&this.__compile__(),this.__cache__[t]||[]};function bn(t,e,n){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}bn.prototype.attrIndex=function(e){if(!this.attrs)return-1;const n=this.attrs;for(let i=0,r=n.length;i<r;i++)if(n[i][0]===e)return i;return-1};bn.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]};bn.prototype.attrSet=function(e,n){const i=this.attrIndex(e),r=[e,n];i<0?this.attrPush(r):this.attrs[i]=r};bn.prototype.attrGet=function(e){const n=this.attrIndex(e);let i=null;return n>=0&&(i=this.attrs[n][1]),i};bn.prototype.attrJoin=function(e,n){const i=this.attrIndex(e);i<0?this.attrPush([e,n]):this.attrs[i][1]=this.attrs[i][1]+" "+n};function Z2(t,e,n){this.src=t,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=e}Z2.prototype.Token=bn;const c7=/\r\n?|\n/g,h7=/\0/g;function f7(t){let e;e=t.src.replace(c7,`
`),e=e.replace(h7,"�"),t.src=e}function d7(t){let e;t.inlineMode?(e=new t.Token("inline","",0),e.content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}function p7(t){const e=t.tokens;for(let n=0,i=e.length;n<i;n++){const r=e[n];r.type==="inline"&&t.md.inline.parse(r.content,t.md,t.env,r.children)}}function m7(t){return/^<a[>\s]/i.test(t)}function g7(t){return/^<\/a\s*>/i.test(t)}function O7(t){const e=t.tokens;if(t.md.options.linkify)for(let n=0,i=e.length;n<i;n++){if(e[n].type!=="inline"||!t.md.linkify.pretest(e[n].content))continue;let r=e[n].children,s=0;for(let o=r.length-1;o>=0;o--){const a=r[o];if(a.type==="link_close"){for(o--;r[o].level!==a.level&&r[o].type!=="link_open";)o--;continue}if(a.type==="html_inline"&&(m7(a.content)&&s>0&&s--,g7(a.content)&&s++),!(s>0)&&a.type==="text"&&t.md.linkify.test(a.content)){const l=a.content;let u=t.md.linkify.match(l);const c=[];let h=a.level,f=0;u.length>0&&u[0].index===0&&o>0&&r[o-1].type==="text_special"&&(u=u.slice(1));for(let d=0;d<u.length;d++){const p=u[d].url,g=t.md.normalizeLink(p);if(!t.md.validateLink(g))continue;let m=u[d].text;u[d].schema?u[d].schema==="mailto:"&&!/^mailto:/i.test(m)?m=t.md.normalizeLinkText("mailto:"+m).replace(/^mailto:/,""):m=t.md.normalizeLinkText(m):m=t.md.normalizeLinkText("http://"+m).replace(/^http:\/\//,"");const O=u[d].index;if(O>f){const _=new t.Token("text","",0);_.content=l.slice(f,O),_.level=h,c.push(_)}const y=new t.Token("link_open","a",1);y.attrs=[["href",g]],y.level=h++,y.markup="linkify",y.info="auto",c.push(y);const v=new t.Token("text","",0);v.content=m,v.level=h,c.push(v);const k=new t.Token("link_close","a",-1);k.level=--h,k.markup="linkify",k.info="auto",c.push(k),f=u[d].lastIndex}if(f<l.length){const d=new t.Token("text","",0);d.content=l.slice(f),d.level=h,c.push(d)}e[n].children=r=V2(r,o,c)}}}}const M2=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,b7=/\((c|tm|r)\)/i,y7=/\((c|tm|r)\)/ig,v7={c:"©",r:"®",tm:"™"};function _7(t,e){return v7[e.toLowerCase()]}function w7(t){let e=0;for(let n=t.length-1;n>=0;n--){const i=t[n];i.type==="text"&&!e&&(i.content=i.content.replace(y7,_7)),i.type==="link_open"&&i.info==="auto"&&e--,i.type==="link_close"&&i.info==="auto"&&e++}}function k7(t){let e=0;for(let n=t.length-1;n>=0;n--){const i=t[n];i.type==="text"&&!e&&M2.test(i.content)&&(i.content=i.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1—").replace(/(^|\s)--(?=\s|$)/mg,"$1–").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1–")),i.type==="link_open"&&i.info==="auto"&&e--,i.type==="link_close"&&i.info==="auto"&&e++}}function S7(t){let e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)t.tokens[e].type==="inline"&&(b7.test(t.tokens[e].content)&&w7(t.tokens[e].children),M2.test(t.tokens[e].content)&&k7(t.tokens[e].children))}const x7=/['"]/,sb=/['"]/g,ob="’";function wl(t,e,n){return t.slice(0,e)+n+t.slice(e+1)}function T7(t,e){let n;const i=[];for(let r=0;r<t.length;r++){const s=t[r],o=t[r].level;for(n=i.length-1;n>=0&&!(i[n].level<=o);n--);if(i.length=n+1,s.type!=="text")continue;let a=s.content,l=0,u=a.length;e:for(;l<u;){sb.lastIndex=l;const c=sb.exec(a);if(!c)break;let h=!0,f=!0;l=c.index+1;const d=c[0]==="'";let p=32;if(c.index-1>=0)p=a.charCodeAt(c.index-1);else for(n=r-1;n>=0&&!(t[n].type==="softbreak"||t[n].type==="hardbreak");n--)if(t[n].content){p=t[n].content.charCodeAt(t[n].content.length-1);break}let g=32;if(l<u)g=a.charCodeAt(l);else for(n=r+1;n<t.length&&!(t[n].type==="softbreak"||t[n].type==="hardbreak");n++)if(t[n].content){g=t[n].content.charCodeAt(0);break}const m=la(p)||aa(String.fromCharCode(p)),O=la(g)||aa(String.fromCharCode(g)),y=oa(p),v=oa(g);if(v?h=!1:O&&(y||m||(h=!1)),y?f=!1:m&&(v||O||(f=!1)),g===34&&c[0]==='"'&&p>=48&&p<=57&&(f=h=!1),h&&f&&(h=m,f=O),!h&&!f){d&&(s.content=wl(s.content,c.index,ob));continue}if(f)for(n=i.length-1;n>=0;n--){let k=i[n];if(i[n].level<o)break;if(k.single===d&&i[n].level===o){k=i[n];let _,A;d?(_=e.md.options.quotes[2],A=e.md.options.quotes[3]):(_=e.md.options.quotes[0],A=e.md.options.quotes[1]),s.content=wl(s.content,c.index,A),t[k.token].content=wl(t[k.token].content,k.pos,_),l+=A.length-1,k.token===r&&(l+=_.length-1),a=s.content,u=a.length,i.length=n;continue e}}h?i.push({token:r,pos:c.index,single:d,level:o}):f&&d&&(s.content=wl(s.content,c.index,ob))}}}function P7(t){if(t.md.options.typographer)for(let e=t.tokens.length-1;e>=0;e--)t.tokens[e].type!=="inline"||!x7.test(t.tokens[e].content)||T7(t.tokens[e].children,t)}function E7(t){let e,n;const i=t.tokens,r=i.length;for(let s=0;s<r;s++){if(i[s].type!=="inline")continue;const o=i[s].children,a=o.length;for(e=0;e<a;e++)o[e].type==="text_special"&&(o[e].type="text");for(e=n=0;e<a;e++)o[e].type==="text"&&e+1<a&&o[e+1].type==="text"?o[e+1].content=o[e].content+o[e+1].content:(e!==n&&(o[n]=o[e]),n++);e!==n&&(o.length=n)}}const Rh=[["normalize",f7],["block",d7],["inline",p7],["linkify",O7],["replacements",S7],["smartquotes",P7],["text_join",E7]];function Pm(){this.ruler=new Vt;for(let t=0;t<Rh.length;t++)this.ruler.push(Rh[t][0],Rh[t][1])}Pm.prototype.process=function(t){const e=this.ruler.getRules("");for(let n=0,i=e.length;n<i;n++)e[n](t)};Pm.prototype.State=Z2;function zn(t,e,n,i){this.src=t,this.md=e,this.env=n,this.tokens=i,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const r=this.src;for(let s=0,o=0,a=0,l=0,u=r.length,c=!1;o<u;o++){const h=r.charCodeAt(o);if(!c)if(Pe(h)){a++,h===9?l+=4-l%4:l++;continue}else c=!0;(h===10||o===u-1)&&(h!==10&&o++,this.bMarks.push(s),this.eMarks.push(o),this.tShift.push(a),this.sCount.push(l),this.bsCount.push(0),c=!1,a=0,l=0,s=o+1)}this.bMarks.push(r.length),this.eMarks.push(r.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}zn.prototype.push=function(t,e,n){const i=new bn(t,e,n);return i.block=!0,n<0&&this.level--,i.level=this.level,n>0&&this.level++,this.tokens.push(i),i};zn.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]};zn.prototype.skipEmptyLines=function(e){for(let n=this.lineMax;e<n&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e};zn.prototype.skipSpaces=function(e){for(let n=this.src.length;e<n;e++){const i=this.src.charCodeAt(e);if(!Pe(i))break}return e};zn.prototype.skipSpacesBack=function(e,n){if(e<=n)return e;for(;e>n;)if(!Pe(this.src.charCodeAt(--e)))return e+1;return e};zn.prototype.skipChars=function(e,n){for(let i=this.src.length;e<i&&this.src.charCodeAt(e)===n;e++);return e};zn.prototype.skipCharsBack=function(e,n,i){if(e<=i)return e;for(;e>i;)if(n!==this.src.charCodeAt(--e))return e+1;return e};zn.prototype.getLines=function(e,n,i,r){if(e>=n)return"";const s=new Array(n-e);for(let o=0,a=e;a<n;a++,o++){let l=0;const u=this.bMarks[a];let c=u,h;for(a+1<n||r?h=this.eMarks[a]+1:h=this.eMarks[a];c<h&&l<i;){const f=this.src.charCodeAt(c);if(Pe(f))f===9?l+=4-(l+this.bsCount[a])%4:l++;else if(c-u<this.tShift[a])l++;else break;c++}l>i?s[o]=new Array(l-i+1).join(" ")+this.src.slice(c,h):s[o]=this.src.slice(c,h)}return s.join("")};zn.prototype.Token=bn;function Dh(t,e){const n=t.bMarks[e]+t.tShift[e],i=t.eMarks[e];return t.src.slice(n,i)}function ab(t){const e=[],n=t.length;let i=0,r=t.charCodeAt(i),s=!1,o=0,a="";for(;i<n;)r===124&&(s?(a+=t.substring(o,i-1),o=i):(e.push(a+t.substring(o,i)),a="",o=i+1)),s=r===92,i++,r=t.charCodeAt(i);return e.push(a+t.substring(o)),e}function A7(t,e,n,i){if(e+2>n)return!1;let r=e+1;if(t.sCount[r]<t.blkIndent||t.sCount[r]-t.blkIndent>=4)return!1;let s=t.bMarks[r]+t.tShift[r];if(s>=t.eMarks[r])return!1;const o=t.src.charCodeAt(s++);if(o!==124&&o!==45&&o!==58||s>=t.eMarks[r])return!1;const a=t.src.charCodeAt(s++);if(a!==124&&a!==45&&a!==58&&!Pe(a)||o===45&&Pe(a))return!1;for(;s<t.eMarks[r];){const v=t.src.charCodeAt(s);if(v!==124&&v!==45&&v!==58&&!Pe(v))return!1;s++}let l=Dh(t,e+1),u=l.split("|");const c=[];for(let v=0;v<u.length;v++){const k=u[v].trim();if(!k){if(v===0||v===u.length-1)continue;return!1}if(!/^:?-+:?$/.test(k))return!1;k.charCodeAt(k.length-1)===58?c.push(k.charCodeAt(0)===58?"center":"right"):k.charCodeAt(0)===58?c.push("left"):c.push("")}if(l=Dh(t,e).trim(),l.indexOf("|")===-1||t.sCount[e]-t.blkIndent>=4)return!1;u=ab(l),u.length&&u[0]===""&&u.shift(),u.length&&u[u.length-1]===""&&u.pop();const h=u.length;if(h===0||h!==c.length)return!1;if(i)return!0;const f=t.parentType;t.parentType="table";const d=t.md.block.ruler.getRules("blockquote"),p=t.push("table_open","table",1),g=[e,0];p.map=g;const m=t.push("thead_open","thead",1);m.map=[e,e+1];const O=t.push("tr_open","tr",1);O.map=[e,e+1];for(let v=0;v<u.length;v++){const k=t.push("th_open","th",1);c[v]&&(k.attrs=[["style","text-align:"+c[v]]]);const _=t.push("inline","",0);_.content=u[v].trim(),_.children=[],t.push("th_close","th",-1)}t.push("tr_close","tr",-1),t.push("thead_close","thead",-1);let y;for(r=e+2;r<n&&!(t.sCount[r]<t.blkIndent);r++){let v=!1;for(let _=0,A=d.length;_<A;_++)if(d[_](t,r,n,!0)){v=!0;break}if(v||(l=Dh(t,r).trim(),!l)||t.sCount[r]-t.blkIndent>=4)break;if(u=ab(l),u.length&&u[0]===""&&u.shift(),u.length&&u[u.length-1]===""&&u.pop(),r===e+2){const _=t.push("tbody_open","tbody",1);_.map=y=[e+2,0]}const k=t.push("tr_open","tr",1);k.map=[r,r+1];for(let _=0;_<h;_++){const A=t.push("td_open","td",1);c[_]&&(A.attrs=[["style","text-align:"+c[_]]]);const T=t.push("inline","",0);T.content=u[_]?u[_].trim():"",T.children=[],t.push("td_close","td",-1)}t.push("tr_close","tr",-1)}return y&&(t.push("tbody_close","tbody",-1),y[1]=r),t.push("table_close","table",-1),g[1]=r,t.parentType=f,t.line=r,!0}function C7(t,e,n){if(t.sCount[e]-t.blkIndent<4)return!1;let i=e+1,r=i;for(;i<n;){if(t.isEmpty(i)){i++;continue}if(t.sCount[i]-t.blkIndent>=4){i++,r=i;continue}break}t.line=r;const s=t.push("code_block","code",0);return s.content=t.getLines(e,r,4+t.blkIndent,!1)+`
`,s.map=[e,t.line],!0}function $7(t,e,n,i){let r=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||r+3>s)return!1;const o=t.src.charCodeAt(r);if(o!==126&&o!==96)return!1;let a=r;r=t.skipChars(r,o);let l=r-a;if(l<3)return!1;const u=t.src.slice(a,r),c=t.src.slice(r,s);if(o===96&&c.indexOf(String.fromCharCode(o))>=0)return!1;if(i)return!0;let h=e,f=!1;for(;h++,!(h>=n||(r=a=t.bMarks[h]+t.tShift[h],s=t.eMarks[h],r<s&&t.sCount[h]<t.blkIndent));)if(t.src.charCodeAt(r)===o&&!(t.sCount[h]-t.blkIndent>=4)&&(r=t.skipChars(r,o),!(r-a<l)&&(r=t.skipSpaces(r),!(r<s)))){f=!0;break}l=t.sCount[e],t.line=h+(f?1:0);const d=t.push("fence","code",0);return d.info=c,d.content=t.getLines(e+1,h,l,!0),d.markup=u,d.map=[e,t.line],!0}function I7(t,e,n,i){let r=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];const o=t.lineMax;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(r)!==62)return!1;if(i)return!0;const a=[],l=[],u=[],c=[],h=t.md.block.ruler.getRules("blockquote"),f=t.parentType;t.parentType="blockquote";let d=!1,p;for(p=e;p<n;p++){const v=t.sCount[p]<t.blkIndent;if(r=t.bMarks[p]+t.tShift[p],s=t.eMarks[p],r>=s)break;if(t.src.charCodeAt(r++)===62&&!v){let _=t.sCount[p]+1,A,T;t.src.charCodeAt(r)===32?(r++,_++,T=!1,A=!0):t.src.charCodeAt(r)===9?(A=!0,(t.bsCount[p]+_)%4===3?(r++,_++,T=!1):T=!0):A=!1;let x=_;for(a.push(t.bMarks[p]),t.bMarks[p]=r;r<s;){const B=t.src.charCodeAt(r);if(Pe(B))B===9?x+=4-(x+t.bsCount[p]+(T?1:0))%4:x++;else break;r++}d=r>=s,l.push(t.bsCount[p]),t.bsCount[p]=t.sCount[p]+1+(A?1:0),u.push(t.sCount[p]),t.sCount[p]=x-_,c.push(t.tShift[p]),t.tShift[p]=r-t.bMarks[p];continue}if(d)break;let k=!1;for(let _=0,A=h.length;_<A;_++)if(h[_](t,p,n,!0)){k=!0;break}if(k){t.lineMax=p,t.blkIndent!==0&&(a.push(t.bMarks[p]),l.push(t.bsCount[p]),c.push(t.tShift[p]),u.push(t.sCount[p]),t.sCount[p]-=t.blkIndent);break}a.push(t.bMarks[p]),l.push(t.bsCount[p]),c.push(t.tShift[p]),u.push(t.sCount[p]),t.sCount[p]=-1}const g=t.blkIndent;t.blkIndent=0;const m=t.push("blockquote_open","blockquote",1);m.markup=">";const O=[e,0];m.map=O,t.md.block.tokenize(t,e,p);const y=t.push("blockquote_close","blockquote",-1);y.markup=">",t.lineMax=o,t.parentType=f,O[1]=t.line;for(let v=0;v<c.length;v++)t.bMarks[v+e]=a[v],t.tShift[v+e]=c[v],t.sCount[v+e]=u[v],t.bsCount[v+e]=l[v];return t.blkIndent=g,!0}function Q7(t,e,n,i){const r=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let s=t.bMarks[e]+t.tShift[e];const o=t.src.charCodeAt(s++);if(o!==42&&o!==45&&o!==95)return!1;let a=1;for(;s<r;){const u=t.src.charCodeAt(s++);if(u!==o&&!Pe(u))return!1;u===o&&a++}if(a<3)return!1;if(i)return!0;t.line=e+1;const l=t.push("hr","hr",0);return l.map=[e,t.line],l.markup=Array(a+1).join(String.fromCharCode(o)),!0}function lb(t,e){const n=t.eMarks[e];let i=t.bMarks[e]+t.tShift[e];const r=t.src.charCodeAt(i++);if(r!==42&&r!==45&&r!==43)return-1;if(i<n){const s=t.src.charCodeAt(i);if(!Pe(s))return-1}return i}function ub(t,e){const n=t.bMarks[e]+t.tShift[e],i=t.eMarks[e];let r=n;if(r+1>=i)return-1;let s=t.src.charCodeAt(r++);if(s<48||s>57)return-1;for(;;){if(r>=i)return-1;if(s=t.src.charCodeAt(r++),s>=48&&s<=57){if(r-n>=10)return-1;continue}if(s===41||s===46)break;return-1}return r<i&&(s=t.src.charCodeAt(r),!Pe(s))?-1:r}function R7(t,e){const n=t.level+2;for(let i=e+2,r=t.tokens.length-2;i<r;i++)t.tokens[i].level===n&&t.tokens[i].type==="paragraph_open"&&(t.tokens[i+2].hidden=!0,t.tokens[i].hidden=!0,i+=2)}function D7(t,e,n,i){let r,s,o,a,l=e,u=!0;if(t.sCount[l]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[l]-t.listIndent>=4&&t.sCount[l]<t.blkIndent)return!1;let c=!1;i&&t.parentType==="paragraph"&&t.sCount[l]>=t.blkIndent&&(c=!0);let h,f,d;if((d=ub(t,l))>=0){if(h=!0,o=t.bMarks[l]+t.tShift[l],f=Number(t.src.slice(o,d-1)),c&&f!==1)return!1}else if((d=lb(t,l))>=0)h=!1;else return!1;if(c&&t.skipSpaces(d)>=t.eMarks[l])return!1;if(i)return!0;const p=t.src.charCodeAt(d-1),g=t.tokens.length;h?(a=t.push("ordered_list_open","ol",1),f!==1&&(a.attrs=[["start",f]])):a=t.push("bullet_list_open","ul",1);const m=[l,0];a.map=m,a.markup=String.fromCharCode(p);let O=!1;const y=t.md.block.ruler.getRules("list"),v=t.parentType;for(t.parentType="list";l<n;){s=d,r=t.eMarks[l];const k=t.sCount[l]+d-(t.bMarks[l]+t.tShift[l]);let _=k;for(;s<r;){const H=t.src.charCodeAt(s);if(H===9)_+=4-(_+t.bsCount[l])%4;else if(H===32)_++;else break;s++}const A=s;let T;A>=r?T=1:T=_-k,T>4&&(T=1);const x=k+T;a=t.push("list_item_open","li",1),a.markup=String.fromCharCode(p);const B=[l,0];a.map=B,h&&(a.info=t.src.slice(o,d-1));const V=t.tight,j=t.tShift[l],R=t.sCount[l],M=t.listIndent;if(t.listIndent=t.blkIndent,t.blkIndent=x,t.tight=!0,t.tShift[l]=A-t.bMarks[l],t.sCount[l]=_,A>=r&&t.isEmpty(l+1)?t.line=Math.min(t.line+2,n):t.md.block.tokenize(t,l,n,!0),(!t.tight||O)&&(u=!1),O=t.line-l>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=M,t.tShift[l]=j,t.sCount[l]=R,t.tight=V,a=t.push("list_item_close","li",-1),a.markup=String.fromCharCode(p),l=t.line,B[1]=l,l>=n||t.sCount[l]<t.blkIndent||t.sCount[l]-t.blkIndent>=4)break;let z=!1;for(let H=0,U=y.length;H<U;H++)if(y[H](t,l,n,!0)){z=!0;break}if(z)break;if(h){if(d=ub(t,l),d<0)break;o=t.bMarks[l]+t.tShift[l]}else if(d=lb(t,l),d<0)break;if(p!==t.src.charCodeAt(d-1))break}return h?a=t.push("ordered_list_close","ol",-1):a=t.push("bullet_list_close","ul",-1),a.markup=String.fromCharCode(p),m[1]=l,t.line=l,t.parentType=v,u&&R7(t,g),!0}function V7(t,e,n,i){let r=0,s=t.bMarks[e]+t.tShift[e],o=t.eMarks[e],a=e+1;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(s)!==91)return!1;for(;++s<o;)if(t.src.charCodeAt(s)===93&&t.src.charCodeAt(s-1)!==92){if(s+1===o||t.src.charCodeAt(s+1)!==58)return!1;break}const l=t.lineMax,u=t.md.block.ruler.getRules("reference"),c=t.parentType;for(t.parentType="reference";a<l&&!t.isEmpty(a);a++){if(t.sCount[a]-t.blkIndent>3||t.sCount[a]<0)continue;let _=!1;for(let A=0,T=u.length;A<T;A++)if(u[A](t,a,l,!0)){_=!0;break}if(_)break}const h=t.getLines(e,a,t.blkIndent,!1).trim();o=h.length;let f=-1;for(s=1;s<o;s++){const _=h.charCodeAt(s);if(_===91)return!1;if(_===93){f=s;break}else _===10?r++:_===92&&(s++,s<o&&h.charCodeAt(s)===10&&r++)}if(f<0||h.charCodeAt(f+1)!==58)return!1;for(s=f+2;s<o;s++){const _=h.charCodeAt(s);if(_===10)r++;else if(!Pe(_))break}const d=t.md.helpers.parseLinkDestination(h,s,o);if(!d.ok)return!1;const p=t.md.normalizeLink(d.str);if(!t.md.validateLink(p))return!1;s=d.pos,r+=d.lines;const g=s,m=r,O=s;for(;s<o;s++){const _=h.charCodeAt(s);if(_===10)r++;else if(!Pe(_))break}const y=t.md.helpers.parseLinkTitle(h,s,o);let v;for(s<o&&O!==s&&y.ok?(v=y.str,s=y.pos,r+=y.lines):(v="",s=g,r=m);s<o;){const _=h.charCodeAt(s);if(!Pe(_))break;s++}if(s<o&&h.charCodeAt(s)!==10&&v)for(v="",s=g,r=m;s<o;){const _=h.charCodeAt(s);if(!Pe(_))break;s++}if(s<o&&h.charCodeAt(s)!==10)return!1;const k=Cc(h.slice(1,f));return k?(i||(typeof t.env.references>"u"&&(t.env.references={}),typeof t.env.references[k]>"u"&&(t.env.references[k]={title:v,href:p}),t.parentType=c,t.line=e+r+1),!0):!1}const L7=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Z7="[a-zA-Z_:][a-zA-Z0-9:._-]*",M7="[^\"'=<>`\\x00-\\x20]+",F7="'[^']*'",N7='"[^"]*"',B7="(?:"+M7+"|"+F7+"|"+N7+")",j7="(?:\\s+"+Z7+"(?:\\s*=\\s*"+B7+")?)",F2="<[A-Za-z][A-Za-z0-9\\-]*"+j7+"*\\s*\\/?>",N2="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",X7="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",z7="<[?][\\s\\S]*?[?]>",q7="<![A-Z]+\\s+[^>]*>",W7="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",Y7=new RegExp("^(?:"+F2+"|"+N2+"|"+X7+"|"+z7+"|"+q7+"|"+W7+")"),U7=new RegExp("^(?:"+F2+"|"+N2+")"),Ir=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+L7.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(U7.source+"\\s*$"),/^$/,!1]];function G7(t,e,n,i){let r=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(r)!==60)return!1;let o=t.src.slice(r,s),a=0;for(;a<Ir.length&&!Ir[a][0].test(o);a++);if(a===Ir.length)return!1;if(i)return Ir[a][2];let l=e+1;if(!Ir[a][1].test(o)){for(;l<n&&!(t.sCount[l]<t.blkIndent);l++)if(r=t.bMarks[l]+t.tShift[l],s=t.eMarks[l],o=t.src.slice(r,s),Ir[a][1].test(o)){o.length!==0&&l++;break}}t.line=l;const u=t.push("html_block","",0);return u.map=[e,l],u.content=t.getLines(e,l,t.blkIndent,!0),!0}function H7(t,e,n,i){let r=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let o=t.src.charCodeAt(r);if(o!==35||r>=s)return!1;let a=1;for(o=t.src.charCodeAt(++r);o===35&&r<s&&a<=6;)a++,o=t.src.charCodeAt(++r);if(a>6||r<s&&!Pe(o))return!1;if(i)return!0;s=t.skipSpacesBack(s,r);const l=t.skipCharsBack(s,35,r);l>r&&Pe(t.src.charCodeAt(l-1))&&(s=l),t.line=e+1;const u=t.push("heading_open","h"+String(a),1);u.markup="########".slice(0,a),u.map=[e,t.line];const c=t.push("inline","",0);c.content=t.src.slice(r,s).trim(),c.map=[e,t.line],c.children=[];const h=t.push("heading_close","h"+String(a),-1);return h.markup="########".slice(0,a),!0}function K7(t,e,n){const i=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;const r=t.parentType;t.parentType="paragraph";let s=0,o,a=e+1;for(;a<n&&!t.isEmpty(a);a++){if(t.sCount[a]-t.blkIndent>3)continue;if(t.sCount[a]>=t.blkIndent){let d=t.bMarks[a]+t.tShift[a];const p=t.eMarks[a];if(d<p&&(o=t.src.charCodeAt(d),(o===45||o===61)&&(d=t.skipChars(d,o),d=t.skipSpaces(d),d>=p))){s=o===61?1:2;break}}if(t.sCount[a]<0)continue;let f=!1;for(let d=0,p=i.length;d<p;d++)if(i[d](t,a,n,!0)){f=!0;break}if(f)break}if(!s)return!1;const l=t.getLines(e,a,t.blkIndent,!1).trim();t.line=a+1;const u=t.push("heading_open","h"+String(s),1);u.markup=String.fromCharCode(o),u.map=[e,t.line];const c=t.push("inline","",0);c.content=l,c.map=[e,t.line-1],c.children=[];const h=t.push("heading_close","h"+String(s),-1);return h.markup=String.fromCharCode(o),t.parentType=r,!0}function J7(t,e,n){const i=t.md.block.ruler.getRules("paragraph"),r=t.parentType;let s=e+1;for(t.parentType="paragraph";s<n&&!t.isEmpty(s);s++){if(t.sCount[s]-t.blkIndent>3||t.sCount[s]<0)continue;let u=!1;for(let c=0,h=i.length;c<h;c++)if(i[c](t,s,n,!0)){u=!0;break}if(u)break}const o=t.getLines(e,s,t.blkIndent,!1).trim();t.line=s;const a=t.push("paragraph_open","p",1);a.map=[e,t.line];const l=t.push("inline","",0);return l.content=o,l.map=[e,t.line],l.children=[],t.push("paragraph_close","p",-1),t.parentType=r,!0}const kl=[["table",A7,["paragraph","reference"]],["code",C7],["fence",$7,["paragraph","reference","blockquote","list"]],["blockquote",I7,["paragraph","reference","blockquote","list"]],["hr",Q7,["paragraph","reference","blockquote","list"]],["list",D7,["paragraph","reference","blockquote"]],["reference",V7],["html_block",G7,["paragraph","reference","blockquote"]],["heading",H7,["paragraph","reference","blockquote"]],["lheading",K7],["paragraph",J7]];function $c(){this.ruler=new Vt;for(let t=0;t<kl.length;t++)this.ruler.push(kl[t][0],kl[t][1],{alt:(kl[t][2]||[]).slice()})}$c.prototype.tokenize=function(t,e,n){const i=this.ruler.getRules(""),r=i.length,s=t.md.options.maxNesting;let o=e,a=!1;for(;o<n&&(t.line=o=t.skipEmptyLines(o),!(o>=n||t.sCount[o]<t.blkIndent));){if(t.level>=s){t.line=n;break}const l=t.line;let u=!1;for(let c=0;c<r;c++)if(u=i[c](t,o,n,!1),u){if(l>=t.line)throw new Error("block rule didn't increment state.line");break}if(!u)throw new Error("none of the block rules matched");t.tight=!a,t.isEmpty(t.line-1)&&(a=!0),o=t.line,o<n&&t.isEmpty(o)&&(a=!0,o++,t.line=o)}};$c.prototype.parse=function(t,e,n,i){if(!t)return;const r=new this.State(t,e,n,i);this.tokenize(r,r.line,r.lineMax)};$c.prototype.State=zn;function Da(t,e,n,i){this.src=t,this.env=n,this.md=e,this.tokens=i,this.tokens_meta=Array(i.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}Da.prototype.pushPending=function(){const t=new bn("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t};Da.prototype.push=function(t,e,n){this.pending&&this.pushPending();const i=new bn(t,e,n);let r=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),i.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],r={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(i),this.tokens_meta.push(r),i};Da.prototype.scanDelims=function(t,e){let n,i,r=!0,s=!0;const o=this.posMax,a=this.src.charCodeAt(t),l=t>0?this.src.charCodeAt(t-1):32;let u=t;for(;u<o&&this.src.charCodeAt(u)===a;)u++;const c=u-t,h=u<o?this.src.charCodeAt(u):32,f=la(l)||aa(String.fromCharCode(l)),d=la(h)||aa(String.fromCharCode(h)),p=oa(l),g=oa(h);return g?r=!1:d&&(p||f||(r=!1)),p?s=!1:f&&(g||d||(s=!1)),e?(n=r,i=s):(n=r&&(!s||f),i=s&&(!r||d)),{can_open:n,can_close:i,length:c}};Da.prototype.Token=bn;function eV(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function tV(t,e){let n=t.pos;for(;n<t.posMax&&!eV(t.src.charCodeAt(n));)n++;return n===t.pos?!1:(e||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}const nV=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function iV(t,e){if(!t.md.options.linkify||t.linkLevel>0)return!1;const n=t.pos,i=t.posMax;if(n+3>i||t.src.charCodeAt(n)!==58||t.src.charCodeAt(n+1)!==47||t.src.charCodeAt(n+2)!==47)return!1;const r=t.pending.match(nV);if(!r)return!1;const s=r[1],o=t.md.linkify.matchAtStart(t.src.slice(n-s.length));if(!o)return!1;let a=o.url;if(a.length<=s.length)return!1;a=a.replace(/\*+$/,"");const l=t.md.normalizeLink(a);if(!t.md.validateLink(l))return!1;if(!e){t.pending=t.pending.slice(0,-s.length);const u=t.push("link_open","a",1);u.attrs=[["href",l]],u.markup="linkify",u.info="auto";const c=t.push("text","",0);c.content=t.md.normalizeLinkText(a);const h=t.push("link_close","a",-1);h.markup="linkify",h.info="auto"}return t.pos+=a.length-s.length,!0}function rV(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==10)return!1;const i=t.pending.length-1,r=t.posMax;if(!e)if(i>=0&&t.pending.charCodeAt(i)===32)if(i>=1&&t.pending.charCodeAt(i-1)===32){let s=i-1;for(;s>=1&&t.pending.charCodeAt(s-1)===32;)s--;t.pending=t.pending.slice(0,s),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(n++;n<r&&Pe(t.src.charCodeAt(n));)n++;return t.pos=n,!0}const Em=[];for(let t=0;t<256;t++)Em.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t){Em[t.charCodeAt(0)]=1});function sV(t,e){let n=t.pos;const i=t.posMax;if(t.src.charCodeAt(n)!==92||(n++,n>=i))return!1;let r=t.src.charCodeAt(n);if(r===10){for(e||t.push("hardbreak","br",0),n++;n<i&&(r=t.src.charCodeAt(n),!!Pe(r));)n++;return t.pos=n,!0}let s=t.src[n];if(r>=55296&&r<=56319&&n+1<i){const a=t.src.charCodeAt(n+1);a>=56320&&a<=57343&&(s+=t.src[n+1],n++)}const o="\\"+s;if(!e){const a=t.push("text_special","",0);r<256&&Em[r]!==0?a.content=s:a.content=o,a.markup=o,a.info="escape"}return t.pos=n+1,!0}function oV(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==96)return!1;const r=n;n++;const s=t.posMax;for(;n<s&&t.src.charCodeAt(n)===96;)n++;const o=t.src.slice(r,n),a=o.length;if(t.backticksScanned&&(t.backticks[a]||0)<=r)return e||(t.pending+=o),t.pos+=a,!0;let l=n,u;for(;(u=t.src.indexOf("`",l))!==-1;){for(l=u+1;l<s&&t.src.charCodeAt(l)===96;)l++;const c=l-u;if(c===a){if(!e){const h=t.push("code_inline","code",0);h.markup=o,h.content=t.src.slice(n,u).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return t.pos=l,!0}t.backticks[c]=u}return t.backticksScanned=!0,e||(t.pending+=o),t.pos+=a,!0}function aV(t,e){const n=t.pos,i=t.src.charCodeAt(n);if(e||i!==126)return!1;const r=t.scanDelims(t.pos,!0);let s=r.length;const o=String.fromCharCode(i);if(s<2)return!1;let a;s%2&&(a=t.push("text","",0),a.content=o,s--);for(let l=0;l<s;l+=2)a=t.push("text","",0),a.content=o+o,t.delimiters.push({marker:i,length:0,token:t.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return t.pos+=r.length,!0}function cb(t,e){let n;const i=[],r=e.length;for(let s=0;s<r;s++){const o=e[s];if(o.marker!==126||o.end===-1)continue;const a=e[o.end];n=t.tokens[o.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=t.tokens[a.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="",t.tokens[a.token-1].type==="text"&&t.tokens[a.token-1].content==="~"&&i.push(a.token-1)}for(;i.length;){const s=i.pop();let o=s+1;for(;o<t.tokens.length&&t.tokens[o].type==="s_close";)o++;o--,s!==o&&(n=t.tokens[o],t.tokens[o]=t.tokens[s],t.tokens[s]=n)}}function lV(t){const e=t.tokens_meta,n=t.tokens_meta.length;cb(t,t.delimiters);for(let i=0;i<n;i++)e[i]&&e[i].delimiters&&cb(t,e[i].delimiters)}const B2={tokenize:aV,postProcess:lV};function uV(t,e){const n=t.pos,i=t.src.charCodeAt(n);if(e||i!==95&&i!==42)return!1;const r=t.scanDelims(t.pos,i===42);for(let s=0;s<r.length;s++){const o=t.push("text","",0);o.content=String.fromCharCode(i),t.delimiters.push({marker:i,length:r.length,token:t.tokens.length-1,end:-1,open:r.can_open,close:r.can_close})}return t.pos+=r.length,!0}function hb(t,e){const n=e.length;for(let i=n-1;i>=0;i--){const r=e[i];if(r.marker!==95&&r.marker!==42||r.end===-1)continue;const s=e[r.end],o=i>0&&e[i-1].end===r.end+1&&e[i-1].marker===r.marker&&e[i-1].token===r.token-1&&e[r.end+1].token===s.token+1,a=String.fromCharCode(r.marker),l=t.tokens[r.token];l.type=o?"strong_open":"em_open",l.tag=o?"strong":"em",l.nesting=1,l.markup=o?a+a:a,l.content="";const u=t.tokens[s.token];u.type=o?"strong_close":"em_close",u.tag=o?"strong":"em",u.nesting=-1,u.markup=o?a+a:a,u.content="",o&&(t.tokens[e[i-1].token].content="",t.tokens[e[r.end+1].token].content="",i--)}}function cV(t){const e=t.tokens_meta,n=t.tokens_meta.length;hb(t,t.delimiters);for(let i=0;i<n;i++)e[i]&&e[i].delimiters&&hb(t,e[i].delimiters)}const j2={tokenize:uV,postProcess:cV};function hV(t,e){let n,i,r,s,o="",a="",l=t.pos,u=!0;if(t.src.charCodeAt(t.pos)!==91)return!1;const c=t.pos,h=t.posMax,f=t.pos+1,d=t.md.helpers.parseLinkLabel(t,t.pos,!0);if(d<0)return!1;let p=d+1;if(p<h&&t.src.charCodeAt(p)===40){for(u=!1,p++;p<h&&(n=t.src.charCodeAt(p),!(!Pe(n)&&n!==10));p++);if(p>=h)return!1;if(l=p,r=t.md.helpers.parseLinkDestination(t.src,p,t.posMax),r.ok){for(o=t.md.normalizeLink(r.str),t.md.validateLink(o)?p=r.pos:o="",l=p;p<h&&(n=t.src.charCodeAt(p),!(!Pe(n)&&n!==10));p++);if(r=t.md.helpers.parseLinkTitle(t.src,p,t.posMax),p<h&&l!==p&&r.ok)for(a=r.str,p=r.pos;p<h&&(n=t.src.charCodeAt(p),!(!Pe(n)&&n!==10));p++);}(p>=h||t.src.charCodeAt(p)!==41)&&(u=!0),p++}if(u){if(typeof t.env.references>"u")return!1;if(p<h&&t.src.charCodeAt(p)===91?(l=p+1,p=t.md.helpers.parseLinkLabel(t,p),p>=0?i=t.src.slice(l,p++):p=d+1):p=d+1,i||(i=t.src.slice(f,d)),s=t.env.references[Cc(i)],!s)return t.pos=c,!1;o=s.href,a=s.title}if(!e){t.pos=f,t.posMax=d;const g=t.push("link_open","a",1),m=[["href",o]];g.attrs=m,a&&m.push(["title",a]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,t.push("link_close","a",-1)}return t.pos=p,t.posMax=h,!0}function fV(t,e){let n,i,r,s,o,a,l,u,c="";const h=t.pos,f=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91)return!1;const d=t.pos+2,p=t.md.helpers.parseLinkLabel(t,t.pos+1,!1);if(p<0)return!1;if(s=p+1,s<f&&t.src.charCodeAt(s)===40){for(s++;s<f&&(n=t.src.charCodeAt(s),!(!Pe(n)&&n!==10));s++);if(s>=f)return!1;for(u=s,a=t.md.helpers.parseLinkDestination(t.src,s,t.posMax),a.ok&&(c=t.md.normalizeLink(a.str),t.md.validateLink(c)?s=a.pos:c=""),u=s;s<f&&(n=t.src.charCodeAt(s),!(!Pe(n)&&n!==10));s++);if(a=t.md.helpers.parseLinkTitle(t.src,s,t.posMax),s<f&&u!==s&&a.ok)for(l=a.str,s=a.pos;s<f&&(n=t.src.charCodeAt(s),!(!Pe(n)&&n!==10));s++);else l="";if(s>=f||t.src.charCodeAt(s)!==41)return t.pos=h,!1;s++}else{if(typeof t.env.references>"u")return!1;if(s<f&&t.src.charCodeAt(s)===91?(u=s+1,s=t.md.helpers.parseLinkLabel(t,s),s>=0?r=t.src.slice(u,s++):s=p+1):s=p+1,r||(r=t.src.slice(d,p)),o=t.env.references[Cc(r)],!o)return t.pos=h,!1;c=o.href,l=o.title}if(!e){i=t.src.slice(d,p);const g=[];t.md.inline.parse(i,t.md,t.env,g);const m=t.push("image","img",0),O=[["src",c],["alt",""]];m.attrs=O,m.children=g,m.content=i,l&&O.push(["title",l])}return t.pos=s,t.posMax=f,!0}const dV=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,pV=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function mV(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==60)return!1;const i=t.pos,r=t.posMax;for(;;){if(++n>=r)return!1;const o=t.src.charCodeAt(n);if(o===60)return!1;if(o===62)break}const s=t.src.slice(i+1,n);if(pV.test(s)){const o=t.md.normalizeLink(s);if(!t.md.validateLink(o))return!1;if(!e){const a=t.push("link_open","a",1);a.attrs=[["href",o]],a.markup="autolink",a.info="auto";const l=t.push("text","",0);l.content=t.md.normalizeLinkText(s);const u=t.push("link_close","a",-1);u.markup="autolink",u.info="auto"}return t.pos+=s.length+2,!0}if(dV.test(s)){const o=t.md.normalizeLink("mailto:"+s);if(!t.md.validateLink(o))return!1;if(!e){const a=t.push("link_open","a",1);a.attrs=[["href",o]],a.markup="autolink",a.info="auto";const l=t.push("text","",0);l.content=t.md.normalizeLinkText(s);const u=t.push("link_close","a",-1);u.markup="autolink",u.info="auto"}return t.pos+=s.length+2,!0}return!1}function gV(t){return/^<a[>\s]/i.test(t)}function OV(t){return/^<\/a\s*>/i.test(t)}function bV(t){const e=t|32;return e>=97&&e<=122}function yV(t,e){if(!t.md.options.html)return!1;const n=t.posMax,i=t.pos;if(t.src.charCodeAt(i)!==60||i+2>=n)return!1;const r=t.src.charCodeAt(i+1);if(r!==33&&r!==63&&r!==47&&!bV(r))return!1;const s=t.src.slice(i).match(Y7);if(!s)return!1;if(!e){const o=t.push("html_inline","",0);o.content=s[0],gV(o.content)&&t.linkLevel++,OV(o.content)&&t.linkLevel--}return t.pos+=s[0].length,!0}const vV=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,_V=/^&([a-z][a-z0-9]{1,31});/i;function wV(t,e){const n=t.pos,i=t.posMax;if(t.src.charCodeAt(n)!==38||n+1>=i)return!1;if(t.src.charCodeAt(n+1)===35){const s=t.src.slice(n).match(vV);if(s){if(!e){const o=s[1][0].toLowerCase()==="x"?parseInt(s[1].slice(1),16):parseInt(s[1],10),a=t.push("text_special","",0);a.content=Tm(o)?Vu(o):Vu(65533),a.markup=s[0],a.info="entity"}return t.pos+=s[0].length,!0}}else{const s=t.src.slice(n).match(_V);if(s){const o=D2(s[0]);if(o!==s[0]){if(!e){const a=t.push("text_special","",0);a.content=o,a.markup=s[0],a.info="entity"}return t.pos+=s[0].length,!0}}}return!1}function fb(t){const e={},n=t.length;if(!n)return;let i=0,r=-2;const s=[];for(let o=0;o<n;o++){const a=t[o];if(s.push(0),(t[i].marker!==a.marker||r!==a.token-1)&&(i=o),r=a.token,a.length=a.length||0,!a.close)continue;e.hasOwnProperty(a.marker)||(e[a.marker]=[-1,-1,-1,-1,-1,-1]);const l=e[a.marker][(a.open?3:0)+a.length%3];let u=i-s[i]-1,c=u;for(;u>l;u-=s[u]+1){const h=t[u];if(h.marker===a.marker&&h.open&&h.end<0){let f=!1;if((h.close||a.open)&&(h.length+a.length)%3===0&&(h.length%3!==0||a.length%3!==0)&&(f=!0),!f){const d=u>0&&!t[u-1].open?s[u-1]+1:0;s[o]=o-u+d,s[u]=d,a.open=!1,h.end=o,h.close=!1,c=-1,r=-2;break}}}c!==-1&&(e[a.marker][(a.open?3:0)+(a.length||0)%3]=c)}}function kV(t){const e=t.tokens_meta,n=t.tokens_meta.length;fb(t.delimiters);for(let i=0;i<n;i++)e[i]&&e[i].delimiters&&fb(e[i].delimiters)}function SV(t){let e,n,i=0;const r=t.tokens,s=t.tokens.length;for(e=n=0;e<s;e++)r[e].nesting<0&&i--,r[e].level=i,r[e].nesting>0&&i++,r[e].type==="text"&&e+1<s&&r[e+1].type==="text"?r[e+1].content=r[e].content+r[e+1].content:(e!==n&&(r[n]=r[e]),n++);e!==n&&(r.length=n)}const Vh=[["text",tV],["linkify",iV],["newline",rV],["escape",sV],["backticks",oV],["strikethrough",B2.tokenize],["emphasis",j2.tokenize],["link",hV],["image",fV],["autolink",mV],["html_inline",yV],["entity",wV]],Lh=[["balance_pairs",kV],["strikethrough",B2.postProcess],["emphasis",j2.postProcess],["fragments_join",SV]];function Va(){this.ruler=new Vt;for(let t=0;t<Vh.length;t++)this.ruler.push(Vh[t][0],Vh[t][1]);this.ruler2=new Vt;for(let t=0;t<Lh.length;t++)this.ruler2.push(Lh[t][0],Lh[t][1])}Va.prototype.skipToken=function(t){const e=t.pos,n=this.ruler.getRules(""),i=n.length,r=t.md.options.maxNesting,s=t.cache;if(typeof s[e]<"u"){t.pos=s[e];return}let o=!1;if(t.level<r){for(let a=0;a<i;a++)if(t.level++,o=n[a](t,!0),t.level--,o){if(e>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}else t.pos=t.posMax;o||t.pos++,s[e]=t.pos};Va.prototype.tokenize=function(t){const e=this.ruler.getRules(""),n=e.length,i=t.posMax,r=t.md.options.maxNesting;for(;t.pos<i;){const s=t.pos;let o=!1;if(t.level<r){for(let a=0;a<n;a++)if(o=e[a](t,!1),o){if(s>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}if(o){if(t.pos>=i)break;continue}t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()};Va.prototype.parse=function(t,e,n,i){const r=new this.State(t,e,n,i);this.tokenize(r);const s=this.ruler2.getRules(""),o=s.length;for(let a=0;a<o;a++)s[a](r)};Va.prototype.State=Da;function xV(t){const e={};t=t||{},e.src_Any=$2.source,e.src_Cc=I2.source,e.src_Z=Q2.source,e.src_P=Sm.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const n="[><｜]";return e.src_pseudo_letter="(?:(?!"+n+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+n+"|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+e.src_ZPCc+"))((?![$+<=>^`|｜])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+e.src_ZPCc+"))((?![$+<=>^`|｜])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}function yd(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(i){t[i]=n[i]})}),t}function Ic(t){return Object.prototype.toString.call(t)}function TV(t){return Ic(t)==="[object String]"}function PV(t){return Ic(t)==="[object Object]"}function EV(t){return Ic(t)==="[object RegExp]"}function db(t){return Ic(t)==="[object Function]"}function AV(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const X2={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function CV(t){return Object.keys(t||{}).reduce(function(e,n){return e||X2.hasOwnProperty(n)},!1)}const $V={"http:":{validate:function(t,e,n){const i=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(i)?i.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){const i=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(i)?e>=3&&t[e-3]===":"||e>=3&&t[e-3]==="/"?0:i.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){const i=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(i)?i.match(n.re.mailto)[0].length:0}}},IV="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",QV="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function RV(t){t.__index__=-1,t.__text_cache__=""}function DV(t){return function(e,n){const i=e.slice(n);return t.test(i)?i.match(t)[0].length:0}}function pb(){return function(t,e){e.normalize(t)}}function Lu(t){const e=t.re=xV(t.__opts__),n=t.__tlds__.slice();t.onCompile(),t.__tlds_replaced__||n.push(IV),n.push(e.src_xn),e.src_tlds=n.join("|");function i(a){return a.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(i(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(i(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(i(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(i(e.tpl_host_fuzzy_test),"i");const r=[];t.__compiled__={};function s(a,l){throw new Error('(LinkifyIt) Invalid schema "'+a+'": '+l)}Object.keys(t.__schemas__).forEach(function(a){const l=t.__schemas__[a];if(l===null)return;const u={validate:null,link:null};if(t.__compiled__[a]=u,PV(l)){EV(l.validate)?u.validate=DV(l.validate):db(l.validate)?u.validate=l.validate:s(a,l),db(l.normalize)?u.normalize=l.normalize:l.normalize?s(a,l):u.normalize=pb();return}if(TV(l)){r.push(a);return}s(a,l)}),r.forEach(function(a){t.__compiled__[t.__schemas__[a]]&&(t.__compiled__[a].validate=t.__compiled__[t.__schemas__[a]].validate,t.__compiled__[a].normalize=t.__compiled__[t.__schemas__[a]].normalize)}),t.__compiled__[""]={validate:null,normalize:pb()};const o=Object.keys(t.__compiled__).filter(function(a){return a.length>0&&t.__compiled__[a]}).map(AV).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+e.src_ZPCc+"))("+o+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+e.src_ZPCc+"))("+o+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),RV(t)}function VV(t,e){const n=t.__index__,i=t.__last_index__,r=t.__text_cache__.slice(n,i);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=i+e,this.raw=r,this.text=r,this.url=r}function vd(t,e){const n=new VV(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function zt(t,e){if(!(this instanceof zt))return new zt(t,e);e||CV(t)&&(e=t,t={}),this.__opts__=yd({},X2,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=yd({},$V,t),this.__compiled__={},this.__tlds__=QV,this.__tlds_replaced__=!1,this.re={},Lu(this)}zt.prototype.add=function(e,n){return this.__schemas__[e]=n,Lu(this),this};zt.prototype.set=function(e){return this.__opts__=yd(this.__opts__,e),this};zt.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let n,i,r,s,o,a,l,u,c;if(this.re.schema_test.test(e)){for(l=this.re.schema_search,l.lastIndex=0;(n=l.exec(e))!==null;)if(s=this.testSchemaAt(e,n[2],l.lastIndex),s){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+s;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(u=e.search(this.re.host_fuzzy_test),u>=0&&(this.__index__<0||u<this.__index__)&&(i=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(o=i.index+i[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=i.index+i[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(c=e.indexOf("@"),c>=0&&(r=e.match(this.re.email_fuzzy))!==null&&(o=r.index+r[1].length,a=r.index+r[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=a))),this.__index__>=0};zt.prototype.pretest=function(e){return this.re.pretest.test(e)};zt.prototype.testSchemaAt=function(e,n,i){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(e,i,this):0};zt.prototype.match=function(e){const n=[];let i=0;this.__index__>=0&&this.__text_cache__===e&&(n.push(vd(this,i)),i=this.__last_index__);let r=i?e.slice(i):e;for(;this.test(r);)n.push(vd(this,i)),r=r.slice(this.__last_index__),i+=this.__last_index__;return n.length?n:null};zt.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const n=this.re.schema_at_start.exec(e);if(!n)return null;const i=this.testSchemaAt(e,n[2],n[0].length);return i?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+i,vd(this,0)):null};zt.prototype.tlds=function(e,n){return e=Array.isArray(e)?e:[e],n?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(i,r,s){return i!==s[r-1]}).reverse(),Lu(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,Lu(this),this)};zt.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};zt.prototype.onCompile=function(){};const Jr=2147483647,In=36,Am=1,ua=26,LV=38,ZV=700,z2=72,q2=128,W2="-",MV=/^xn--/,FV=/[^\0-\x7F]/,NV=/[\x2E\u3002\uFF0E\uFF61]/g,BV={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Zh=In-Am,Qn=Math.floor,Mh=String.fromCharCode;function gi(t){throw new RangeError(BV[t])}function jV(t,e){const n=[];let i=t.length;for(;i--;)n[i]=e(t[i]);return n}function Y2(t,e){const n=t.split("@");let i="";n.length>1&&(i=n[0]+"@",t=n[1]),t=t.replace(NV,".");const r=t.split("."),s=jV(r,e).join(".");return i+s}function U2(t){const e=[];let n=0;const i=t.length;for(;n<i;){const r=t.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){const s=t.charCodeAt(n++);(s&64512)==56320?e.push(((r&1023)<<10)+(s&1023)+65536):(e.push(r),n--)}else e.push(r)}return e}const XV=t=>String.fromCodePoint(...t),zV=function(t){return t>=48&&t<58?26+(t-48):t>=65&&t<91?t-65:t>=97&&t<123?t-97:In},mb=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},G2=function(t,e,n){let i=0;for(t=n?Qn(t/ZV):t>>1,t+=Qn(t/e);t>Zh*ua>>1;i+=In)t=Qn(t/Zh);return Qn(i+(Zh+1)*t/(t+LV))},H2=function(t){const e=[],n=t.length;let i=0,r=q2,s=z2,o=t.lastIndexOf(W2);o<0&&(o=0);for(let a=0;a<o;++a)t.charCodeAt(a)>=128&&gi("not-basic"),e.push(t.charCodeAt(a));for(let a=o>0?o+1:0;a<n;){const l=i;for(let c=1,h=In;;h+=In){a>=n&&gi("invalid-input");const f=zV(t.charCodeAt(a++));f>=In&&gi("invalid-input"),f>Qn((Jr-i)/c)&&gi("overflow"),i+=f*c;const d=h<=s?Am:h>=s+ua?ua:h-s;if(f<d)break;const p=In-d;c>Qn(Jr/p)&&gi("overflow"),c*=p}const u=e.length+1;s=G2(i-l,u,l==0),Qn(i/u)>Jr-r&&gi("overflow"),r+=Qn(i/u),i%=u,e.splice(i++,0,r)}return String.fromCodePoint(...e)},K2=function(t){const e=[];t=U2(t);const n=t.length;let i=q2,r=0,s=z2;for(const l of t)l<128&&e.push(Mh(l));const o=e.length;let a=o;for(o&&e.push(W2);a<n;){let l=Jr;for(const c of t)c>=i&&c<l&&(l=c);const u=a+1;l-i>Qn((Jr-r)/u)&&gi("overflow"),r+=(l-i)*u,i=l;for(const c of t)if(c<i&&++r>Jr&&gi("overflow"),c===i){let h=r;for(let f=In;;f+=In){const d=f<=s?Am:f>=s+ua?ua:f-s;if(h<d)break;const p=h-d,g=In-d;e.push(Mh(mb(d+p%g,0))),h=Qn(p/g)}e.push(Mh(mb(h,0))),s=G2(r,u,a===o),r=0,++a}++r,++i}return e.join("")},qV=function(t){return Y2(t,function(e){return MV.test(e)?H2(e.slice(4).toLowerCase()):e})},WV=function(t){return Y2(t,function(e){return FV.test(e)?"xn--"+K2(e):e})},J2={version:"2.3.1",ucs2:{decode:U2,encode:XV},decode:H2,encode:K2,toASCII:WV,toUnicode:qV},YV={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},UV={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},GV={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},HV={default:YV,zero:UV,commonmark:GV},KV=/^(vbscript|javascript|file|data):/,JV=/^data:image\/(gif|png|jpeg|webp);/;function eL(t){const e=t.trim().toLowerCase();return KV.test(e)?JV.test(e):!0}const ex=["http:","https:","mailto:"];function tL(t){const e=km(t,!0);if(e.hostname&&(!e.protocol||ex.indexOf(e.protocol)>=0))try{e.hostname=J2.toASCII(e.hostname)}catch{}return Ra(wm(e))}function nL(t){const e=km(t,!0);if(e.hostname&&(!e.protocol||ex.indexOf(e.protocol)>=0))try{e.hostname=J2.toUnicode(e.hostname)}catch{}return ws(wm(e),ws.defaultChars+"%")}function sn(t,e){if(!(this instanceof sn))return new sn(t,e);e||xm(t)||(e=t||{},t="default"),this.inline=new Va,this.block=new $c,this.core=new Pm,this.renderer=new Ds,this.linkify=new zt,this.validateLink=eL,this.normalizeLink=tL,this.normalizeLinkText=nL,this.utils=s7,this.helpers=Ac({},u7),this.options={},this.configure(t),e&&this.set(e)}sn.prototype.set=function(t){return Ac(this.options,t),this};sn.prototype.configure=function(t){const e=this;if(xm(t)){const n=t;if(t=HV[n],!t)throw new Error('Wrong `markdown-it` preset "'+n+'", check name')}if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach(function(n){t.components[n].rules&&e[n].ruler.enableOnly(t.components[n].rules),t.components[n].rules2&&e[n].ruler2.enableOnly(t.components[n].rules2)}),this};sn.prototype.enable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(r){n=n.concat(this[r].ruler.enable(t,!0))},this),n=n.concat(this.inline.ruler2.enable(t,!0));const i=t.filter(function(r){return n.indexOf(r)<0});if(i.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+i);return this};sn.prototype.disable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(r){n=n.concat(this[r].ruler.disable(t,!0))},this),n=n.concat(this.inline.ruler2.disable(t,!0));const i=t.filter(function(r){return n.indexOf(r)<0});if(i.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+i);return this};sn.prototype.use=function(t){const e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this};sn.prototype.parse=function(t,e){if(typeof t!="string")throw new Error("Input data should be a String");const n=new this.core.State(t,this,e);return this.core.process(n),n.tokens};sn.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)};sn.prototype.parseInline=function(t,e){const n=new this.core.State(t,this,e);return n.inlineMode=!0,this.core.process(n),n.tokens};sn.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};const gb=new Set([!0,!1,"alt","title"]);function tx(t,e){return(Array.isArray(t)?t:[]).filter(([n])=>n!==e)}function nx(t,e){t&&t.attrs&&(t.attrs=tx(t.attrs,e))}function iL(t,e){if(!gb.has(t))throw new TypeError(`figcaption must be one of: ${[...gb]}.`);if(t==="alt")return e.content;const n=e.attrs.find(([i])=>i==="title");return Array.isArray(n)&&n[1]?(nx(e,"title"),n[1]):void 0}function rL(t,e){e=e||{},t.core.ruler.before("linkify","image_figures",function(n){let i=1;for(let r=1,s=n.tokens.length;r<s-1;++r){const o=n.tokens[r];if(o.type!=="inline"||!o.children||o.children.length!==1&&o.children.length!==3||o.children.length===1&&o.children[0].type!=="image")continue;if(o.children.length===3){const[u,c,h]=o.children;if(u.type!=="link_open"||c.type!=="image"||h.type!=="link_close")continue}if(r!==0&&n.tokens[r-1].type!=="paragraph_open"||r!==s-1&&n.tokens[r+1].type!=="paragraph_close")continue;const a=n.tokens[r-1];let l;if(a.type="figure_open",a.tag="figure",n.tokens[r+1].type="figure_close",n.tokens[r+1].tag="figure",e.dataType&&n.tokens[r-1].attrPush(["data-type","image"]),e.link&&o.children.length===1){[l]=o.children;const u=new n.Token("link_open","a",1);u.attrPush(["href",l.attrGet("src")]),o.children.unshift(u),o.children.push(new n.Token("link_close","a",-1))}if(l=o.children.length===1?o.children[0]:o.children[1],e.figcaption){const u=iL(e.figcaption,l);if(u){const[c]=t.parseInline(u,n.env);o.children.push(new n.Token("figcaption_open","figcaption",1)),o.children.push(...c.children),o.children.push(new n.Token("figcaption_close","figcaption",-1)),l.attrs&&(l.attrs=tx(l.attrs,"title"))}}if(e.copyAttrs&&l.attrs){const u=e.copyAttrs===!0?"":e.copyAttrs;a.attrs=l.attrs.filter(([c])=>c.match(u)).map(c=>Array.from(c))}if(e.tabindex&&(n.tokens[r-1].attrPush(["tabindex",i]),i++),e.lazy&&(l.attrs.some(([u])=>u==="loading")||l.attrs.push(["loading","lazy"])),e.async&&(l.attrs.some(([u])=>u==="decoding")||l.attrs.push(["decoding","async"])),e.classes&&typeof e.classes=="string"){let u=!1;for(let c=0,h=l.attrs.length;c<h&&!u;c++){const f=l.attrs[c];f[0]==="class"&&(f[1]=`${f[1]} ${e.classes}`,u=!0)}u||l.attrs.push(["class",e.classes])}if(e.removeSrc){const u=l.attrs.find(([c])=>c==="src");l.attrs.push(["data-src",u[1]]),nx(l,"src")}}})}var _d=!0,ix=!1,rx=!1,sL=function(t,e){e&&(_d=!e.enabled,ix=!!e.label,rx=!!e.labelAfter),t.core.ruler.after("inline","github-task-lists",function(n){for(var i=n.tokens,r=2;r<i.length;r++)aL(i,r)&&(lL(i[r],n.Token),Ob(i[r-2],"class","task-list-item"+(_d?"":" enabled")),Ob(i[oL(i,r-2)],"class","contains-task-list"))})};function Ob(t,e,n){var i=t.attrIndex(e),r=[e,n];i<0?t.attrPush(r):t.attrs[i]=r}function oL(t,e){for(var n=t[e].level-1,i=e-1;i>=0;i--)if(t[i].level===n)return i;return-1}function aL(t,e){return dL(t[e])&&pL(t[e-1])&&mL(t[e-2])&&gL(t[e])}function lL(t,e){if(t.children.unshift(uL(t,e)),t.children[1].content=t.children[1].content.slice(3),t.content=t.content.slice(3),ix)if(rx){t.children.pop();var n="task-item-"+Math.ceil(Math.random()*(1e4*1e3)-1e3);t.children[0].content=t.children[0].content.slice(0,-1)+' id="'+n+'">',t.children.push(fL(t.content,n,e))}else t.children.unshift(cL(e)),t.children.push(hL(e))}function uL(t,e){var n=new e("html_inline","",0),i=_d?' disabled="" ':"";return t.content.indexOf("[ ] ")===0?n.content='<input class="task-list-item-checkbox"'+i+'type="checkbox">':(t.content.indexOf("[x] ")===0||t.content.indexOf("[X] ")===0)&&(n.content='<input class="task-list-item-checkbox" checked=""'+i+'type="checkbox">'),n}function cL(t){var e=new t("html_inline","",0);return e.content="<label>",e}function hL(t){var e=new t("html_inline","",0);return e.content="</label>",e}function fL(t,e,n){var i=new n("html_inline","",0);return i.content='<label class="task-list-item-label" for="'+e+'">'+t+"</label>",i.attrs=[{for:e}],i}function dL(t){return t.type==="inline"}function pL(t){return t.type==="paragraph_open"}function mL(t){return t.type==="list_item_open"}function gL(t){return t.content.indexOf("[ ] ")===0||t.content.indexOf("[x] ")===0||t.content.indexOf("[X] ")===0}const OL=_m(sL);var wd={exports:{}},De={},kd={exports:{}},xr={};function sx(){var t={};return t["align-content"]=!1,t["align-items"]=!1,t["align-self"]=!1,t["alignment-adjust"]=!1,t["alignment-baseline"]=!1,t.all=!1,t["anchor-point"]=!1,t.animation=!1,t["animation-delay"]=!1,t["animation-direction"]=!1,t["animation-duration"]=!1,t["animation-fill-mode"]=!1,t["animation-iteration-count"]=!1,t["animation-name"]=!1,t["animation-play-state"]=!1,t["animation-timing-function"]=!1,t.azimuth=!1,t["backface-visibility"]=!1,t.background=!0,t["background-attachment"]=!0,t["background-clip"]=!0,t["background-color"]=!0,t["background-image"]=!0,t["background-origin"]=!0,t["background-position"]=!0,t["background-repeat"]=!0,t["background-size"]=!0,t["baseline-shift"]=!1,t.binding=!1,t.bleed=!1,t["bookmark-label"]=!1,t["bookmark-level"]=!1,t["bookmark-state"]=!1,t.border=!0,t["border-bottom"]=!0,t["border-bottom-color"]=!0,t["border-bottom-left-radius"]=!0,t["border-bottom-right-radius"]=!0,t["border-bottom-style"]=!0,t["border-bottom-width"]=!0,t["border-collapse"]=!0,t["border-color"]=!0,t["border-image"]=!0,t["border-image-outset"]=!0,t["border-image-repeat"]=!0,t["border-image-slice"]=!0,t["border-image-source"]=!0,t["border-image-width"]=!0,t["border-left"]=!0,t["border-left-color"]=!0,t["border-left-style"]=!0,t["border-left-width"]=!0,t["border-radius"]=!0,t["border-right"]=!0,t["border-right-color"]=!0,t["border-right-style"]=!0,t["border-right-width"]=!0,t["border-spacing"]=!0,t["border-style"]=!0,t["border-top"]=!0,t["border-top-color"]=!0,t["border-top-left-radius"]=!0,t["border-top-right-radius"]=!0,t["border-top-style"]=!0,t["border-top-width"]=!0,t["border-width"]=!0,t.bottom=!1,t["box-decoration-break"]=!0,t["box-shadow"]=!0,t["box-sizing"]=!0,t["box-snap"]=!0,t["box-suppress"]=!0,t["break-after"]=!0,t["break-before"]=!0,t["break-inside"]=!0,t["caption-side"]=!1,t.chains=!1,t.clear=!0,t.clip=!1,t["clip-path"]=!1,t["clip-rule"]=!1,t.color=!0,t["color-interpolation-filters"]=!0,t["column-count"]=!1,t["column-fill"]=!1,t["column-gap"]=!1,t["column-rule"]=!1,t["column-rule-color"]=!1,t["column-rule-style"]=!1,t["column-rule-width"]=!1,t["column-span"]=!1,t["column-width"]=!1,t.columns=!1,t.contain=!1,t.content=!1,t["counter-increment"]=!1,t["counter-reset"]=!1,t["counter-set"]=!1,t.crop=!1,t.cue=!1,t["cue-after"]=!1,t["cue-before"]=!1,t.cursor=!1,t.direction=!1,t.display=!0,t["display-inside"]=!0,t["display-list"]=!0,t["display-outside"]=!0,t["dominant-baseline"]=!1,t.elevation=!1,t["empty-cells"]=!1,t.filter=!1,t.flex=!1,t["flex-basis"]=!1,t["flex-direction"]=!1,t["flex-flow"]=!1,t["flex-grow"]=!1,t["flex-shrink"]=!1,t["flex-wrap"]=!1,t.float=!1,t["float-offset"]=!1,t["flood-color"]=!1,t["flood-opacity"]=!1,t["flow-from"]=!1,t["flow-into"]=!1,t.font=!0,t["font-family"]=!0,t["font-feature-settings"]=!0,t["font-kerning"]=!0,t["font-language-override"]=!0,t["font-size"]=!0,t["font-size-adjust"]=!0,t["font-stretch"]=!0,t["font-style"]=!0,t["font-synthesis"]=!0,t["font-variant"]=!0,t["font-variant-alternates"]=!0,t["font-variant-caps"]=!0,t["font-variant-east-asian"]=!0,t["font-variant-ligatures"]=!0,t["font-variant-numeric"]=!0,t["font-variant-position"]=!0,t["font-weight"]=!0,t.grid=!1,t["grid-area"]=!1,t["grid-auto-columns"]=!1,t["grid-auto-flow"]=!1,t["grid-auto-rows"]=!1,t["grid-column"]=!1,t["grid-column-end"]=!1,t["grid-column-start"]=!1,t["grid-row"]=!1,t["grid-row-end"]=!1,t["grid-row-start"]=!1,t["grid-template"]=!1,t["grid-template-areas"]=!1,t["grid-template-columns"]=!1,t["grid-template-rows"]=!1,t["hanging-punctuation"]=!1,t.height=!0,t.hyphens=!1,t.icon=!1,t["image-orientation"]=!1,t["image-resolution"]=!1,t["ime-mode"]=!1,t["initial-letters"]=!1,t["inline-box-align"]=!1,t["justify-content"]=!1,t["justify-items"]=!1,t["justify-self"]=!1,t.left=!1,t["letter-spacing"]=!0,t["lighting-color"]=!0,t["line-box-contain"]=!1,t["line-break"]=!1,t["line-grid"]=!1,t["line-height"]=!1,t["line-snap"]=!1,t["line-stacking"]=!1,t["line-stacking-ruby"]=!1,t["line-stacking-shift"]=!1,t["line-stacking-strategy"]=!1,t["list-style"]=!0,t["list-style-image"]=!0,t["list-style-position"]=!0,t["list-style-type"]=!0,t.margin=!0,t["margin-bottom"]=!0,t["margin-left"]=!0,t["margin-right"]=!0,t["margin-top"]=!0,t["marker-offset"]=!1,t["marker-side"]=!1,t.marks=!1,t.mask=!1,t["mask-box"]=!1,t["mask-box-outset"]=!1,t["mask-box-repeat"]=!1,t["mask-box-slice"]=!1,t["mask-box-source"]=!1,t["mask-box-width"]=!1,t["mask-clip"]=!1,t["mask-image"]=!1,t["mask-origin"]=!1,t["mask-position"]=!1,t["mask-repeat"]=!1,t["mask-size"]=!1,t["mask-source-type"]=!1,t["mask-type"]=!1,t["max-height"]=!0,t["max-lines"]=!1,t["max-width"]=!0,t["min-height"]=!0,t["min-width"]=!0,t["move-to"]=!1,t["nav-down"]=!1,t["nav-index"]=!1,t["nav-left"]=!1,t["nav-right"]=!1,t["nav-up"]=!1,t["object-fit"]=!1,t["object-position"]=!1,t.opacity=!1,t.order=!1,t.orphans=!1,t.outline=!1,t["outline-color"]=!1,t["outline-offset"]=!1,t["outline-style"]=!1,t["outline-width"]=!1,t.overflow=!1,t["overflow-wrap"]=!1,t["overflow-x"]=!1,t["overflow-y"]=!1,t.padding=!0,t["padding-bottom"]=!0,t["padding-left"]=!0,t["padding-right"]=!0,t["padding-top"]=!0,t.page=!1,t["page-break-after"]=!1,t["page-break-before"]=!1,t["page-break-inside"]=!1,t["page-policy"]=!1,t.pause=!1,t["pause-after"]=!1,t["pause-before"]=!1,t.perspective=!1,t["perspective-origin"]=!1,t.pitch=!1,t["pitch-range"]=!1,t["play-during"]=!1,t.position=!1,t["presentation-level"]=!1,t.quotes=!1,t["region-fragment"]=!1,t.resize=!1,t.rest=!1,t["rest-after"]=!1,t["rest-before"]=!1,t.richness=!1,t.right=!1,t.rotation=!1,t["rotation-point"]=!1,t["ruby-align"]=!1,t["ruby-merge"]=!1,t["ruby-position"]=!1,t["shape-image-threshold"]=!1,t["shape-outside"]=!1,t["shape-margin"]=!1,t.size=!1,t.speak=!1,t["speak-as"]=!1,t["speak-header"]=!1,t["speak-numeral"]=!1,t["speak-punctuation"]=!1,t["speech-rate"]=!1,t.stress=!1,t["string-set"]=!1,t["tab-size"]=!1,t["table-layout"]=!1,t["text-align"]=!0,t["text-align-last"]=!0,t["text-combine-upright"]=!0,t["text-decoration"]=!0,t["text-decoration-color"]=!0,t["text-decoration-line"]=!0,t["text-decoration-skip"]=!0,t["text-decoration-style"]=!0,t["text-emphasis"]=!0,t["text-emphasis-color"]=!0,t["text-emphasis-position"]=!0,t["text-emphasis-style"]=!0,t["text-height"]=!0,t["text-indent"]=!0,t["text-justify"]=!0,t["text-orientation"]=!0,t["text-overflow"]=!0,t["text-shadow"]=!0,t["text-space-collapse"]=!0,t["text-transform"]=!0,t["text-underline-position"]=!0,t["text-wrap"]=!0,t.top=!1,t.transform=!1,t["transform-origin"]=!1,t["transform-style"]=!1,t.transition=!1,t["transition-delay"]=!1,t["transition-duration"]=!1,t["transition-property"]=!1,t["transition-timing-function"]=!1,t["unicode-bidi"]=!1,t["vertical-align"]=!1,t.visibility=!1,t["voice-balance"]=!1,t["voice-duration"]=!1,t["voice-family"]=!1,t["voice-pitch"]=!1,t["voice-range"]=!1,t["voice-rate"]=!1,t["voice-stress"]=!1,t["voice-volume"]=!1,t.volume=!1,t["white-space"]=!1,t.widows=!1,t.width=!0,t["will-change"]=!1,t["word-break"]=!0,t["word-spacing"]=!0,t["word-wrap"]=!0,t["wrap-flow"]=!1,t["wrap-through"]=!1,t["writing-mode"]=!1,t["z-index"]=!1,t}function bL(t,e,n){}function yL(t,e,n){}var vL=/javascript\s*\:/img;function _L(t,e){return vL.test(e)?"":e}xr.whiteList=sx();xr.getDefaultWhiteList=sx;xr.onAttr=bL;xr.onIgnoreAttr=yL;xr.safeAttrValue=_L;var wL={indexOf:function(t,e){var n,i;if(Array.prototype.indexOf)return t.indexOf(e);for(n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},forEach:function(t,e,n){var i,r;if(Array.prototype.forEach)return t.forEach(e,n);for(i=0,r=t.length;i<r;i++)e.call(n,t[i],i,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(t){return String.prototype.trimRight?t.trimRight():t.replace(/(\s*$)/g,"")}},Hs=wL;function kL(t,e){t=Hs.trimRight(t),t[t.length-1]!==";"&&(t+=";");var n=t.length,i=!1,r=0,s=0,o="";function a(){if(!i){var c=Hs.trim(t.slice(r,s)),h=c.indexOf(":");if(h!==-1){var f=Hs.trim(c.slice(0,h)),d=Hs.trim(c.slice(h+1));if(f){var p=e(r,o.length,f,d,c);p&&(o+=p+"; ")}}}r=s+1}for(;s<n;s++){var l=t[s];if(l==="/"&&t[s+1]==="*"){var u=t.indexOf("*/",s+2);if(u===-1)break;s=u+1,r=s+1,i=!1}else l==="("?i=!0:l===")"?i=!1:l===";"?i||a():l===`
`&&a()}return Hs.trim(o)}var SL=kL,Sl=xr,xL=SL;function bb(t){return t==null}function TL(t){var e={};for(var n in t)e[n]=t[n];return e}function ox(t){t=TL(t||{}),t.whiteList=t.whiteList||Sl.whiteList,t.onAttr=t.onAttr||Sl.onAttr,t.onIgnoreAttr=t.onIgnoreAttr||Sl.onIgnoreAttr,t.safeAttrValue=t.safeAttrValue||Sl.safeAttrValue,this.options=t}ox.prototype.process=function(t){if(t=t||"",t=t.toString(),!t)return"";var e=this,n=e.options,i=n.whiteList,r=n.onAttr,s=n.onIgnoreAttr,o=n.safeAttrValue,a=xL(t,function(l,u,c,h,f){var d=i[c],p=!1;if(d===!0?p=d:typeof d=="function"?p=d(h):d instanceof RegExp&&(p=d.test(h)),p!==!0&&(p=!1),h=o(c,h),!!h){var g={position:u,sourcePosition:l,source:f,isWhite:p};if(p){var m=r(c,h,g);return bb(m)?c+":"+h:m}else{var m=s(c,h,g);if(!bb(m))return m}}});return a};var PL=ox;(function(t,e){var n=xr,i=PL;function r(o,a){var l=new i(a);return l.process(o)}e=t.exports=r,e.FilterCSS=i;for(var s in n)e[s]=n[s];typeof window<"u"&&(window.filterCSS=t.exports)})(kd,kd.exports);var Cm=kd.exports,$m={indexOf:function(t,e){var n,i;if(Array.prototype.indexOf)return t.indexOf(e);for(n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},forEach:function(t,e,n){var i,r;if(Array.prototype.forEach)return t.forEach(e,n);for(i=0,r=t.length;i<r;i++)e.call(n,t[i],i,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(t){var e=/\s|\n|\t/,n=e.exec(t);return n?n.index:-1}},EL=Cm.FilterCSS,AL=Cm.getDefaultWhiteList,Zu=$m;function ax(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var lx=new EL;function CL(t,e,n){}function $L(t,e,n){}function IL(t,e,n){}function QL(t,e,n){}function ux(t){return t.replace(DL,"&lt;").replace(VL,"&gt;")}function RL(t,e,n,i){if(n=mx(n),e==="href"||e==="src"){if(n=Zu.trim(n),n==="#")return"#";if(!(n.substr(0,7)==="http://"||n.substr(0,8)==="https://"||n.substr(0,7)==="mailto:"||n.substr(0,4)==="tel:"||n.substr(0,11)==="data:image/"||n.substr(0,6)==="ftp://"||n.substr(0,2)==="./"||n.substr(0,3)==="../"||n[0]==="#"||n[0]==="/"))return""}else if(e==="background"){if(xl.lastIndex=0,xl.test(n))return""}else if(e==="style"){if(yb.lastIndex=0,yb.test(n)||(vb.lastIndex=0,vb.test(n)&&(xl.lastIndex=0,xl.test(n))))return"";i!==!1&&(i=i||lx,n=i.process(n))}return n=gx(n),n}var DL=/</g,VL=/>/g,LL=/"/g,ZL=/&quot;/g,ML=/&#([a-zA-Z0-9]*);?/gim,FL=/&colon;?/gim,NL=/&newline;?/gim,xl=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,yb=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,vb=/u\s*r\s*l\s*\(.*/gi;function cx(t){return t.replace(LL,"&quot;")}function hx(t){return t.replace(ZL,'"')}function fx(t){return t.replace(ML,function(n,i){return i[0]==="x"||i[0]==="X"?String.fromCharCode(parseInt(i.substr(1),16)):String.fromCharCode(parseInt(i,10))})}function dx(t){return t.replace(FL,":").replace(NL," ")}function px(t){for(var e="",n=0,i=t.length;n<i;n++)e+=t.charCodeAt(n)<32?" ":t.charAt(n);return Zu.trim(e)}function mx(t){return t=hx(t),t=fx(t),t=dx(t),t=px(t),t}function gx(t){return t=cx(t),t=ux(t),t}function BL(){return""}function jL(t,e){typeof e!="function"&&(e=function(){});var n=!Array.isArray(t);function i(o){return n?!0:Zu.indexOf(t,o)!==-1}var r=[],s=!1;return{onIgnoreTag:function(o,a,l){if(i(o))if(l.isClosing){var u="[/removed]",c=l.position+u.length;return r.push([s!==!1?s:l.position,c]),s=!1,u}else return s||(s=l.position),"[removed]";else return e(o,a,l)},remove:function(o){var a="",l=0;return Zu.forEach(r,function(u){a+=o.slice(l,u[0]),l=u[1]}),a+=o.slice(l),a}}}function XL(t){for(var e="",n=0;n<t.length;){var i=t.indexOf("<!--",n);if(i===-1){e+=t.slice(n);break}e+=t.slice(n,i);var r=t.indexOf("-->",i);if(r===-1)break;n=r+3}return e}function zL(t){var e=t.split("");return e=e.filter(function(n){var i=n.charCodeAt(0);return i===127?!1:i<=31?i===10||i===13:!0}),e.join("")}De.whiteList=ax();De.getDefaultWhiteList=ax;De.onTag=CL;De.onIgnoreTag=$L;De.onTagAttr=IL;De.onIgnoreTagAttr=QL;De.safeAttrValue=RL;De.escapeHtml=ux;De.escapeQuote=cx;De.unescapeQuote=hx;De.escapeHtmlEntities=fx;De.escapeDangerHtml5Entities=dx;De.clearNonPrintableCharacter=px;De.friendlyAttrValue=mx;De.escapeAttrValue=gx;De.onIgnoreTagStripAll=BL;De.StripTagBody=jL;De.stripCommentTag=XL;De.stripBlankChar=zL;De.attributeWrapSign='"';De.cssFilter=lx;De.getDefaultCSSWhiteList=AL;var Qc={},Oi=$m;function qL(t){var e=Oi.spaceIndex(t),n;return e===-1?n=t.slice(1,-1):n=t.slice(1,e+1),n=Oi.trim(n).toLowerCase(),n.slice(0,1)==="/"&&(n=n.slice(1)),n.slice(-1)==="/"&&(n=n.slice(0,-1)),n}function WL(t){return t.slice(0,2)==="</"}function YL(t,e,n){var i="",r=0,s=!1,o=!1,a=0,l=t.length,u="",c="";e:for(a=0;a<l;a++){var h=t.charAt(a);if(s===!1){if(h==="<"){s=a;continue}}else if(o===!1){if(h==="<"){i+=n(t.slice(r,a)),s=a,r=a;continue}if(h===">"||a===l-1){i+=n(t.slice(r,s)),c=t.slice(s,a+1),u=qL(c),i+=e(s,i.length,u,c,WL(c)),r=a+1,s=!1;continue}if(h==='"'||h==="'")for(var f=1,d=t.charAt(a-f);d.trim()===""||d==="=";){if(d==="="){o=h;continue e}d=t.charAt(a-++f)}}else if(h===o){o=!1;continue}}return r<l&&(i+=n(t.substr(r))),i}var UL=/[^a-zA-Z0-9\\_:.-]/gim;function GL(t,e){var n=0,i=0,r=[],s=!1,o=t.length;function a(f,d){if(f=Oi.trim(f),f=f.replace(UL,"").toLowerCase(),!(f.length<1)){var p=e(f,d||"");p&&r.push(p)}}for(var l=0;l<o;l++){var u=t.charAt(l),c,h;if(s===!1&&u==="="){s=t.slice(n,l),n=l+1,i=t.charAt(n)==='"'||t.charAt(n)==="'"?n:KL(t,l+1);continue}if(s!==!1&&l===i){if(h=t.indexOf(u,l+1),h===-1)break;c=Oi.trim(t.slice(i+1,h)),a(s,c),s=!1,l=h,n=l+1;continue}if(/\s|\n|\t/.test(u))if(t=t.replace(/\s|\n|\t/g," "),s===!1)if(h=HL(t,l),h===-1){c=Oi.trim(t.slice(n,l)),a(c),s=!1,n=l+1;continue}else{l=h-1;continue}else if(h=JL(t,l-1),h===-1){c=Oi.trim(t.slice(n,l)),c=_b(c),a(s,c),s=!1,n=l+1;continue}else continue}return n<t.length&&(s===!1?a(t.slice(n)):a(s,_b(Oi.trim(t.slice(n))))),Oi.trim(r.join(" "))}function HL(t,e){for(;e<t.length;e++){var n=t[e];if(n!==" ")return n==="="?e:-1}}function KL(t,e){for(;e<t.length;e++){var n=t[e];if(n!==" ")return n==="'"||n==='"'?e:-1}}function JL(t,e){for(;e>0;e--){var n=t[e];if(n!==" ")return n==="="?e:-1}}function eZ(t){return t[0]==='"'&&t[t.length-1]==='"'||t[0]==="'"&&t[t.length-1]==="'"}function _b(t){return eZ(t)?t.substr(1,t.length-2):t}Qc.parseTag=YL;Qc.parseAttr=GL;var tZ=Cm.FilterCSS,Wt=De,Ox=Qc,nZ=Ox.parseTag,iZ=Ox.parseAttr,Xl=$m;function Tl(t){return t==null}function rZ(t){var e=Xl.spaceIndex(t);if(e===-1)return{html:"",closing:t[t.length-2]==="/"};t=Xl.trim(t.slice(e+1,-1));var n=t[t.length-1]==="/";return n&&(t=Xl.trim(t.slice(0,-1))),{html:t,closing:n}}function sZ(t){var e={};for(var n in t)e[n]=t[n];return e}function oZ(t){var e={};for(var n in t)Array.isArray(t[n])?e[n.toLowerCase()]=t[n].map(function(i){return i.toLowerCase()}):e[n.toLowerCase()]=t[n];return e}function bx(t){t=sZ(t||{}),t.stripIgnoreTag&&(t.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=Wt.onIgnoreTagStripAll),t.whiteList||t.allowList?t.whiteList=oZ(t.whiteList||t.allowList):t.whiteList=Wt.whiteList,this.attributeWrapSign=t.singleQuotedAttributeValue===!0?"'":Wt.attributeWrapSign,t.onTag=t.onTag||Wt.onTag,t.onTagAttr=t.onTagAttr||Wt.onTagAttr,t.onIgnoreTag=t.onIgnoreTag||Wt.onIgnoreTag,t.onIgnoreTagAttr=t.onIgnoreTagAttr||Wt.onIgnoreTagAttr,t.safeAttrValue=t.safeAttrValue||Wt.safeAttrValue,t.escapeHtml=t.escapeHtml||Wt.escapeHtml,this.options=t,t.css===!1?this.cssFilter=!1:(t.css=t.css||{},this.cssFilter=new tZ(t.css))}bx.prototype.process=function(t){if(t=t||"",t=t.toString(),!t)return"";var e=this,n=e.options,i=n.whiteList,r=n.onTag,s=n.onIgnoreTag,o=n.onTagAttr,a=n.onIgnoreTagAttr,l=n.safeAttrValue,u=n.escapeHtml,c=e.attributeWrapSign,h=e.cssFilter;n.stripBlankChar&&(t=Wt.stripBlankChar(t)),n.allowCommentTag||(t=Wt.stripCommentTag(t));var f=!1;n.stripIgnoreTagBody&&(f=Wt.StripTagBody(n.stripIgnoreTagBody,s),s=f.onIgnoreTag);var d=nZ(t,function(p,g,m,O,y){var v={sourcePosition:p,position:g,isClosing:y,isWhite:Object.prototype.hasOwnProperty.call(i,m)},k=r(m,O,v);if(!Tl(k))return k;if(v.isWhite){if(v.isClosing)return"</"+m+">";var _=rZ(O),A=i[m],T=iZ(_.html,function(x,B){var V=Xl.indexOf(A,x)!==-1,j=o(m,x,B,V);return Tl(j)?V?(B=l(m,x,B,h),B?x+"="+c+B+c:x):(j=a(m,x,B,V),Tl(j)?void 0:j):j});return O="<"+m,T&&(O+=" "+T),_.closing&&(O+=" /"),O+=">",O}else return k=s(m,O,v),Tl(k)?u(O):k},u);return f&&(d=f.remove(d)),d};var aZ=bx;(function(t,e){var n=De,i=Qc,r=aZ;function s(a,l){var u=new r(l);return u.process(a)}e=t.exports=s,e.filterXSS=s,e.FilterXSS=r,function(){for(var a in n)e[a]=n[a];for(var l in i)e[l]=i[l]}(),typeof window<"u"&&(window.filterXSS=t.exports);function o(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}o()&&(self.filterXSS=t.exports)})(wd,wd.exports);var lZ=wd.exports;const wb=lZ;var uZ=function(e,{xss:n}={}){const i=new wb.FilterXSS(typeof n=="function"?n(wb):n);function r(o){return o=i.process(o),o}function s(o){for(let a=0;a<o.tokens.length;a++){let l=o.tokens[a];if(l.type==="html_block"&&(l.content=r(l.content)),l.type==="inline"){let u=l.children;for(let c=0;c<u.length;c++)u[c].type==="html_inline"&&(u[c].content=r(u[c].content))}}}e.core.ruler.after("linkify","xss",s)};const cZ=_m(uZ),Qr=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,yx=new Set,Sd=typeof process=="object"&&process?process:{},vx=(t,e,n,i)=>{typeof Sd.emitWarning=="function"?Sd.emitWarning(t,e,n,i):console.error(`[${n}] ${e}: ${t}`)};let Mu=globalThis.AbortController,kb=globalThis.AbortSignal;if(typeof Mu>"u"){kb=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(i,r){this._onabort.push(r)}},Mu=class{constructor(){e()}signal=new kb;abort(i){if(!this.signal.aborted){this.signal.reason=i,this.signal.aborted=!0;for(const r of this.signal._onabort)r(i);this.signal.onabort?.(i)}}};let t=Sd.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1";const e=()=>{t&&(t=!1,vx("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}const hZ=t=>!yx.has(t),di=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),_x=t=>di(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?zl:null:null;class zl extends Array{constructor(e){super(e),this.fill(0)}}class Br{heap;length;static#l=!1;static create(e){const n=_x(e);if(!n)return[];Br.#l=!0;const i=new Br(e,n);return Br.#l=!1,i}constructor(e,n){if(!Br.#l)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new n(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}class Im{#l;#h;#m;#g;#A;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#r;#O;#i;#n;#e;#u;#f;#a;#s;#b;#o;#y;#v;#d;#_;#x;#c;static unsafeExposeInternals(e){return{starts:e.#v,ttls:e.#d,sizes:e.#y,keyMap:e.#i,keyList:e.#n,valList:e.#e,next:e.#u,prev:e.#f,get head(){return e.#a},get tail(){return e.#s},free:e.#b,isBackgroundFetch:n=>e.#t(n),backgroundFetch:(n,i,r,s)=>e.#I(n,i,r,s),moveToTail:n=>e.#E(n),indexes:n=>e.#w(n),rindexes:n=>e.#k(n),isStale:n=>e.#p(n)}}get max(){return this.#l}get maxSize(){return this.#h}get calculatedSize(){return this.#O}get size(){return this.#r}get fetchMethod(){return this.#A}get dispose(){return this.#m}get disposeAfter(){return this.#g}constructor(e){const{max:n=0,ttl:i,ttlResolution:r=1,ttlAutopurge:s,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:l,dispose:u,disposeAfter:c,noDisposeOnSet:h,noUpdateTTL:f,maxSize:d=0,maxEntrySize:p=0,sizeCalculation:g,fetchMethod:m,noDeleteOnFetchRejection:O,noDeleteOnStaleGet:y,allowStaleOnFetchRejection:v,allowStaleOnFetchAbort:k,ignoreFetchAbort:_}=e;if(n!==0&&!di(n))throw new TypeError("max option must be a nonnegative integer");const A=n?_x(n):Array;if(!A)throw new Error("invalid max value: "+n);if(this.#l=n,this.#h=d,this.maxEntrySize=p||this.#h,this.sizeCalculation=g,this.sizeCalculation){if(!this.#h&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(m!==void 0&&typeof m!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#A=m,this.#x=!!m,this.#i=new Map,this.#n=new Array(n).fill(void 0),this.#e=new Array(n).fill(void 0),this.#u=new A(n),this.#f=new A(n),this.#a=0,this.#s=0,this.#b=Br.create(n),this.#r=0,this.#O=0,typeof u=="function"&&(this.#m=u),typeof c=="function"?(this.#g=c,this.#o=[]):(this.#g=void 0,this.#o=void 0),this.#_=!!this.#m,this.#c=!!this.#g,this.noDisposeOnSet=!!h,this.noUpdateTTL=!!f,this.noDeleteOnFetchRejection=!!O,this.allowStaleOnFetchRejection=!!v,this.allowStaleOnFetchAbort=!!k,this.ignoreFetchAbort=!!_,this.maxEntrySize!==0){if(this.#h!==0&&!di(this.#h))throw new TypeError("maxSize must be a positive integer if specified");if(!di(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#Z()}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!y,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!a,this.ttlResolution=di(r)||r===0?r:1,this.ttlAutopurge=!!s,this.ttl=i||0,this.ttl){if(!di(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#Q()}if(this.#l===0&&this.ttl===0&&this.#h===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#l&&!this.#h){const T="LRU_CACHE_UNBOUNDED";hZ(T)&&(yx.add(T),vx("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",T,Im))}}getRemainingTTL(e){return this.#i.has(e)?1/0:0}#Q(){const e=new zl(this.#l),n=new zl(this.#l);this.#d=e,this.#v=n,this.#R=(s,o,a=Qr.now())=>{if(n[s]=o!==0?a:0,e[s]=o,o!==0&&this.ttlAutopurge){const l=setTimeout(()=>{this.#p(s)&&this.delete(this.#n[s])},o+1);l.unref&&l.unref()}},this.#T=s=>{n[s]=e[s]!==0?Qr.now():0},this.#S=(s,o)=>{if(e[o]){const a=e[o],l=n[o];if(!a||!l)return;s.ttl=a,s.start=l,s.now=i||r();const u=s.now-l;s.remainingTTL=a-u}};let i=0;const r=()=>{const s=Qr.now();if(this.ttlResolution>0){i=s;const o=setTimeout(()=>i=0,this.ttlResolution);o.unref&&o.unref()}return s};this.getRemainingTTL=s=>{const o=this.#i.get(s);if(o===void 0)return 0;const a=e[o],l=n[o];if(!a||!l)return 1/0;const u=(i||r())-l;return a-u},this.#p=s=>{const o=n[s],a=e[s];return!!a&&!!o&&(i||r())-o>a}}#T=()=>{};#S=()=>{};#R=()=>{};#p=()=>!1;#Z(){const e=new zl(this.#l);this.#O=0,this.#y=e,this.#P=n=>{this.#O-=e[n],e[n]=0},this.#D=(n,i,r,s)=>{if(this.#t(i))return 0;if(!di(r))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(r=s(i,n),!di(r))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return r},this.#C=(n,i,r)=>{if(e[n]=i,this.#h){const s=this.#h-e[n];for(;this.#O>s;)this.#$(!0)}this.#O+=e[n],r&&(r.entrySize=i,r.totalCalculatedSize=this.#O)}}#P=e=>{};#C=(e,n,i)=>{};#D=(e,n,i,r)=>{if(i||r)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#w({allowStale:e=this.allowStale}={}){if(this.#r)for(let n=this.#s;!(!this.#V(n)||((e||!this.#p(n))&&(yield n),n===this.#a));)n=this.#f[n]}*#k({allowStale:e=this.allowStale}={}){if(this.#r)for(let n=this.#a;!(!this.#V(n)||((e||!this.#p(n))&&(yield n),n===this.#s));)n=this.#u[n]}#V(e){return e!==void 0&&this.#i.get(this.#n[e])===e}*entries(){for(const e of this.#w())this.#e[e]!==void 0&&this.#n[e]!==void 0&&!this.#t(this.#e[e])&&(yield[this.#n[e],this.#e[e]])}*rentries(){for(const e of this.#k())this.#e[e]!==void 0&&this.#n[e]!==void 0&&!this.#t(this.#e[e])&&(yield[this.#n[e],this.#e[e]])}*keys(){for(const e of this.#w()){const n=this.#n[e];n!==void 0&&!this.#t(this.#e[e])&&(yield n)}}*rkeys(){for(const e of this.#k()){const n=this.#n[e];n!==void 0&&!this.#t(this.#e[e])&&(yield n)}}*values(){for(const e of this.#w())this.#e[e]!==void 0&&!this.#t(this.#e[e])&&(yield this.#e[e])}*rvalues(){for(const e of this.#k())this.#e[e]!==void 0&&!this.#t(this.#e[e])&&(yield this.#e[e])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(e,n={}){for(const i of this.#w()){const r=this.#e[i],s=this.#t(r)?r.__staleWhileFetching:r;if(s!==void 0&&e(s,this.#n[i],this))return this.get(this.#n[i],n)}}forEach(e,n=this){for(const i of this.#w()){const r=this.#e[i],s=this.#t(r)?r.__staleWhileFetching:r;s!==void 0&&e.call(n,s,this.#n[i],this)}}rforEach(e,n=this){for(const i of this.#k()){const r=this.#e[i],s=this.#t(r)?r.__staleWhileFetching:r;s!==void 0&&e.call(n,s,this.#n[i],this)}}purgeStale(){let e=!1;for(const n of this.#k({allowStale:!0}))this.#p(n)&&(this.delete(this.#n[n]),e=!0);return e}info(e){const n=this.#i.get(e);if(n===void 0)return;const i=this.#e[n],r=this.#t(i)?i.__staleWhileFetching:i;if(r===void 0)return;const s={value:r};if(this.#d&&this.#v){const o=this.#d[n],a=this.#v[n];if(o&&a){const l=o-(Qr.now()-a);s.ttl=l,s.start=Date.now()}}return this.#y&&(s.size=this.#y[n]),s}dump(){const e=[];for(const n of this.#w({allowStale:!0})){const i=this.#n[n],r=this.#e[n],s=this.#t(r)?r.__staleWhileFetching:r;if(s===void 0||i===void 0)continue;const o={value:s};if(this.#d&&this.#v){o.ttl=this.#d[n];const a=Qr.now()-this.#v[n];o.start=Math.floor(Date.now()-a)}this.#y&&(o.size=this.#y[n]),e.unshift([i,o])}return e}load(e){this.clear();for(const[n,i]of e){if(i.start){const r=Date.now()-i.start;i.start=Qr.now()-r}this.set(n,i.value,i)}}set(e,n,i={}){if(n===void 0)return this.delete(e),this;const{ttl:r=this.ttl,start:s,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:l}=i;let{noUpdateTTL:u=this.noUpdateTTL}=i;const c=this.#D(e,n,i.size||0,a);if(this.maxEntrySize&&c>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),this.delete(e),this;let h=this.#r===0?void 0:this.#i.get(e);if(h===void 0)h=this.#r===0?this.#s:this.#b.length!==0?this.#b.pop():this.#r===this.#l?this.#$(!1):this.#r,this.#n[h]=e,this.#e[h]=n,this.#i.set(e,h),this.#u[this.#s]=h,this.#f[h]=this.#s,this.#s=h,this.#r++,this.#C(h,c,l),l&&(l.set="add"),u=!1;else{this.#E(h);const f=this.#e[h];if(n!==f){if(this.#x&&this.#t(f)){f.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:d}=f;d!==void 0&&!o&&(this.#_&&this.#m?.(d,e,"set"),this.#c&&this.#o?.push([d,e,"set"]))}else o||(this.#_&&this.#m?.(f,e,"set"),this.#c&&this.#o?.push([f,e,"set"]));if(this.#P(h),this.#C(h,c,l),this.#e[h]=n,l){l.set="replace";const d=f&&this.#t(f)?f.__staleWhileFetching:f;d!==void 0&&(l.oldValue=d)}}else l&&(l.set="update")}if(r!==0&&!this.#d&&this.#Q(),this.#d&&(u||this.#R(h,r,s),l&&this.#S(l,h)),!o&&this.#c&&this.#o){const f=this.#o;let d;for(;d=f?.shift();)this.#g?.(...d)}return this}pop(){try{for(;this.#r;){const e=this.#e[this.#a];if(this.#$(!0),this.#t(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(e!==void 0)return e}}finally{if(this.#c&&this.#o){const e=this.#o;let n;for(;n=e?.shift();)this.#g?.(...n)}}}#$(e){const n=this.#a,i=this.#n[n],r=this.#e[n];return this.#x&&this.#t(r)?r.__abortController.abort(new Error("evicted")):(this.#_||this.#c)&&(this.#_&&this.#m?.(r,i,"evict"),this.#c&&this.#o?.push([r,i,"evict"])),this.#P(n),e&&(this.#n[n]=void 0,this.#e[n]=void 0,this.#b.push(n)),this.#r===1?(this.#a=this.#s=0,this.#b.length=0):this.#a=this.#u[n],this.#i.delete(i),this.#r--,n}has(e,n={}){const{updateAgeOnHas:i=this.updateAgeOnHas,status:r}=n,s=this.#i.get(e);if(s!==void 0){const o=this.#e[s];if(this.#t(o)&&o.__staleWhileFetching===void 0)return!1;if(this.#p(s))r&&(r.has="stale",this.#S(r,s));else return i&&this.#T(s),r&&(r.has="hit",this.#S(r,s)),!0}else r&&(r.has="miss");return!1}peek(e,n={}){const{allowStale:i=this.allowStale}=n,r=this.#i.get(e);if(r===void 0||!i&&this.#p(r))return;const s=this.#e[r];return this.#t(s)?s.__staleWhileFetching:s}#I(e,n,i,r){const s=n===void 0?void 0:this.#e[n];if(this.#t(s))return s;const o=new Mu,{signal:a}=i;a?.addEventListener("abort",()=>o.abort(a.reason),{signal:o.signal});const l={signal:o.signal,options:i,context:r},u=(g,m=!1)=>{const{aborted:O}=o.signal,y=i.ignoreFetchAbort&&g!==void 0;if(i.status&&(O&&!m?(i.status.fetchAborted=!0,i.status.fetchError=o.signal.reason,y&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),O&&!y&&!m)return h(o.signal.reason);const v=d;return this.#e[n]===d&&(g===void 0?v.__staleWhileFetching?this.#e[n]=v.__staleWhileFetching:this.delete(e):(i.status&&(i.status.fetchUpdated=!0),this.set(e,g,l.options))),g},c=g=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=g),h(g)),h=g=>{const{aborted:m}=o.signal,O=m&&i.allowStaleOnFetchAbort,y=O||i.allowStaleOnFetchRejection,v=y||i.noDeleteOnFetchRejection,k=d;if(this.#e[n]===d&&(!v||k.__staleWhileFetching===void 0?this.delete(e):O||(this.#e[n]=k.__staleWhileFetching)),y)return i.status&&k.__staleWhileFetching!==void 0&&(i.status.returnedStale=!0),k.__staleWhileFetching;if(k.__returned===k)throw g},f=(g,m)=>{const O=this.#A?.(e,s,l);O&&O instanceof Promise&&O.then(y=>g(y===void 0?void 0:y),m),o.signal.addEventListener("abort",()=>{(!i.ignoreFetchAbort||i.allowStaleOnFetchAbort)&&(g(void 0),i.allowStaleOnFetchAbort&&(g=y=>u(y,!0)))})};i.status&&(i.status.fetchDispatched=!0);const d=new Promise(f).then(u,c),p=Object.assign(d,{__abortController:o,__staleWhileFetching:s,__returned:void 0});return n===void 0?(this.set(e,p,{...l.options,status:void 0}),n=this.#i.get(e)):this.#e[n]=p,p}#t(e){if(!this.#x)return!1;const n=e;return!!n&&n instanceof Promise&&n.hasOwnProperty("__staleWhileFetching")&&n.__abortController instanceof Mu}async fetch(e,n={}){const{allowStale:i=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:u=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL,noDeleteOnFetchRejection:h=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:f=this.allowStaleOnFetchRejection,ignoreFetchAbort:d=this.ignoreFetchAbort,allowStaleOnFetchAbort:p=this.allowStaleOnFetchAbort,context:g,forceRefresh:m=!1,status:O,signal:y}=n;if(!this.#x)return O&&(O.fetch="get"),this.get(e,{allowStale:i,updateAgeOnGet:r,noDeleteOnStaleGet:s,status:O});const v={allowStale:i,updateAgeOnGet:r,noDeleteOnStaleGet:s,ttl:o,noDisposeOnSet:a,size:l,sizeCalculation:u,noUpdateTTL:c,noDeleteOnFetchRejection:h,allowStaleOnFetchRejection:f,allowStaleOnFetchAbort:p,ignoreFetchAbort:d,status:O,signal:y};let k=this.#i.get(e);if(k===void 0){O&&(O.fetch="miss");const _=this.#I(e,k,v,g);return _.__returned=_}else{const _=this.#e[k];if(this.#t(_)){const V=i&&_.__staleWhileFetching!==void 0;return O&&(O.fetch="inflight",V&&(O.returnedStale=!0)),V?_.__staleWhileFetching:_.__returned=_}const A=this.#p(k);if(!m&&!A)return O&&(O.fetch="hit"),this.#E(k),r&&this.#T(k),O&&this.#S(O,k),_;const T=this.#I(e,k,v,g),B=T.__staleWhileFetching!==void 0&&i;return O&&(O.fetch=A?"stale":"refresh",B&&A&&(O.returnedStale=!0)),B?T.__staleWhileFetching:T.__returned=T}}get(e,n={}){const{allowStale:i=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:o}=n,a=this.#i.get(e);if(a!==void 0){const l=this.#e[a],u=this.#t(l);return o&&this.#S(o,a),this.#p(a)?(o&&(o.get="stale"),u?(o&&i&&l.__staleWhileFetching!==void 0&&(o.returnedStale=!0),i?l.__staleWhileFetching:void 0):(s||this.delete(e),o&&i&&(o.returnedStale=!0),i?l:void 0)):(o&&(o.get="hit"),u?l.__staleWhileFetching:(this.#E(a),r&&this.#T(a),l))}else o&&(o.get="miss")}#L(e,n){this.#f[n]=e,this.#u[e]=n}#E(e){e!==this.#s&&(e===this.#a?this.#a=this.#u[e]:this.#L(this.#f[e],this.#u[e]),this.#L(this.#s,e),this.#s=e)}delete(e){let n=!1;if(this.#r!==0){const i=this.#i.get(e);if(i!==void 0)if(n=!0,this.#r===1)this.clear();else{this.#P(i);const r=this.#e[i];if(this.#t(r)?r.__abortController.abort(new Error("deleted")):(this.#_||this.#c)&&(this.#_&&this.#m?.(r,e,"delete"),this.#c&&this.#o?.push([r,e,"delete"])),this.#i.delete(e),this.#n[i]=void 0,this.#e[i]=void 0,i===this.#s)this.#s=this.#f[i];else if(i===this.#a)this.#a=this.#u[i];else{const s=this.#f[i];this.#u[s]=this.#u[i];const o=this.#u[i];this.#f[o]=this.#f[i]}this.#r--,this.#b.push(i)}}if(this.#c&&this.#o?.length){const i=this.#o;let r;for(;r=i?.shift();)this.#g?.(...r)}return n}clear(){for(const e of this.#k({allowStale:!0})){const n=this.#e[e];if(this.#t(n))n.__abortController.abort(new Error("deleted"));else{const i=this.#n[e];this.#_&&this.#m?.(n,i,"delete"),this.#c&&this.#o?.push([n,i,"delete"])}}if(this.#i.clear(),this.#e.fill(void 0),this.#n.fill(void 0),this.#d&&this.#v&&(this.#d.fill(0),this.#v.fill(0)),this.#y&&this.#y.fill(0),this.#a=0,this.#s=0,this.#b.length=0,this.#O=0,this.#r=0,this.#c&&this.#o){const e=this.#o;let n;for(;n=e?.shift();)this.#g?.(...n)}}}const fZ=(t,e)=>{const n=ye("editorId"),{noImgZoomIn:i}=t;let r=()=>{};oe([e,_i(t.setting,"preview")],()=>{!i&&t.setting.preview&&r()},{immediate:!0}),Ve(()=>{r=mc(()=>{const s=document.querySelectorAll(`#${n}-preview img`);s.length!==0&&l9(s,{background:"#00000073"})})})},dZ=(t,e)=>{if(typeof e[t]=="string")return e[t];const n=`<i class="${S}-iconfont ${S}-icon-${t}"></i>`;switch(Ne.iconfontType){case"svg":return`<svg class="${S}-icon" aria-hidden="true"><use xlink:href="#${S}-icon-${t}"></use></svg>`;default:return n}},pZ=(t,e,n)=>{const i=ye("editorId"),r=ye("usedLanguageText"),s=ye("customIcon"),o=()=>{document.querySelectorAll(`#${i}-preview pre`).forEach(u=>{var c,h;let f=-1;(c=u.querySelector(".copy-button"))==null||c.remove();const d=((h=r.value.copyCode)==null?void 0:h.text)||"复制代码",p=document.createElement("span");p.setAttribute("class","copy-button"),p.dataset.tips=d,p.innerHTML=dZ("copy",s.value),p.addEventListener("click",()=>{var g,m;clearTimeout(f);const O=u.querySelector("code").innerText,y=O9(t.formatCopiedText(O)),v=((g=r.value.copyCode)==null?void 0:g.successTips)||"已复制！",k=((m=r.value.copyCode)==null?void 0:m.failTips)||"已复制！";p.dataset.tips=y?v:k,f=window.setTimeout(()=>{p.dataset.tips=d},1500)}),u.appendChild(p)})},a=()=>{ei(o)},l=u=>{u&&ei(o)};oe([e,n],a),oe(()=>t.setting.preview,l),oe(()=>t.setting.htmlPreview,l),oe(()=>r.value,o),Ve(o)},mZ=t=>{var e;const n=(e=Ne.editorExtensions)==null?void 0:e.highlight,i=n?.instance,r=ye("highlight"),s=ar(i);return Ve(()=>{if(!t.noHighlight&&!s.value){const o=document.createElement("script");o.src=r.value.js,o.onload=()=>{s.value=window.hljs},o.id=`${S}-hljs`,Gt(o,"hljs");const a=document.createElement("link");a.rel="stylesheet",a.href=r.value.css,a.id=`${S}-hlCss`,Gt(a)}}),oe(()=>r.value.css,o=>{v6(`${S}-hlCss`,"href",o)}),s},gZ=t=>{const e=ye("theme"),{editorExtensions:n,mermaidConfig:i}=Ne,r=n?.mermaid,s=ar(r?.instance),o=ar(-1),a=new Im({max:1e3,ttl:6e5}),l=()=>{const c=s.value;!t.noMermaid&&c&&(c.initialize(i({startOnLoad:!1,theme:e.value==="dark"?"dark":"default"})),o.value=o.value+1)};return oe(()=>e.value,()=>{a.clear(),l()}),Ve(()=>{if(!t.noMermaid&&!r?.instance){const c=r?.js||s6;if(/\.mjs/.test(c))E(()=>import(c),__vite__mapDeps([])).then(h=>{s.value=h.default,l()});else{const h=document.createElement("script");h.id=`${S}-mermaid`,h.src=c,h.onload=()=>{s.value=window.mermaid,l()},Gt(h,"mermaid")}}}),{mermaidRef:s,reRenderRef:o,replaceMermaid:()=>{ei(()=>{if(!t.noMermaid&&s.value){const c=document.querySelectorAll(`div.${S}-mermaid`),h=document.createElement("div");h.style.width=document.body.offsetWidth+"px",h.style.height=document.body.offsetHeight+"px",h.style.position="fixed",h.style.zIndex="-10000",h.style.top="-10000";let f=c.length;f>0&&document.body.appendChild(h),c.forEach(async d=>{let p=a.get(d.innerText);if(!p){const m=yf(),O=s.value.renderAsync||s.value.render;let y="";try{y=await O(m,d.innerText,h)}catch{}p=await t.sanitizeMermaid(typeof y=="string"?y:y.svg),a.set(d.innerText,p)}const g=document.createElement("p");g.className=`${S}-mermaid`,g.setAttribute("data-processed",""),g.innerHTML=p,d.dataset.line!==void 0&&(g.dataset.line=d.dataset.line),d.replaceWith(g),--f===0&&h.remove()})}})}}},OZ=t=>{var e;const n=(e=Ne.editorExtensions)==null?void 0:e.katex,i=n?.instance,r=ar(i);return Ve(()=>{if(!t.noKatex&&!r.value){const s=document.createElement("script");s.src=n?.js||Pg.js,s.onload=()=>{r.value=window.katex},s.id=`${S}-katex`;const o=document.createElement("link");o.rel="stylesheet",o.href=n?.css||Pg.css,o.id=`${S}-katexCss`,Gt(s,"katex"),Gt(o)}}),r},bZ=(t,e)=>{const n=t.renderer.rules.fence.bind(t.renderer.rules);t.renderer.rules.fence=(i,r,s,o,a)=>{const l=i[r],u=l.content.trim();if(l.info==="mermaid"){let c;return i[r].map&&i[r].level===0&&(c=i[r].map[0],i[r].attrSet("data-line",String(c))),`<div class="${S}-mermaid" ${c!==void 0?"data-line="+c:""} data-mermaid-theme=${e.themeRef.value}>${u}</div>`}return n(i,r,s,o,a)}},yZ=bZ,Sb=(t,e)=>{let n=!0,i=!0;const r=t.posMax,s=e>0?t.src.charCodeAt(e-1):-1,o=e+1<=r?t.src.charCodeAt(e+1):-1;return(s===32||s===9||o>=48&&o<=57)&&(i=!1),(o===32||o===9)&&(n=!1),{can_open:n,can_close:i}},vZ=(t,e)=>{let n,i,r,s;if(t.src[t.pos]!=="$")return!1;if(r=Sb(t,t.pos),!r.can_open)return e||(t.pending+="$"),t.pos+=1,!0;const o=t.pos+1;for(n=o;(n=t.src.indexOf("$",n))!==-1;){for(s=n-1;t.src[s]==="\\";)s-=1;if((n-s)%2==1)break;n+=1}return n===-1?(e||(t.pending+="$"),t.pos=o,!0):n-o===0?(e||(t.pending+="$$"),t.pos=o+1,!0):(r=Sb(t,n),r.can_close?(e||(i=t.push("math_inline","math",0),i.markup="$",i.content=t.src.slice(o,n)),t.pos=n+1,!0):(e||(t.pending+="$"),t.pos=o,!0))},_Z=(t,e,n,i)=>{let r,s,o,a,l=!1,u=t.bMarks[e]+t.tShift[e],c=t.eMarks[e];if(u+2>c||t.src.slice(u,u+2)!=="$$")return!1;if(u+=2,r=t.src.slice(u,c),i)return!0;for(r.trim().slice(-2)==="$$"&&(r=r.trim().slice(0,-2),l=!0),o=e;!l&&(o++,!(o>=n||(u=t.bMarks[o]+t.tShift[o],c=t.eMarks[o],u<c&&t.tShift[o]<t.blkIndent)));)t.src.slice(u,c).trim().slice(-2)==="$$"&&(a=t.src.slice(0,c).lastIndexOf("$$"),s=t.src.slice(u,a),l=!0);t.line=o+1;const h=t.push("math_block","math",0);return h.block=!0,h.content=(r&&r.trim()?r+`
`:"")+t.getLines(e+1,o,t.tShift[e],!0)+(s&&s.trim()?s:""),h.map=[e,t.line],h.markup="$$",!0},wZ=(t,e)=>{const n=r=>{if(e.katexRef.value){const s=e.katexRef.value.renderToString(r,{throwOnError:!1});return`<span class="${S}-katex-inline" data-processed>${s}</span>`}else return`<span class="${S}-katex-inline">${r}</span>`},i=(r,s)=>{if(e.katexRef.value){const o=e.katexRef.value.renderToString(r,{throwOnError:!1,displayMode:!0});return`<p class="${S}-katex-block" data-line=${s} data-processed>${o}</p>`}else return`<p class="${S}-katex-block" data-line=${s}>${r}</p>`};t.inline.ruler.after("escape","math_inline",vZ),t.block.ruler.after("blockquote","math_block",_Z,{alt:["paragraph","reference","blockquote","list"]}),t.renderer.rules.math_inline=(r,s)=>n(r[s].content),t.renderer.rules.math_block=(r,s)=>i(r[s].content,r[s].map[0])+`
`},kZ=wZ,SZ=(t,e)=>{e=e||{};const n=3,i=e.marker||"!",r=i.charCodeAt(0),s=i.length;let o="",a="";const l=(c,h,f,d,p)=>{const g=c[h];return g.type==="admonition_open"?(c[h].attrPush(["class",`${S}-admonition ${S}-admonition-${g.info}`]),c[h].attrSet("data-line",String(c[h].map[0]))):g.type==="admonition_title_open"&&c[h].attrPush(["class",`${S}-admonition-title`]),p.renderToken(c,h,f)},u=c=>{const h=c.trim().split(" ",2);a="",o=h[0],h.length>1&&(a=c.substring(o.length+2)),(a===""||!a)&&(a=o)};t.block.ruler.before("code","admonition",(c,h,f,d)=>{let p,g,m,O=!1,y=c.bMarks[h]+c.tShift[h],v=c.eMarks[h];if(r!==c.src.charCodeAt(y))return!1;for(p=y+1;p<=v&&i[(p-y)%s]===c.src[p];p++);const k=Math.floor((p-y)/s);if(k!==n)return!1;p-=(p-y)%s;const _=c.src.slice(y,p),A=c.src.slice(p,v);if(u(A),d)return!0;for(g=h;g++,!(g>=f||(y=c.bMarks[g]+c.tShift[g],v=c.eMarks[g],y<v&&c.sCount[g]<c.blkIndent));)if(r===c.src.charCodeAt(y)&&!(c.sCount[g]-c.blkIndent>=4)){for(p=y+1;p<=v&&i[(p-y)%s]===c.src[p];p++);if(!(Math.floor((p-y)/s)<k)&&(p-=(p-y)%s,p=c.skipSpaces(p),!(p<v))){O=!0;break}}const T=c.parentType,x=c.lineMax;return c.parentType="root",c.lineMax=g,m=c.push("admonition_open","div",1),m.markup=_,m.block=!0,m.info=o,m.map=[h,g],m=c.push("admonition_title_open","p",1),m.markup=_+" "+o,m.map=[h,g],m=c.push("inline","",0),m.content=a,m.map=[h,c.line-1],m.children=[],m=c.push("admonition_title_close","p",-1),m.markup=_+" "+o,c.md.block.tokenize(c,h+1,g),m=c.push("admonition_close","div",-1),m.markup=c.src.slice(y,p),m.block=!0,c.parentType=T,c.lineMax=x,c.line=g+(O?1:0),!0},{alt:["paragraph","reference","blockquote","list"]}),t.renderer.rules.admonition_open=l,t.renderer.rules.admonition_title_open=l,t.renderer.rules.admonition_title_close=l,t.renderer.rules.admonition_close=l},xZ=SZ,TZ=(t,e)=>{t.renderer.rules.heading_open=(n,i)=>{var r;const s=n[i],o=((r=n[i+1].children)==null?void 0:r.reduce((l,u)=>l+(u.content||""),""))||"",a=s.markup.length;return e.headsRef.value.push({text:o,level:a}),s.map&&s.level===0&&(s.attrSet("data-line",String(s.map[0])),s.attrSet("id",e.mdHeadingId(o,a,e.headsRef.value.length))),t.renderer.renderToken(n,i,e)},t.renderer.rules.heading_close=(n,i,r,s,o)=>o.renderToken(n,i,r)},PZ=TZ,EZ=(t,e)=>{const n=t.renderer.rules.fence,i=t.utils.unescapeAll,r=/\[(\w*)(?::([\w ]*))?\]/;function s(u){return u.info?i(u.info).trim():""}function o(u){const c=s(u),[h=null,f=""]=(r.exec(c)||[]).slice(1);return[h,f]}function a(u){const c=s(u);return c?c.split(/(\s+)/g)[0]:""}const l=(u,c,h,f,d)=>{if(u[c].hidden)return"";const[p,g]=o(u[c]);if(p===null)return n(u,c,h,f,d);let m,O,y,v,k="",_="";for(let A=c;A<u.length&&(m=u[A],[O,y]=o(m),O===p);A++)m.info=m.info.replace(r,""),m.hidden=!0,v=A-c>0?"":" checked",k+=`<li><input type="radio" name="label-group-${e.editorId}-${c}"${v}><label for="group-${e.editorId}-${c}-tab-${A-c}" onclick="this.previousElementSibling.click()">${y||a(m)}</label></li>
`,_+=`<input type="radio" id="group-${e.editorId}-${c}-tab-${A-c}" name="group-${e.editorId}-${c}"${v}>
`+n(u,A,h,f,d);return`<div class="code-tabs">
<ul>
`+k+`</ul>
`+_+"</div>"};t.renderer.rules.fence=l},AZ=EZ,CZ=t=>{["paragraph_open","table_open","ordered_list_open","bullet_list_open","blockquote_open","hr","html_block","fence"].forEach(e=>{const n=t.renderer.rules[e];n?t.renderer.rules[e]=(i,r,s,o,a)=>{let l;const u=n(i,r,s,o,a);return i[r].map&&i[r].level===0&&!/^<!--/.test(u)?(l=i[r].map[0],u.replace(/^(<[^>]*)/,`$1 data-line="${l}"`)):u}:t.renderer.rules[e]=(i,r,s,o,a)=>{let l;return i[r].map&&i[r].level===0&&(l=i[r].map[0],i[r].attrSet("data-line",String(l))),a.renderToken(i,r,s)}})},$Z=(t,e)=>{const{editorConfig:n,markdownItConfig:i,markdownItPlugins:r}=Ne,s=ye("editorId"),o=ye("showCodeRowNumber"),a=ye("theme"),l=Oe([]),u=mZ(t),c=OZ(t),{reRenderRef:h,replaceMermaid:f}=gZ(t),d=sn({html:!0,breaks:!0});i(d,{editorId:s});const p=[{type:"katex",plugin:kZ,options:{katexRef:c}},{type:"image",plugin:rL,options:{figcaption:!0,classes:"md-zoom"}},{type:"admonition",plugin:xZ,options:{}},{type:"taskList",plugin:OL,options:{}},{type:"heading",plugin:PZ,options:{mdHeadingId:t.mdHeadingId,headsRef:l}},{type:"codeTabs",plugin:AZ,options:{editorId:s}},{type:"xss",plugin:cZ,options:{xss(_){return{whiteList:Object.assign({},_.getDefaultWhiteList(),{input:["class","disabled","type","checked"],iframe:["class","width","height","src","title","border","frameborder","framespacing","allow","allowfullscreen"]})}}}}];t.noMermaid||p.push({type:"mermaid",plugin:yZ,options:{themeRef:a}}),r(p,{editorId:s}).forEach(_=>{d.use(_.plugin,_.options)});const g=d.options.highlight;d.set({highlight:(_,A,T)=>{if(g){const V=g(_,A,T);if(V)return V}let x;!t.noHighlight&&u.value?u.value.getLanguage(A)?x=u.value.highlight(_,{language:A,ignoreIllegals:!0}).value:x=u.value.highlightAuto(_).value:x=d.utils.escapeHtml(_);const B=o?O6(x.replace(/^\n+|\n+$/g,"")):`<span class="code-block">${x.replace(/^\n+|\n+$/g,"")}</span>`;return`<pre><code class="language-${A}" language=${A}>${B}</code></pre>`}}),CZ(d);const m=Oe(`_article-key_${yf()}`),O=Oe(t.sanitize(d.render(t.modelValue))),y=()=>{Z.emit(s,Ql,O.value),t.onHtmlChanged(O.value),t.onGetCatalog(l.value),Z.emit(s,_f,l.value),f()};Ve(y);const v=()=>{l.value=[],O.value=t.sanitize(d.render(t.modelValue)),y()},k=Ct(()=>(t.noKatex||c.value)&&(t.noHighlight||u.value));return oe([_i(t,"modelValue"),k,h],mc(v,n?.renderDelay!==void 0?n?.renderDelay:e?0:500)),Ve(()=>{Z.on(s,{name:F_,callback(){Z.emit(s,_f,l.value)}}),Z.on(s,{name:Qp,callback:()=>{v(),m.value=`_article-key_${yf()}`}})}),{html:O,key:m}},IZ=$Z,wx={modelValue:{type:String,default:""},setting:{type:Object,default:()=>({preview:!0})},onHtmlChanged:{type:Function,default:()=>{}},onGetCatalog:{type:Function,default:()=>{}},mdHeadingId:{type:Function,default:()=>""},noMermaid:{type:Boolean,default:!1},sanitize:{type:Function,default:t=>t},noKatex:{type:Boolean,default:!1},formatCopiedText:{type:Function,default:t=>t},noHighlight:{type:Boolean,default:!1},previewOnly:{type:Boolean,default:!1},noImgZoomIn:{type:Boolean},sanitizeMermaid:{type:Function}},QZ={...wx,updateModelValue:{type:Function,default:()=>{}},onChange:{type:Function,default:()=>{}},placeholder:{type:String,default:""},scrollAuto:{type:Boolean},autofocus:{type:Boolean},disabled:{type:Boolean},readonly:{type:Boolean},maxlength:{type:Number},autoDetectCode:{type:Boolean},onBlur:{type:Function,default:()=>{}},onFocus:{type:Function,default:()=>{}},noPrettier:{type:Boolean},completions:{type:Array},catalogVisible:{type:Boolean},theme:{type:String,default:"light"},onInput:{type:Function},onDrop:{type:Function,default:()=>{}},inputBoxWitdh:{type:String},onInputBoxWitdhChange:{type:Function}},kx=Me({name:"ContentPreview",props:wx,setup(t){const e=ye("editorId"),n=ye("previewTheme"),i=ye("showCodeRowNumber"),{html:r,key:s}=IZ(t,t.previewOnly);return pZ(t,r,s),fZ(t,r),()=>w(es,null,[t.setting.preview&&w("div",{id:`${e}-preview-wrapper`,class:`${S}-preview-wrapper`,key:"content-preview-wrapper"},[w("div",{key:s.value,id:`${e}-preview`,class:[`${S}-preview`,`${n?.value}-theme`,i&&`${S}-scrn`],innerHTML:r.value},null)]),!t.previewOnly&&t.setting.htmlPreview&&w("div",{id:`${e}-html-wrapper`,class:`${S}-preview-wrapper`,key:"html-preview-wrapper"},[w("div",{class:`${S}-html`},[r.value])])])}}),RZ=(t,e)=>{const{editorId:n}=t,i=Rt({buildFinished:!1,html:""});oe(()=>t.modelValue,()=>{i.buildFinished=!1}),Ve(()=>{Z.on(n,{name:Ql,callback(r){i.buildFinished=!0,i.html=r}}),Z.on(n,{name:gc,callback(){const r=new Promise(s=>{if(i.buildFinished)s(i.html);else{const o=a=>{s(a),Z.remove(n,Ql,o)};Z.on(n,{name:Ql,callback:o})}});t.onSave?t.onSave(t.modelValue,r):e.emit("onSave",t.modelValue,r)}})})},Sx=t=>{var e,n;const{editorId:i}=t,r=(n=(e=Ne)==null?void 0:e.editorExtensions)==null?void 0:n.highlight;qn("editorId",i),qn("theme",Ct(()=>t.theme)),qn("language",Ct(()=>t.language)),qn("highlight",Ct(()=>{const o={...Eg,...r?.css},a=t.codeStyleReverse&&t.codeStyleReverseList.includes(t.previewTheme)?"dark":t.theme;return{js:r?.js||i6,css:o[t.codeTheme]?o[t.codeTheme][a]:Eg.atom[a]}})),qn("showCodeRowNumber",t.showCodeRowNumber);const s=Ct(()=>{var o,a;const l={...Tg,...(a=(o=Ne)==null?void 0:o.editorConfig)==null?void 0:a.languageUserDefined};return l[t.language]?l[t.language]:Tg["zh-CN"]});qn("usedLanguageText",s),qn("previewTheme",Ct(()=>t.previewTheme)),qn("customIcon",Ct(()=>t.customIcon))},DZ=t=>{Sx(t),qn("tabWidth",t.tabWidth)},xx=t=>{Ve(()=>{var e,n;if(!t.noIconfont)if(Ne.iconfontType==="svg"){const i=document.createElement("script");i.src=((e=Ne.editorExtensions)==null?void 0:e.iconfont)||t6,i.id=`${S}-icon`,Gt(i)}else{const i=document.createElement("link");i.rel="stylesheet",i.href=((n=Ne.editorExtensions)==null?void 0:n.iconfontClass)||n6,i.id=`${S}-icon-class`,Gt(i)}})},VZ=t=>{var e,n,i,r,s,o;const{noPrettier:a,noUploadImg:l}=t,{editorExtensions:u}=Ne,c=a||!!((n=(e=Ne.editorExtensions)==null?void 0:e.prettier)!=null&&n.prettierInstance),h=a||!!((r=(i=Ne.editorExtensions)==null?void 0:i.prettier)!=null&&r.parserMarkdownInstance),f=l||!!((o=(s=Ne.editorExtensions)==null?void 0:s.cropper)!=null&&o.instance);Ve(()=>{var d,p,g,m;const O=document.createElement("script"),y=document.createElement("script");O.src=((d=u?.prettier)==null?void 0:d.standaloneJs)||Sg.main,O.id=`${S}-prettier`,y.src=((p=u?.prettier)==null?void 0:p.parserMarkdownJs)||Sg.markdown,y.id=`${S}-prettierMD`;const v=document.createElement("link");v.rel="stylesheet",v.href=((g=u?.cropper)==null?void 0:g.css)||xg.css,v.id=`${S}-cropperCss`;const k=document.createElement("script");k.src=((m=u?.cropper)==null?void 0:m.js)||xg.js,k.id=`${S}-cropper`,f||(Gt(v),Gt(k)),c||Gt(O),h||Gt(y)}),xx(t)},LZ=(t,e)=>{const{editorId:n}=t;Ve(()=>{Z.on(n,{name:kr,callback:i=>{t.onError instanceof Function?t.onError(i):e.emit("onError",i)}})})},ZZ=(t,e)=>{const{editorId:n}=t,i=Rt({pageFullscreen:t.pageFullscreen,fullscreen:!1,preview:t.preview,htmlPreview:t.preview?!1:t.htmlPreview}),r=(a,l)=>{i[a]=l===void 0?!i[a]:l,a==="preview"&&i.preview?i.htmlPreview=!1:a==="htmlPreview"&&i.htmlPreview&&(i.preview=!1)};let s="";const o=()=>{i.pageFullscreen||i.fullscreen?document.body.style.overflow="hidden":document.body.style.overflow=s};return oe(()=>[i.pageFullscreen,i.fullscreen],o),Ve(()=>{Z.on(n,{name:Oc,callback(a,l){const u=c=>{Z.emit(n,Ae,"image",{desc:"",urls:c}),l&&l()};t.onUploadImg?t.onUploadImg(a,u):e.emit("onUploadImg",a,u)}}),s=document.body.style.overflow,o()}),[i,r]},MZ=t=>{const{editorId:e}=t,n=Oe(!1);return Ve(()=>{Z.on(e,{name:Ip,callback:r=>{r===void 0?n.value=!n.value:n.value=r}})}),Ct(()=>!t.toolbarsExclude.includes("catalog")&&t.toolbars.includes("catalog")&&n.value)},FZ=(t,e,n,i,r,s)=>{const{editorId:o}=t;oe(()=>i.pageFullscreen,l=>{Z.emit(o,Ag,l)}),oe(()=>i.fullscreen,l=>{Z.emit(o,Cg,l)}),oe(()=>i.preview,l=>{Z.emit(o,$g,l)}),oe(()=>i.htmlPreview,l=>{Z.emit(o,Ig,l)}),oe(n,l=>{Z.emit(o,Qg,l)});const a={on(l,u){switch(l){case"pageFullscreen":{Z.on(o,{name:Ag,callback(c){u(c)}});break}case"fullscreen":{Z.on(o,{name:Cg,callback(c){u(c)}});break}case"preview":{Z.on(o,{name:$g,callback(c){u(c)}});break}case"htmlPreview":{Z.on(o,{name:Ig,callback(c){u(c)}});break}case"catalog":{Z.on(o,{name:Qg,callback(c){u(c)}});break}}},togglePageFullscreen(l){r("pageFullscreen",l)},toggleFullscreen(l){Z.emit(o,L_,l)},togglePreview(l){r("preview",l)},toggleHtmlPreview(l){r("htmlPreview",l)},toggleCatalog(l){Z.emit(o,Ip,l)},triggerSave(){Z.emit(o,gc)},insert(l){Z.emit(o,Ae,"universal",{generate:l})},focus(l){var u;(u=s.value)==null||u.focus(l)},rerender(){Z.emit(o,Qp)},getSelectedText(){var l;return(l=s.value)==null?void 0:l.getSelectedText()},resetHistory(){var l;(l=s.value)==null||l.resetHistory()},domEventHandlers(l){Z.emit(o,N_,l)}};e.expose(a)},NZ=t=>t,Tx={modelValue:{type:String,default:""},theme:{type:String,default:"light"},class:{type:String,default:""},language:{type:String,default:"zh-CN"},onHtmlChanged:{type:Function},onGetCatalog:{type:Function},editorId:{type:String,default:()=>y6("md-editor-v3_")},showCodeRowNumber:{type:Boolean,default:!1},previewTheme:{type:String,default:"default"},style:{type:Object,default:()=>({})},mdHeadingId:{type:Function,default:NZ},sanitize:{type:Function,default:t=>t},noMermaid:{type:Boolean,default:!1},noKatex:{type:Boolean,default:!1},codeTheme:{type:String,default:"atom"},noIconfont:{type:Boolean},formatCopiedText:{type:Function,default:t=>t},codeStyleReverse:{type:Boolean,default:!0},codeStyleReverseList:{type:Array,default:["default","mk-cute"]},noHighlight:{type:Boolean,default:!1},noImgZoomIn:{type:Boolean,default:!1},customIcon:{type:Object,default:{}},sanitizeMermaid:{type:Function,default:t=>Promise.resolve(t)}},BZ={...Tx,onChange:{type:Function},onSave:{type:Function},onUploadImg:{type:Function},pageFullscreen:{type:Boolean,default:!1},preview:{type:Boolean,default:!0},htmlPreview:{type:Boolean,default:!1},toolbars:{type:Array,default:D_},toolbarsExclude:{type:Array,default:[]},noPrettier:{type:Boolean,default:!1},tabWidth:{type:Number,default:2},tableShape:{type:Array,default:()=>[6,4]},placeholder:{type:String,default:""},defToolbars:{type:[String,Object]},onError:{type:Function},footers:{type:Array,default:V_},scrollAuto:{type:Boolean,default:!0},defFooters:{type:[String,Object]},noUploadImg:{type:Boolean},autoFocus:{type:Boolean},disabled:{type:Boolean},readOnly:{type:Boolean},maxLength:{type:Number},autoDetectCode:{type:Boolean},onBlur:{type:Function},onFocus:{type:Function},completions:{type:Array},showToolbarName:{type:Boolean,default:!1},onInput:{type:Function},onDrop:{type:Function},inputBoxWitdh:{type:String,default:"50%"},onInputBoxWitdhChange:{type:Function}},Px=["onHtmlChanged","onGetCatalog"],jZ=[...Px,"onChange","onSave","onUploadImg","onError","update:modelValue","onBlur","onFocus","onInput","onDrop","onInputBoxWitdhChange"],XZ=(t,e)=>{const{editorId:n}=t,i={rerender(){Z.emit(n,Qp)}};e.expose(i)},ql=Me({name:"MdPreview",props:Tx,emits:Px,setup(t,e){const{editorId:n,noKatex:i,noMermaid:r,noHighlight:s}=t;return Sx(t),xx(t),XZ(t,e),ca(()=>{Z.clear(n)}),()=>w("div",{id:n,class:[S,t.class,t.theme==="dark"&&`${S}-dark`,`${S}-previewOnly`],style:t.style},[w(kx,{modelValue:t.modelValue,onHtmlChanged:o=>{t.onHtmlChanged?t.onHtmlChanged(o):e.emit("onHtmlChanged",o)},onGetCatalog:o=>{t.onGetCatalog?t.onGetCatalog(o):e.emit("onGetCatalog",o)},mdHeadingId:t.mdHeadingId,noMermaid:r,sanitize:t.sanitize,noKatex:i,formatCopiedText:t.formatCopiedText,noHighlight:s,noImgZoomIn:t.noImgZoomIn,previewOnly:!0,sanitizeMermaid:t.sanitizeMermaid},null)])}});ql.install=t=>(t.component(ql.name,ql),t);const zZ={tocItem:{type:Object,default:()=>({})},mdHeadingId:{type:Function,default:()=>{}},scrollElement:{type:[String,Object],default:""},onClick:{type:Function,default:()=>{}},scrollElementOffsetTop:{type:Number,default:0}},Ex=Me({props:zZ,setup(t){return()=>{const{tocItem:e,mdHeadingId:n,scrollElement:i,onClick:r,scrollElementOffsetTop:s}=t;return w("div",{class:[`${S}-catalog-link`,e.active&&`${S}-catalog-active`],onClick:o=>{r(o,e),o.stopPropagation();const a=n(e.text,e.level,e.index),l=document.getElementById(a),u=i instanceof Element?i:document.querySelector(i);if(l&&u){let c=l.offsetParent,h=l.offsetTop;if(u.contains(c))for(;c&&u!=c;)h+=c?.offsetTop,c=c?.offsetParent;u?.scrollTo({top:h-s,behavior:"smooth"})}}},[w("span",{title:e.text},[e.text]),w("div",{class:`${S}-catalog-wrapper`},[e.children&&e.children.map(o=>w(Ex,{mdHeadingId:n,key:`${e.text}-link-${o.level}-${o.text}`,tocItem:o,scrollElement:i,onClick:r,scrollElementOffsetTop:s},null))])])}}}),qZ=Ex,WZ={editorId:{type:String},class:{type:String,default:""},mdHeadingId:{type:Function,default:t=>t},scrollElement:{type:[String,Object]},theme:{type:String,default:"light"},offsetTop:{type:Number,default:20},scrollElementOffsetTop:{type:Number,default:0},onClick:{type:Function},onActive:{type:Function}},xo=Me({name:"MdCatalog",props:WZ,emits:["onClick","onActive"],setup(t,e){const n=t.editorId,i=Rt({list:[],show:!1,scrollElement:t.scrollElement||`#${n}-preview-wrapper`}),r=ar(),s=Ct(()=>{const u=[];return i.list.forEach((c,h)=>{const{text:f,level:d}=c,p={level:d,text:f,index:h+1,active:r.value===c};if(u.length===0)u.push(p);else{let g=u[u.length-1];if(p.level>g.level)for(let m=g.level+1;m<=6;m++){const{children:O}=g;if(!O){g.children=[p];break}if(g=O[O.length-1],p.level<=g.level){O.push(p);break}}else u.push(p)}}),u}),o=()=>i.scrollElement instanceof HTMLElement?i.scrollElement:document.querySelector(i.scrollElement),a=u=>{if(u.length===0)return i.list=[],!1;const{activeHead:c}=u.reduce((h,f,d)=>{const p=document.getElementById(t.mdHeadingId(f.text,f.level,d+1));if(p instanceof HTMLElement){const g=o(),m=b6(p,g);if(m<t.offsetTop&&m>h.minTop)return{activeHead:f,minTop:m}}return h},{activeHead:u[0],minTop:Number.MIN_SAFE_INTEGER});r.value=c,i.list=u},l=()=>{a(i.list)};return oe(()=>r.value,u=>{const c=u?{...u}:void 0;t.onActive?t.onActive(c):e.emit("onActive",c)}),Ve(()=>{const u=o(),c=u===document.documentElement?window:u;c?.addEventListener("scroll",l),Z.on(n,{name:_f,callback:h=>{c?.removeEventListener("scroll",l),a(h),c?.addEventListener("scroll",l)}}),Z.emit(n,F_)}),ca(()=>{var u;const c=o();(u=c===document.documentElement?window:c)==null||u.removeEventListener("scroll",l)}),()=>w("div",{class:`${S}-catalog${t.theme==="dark"?"-dark":""} ${t.class}`},[s.value.map(u=>w(qZ,{mdHeadingId:t.mdHeadingId,tocItem:u,key:`link-${u.level}-${u.text}`,scrollElement:i.scrollElement,onClick:(c,h)=>{t.onClick?t.onClick(c,h):e.emit("onClick",c,h)},scrollElementOffsetTop:t.scrollElementOffsetTop},null))])}});xo.install=t=>(t.component(xo.name,xo),t);const YZ={title:{type:String,default:""},trigger:{type:[String,Object]},onClick:{type:Function},insert:{type:Function},language:{type:String},theme:{type:String}},Wl=Me({name:"NormalToolbar",props:YZ,emits:["onClick"],setup(t,e){return()=>{const n=tn({props:t,ctx:e},"trigger");return w("div",{class:`${S}-toolbar-item`,title:t.title,onClick:i=>{t.onClick instanceof Function?t.onClick(i):e.emit("onClick",i)}},[n])}}});Wl.install=t=>(t.component(Wl.name,Wl),t);function UZ(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Lx(t)}const GZ={title:{type:String,default:""},modalTitle:{type:String,default:""},visible:{type:Boolean},width:{type:String,default:"auto"},height:{type:String,default:"auto"},trigger:{type:[String,Object]},onClick:{type:Function},onClose:{type:Function},showAdjust:{type:Boolean,default:!1},isFullscreen:{type:Boolean,default:!1},onAdjust:{type:Function},insert:{type:Function},language:{type:String},theme:{type:String}},Yl=Me({name:"ModalToolbar",props:GZ,emits:["onClick","onClose","onAdjust"],setup(t,e){return()=>{const n=tn({props:t,ctx:e},"trigger"),i=tn({props:t,ctx:e},"default");return w(es,null,[w("div",{class:`${S}-toolbar-item`,title:t.title,onClick:()=>{t.onClick instanceof Function?t.onClick():e.emit("onClick")}},[n]),w(qr,{width:t.width,height:t.height,title:t.modalTitle,visible:t.visible,onClose:()=>{t.onClose instanceof Function?t.onClose():e.emit("onClose")},showAdjust:t.showAdjust,isFullscreen:t.isFullscreen,onAdjust:r=>{t.onAdjust instanceof Function?t.onAdjust(r):e.emit("onAdjust",r)}},UZ(i)?i:{default:()=>[i]})])}}});Yl.install=t=>(t.component(Yl.name,Yl),t);var HZ=Object.defineProperty,KZ=(t,e,n)=>e in t?HZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fi=(t,e,n)=>(KZ(t,typeof e!="symbol"?e+"":e,n),n);const JZ=Me({setup(){return()=>w("div",{class:`${S}-divider`},null)}}),eM={noPrettier:{type:Boolean},toolbars:{type:Array,default:()=>[]},toolbarsExclude:{type:Array,default:()=>[]},setting:{type:Object,default:()=>({})},screenfull:{type:Object,default:null},screenfullJs:{type:String,default:""},updateSetting:{type:Function,default:()=>{}},tableShape:{type:Array,default:()=>[6,4]},defToolbars:{type:Object},noUploadImg:{type:Boolean},showToolbarName:{type:Boolean}},tM=t=>{var e,n,i,r;const s=ye("editorId");let o=(n=(e=Ne.editorExtensions)==null?void 0:e.screenfull)==null?void 0:n.instance;const a=(r=(i=Ne.editorExtensions)==null?void 0:i.screenfull)==null?void 0:r.js,l=Oe(!1),u=f=>{if(!o){Z.emit(s,kr,{name:"fullscreen",message:"fullscreen is undefined"});return}o.isEnabled?(l.value=!0,(f===void 0?!o.isFullscreen:f)?o.request():o.exit()):console.error("browser does not support screenfull!")},c=()=>{o&&o.isEnabled&&o.on("change",()=>{(l.value||t.setting.fullscreen)&&(l.value=!1,t.updateSetting("fullscreen"))})},h=()=>{o=window.screenfull,c()};return Ve(()=>{if(c(),!o){const f=document.createElement("script");f.src=a||r6,f.onload=h,f.id=`${S}-screenfull`,Gt(f,"screenfull")}}),Ve(()=>{Z.on(s,{name:L_,callback:u})}),{fullscreenHandler:u}},nM={tableShape:{type:Array,default:()=>[6,4]},onSelected:{type:Function,default:()=>{}}},iM=Me({name:"TableShape",props:nM,setup(t){const e=Rt({x:-1,y:-1});return()=>w("div",{class:`${S}-table-shape`,onMouseleave:()=>{e.x=-1,e.y=-1}},[new Array(t.tableShape[1]).fill("").map((n,i)=>w("div",{class:`${S}-table-shape-row`,key:`table-shape-row-${i}`},[new Array(t.tableShape[0]).fill("").map((r,s)=>w("div",{class:`${S}-table-shape-col`,key:`table-shape-col-${s}`,onMouseenter:()=>{e.x=i,e.y=s},onClick:()=>{t.onSelected(e)}},[w("div",{class:[`${S}-table-shape-col-default`,i<=e.x&&s<=e.y&&`${S}-table-shape-col-include`]},null)]))]))])}}),rM=iM,sM={type:{type:String,default:"link"},visible:{type:Boolean,default:!1},onCancel:{type:Function,default:()=>{}},onOk:{type:Function,default:()=>{}}},oM=Me({props:sM,setup(t){const e=ye("usedLanguageText"),n=ye("editorId"),i=Ct(()=>{var s,o;switch(t.type){case"link":return(s=e.value.linkModalTips)==null?void 0:s.linkTitle;case"image":return(o=e.value.linkModalTips)==null?void 0:o.imageTitle;default:return""}}),r=Rt({desc:"",url:""});return oe(()=>t.visible,s=>{s||setTimeout(()=>{r.desc="",r.url=""},200)}),()=>w(qr,{title:i.value,visible:t.visible,onClose:t.onCancel},{default:()=>{var s,o,a,l,u;return[w("div",{class:`${S}-form-item`},[w("label",{class:`${S}-label`,for:`link-desc-${n}`},[(s=e.value.linkModalTips)==null?void 0:s.descLabel]),w("input",{placeholder:(o=e.value.linkModalTips)==null?void 0:o.descLabelPlaceHolder,class:`${S}-input`,id:`link-desc-${n}`,type:"text",value:r.desc,onChange:c=>{r.desc=c.target.value},autocomplete:"off"},null)]),w("div",{class:`${S}-form-item`},[w("label",{class:`${S}-label`,for:`link-url-${n}`},[(a=e.value.linkModalTips)==null?void 0:a.urlLabel]),w("input",{placeholder:(l=e.value.linkModalTips)==null?void 0:l.urlLabelPlaceHolder,class:`${S}-input`,id:`link-url-${n}`,type:"text",value:r.url,onChange:c=>{r.url=c.target.value},autocomplete:"off"},null)]),w("div",{class:`${S}-form-item`},[w("button",{class:[`${S}-btn`,`${S}-btn-row`],type:"button",onClick:()=>{t.onOk(r),r.desc="",r.url=""}},[(u=e.value.linkModalTips)==null?void 0:u.buttonOK])])]}})}}),aM={visible:{type:Boolean,default:!1},onCancel:{type:Function,default:()=>{}},onOk:{type:Function,default:()=>{}}},lM=Me({props:aM,setup(t){var e,n,i;const r=ye("usedLanguageText"),s=ye("editorId");let o=(i=(n=(e=Ne)==null?void 0:e.editorExtensions)==null?void 0:n.cropper)==null?void 0:i.instance;const a=Oe(),l=Oe(),u=Oe(),c=Rt({cropperInited:!1,imgSelected:!1,imgSrc:"",isFullscreen:!1});let h=null;oe(()=>t.visible,()=>{t.visible&&!c.cropperInited&&(o=o||window.Cropper,a.value.onchange=()=>{if(!o){Z.emit(s,kr,{name:"Cropper",message:"Cropper is undefined"});return}const d=a.value.files||[];if(c.imgSelected=!0,d?.length>0){const p=new FileReader;p.onload=g=>{c.imgSrc=g.target.result,ei(()=>{h=new o(l.value,{viewMode:2,preview:`.${S}-clip-preview-target`})})},p.readAsDataURL(d[0])}})}),oe(()=>[c.imgSelected],()=>{u.value.style=""}),oe(()=>c.isFullscreen,()=>{ei(()=>{h?.destroy(),u.value.style="",l.value&&(h=new o(l.value,{viewMode:2,preview:`.${S}-clip-preview-target`}))})});const f=()=>{h.clear(),h.destroy(),h=null,a.value.value="",c.imgSelected=!1};return()=>{var d;return w(qr,{class:`${S}-modal-clip`,title:(d=r.value.clipModalTips)==null?void 0:d.title,visible:t.visible,onClose:t.onCancel,showAdjust:!0,isFullscreen:c.isFullscreen,onAdjust:p=>{c.isFullscreen=p},width:"668px",height:"421px"},{default:()=>{var p,g;return[w("div",{class:`${S}-form-item ${S}-clip`},[w("div",{class:`${S}-clip-main`},[c.imgSelected?w("div",{class:`${S}-clip-cropper`},[w("img",{src:c.imgSrc,ref:l,style:{display:"none"},alt:""},null),w("div",{class:`${S}-clip-delete`,onClick:f},[w(fe,{name:"delete"},null)])]):w("div",{class:`${S}-clip-upload`,onClick:()=>{a.value.click()}},[w(fe,{name:"upload"},null)])]),w("div",{class:`${S}-clip-preview`},[w("div",{class:`${S}-clip-preview-target`,ref:u},null)])]),w("div",{class:`${S}-form-item`},[w("button",{class:`${S}-btn`,type:"button",onClick:()=>{if(h){const m=h.getCroppedCanvas();Z.emit(s,Oc,[g6(m.toDataURL("image/png"))],t.onOk),f()}}},[((p=r.value.clipModalTips)==null?void 0:p.buttonUpload)||((g=r.value.linkModalTips)==null?void 0:g.buttonOK)])]),w("input",{ref:a,accept:"image/*",type:"file",multiple:!1,style:{display:"none"}},null)]}})}}}),uM={type:{type:String,default:"link"},linkVisible:{type:Boolean,default:!1},clipVisible:{type:Boolean,default:!1},onCancel:{type:Function,default:()=>{}},onOk:{type:Function,default:()=>{}}},cM=Me({props:uM,setup(t){return()=>w(es,null,[w(oM,{type:t.type,visible:t.linkVisible,onOk:t.onOk,onCancel:t.onCancel},null),w(lM,{visible:t.clipVisible,onOk:t.onOk,onCancel:t.onCancel},null)])}}),hM=Me({name:"MDEditorToolbar",props:eM,setup(t){const e=ye("editorId"),n=ye("usedLanguageText"),i=ye("theme"),r=ye("language"),{fullscreenHandler:s}=tM(t),o=`${e}-toolbar-wrapper`,a=Oe(),l=Rt({title:!1,catalog:!1,image:!1,table:!1,mermaid:!1,katex:!1}),u=(m,O)=>{Z.emit(e,Ae,m,O)},c=Rt({type:"link",linkVisible:!1,clipVisible:!1}),h=Oe();Ve(()=>{Z.on(e,{name:vf,callback(m){c.type=m,c.linkVisible=!0}})});const f=Ct(()=>{const m=t.toolbars.filter(k=>!t.toolbarsExclude.includes(k)),O=m.indexOf("="),y=O===-1?m:m.slice(0,O+1),v=O===-1?[]:m.slice(O,Number.MAX_SAFE_INTEGER);return[y,v]}),d=Oe(),p=()=>{Z.emit(e,Oc,Array.from(d.value.files||[])),d.value.value=""};Ve(()=>{d.value.addEventListener("change",p)});const g=m=>{var O,y,v,k,_,A,T,x,B,V,j,R,M,z,H,U,me,we,Je,ce,he,dt,qt,ln,Lt,Xi,La,zi,Za,Ma,Tr,Pr,Fa,Na,Er,Ba,ja,Vs,Qm,Rm,Dm,Vm,Lm,Zm,Mm,Fm,Nm,Bm,jm,Xm,zm,qm,Wm,Ym,Um,Gm,Hm,Km,Jm,e0,t0,n0,i0,r0,s0,o0,a0;if(D_.includes(m))switch(m){case"-":return w(JZ,null,null);case"bold":return w("div",{class:`${S}-toolbar-item`,title:(O=n.value.toolbarTips)==null?void 0:O.bold,onClick:()=>{u("bold")}},[w(fe,{name:"bold"},null),t.showToolbarName&&w("div",{class:`${S}-toolbar-item-name`},[(y=n.value.toolbarTips)==null?void 0:y.bold])]);case"underline":return w("div",{class:`${S}-toolbar-item`,title:(v=n.value.toolbarTips)==null?void 0:v.underline,onClick:()=>{u("underline")}},[w(fe,{name:"underline"},null),t.showToolbarName&&w("div",{class:`${S}-toolbar-item-name`},[(k=n.value.toolbarTips)==null?void 0:k.underline])]);case"italic":return w("div",{class:`${S}-toolbar-item`,title:(_=n.value.toolbarTips)==null?void 0:_.italic,onClick:()=>{u("italic")}},[w(fe,{name:"italic"},null),t.showToolbarName&&w("div",{class:`${S}-toolbar-item-name`},[(A=n.value.toolbarTips)==null?void 0:A.italic])]);case"strikeThrough":return w("div",{class:`${S}-toolbar-item`,title:(T=n.value.toolbarTips)==null?void 0:T.strikeThrough,onClick:()=>{u("strikeThrough")}},[w(fe,{name:"strike-through"},null),t.showToolbarName&&w("div",{class:`${S}-toolbar-item-name`},[(x=n.value.toolbarTips)==null?void 0:x.strikeThrough])]);case"title":return w(Zr,{relative:`#${o}`,visible:l.title,onChange:ge=>{l.title=ge},overlay:w("ul",{class:`${S}-menu`,onClick:()=>{l.title=!1}},[w("li",{class:`${S}-menu-item ${S}-menu-item-title`,onClick:()=>{u("h1")}},[(B=n.value.titleItem)==null?void 0:B.h1]),w("li",{class:`${S}-menu-item ${S}-menu-item-title`,onClick:()=>{u("h2")}},[(V=n.value.titleItem)==null?void 0:V.h2]),w("li",{class:`${S}-menu-item ${S}-menu-item-title`,onClick:()=>{u("h3")}},[(j=n.value.titleItem)==null?void 0:j.h3]),w("li",{class:`${S}-menu-item ${S}-menu-item-title`,onClick:()=>{u("h4")}},[(R=n.value.titleItem)==null?void 0:R.h4]),w("li",{class:`${S}-menu-item ${S}-menu-item-title`,onClick:()=>{u("h5")}},[(M=n.value.titleItem)==null?void 0:M.h5]),w("li",{class:`${S}-menu-item ${S}-menu-item-title`,onClick:()=>{u("h6")}},[(z=n.value.titleItem)==null?void 0:z.h6])])},{default:()=>{var ge,pt;return[w("div",{class:`${S}-toolbar-item`,title:(ge=n.value.toolbarTips)==null?void 0:ge.title},[w(fe,{name:"title"},null),t.showToolbarName&&w("div",{class:`${S}-toolbar-item-name`},[(pt=n.value.toolbarTips)==null?void 0:pt.title])])]}});case"sub":return w("div",{class:`${S}-toolbar-item`,title:(H=n.value.toolbarTips)==null?void 0:H.sub,onClick:()=>{u("sub")}},[w(fe,{name:"sub"},null),t.showToolbarName&&w("div",{class:`${S}-toolbar-item-name`},[(U=n.value.toolbarTips)==null?void 0:U.sub])]);case"sup":return w("div",{class:`${S}-toolbar-item`,title:(me=n.value.toolbarTips)==null?void 0:me.sup,onClick:()=>{u("sup")}},[w(fe,{name:"sup"},null),t.showToolbarName&&w("div",{class:`${S}-toolbar-item-name`},[(we=n.value.toolbarTips)==null?void 0:we.sup])]);case"quote":return w("div",{class:`${S}-toolbar-item`,title:(Je=n.value.toolbarTips)==null?void 0:Je.quote,onClick:()=>{u("quote")}},[w(fe,{name:"quote"},null),t.showToolbarName&&w("div",{class:`${S}-toolbar-item-name`},[(ce=n.value.toolbarTips)==null?void 0:ce.quote])]);case"unorderedList":return w("div",{class:`${S}-toolbar-item`,title:(he=n.value.toolbarTips)==null?void 0:he.unorderedList,onClick:()=>{u("unorderedList")}},[w(fe,{name:"unordered-list"},null),t.showToolbarName&&w("div",{class:`${S}-toolbar-item-name`},[(dt=n.value.toolbarTips)==null?void 0:dt.unorderedList])]);case"orderedList":return w("div",{class:`${S}-toolbar-item`,title:(qt=n.value.toolbarTips)==null?void 0:qt.orderedList,onClick:()=>{u("orderedList")}},[w(fe,{name:"ordered-list"},null),t.showToolbarName&&w("div",{class:`${S}-toolbar-item-name`},[(ln=n.value.toolbarTips)==null?void 0:ln.orderedList])]);case"task":return w("div",{class:`${S}-toolbar-item`,title:(Lt=n.value.toolbarTips)==null?void 0:Lt.task,onClick:()=>{u("task")}},[w(fe,{name:"task"},null),t.showToolbarName&&w("div",{class:`${S}-toolbar-item-name`},[(Xi=n.value.toolbarTips)==null?void 0:Xi.task])]);case"codeRow":return w("div",{class:`${S}-toolbar-item`,title:(La=n.value.toolbarTips)==null?void 0:La.codeRow,onClick:()=>{u("codeRow")}},[w(fe,{name:"code-row"},null),t.showToolbarName&&w("div",{class:`${S}-toolbar-item-name`},[(zi=n.value.toolbarTips)==null?void 0:zi.codeRow])]);case"code":return w("div",{class:`${S}-toolbar-item`,title:(Za=n.value.toolbarTips)==null?void 0:Za.code,onClick:()=>{u("code")}},[w(fe,{name:"code"},null),t.showToolbarName&&w("div",{class:`${S}-toolbar-item-name`},[(Ma=n.value.toolbarTips)==null?void 0:Ma.code])]);case"link":return w("div",{class:`${S}-toolbar-item`,title:(Tr=n.value.toolbarTips)==null?void 0:Tr.link,onClick:()=>{c.type="link",c.linkVisible=!0}},[w(fe,{name:"link"},null),t.showToolbarName&&w("div",{class:`${S}-toolbar-item-name`},[(Pr=n.value.toolbarTips)==null?void 0:Pr.link])]);case"image":return t.noUploadImg?w("div",{class:`${S}-toolbar-item`,title:(Fa=n.value.toolbarTips)==null?void 0:Fa.image,onClick:()=>{c.type="image",c.linkVisible=!0}},[w(fe,{name:"image"},null),t.showToolbarName&&w("div",{class:`${S}-toolbar-item-name`},[(Na=n.value.toolbarTips)==null?void 0:Na.image])]):w(Zr,{relative:`#${o}`,visible:l.image,onChange:ge=>{l.image=ge},overlay:w("ul",{class:`${S}-menu`,onClick:()=>{l.title=!1}},[w("li",{class:`${S}-menu-item ${S}-menu-item-image`,onClick:()=>{c.type="image",c.linkVisible=!0}},[(Er=n.value.imgTitleItem)==null?void 0:Er.link]),w("li",{class:`${S}-menu-item ${S}-menu-item-image`,onClick:()=>{d.value.click()}},[(Ba=n.value.imgTitleItem)==null?void 0:Ba.upload]),w("li",{class:`${S}-menu-item ${S}-menu-item-image`,onClick:()=>{c.clipVisible=!0}},[(ja=n.value.imgTitleItem)==null?void 0:ja.clip2upload])])},{default:()=>{var ge,pt;return[w("div",{class:`${S}-toolbar-item`,title:(ge=n.value.toolbarTips)==null?void 0:ge.image},[w(fe,{name:"image"},null),t.showToolbarName&&w("div",{class:`${S}-toolbar-item-name`},[(pt=n.value.toolbarTips)==null?void 0:pt.image])])]}});case"table":return w(Zr,{relative:`#${o}`,visible:l.table,onChange:ge=>{l.table=ge},key:"bar-table",overlay:w(rM,{tableShape:t.tableShape,onSelected:ge=>{u("table",{selectedShape:ge})}},null)},{default:()=>{var ge,pt;return[w("div",{class:`${S}-toolbar-item`,title:(ge=n.value.toolbarTips)==null?void 0:ge.table},[w(fe,{name:"table"},null),t.showToolbarName&&w("div",{class:`${S}-toolbar-item-name`},[(pt=n.value.toolbarTips)==null?void 0:pt.table])])]}});case"revoke":return w("div",{class:`${S}-toolbar-item`,title:(Vs=n.value.toolbarTips)==null?void 0:Vs.revoke,onClick:()=>{Z.emit(e,Z_)}},[w(fe,{name:"revoke"},null),t.showToolbarName&&w("div",{class:`${S}-toolbar-item-name`},[(Qm=n.value.toolbarTips)==null?void 0:Qm.revoke])]);case"next":return w("div",{class:`${S}-toolbar-item`,title:(Rm=n.value.toolbarTips)==null?void 0:Rm.next,onClick:()=>{Z.emit(e,M_)}},[w(fe,{name:"next"},null),t.showToolbarName&&w("div",{class:`${S}-toolbar-item-name`},[(Dm=n.value.toolbarTips)==null?void 0:Dm.next])]);case"save":return w("div",{class:`${S}-toolbar-item`,title:(Vm=n.value.toolbarTips)==null?void 0:Vm.save,onClick:()=>{Z.emit(e,gc)}},[w(fe,{name:"baocun"},null),t.showToolbarName&&w("div",{class:`${S}-toolbar-item-name`},[(Lm=n.value.toolbarTips)==null?void 0:Lm.save])]);case"prettier":return t.noPrettier?"":w("div",{class:`${S}-toolbar-item`,title:(Zm=n.value.toolbarTips)==null?void 0:Zm.prettier,onClick:()=>{u("prettier")}},[w(fe,{name:"prettier"},null),t.showToolbarName&&w("div",{class:`${S}-toolbar-item-name`},[(Mm=n.value.toolbarTips)==null?void 0:Mm.prettier])]);case"pageFullscreen":return!t.setting.fullscreen&&w("div",{class:`${S}-toolbar-item`,title:(Fm=n.value.toolbarTips)==null?void 0:Fm.pageFullscreen,onClick:()=>{t.updateSetting("pageFullscreen")}},[w(fe,{name:t.setting.pageFullscreen?"suoxiao":"fangda"},null),t.showToolbarName&&w("div",{class:`${S}-toolbar-item-name`},[(Nm=n.value.toolbarTips)==null?void 0:Nm.pageFullscreen])]);case"fullscreen":return w("div",{class:`${S}-toolbar-item`,title:(Bm=n.value.toolbarTips)==null?void 0:Bm.fullscreen,onClick:()=>{s()}},[w(fe,{name:t.setting.fullscreen?"fullscreen-exit":"fullscreen"},null),t.showToolbarName&&w("div",{class:`${S}-toolbar-item-name`},[(jm=n.value.toolbarTips)==null?void 0:jm.fullscreen])]);case"preview":return w("div",{class:`${S}-toolbar-item`,title:(Xm=n.value.toolbarTips)==null?void 0:Xm.preview,onClick:()=>{t.updateSetting("preview")}},[w(fe,{name:"preview"},null),t.showToolbarName&&w("div",{class:`${S}-toolbar-item-name`},[(zm=n.value.toolbarTips)==null?void 0:zm.preview])]);case"htmlPreview":return w("div",{class:`${S}-toolbar-item`,title:(qm=n.value.toolbarTips)==null?void 0:qm.htmlPreview,onClick:()=>{t.updateSetting("htmlPreview")}},[w(fe,{name:"coding"},null),t.showToolbarName&&w("div",{class:`${S}-toolbar-item-name`},[(Wm=n.value.toolbarTips)==null?void 0:Wm.htmlPreview])]);case"catalog":return w("div",{class:`${S}-toolbar-item`,title:(Ym=n.value.toolbarTips)==null?void 0:Ym.catalog,onClick:()=>{Z.emit(e,Ip)},key:"bar-catalog"},[w(fe,{name:"catalog"},null),t.showToolbarName&&w("div",{class:`${S}-toolbar-item-name`},[(Um=n.value.toolbarTips)==null?void 0:Um.catalog])]);case"github":return w("div",{class:`${S}-toolbar-item`,title:(Gm=n.value.toolbarTips)==null?void 0:Gm.github,onClick:()=>o6("https://github.com/imzbf/md-editor-v3")},[w(fe,{name:"github"},null),t.showToolbarName&&w("div",{class:`${S}-toolbar-item-name`},[(Hm=n.value.toolbarTips)==null?void 0:Hm.github])]);case"mermaid":return w(Zr,{relative:`#${o}`,visible:l.mermaid,onChange:ge=>{l.mermaid=ge},overlay:w("ul",{class:`${S}-menu`,onClick:()=>{l.mermaid=!1}},[w("li",{class:`${S}-menu-item ${S}-menu-item-mermaid`,onClick:()=>{u("flow")}},[(Km=n.value.mermaid)==null?void 0:Km.flow]),w("li",{class:`${S}-menu-item ${S}-menu-item-mermaid`,onClick:()=>{u("sequence")}},[(Jm=n.value.mermaid)==null?void 0:Jm.sequence]),w("li",{class:`${S}-menu-item ${S}-menu-item-mermaid`,onClick:()=>{u("gantt")}},[(e0=n.value.mermaid)==null?void 0:e0.gantt]),w("li",{class:`${S}-menu-item ${S}-menu-item-mermaid`,onClick:()=>{u("class")}},[(t0=n.value.mermaid)==null?void 0:t0.class]),w("li",{class:`${S}-menu-item ${S}-menu-item-mermaid`,onClick:()=>{u("state")}},[(n0=n.value.mermaid)==null?void 0:n0.state]),w("li",{class:`${S}-menu-item ${S}-menu-item-mermaid`,onClick:()=>{u("pie")}},[(i0=n.value.mermaid)==null?void 0:i0.pie]),w("li",{class:`${S}-menu-item ${S}-menu-item-mermaid`,onClick:()=>{u("relationship")}},[(r0=n.value.mermaid)==null?void 0:r0.relationship]),w("li",{class:`${S}-menu-item ${S}-menu-item-mermaid`,onClick:()=>{u("journey")}},[(s0=n.value.mermaid)==null?void 0:s0.journey])]),key:"bar-mermaid"},{default:()=>{var ge,pt;return[w("div",{class:`${S}-toolbar-item`,title:(ge=n.value.toolbarTips)==null?void 0:ge.mermaid},[w(fe,{name:"mermaid"},null),t.showToolbarName&&w("div",{class:`${S}-toolbar-item-name`},[(pt=n.value.toolbarTips)==null?void 0:pt.mermaid])])]}});case"katex":return w(Zr,{relative:`#${o}`,visible:l.katex,onChange:ge=>{l.katex=ge},overlay:w("ul",{class:`${S}-menu`,onClick:()=>{l.katex=!1}},[w("li",{class:`${S}-menu-item ${S}-menu-item-katex`,onClick:()=>{u("katexInline")}},[(o0=n.value.katex)==null?void 0:o0.inline]),w("li",{class:`${S}-menu-item ${S}-menu-item-katex`,onClick:()=>{u("katexBlock")}},[(a0=n.value.katex)==null?void 0:a0.block])]),key:"bar-katex"},{default:()=>{var ge,pt;return[w("div",{class:`${S}-toolbar-item`,title:(ge=n.value.toolbarTips)==null?void 0:ge.katex},[w(fe,{name:"formula"},null),t.showToolbarName&&w("div",{class:`${S}-toolbar-item-name`},[(pt=n.value.toolbarTips)==null?void 0:pt.katex])])]}})}else if(t.defToolbars instanceof Array){const ge=t.defToolbars[m];return ge?Bh(ge,{theme:i.value,language:r.value,insert(Rc){Z.emit(e,Ae,"universal",{generate:Rc})}}):""}else if(t.defToolbars&&t.defToolbars.children instanceof Array){const ge=t.defToolbars.children[m];return ge?Bh(ge,{theme:i.value,language:r.value,insert(Rc){Z.emit(e,Ae,"universal",{generate:Rc})}}):""}else return""};return oe(()=>t.toolbars,()=>{ei(()=>{a.value&&u6(a.value)})},{immediate:!0}),()=>{const m=f.value[0].map(y=>g(y)),O=f.value[1].map(y=>g(y));return w(es,null,[t.toolbars.length>0&&w("div",{class:`${S}-toolbar-wrapper`,ref:a,id:o},[w("div",{class:[`${S}-toolbar`,t.showToolbarName&&`${S}-stn`]},[w("div",{class:`${S}-toolbar-left`,ref:h},[m]),w("div",{class:`${S}-toolbar-right`},[O])])]),w("input",{ref:d,accept:"image/*",type:"file",multiple:!0,style:{display:"none"}},null),w(cM,{linkVisible:c.linkVisible,clipVisible:c.clipVisible,type:c.type,onCancel:()=>{c.linkVisible=!1,c.clipVisible=!1},onOk:y=>{y&&u(c.type,{desc:y.desc,url:y.url}),c.linkVisible=!1,c.clipVisible=!1}},null)])}}}),fM=`.${S}-preview > [data-line]`,dM=(t,e)=>{const n=mc(()=>{t.removeEventListener("scroll",i),t.addEventListener("scroll",i),e.removeEventListener("scroll",i),e.addEventListener("scroll",i)},50),i=r=>{const s=t.clientHeight,o=e.clientHeight,a=t.scrollHeight,l=e.scrollHeight,u=(a-s)/(l-o);r.target===t?(e.removeEventListener("scroll",i),e.scrollTo({top:t.scrollTop/u}),n()):(t.removeEventListener("scroll",i),t.scrollTo({top:e.scrollTop*u}),n())};return[()=>{n().finally(()=>{t.dispatchEvent(new Event("scroll"))})},()=>{t.removeEventListener("scroll",i),e.removeEventListener("scroll",i)}]},pM=(t,e,n)=>{const{view:i}=n,r=a6(),s=m=>i.lineBlockAt(i.state.doc.line(m).from).top,o=m=>i.lineBlockAt(i.state.doc.line(m).from).height;let a=[],l=[],u=[];const c=()=>{a=[],l=[],u=[],l=l.concat(Array.from(e.querySelectorAll(fM)));const m=l.map(k=>Number(k.dataset.line)+1);u=u.concat(m);const{lines:O}=i.state.doc;let y=1,v=m.shift()??O;for(let k=1;k<=O;k++)k===v&&(y=k,v=m.shift()||O+1),a.push({start:y,end:v-1})};let h=0,f=0;const d=()=>{var m,O;if(f!==0)return!1;h++;const{scrollDOM:y,contentHeight:v}=i;let k=+getComputedStyle(e).paddingTop.replace("px","");const _=i.lineBlockAtHeight(y.scrollTop),{number:A}=i.state.doc.lineAt(_.from),T=a[A-1];if(!T)return!1;let x=s(T.end)+o(T.end),B=0;const V=s(T.start),j=e.querySelector(`[data-line="${T.start-1}"]`)||((m=e.firstElementChild)==null?void 0:m.firstElementChild),R=e.querySelector(`[data-line="${T.end}"]`)||((O=e.lastElementChild)==null?void 0:O.lastElementChild);let M=0,z=0;V===0?(B=y.scrollTop/x,j===R?(k=0,x=v-y.offsetHeight,M=R.offsetTop+R.offsetHeight-e.clientHeight):M=R.offsetTop):(B=(y.scrollTop-V)/(x-V),z=j.offsetTop,M=R.offsetTop-z),x>y.scrollHeight-y.clientHeight&&(B=(y.scrollTop-V)/(y.scrollHeight-y.clientHeight-V),z=j.offsetTop,M=e.scrollHeight-e.clientHeight-z+10);const H=z-k+M*B;r(e,H,()=>{h--})},p=()=>{var m,O,y,v,k,_;if(h!==0)return;f++;const{scrollDOM:A}=i,T=e.scrollTop,x=e.scrollHeight;let B=(m=e.firstElementChild)==null?void 0:m.firstElementChild,V=(O=e.firstElementChild)==null?void 0:O.lastElementChild;if(u.length>0){let Je=Math.ceil(Number(u[u.length-1])*(T/x)),ce=u.findLastIndex(he=>he<=Je);ce=ce===-1?0:ce,Je=u[ce];for(let he=ce;he>=0&&he<u.length;)if(l[he].offsetTop>T){if(he-1>=0){he--;continue}Je=-1,ce=he;break}else{if(he+1<=u.length&&l[he+1].offsetTop<T){he++;continue}Je=u[he],ce=he;break}switch(Je){case-1:{B=(y=e.firstElementChild)==null?void 0:y.firstElementChild,V=l[ce];break}case u.length-1:{B=l[ce],V=(v=e.firstElementChild)==null?void 0:v.lastElementChild;break}default:B=l[ce],V=l[ce+1]}}const j=B===((k=e.firstElementChild)==null?void 0:k.firstElementChild)?0:B.offsetTop;let R=V.offsetTop,M=0;const{start:z,end:H}=a[Number(B.dataset.line||0)],U=s(z);let me=s(H+1),we=0;me>A.scrollHeight-A.clientHeight||V.scrollTop>e.scrollHeight-e.clientHeight?(M=Math.max((T-j)/(e.scrollHeight-j-e.clientHeight),0),me=s(i.state.doc.lines)+o(i.state.doc.lines),we=8+me-U-t.clientHeight):B===((_=e.firstElementChild)==null?void 0:_.firstElementChild)?(B===V&&(R=V.offsetTop+V.offsetHeight+ +getComputedStyle(V).marginBottom.replace("px","")),we=me,M=Math.max(T/R,0)):(M=Math.max((T-j)/(R-j),0),we=me-U),r(t,U+we*M,()=>{f--})},g=l6(m=>{var O;const{scrollDOM:y,contentHeight:v}=i,k=y.clientHeight;if(v<=k||e.firstElementChild.clientHeight<=e.clientHeight||i.state.doc.lines<((O=a[a.length-1])==null?void 0:O.end))return!1;m.target===t?d():p()},8);return[()=>{c(),t.addEventListener("scroll",g),e.addEventListener("scroll",g),t.dispatchEvent(new Event("scroll"))},()=>{t.removeEventListener("scroll",g),e.removeEventListener("scroll",g)}]},mM=(t,e,n)=>{const i=ye("editorId");let r=()=>{},s=()=>{};const o=()=>{r();const a=document.querySelector(`#${i} .cm-scroller`),l=document.querySelector(`[id="${i}-preview-wrapper"]`),u=document.querySelector(`[id="${i}-html-wrapper"]`);(l||u)&&([s,r]=(l?pM:dM)(a,l||u,n.value)),t.scrollAuto&&s()};oe([e,_i(t.setting,"preview"),_i(t.setting,"htmlPreview"),_i(t.setting,"fullscreen"),_i(t.setting,"pageFullscreen")],()=>{ei(o)}),oe(()=>t.scrollAuto,a=>{a?s():r()}),Ve(o)},gM=(t,e,n)=>{var i,r,s,o,a,l;let u="",c=0,h=0,f=!0,d=!1;const p=e.getSelectedText(),g=(i=Ne.editorConfig)==null?void 0:i.mermaidTemplate;if(/^h[1-6]{1}$/.test(t)){const m=t.replace(/^h(\d)/,(O,y)=>new Array(Number(y)).fill("#",0,y).join(""));u=`${m} ${p}`,c=m.length+1}else if(t==="prettier"){const m=window.prettier||((s=(r=Ne.editorExtensions)==null?void 0:r.prettier)==null?void 0:s.prettierInstance),O=[((o=window.prettierPlugins)==null?void 0:o.markdown)||((l=(a=Ne.editorExtensions)==null?void 0:a.prettier)==null?void 0:l.parserMarkdownInstance)];!m||O[0]===void 0?(Z.emit(n.editorId,kr,{name:"prettier",message:"prettier is undefined"}),u=e.getValue()):u=m.format(e.getValue(),{parser:"markdown",plugins:O}),f=!1,d=!0}else switch(t){case"bold":{u=`**${p}**`,c=2,h=-2;break}case"underline":{u=`<u>${p}</u>`,c=3,h=-4;break}case"italic":{u=`*${p}*`,c=1,h=-1;break}case"strikeThrough":{u=`~~${p}~~`,c=2,h=-2;break}case"sub":{u=`<sub>${p}</sub>`,c=5,h=-6;break}case"sup":{u=`<sup>${p}</sup>`,c=5,h=-6;break}case"codeRow":{u="`"+p+"`",c=1,h=-1;break}case"quote":{u=`> ${p}`,c=2;break}case"orderedList":{u=`1. ${p}`,c=3;break}case"unorderedList":{u=`- ${p}`,c=2;break}case"task":{u=`- [ ] ${p}`,c=6;break}case"code":{const m=n.text||p||"",O=n.mode||"language";u=`\`\`\`${O}
${m}
\`\`\`
`,c=3,h=3+O.length-u.length;break}case"table":{u="|";const{selectedShape:m={x:1,y:1}}=n,{x:O,y}=m;for(let v=0;v<=y;v++)u+=" col |";u+=`
|`;for(let v=0;v<=y;v++)u+=" - |";for(let v=0;v<=O;v++){u+=`
|`;for(let k=0;k<=y;k++)u+=" content |"}c=2,h=5-u.length;break}case"link":{const{desc:m,url:O}=n;u=`[${m}](${O})`,f=!1;break}case"image":{const{desc:m,url:O,urls:y}=n;y instanceof Array?u=y.reduce((v,k)=>{const{url:_="",alt:A="",title:T=""}=typeof k=="object"?k:{url:k};return v+`![${A}](${_}${T?" '"+T+"'":""})
`},""):u=`![${m}](${O})
`,f=!1;break}case"flow":{u=`\`\`\`mermaid
${g?.flow||`flowchart TD 
  Start --> Stop`}
\`\`\`
`,c=3,h=10-u.length;break}case"sequence":{u=`\`\`\`mermaid
${g?.sequence||`sequenceDiagram
  A->>B: hello!
  B-->>A: hi!
  A-)B: bye!`}
\`\`\`
`,c=3,h=10-u.length;break}case"gantt":{u=`\`\`\`mermaid
${g?.gantt||`gantt
title A Gantt Diagram
dateFormat  YYYY-MM-DD
section Section
A task  :a1, 2014-01-01, 30d
Another task  :after a1, 20d`}
\`\`\`
`,c=3,h=10-u.length;break}case"class":{u=`\`\`\`mermaid
${g?.class||`classDiagram
  class Animal
  Vehicle <|-- Car`}
\`\`\`
`,c=3,h=10-u.length;break}case"state":{u=`\`\`\`mermaid
${g?.state||`stateDiagram-v2
  s1 --> s2`}
\`\`\`
`,c=3,h=10-u.length;break}case"pie":{u=`\`\`\`mermaid
${g?.pie||`pie title Pets adopted by volunteers
  "Dogs" : 386
  "Cats" : 85
  "Rats" : 15`}
\`\`\`
`,c=3,h=10-u.length;break}case"relationship":{u=`\`\`\`mermaid
${g?.relationship||`erDiagram
  CAR ||--o{ NAMED-DRIVER : allows
  PERSON ||--o{ NAMED-DRIVER : is`}
\`\`\`
`,c=3,h=10-u.length;break}case"journey":{u=`\`\`\`mermaid
${g?.journey||`journey
  title My working day
  section Go to work
    Make tea: 5: Me
    Go upstairs: 3: Me
    Do work: 1: Me, Cat
  section Go home
    Go downstairs: 5: Me
    Sit down: 5: Me`}
\`\`\`
`,c=3,h=10-u.length;break}case"katexInline":{u="$$",c=1,h=-1;break}case"katexBlock":{u=`$$

$$
`,c=3,h=-4;break}case"universal":{const{generate:m}=n,O=m(p);u=O.targetValue,f=O.select??!0,c=O.deviationStart||0,h=O.deviationEnd||0}}return{text:u,options:{select:f,deviationStart:c,deviationEnd:h,replaceAll:d}}},OM="#e5c07b",xb="var(--md-color)",bM="#56b6c2",yM="#ffffff",lo="var(--md-color)",Tb="#e5c07b",vM="#e5c07b",_M="var(--md-color)",Pb="#d19a66",wM="#c678dd",kM="#21252b",SM="#2c313a",Eb="var(--md-bk-color)",Fh="var(--md-bk-color)",xM="#ceedfa33",Ab="#528bff",TM=Y.theme({"&":{color:lo,backgroundColor:Eb},".cm-content":{caretColor:Ab},".cm-cursor, .cm-dropCursor":{borderLeftColor:Ab},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:xM},".cm-panels":{backgroundColor:kM,color:lo},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#ceedfa33"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:Eb,color:lo,borderRight:"1px solid",borderColor:"var(--md-border-color)"},".cm-activeLineGutter":{backgroundColor:SM},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"1px solid var(--md-border-color)",backgroundColor:Fh},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Fh,borderBottomColor:Fh},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{color:lo}}},{dark:!0}),PM=Is.define([{tag:b.keyword,color:wM},{tag:[b.name,b.deleted,b.character,b.propertyName,b.macroName],color:xb},{tag:[b.function(b.variableName),b.labelName],color:vM},{tag:[b.color,b.constant(b.name),b.standard(b.name)],color:Pb},{tag:[b.definition(b.name),b.separator],color:lo},{tag:[b.typeName,b.className,b.number,b.changed,b.annotation,b.modifier,b.self,b.namespace],color:OM},{tag:[b.operator,b.operatorKeyword,b.url,b.escape,b.regexp,b.link,b.special(b.string)],color:bM},{tag:[b.meta,b.comment],color:Tb},{tag:b.strong,fontWeight:"bold"},{tag:b.emphasis,fontStyle:"italic"},{tag:b.strikethrough,textDecoration:"line-through"},{tag:b.link,color:Tb,textDecoration:"underline"},{tag:b.heading,fontWeight:"bold",color:xb},{tag:[b.atom,b.bool,b.special(b.variableName)],color:Pb},{tag:[b.processingInstruction,b.string,b.inserted],color:_M},{tag:b.invalid,color:yM}]),Cb=[TM,bk(PM)],EM="#e5c07b",$b="#3f4a54",AM="#56b6c2",CM="#fff",uo="#3f4a54",Ib="#2d8cf0",$M="#2d8cf0",IM="#3f4a54",Qb="#d19a66",QM="#c678dd",RM="#21252b",DM="#ceedfa33",Rb="var(--md-bk-color)",Nh="var(--md-bk-color)",VM="#bad5fa",Db="#3f4a54",LM=Y.theme({"&":{color:uo,backgroundColor:Rb},".cm-content":{caretColor:Db},".cm-cursor, .cm-dropCursor":{borderLeftColor:Db},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:VM},".cm-panels":{backgroundColor:RM,color:uo},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#ceedfa33"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:Rb,color:uo,borderRight:"1px solid",borderColor:"var(--md-border-color)"},".cm-activeLineGutter":{backgroundColor:DM},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"1px solid var(--md-border-color)",backgroundColor:Nh},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Nh,borderBottomColor:Nh},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{color:uo}}}),ZM=Is.define([{tag:b.keyword,color:QM},{tag:[b.name,b.deleted,b.character,b.propertyName,b.macroName],color:$b},{tag:[b.function(b.variableName),b.labelName],color:$M},{tag:[b.color,b.constant(b.name),b.standard(b.name)],color:Qb},{tag:[b.definition(b.name),b.separator],color:uo},{tag:[b.typeName,b.className,b.number,b.changed,b.annotation,b.modifier,b.self,b.namespace],color:EM},{tag:[b.operator,b.operatorKeyword,b.url,b.escape,b.regexp,b.link,b.special(b.string)],color:AM},{tag:[b.meta,b.comment],color:Ib},{tag:b.strong,fontWeight:"bold"},{tag:b.emphasis,fontStyle:"italic"},{tag:b.strikethrough,textDecoration:"line-through"},{tag:b.link,color:Ib,textDecoration:"underline"},{tag:b.heading,fontWeight:"bold",color:$b},{tag:[b.atom,b.bool,b.special(b.variableName)],color:Qb},{tag:[b.processingInstruction,b.string,b.inserted],color:IM},{tag:b.invalid,color:CM}]),Vb=[LM,bk(ZM)],Pl=(t,e,n,i,r)=>(s,o,a,l)=>{const u=`${t}${e}`.slice(l-a);s.dispatch(s.state.replaceSelection(`${u}${n}${i}`));const c=a+o.label.length+(r==="title"?n.length:0);s.dispatch({selection:I.create([I.range(a+o.label.length+(r==="title"?1:-e.length),c),I.cursor(c)],1)}),s.focus()},Lb=t=>(e,n,i,r)=>{const s=t.slice(r-i);e.dispatch(e.state.replaceSelection(`${s} `))},Zb=t=>{const e=n=>{const i=n.matchBefore(/^#+|^-\s*\[*\s*\]*|`+|\[|!\[*|^\|\s?\|?|^\$\$?|!+\s*\w*/);return i===null||i.from==i.to&&n.explicit?null:{from:i.from,options:[...["h1","h2","h3","h4","h5","h6"].map((r,s)=>{const o=new Array(s+1).fill("#").join("");return{label:o,type:"text",apply:Lb(o)}}),...["unchecked","checked"].map(r=>{const s=r==="checked"?"- [x]":"- [ ]";return{label:s,type:"text",apply:Lb(s)}}),...[["`",""],["```","language"],["```mermaid\n",""]].map(r=>({label:`${r[0]}${r[1]}`,type:"text",apply:Pl(r[0],r[1],"",r[0]==="`"?"`":"\n```","type")})),{label:"[]()",type:"text"},{label:"![]()",type:"text"},{label:"| |",type:"text",detail:"table",apply:`| col | col | col |
| - | - | - |
| content | content | content |
| content | content | content |`},{label:"$",type:"text",apply:Pl("$","","","$","type")},{label:"$$",type:"text",apply:Pl("$$","",`
`,`
$$`,"title")},...["note","abstract","info","tip","success","question","warning","failure","danger","bug","example","quote","hint","caution","error","attention"].map(r=>({label:`!!! ${r}`,type:"text",apply:Pl("!!!",` ${r}`," Title",`

!!!`,"title")}))]}};return pR({override:t?[e,...t]:[e]})},Rr=t=>{const e=new Tn;return i=>(e.get(t.state)?t.dispatch({effects:e.reconfigure(i)}):t.dispatch({effects:xe.appendConfig.of(e.of(i))}),!0)};class MM{constructor(e){fi(this,"view"),fi(this,"maxLength",Number.MAX_SAFE_INTEGER),fi(this,"toggleTabSize"),fi(this,"togglePlaceholder"),fi(this,"setExtensions"),fi(this,"toggleDisabled"),fi(this,"toggleReadOnly"),fi(this,"toggleMaxlength"),this.view=e,this.toggleTabSize=Rr(this.view),this.togglePlaceholder=Rr(this.view),this.setExtensions=Rr(this.view),this.toggleDisabled=Rr(this.view),this.toggleReadOnly=Rr(this.view),this.toggleMaxlength=Rr(this.view)}getValue(){return this.view.state.doc.toString()}setValue(e,n=0,i=this.view.state.doc.length){this.view.dispatch({changes:{from:n,to:i,insert:e}})}getSelectedText(){const{from:e,to:n}=this.view.state.selection.main;return this.view.state.sliceDoc(e,n)}replaceSelectedText(e,n={select:!0,deviationStart:0,deviationEnd:0,replaceAll:!1},i){try{if(n.replaceAll){if(this.setValue(e),e.length>this.maxLength)throw new Error("The input text is too long");return}if(this.view.state.doc.length-this.getSelectedText().length+e.length>this.maxLength)throw new Error("The input text is too long");const{from:r}=this.view.state.selection.main;if(this.view.dispatch(this.view.state.replaceSelection(e)),n.select){const s=r+e.length+n.deviationEnd;this.view.dispatch({selection:I.create([I.range(r+n.deviationStart,s),I.cursor(s)],1)})}this.view.focus()}catch(r){if(r.message==="The input text is too long")Z.emit(i,kr,{name:"overlength",message:r.message,data:e});else throw r}}setTabSize(e){this.toggleTabSize([pe.tabSize.of(e),$s.of(" ".repeat(e))])}setPlaceholder(e){this.togglePlaceholder(P4(e))}focus(e){if(this.view.focus(),!e)return;let n=0,i=0,r=0;switch(e){case"start":break;case"end":{n=i=r=this.getValue().length;break}default:n=e.rangeAnchor||e.cursorPos,i=e.rangeHead||e.cursorPos,r=e.cursorPos}this.view.dispatch({scrollIntoView:!0,selection:I.create([I.range(n,i),I.cursor(r)],1)})}setDisabled(e){this.toggleDisabled([Y.editable.of(!e)])}setReadOnly(e){this.toggleReadOnly([pe.readOnly.of(e)])}setMaxLength(e){this.maxLength=e,this.toggleMaxlength([pe.changeFilter.of(n=>n.newDoc.length<=e)])}}const FM=t=>{const e=ye("editorId");return i=>{if(!i.clipboardData)return;if(i.clipboardData.files.length>0){const{files:s}=i.clipboardData;Z.emit(e,Oc,Array.from(s).filter(o=>/image\/.*/.test(o.type))),i.preventDefault();return}if(t.autoDetectCode&&i.clipboardData.types.includes("vscode-editor-data")){const s=JSON.parse(i.clipboardData.getData("vscode-editor-data"));Z.emit(e,Ae,"code",{mode:s.mode,text:i.clipboardData.getData("text/plain")}),i.preventDefault();return}const r=i.clipboardData.getData("text/plain");t.maxlength&&r.length+t.modelValue.length>t.maxlength&&Z.emit(e,kr,{name:"overlength",message:"The input text is too long",data:r})}},NM=(t,e)=>[{key:"Ctrl-b",mac:"Cmd-b",run:()=>(Z.emit(t,Ae,"bold"),!0)},{key:"Ctrl-d",mac:"Cmd-d",run:eS,preventDefault:!0},{key:"Ctrl-s",mac:"Cmd-s",run:k=>(Z.emit(t,gc,k.state.doc.toString()),!0),shift:()=>(Z.emit(t,Ae,"strikeThrough"),!0)},{key:"Ctrl-u",mac:"Cmd-u",run:()=>(Z.emit(t,Ae,"underline"),!0),shift:()=>(Z.emit(t,Ae,"unorderedList"),!0)},{key:"Ctrl-i",mac:"Cmd-i",run:()=>(Z.emit(t,Ae,"italic"),!0),shift:()=>(Z.emit(t,vf,"image"),!0)},{key:"Ctrl-1",mac:"Cmd-1",run:()=>(Z.emit(t,Ae,"h1"),!0)},{key:"Ctrl-2",mac:"Cmd-2",run:()=>(Z.emit(t,Ae,"h2"),!0)},{key:"Ctrl-3",mac:"Cmd-3",run:()=>(Z.emit(t,Ae,"h3"),!0)},{key:"Ctrl-4",mac:"Cmd-4",run:()=>(Z.emit(t,Ae,"h4"),!0)},{key:"Ctrl-5",mac:"Cmd-5",run:()=>(Z.emit(t,Ae,"h5"),!0)},{key:"Ctrl-6",mac:"Cmd-6",run:()=>(Z.emit(t,Ae,"h6"),!0)},{key:"Ctrl-ArrowUp",mac:"Cmd-ArrowUp",run:()=>(Z.emit(t,Ae,"sup"),!0)},{key:"Ctrl-ArrowDown",mac:"Cmd-ArrowDown",run:()=>(Z.emit(t,Ae,"sub"),!0)},{key:"Ctrl-o",mac:"Cmd-o",run:()=>(Z.emit(t,Ae,"orderedList"),!0)},{key:"Ctrl-c",mac:"Cmd-c",shift:()=>(Z.emit(t,Ae,"code"),!0),any(k,_){return(_.ctrlKey||_.metaKey)&&_.altKey&&_.code==="KeyC"?(Z.emit(t,Ae,"codeRow"),!0):!1}},{key:"Ctrl-l",mac:"Cmd-l",run:()=>(Z.emit(t,vf,"link"),!0)},{key:"Ctrl-f",mac:"Cmd-f",shift:()=>e.noPrettier?!1:(Z.emit(t,Ae,"prettier"),!0)},{any:(k,_)=>(_.ctrlKey||_.metaKey)&&_.altKey&&_.shiftKey&&_.code==="KeyT"?(Z.emit(t,Ae,"table"),!0):!1}],BM=t=>{const e=ye("tabWidth"),n=ye("editorId"),i=ye("theme"),r=Oe(),s=ar(),o=new Tn,a=new Tn,l=new Tn,u=new Tn,c=new Tn,h=NM(n,t),f=Oe(!1),p={paste:FM(t),blur:t.onBlur,focus:t.onFocus,drop:t.onDrop,compositionstart:()=>{console.log("compositionstart"),f.value=!0},compositionend:(O,y)=>{console.log("compositionend"),f.value=!1,t.updateModelValue(y.state.doc.toString())},input:O=>{t.onInput&&t.onInput(O);const{data:y}=O;t.maxlength&&t.modelValue.length+y.length>t.maxlength&&Z.emit(n,kr,{name:"overlength",message:"The input text is too long",data:y})}},g=[Aa.of([...CQ,...F5,...h,$Q]),u.of(qO()),o.of(C2({codeLanguages:OR})),Y.lineWrapping,Y.updateListener.of(O=>{O.docChanged&&(t.onChange(O.state.doc.toString()),f.value||t.updateModelValue(O.state.doc.toString()))}),c.of(Y.domEventHandlers(p))],m=()=>{const O=[...g,a.of(i.value==="light"?Vb:Cb),l.of(Zb(t.completions))];return Ne.codeMirrorExtensions(i.value,O,[...h])};return Ve(()=>{const O=new Y({doc:t.modelValue,parent:r.value,extensions:[m()]}),y=new MM(O);s.value=y,setTimeout(()=>{y.setTabSize(e),y.setDisabled(t.disabled),y.setReadOnly(t.readonly),t.placeholder&&y.setPlaceholder(t.placeholder),typeof t.maxlength=="number"&&y.setMaxLength(t.maxlength),t.autofocus&&O.focus()},0),Z.on(n,{name:Z_,callback(){Jp(O)}}),Z.on(n,{name:M_,callback(){xu(O)}}),Z.on(n,{name:Ae,callback(v,k={}){var _;const{text:A,options:T}=gM(v,s.value,k);(_=s.value)==null||_.replaceSelectedText(A,T,n)}}),Z.on(n,{name:N_,callback(v){var k;const _={...p},A=Object.keys(p);for(const T in v){const x=T;A.includes(x)?_[x]=(B,V)=>{v[x](B,V),B.defaultPrevented||p[x](B,V)}:_[x]=v[x]}(k=s.value)==null||k.view.dispatch({effects:c.reconfigure(Y.domEventHandlers(_))})}})}),oe(i,()=>{var O;(O=s.value)==null||O.view.dispatch({effects:a.reconfigure(i.value==="light"?Vb:Cb)})},{deep:!0}),oe(()=>t.completions,()=>{var O;(O=s.value)==null||O.view.dispatch({effects:l.reconfigure(Zb(t.completions))})},{deep:!0}),oe(()=>t.modelValue,()=>{var O,y;((O=s.value)==null?void 0:O.getValue())!==t.modelValue&&((y=s.value)==null||y.setValue(t.modelValue))}),oe(()=>t.placeholder,()=>{var O;(O=s.value)==null||O.setPlaceholder(t.placeholder)}),oe(()=>t.disabled,()=>{var O;(O=s.value)==null||O.setDisabled(t.disabled)}),oe(()=>t.readonly,()=>{var O;(O=s.value)==null||O.setDisabled(t.readonly)}),oe(()=>t.maxlength,()=>{var O;t.maxlength&&((O=s.value)==null||O.setMaxLength(t.maxlength))}),{inputWrapperRef:r,codeMirrorUt:s,resetHistory(){var O,y;(O=s.value)==null||O.view.dispatch({effects:u.reconfigure([])}),(y=s.value)==null||y.view.dispatch({effects:u.reconfigure(qO())})}}},jM=(t,e,n)=>{const i=Rt({resizedWidth:t.inputBoxWitdh}),r=Rt({width:t.inputBoxWitdh}),s=Rt({left:t.inputBoxWitdh,display:"initial"}),o=u=>{var c,h,f;const d=((c=e.value)==null?void 0:c.offsetWidth)||0,p=((h=e.value)==null?void 0:h.getBoundingClientRect().x)||0;let g=u.x-p;g<Ja?g=Ja:g>d-Ja&&(g=d-Ja);const m=`${g}px`;r.width=m,s.left=m,i.resizedWidth=m,(f=t.onInputBoxWitdhChange)==null||f.call(t,m)},a=()=>{document.addEventListener("mousemove",o)},l=()=>{document.removeEventListener("mousemove",o)};return Ve(()=>{var u;(u=n.value)==null||u.addEventListener("mousedown",a),document.addEventListener("mouseup",l)}),ca(()=>{var u,c;(u=n.value)==null||u.removeEventListener("mousedown",a),(c=n.value)==null||c.removeEventListener("mouseup",l)}),oe(()=>t.inputBoxWitdh,u=>{u&&(r.width=u,s.left=u)}),oe([_i(t.setting,"htmlPreview"),_i(t.setting,"preview")],()=>{!t.setting.htmlPreview&&!t.setting.preview?(r.width="100%",s.display="none"):(r.width=i.resizedWidth,s.display="initial")},{immediate:!0}),{inputWrapperStyle:r,resizeOperateStyle:s}},XM=Me({name:"MDEditorContent",props:QZ,setup(t,e){const n=ye("editorId"),i=Oe(""),r=Oe(),s=Oe(),{inputWrapperRef:o,codeMirrorUt:a,resetHistory:l}=BM(t),{inputWrapperStyle:u,resizeOperateStyle:c}=jM(t,r,s);return mM(t,i,a),e.expose({getSelectedText(){var h;return(h=a.value)==null?void 0:h.getSelectedText()},focus(h){var f;(f=a.value)==null||f.focus(h)},resetHistory:l}),()=>w("div",{class:`${S}-content${t.setting.htmlPreview||t.setting.preview?" has-preview":""}`,ref:r},[w("div",{class:`${S}-input-wrapper`,style:u,ref:o},null),(t.setting.htmlPreview||t.setting.preview)&&w("div",{class:`${S}-resize-operate`,style:c,ref:s},null),w(kx,{modelValue:t.modelValue,setting:t.setting,onHtmlChanged:h=>{i.value=h,t.onHtmlChanged(h)},onGetCatalog:t.onGetCatalog,mdHeadingId:t.mdHeadingId,noMermaid:t.noMermaid,sanitize:t.sanitize,noKatex:t.noKatex,formatCopiedText:t.formatCopiedText,noHighlight:t.noHighlight,noImgZoomIn:t.noImgZoomIn,sanitizeMermaid:t.sanitizeMermaid},null),t.catalogVisible&&w(xo,{theme:t.theme,class:`${S}-catalog-editor`,editorId:n,mdHeadingId:t.mdHeadingId,key:"internal-catalog"},null)])}}),zM=Me({props:{modelValue:{type:String,default:""}},setup(t){const e=ye("usedLanguageText");return()=>{var n,i;return w("div",{class:`${S}-footer-item`},[w("label",{class:`${S}-footer-label`},[`${(n=e.value.footer)==null?void 0:n.markdownTotal}:`]),w("span",null,[((i=t.modelValue)==null?void 0:i.length)||0])])}}}),qM={checked:{type:Boolean,default:!1},onChange:{type:Function,default:()=>{}}},WM=Me({props:qM,setup(t){return()=>w("div",{class:[`${S}-checkbox`,t.checked&&`${S}-checkbox-checked`],onClick:()=>{t.onChange(!t.checked)}},null)}}),YM={scrollAuto:{type:Boolean},onScrollAutoChange:{type:Function,default:()=>{}}},UM=Me({props:YM,setup(t){const e=ye("usedLanguageText");return()=>{var n;return w("div",{class:`${S}-footer-item`},[w("label",{class:`${S}-footer-label`,onClick:()=>{t.onScrollAutoChange(!t.scrollAuto)}},[(n=e.value.footer)==null?void 0:n.scrollAuto]),w(WM,{checked:t.scrollAuto,onChange:t.onScrollAutoChange},null)])}}}),GM={modelValue:{type:String,default:""},footers:{type:Array,default:[]},scrollAuto:{type:Boolean},onScrollAutoChange:{type:Function,default:()=>{}},defFooters:{type:Object}},HM=Me({name:"MDEditorFooter",props:GM,setup(t){const e=Ct(()=>{const i=t.footers.indexOf("="),r=i===-1?t.footers:t.footers.slice(0,i),s=i===-1?[]:t.footers.slice(i,Number.MAX_SAFE_INTEGER);return[r,s]}),n=i=>{if(V_.includes(i))switch(i){case"markdownTotal":return w(zM,{modelValue:t.modelValue},null);case"scrollSwitch":return w(UM,{scrollAuto:t.scrollAuto,onScrollAutoChange:t.onScrollAutoChange},null)}else return t.defFooters instanceof Array?t.defFooters[i]||"":t.defFooters&&t.defFooters.children instanceof Array&&t.defFooters.children[i]||""};return()=>{const i=e.value[0].map(s=>n(s)),r=e.value[1].map(s=>n(s));return w("div",{class:`${S}-footer`},[w("div",{class:`${S}-footer-left`},[i]),w("div",{class:`${S}-footer-right`},[r])])}}}),Ul=Me({name:"MdEditorV3",props:BZ,emits:jZ,setup(t,e){const{editorId:n,noKatex:i,noMermaid:r,noPrettier:s,noUploadImg:o,noHighlight:a}=t,l=Rt({scrollAuto:t.scrollAuto}),u=Oe();RZ(t,e),DZ(t),VZ(t),LZ(t,e);const[c,h]=ZZ(t,e),f=MZ(t);return ca(()=>{Z.clear(n)}),FZ(t,e,f,c,h,u),()=>{var d;const p=tn({props:t,ctx:e},"defToolbars"),g=tn({props:t,ctx:e},"defFooters");return w("div",{id:n,class:[S,t.class,t.theme==="dark"&&`${S}-dark`,c.fullscreen||c.pageFullscreen?`${S}-fullscreen`:""],style:t.style},[w(hM,{noPrettier:s,toolbars:t.toolbars,toolbarsExclude:t.toolbarsExclude,setting:c,updateSetting:h,tableShape:t.tableShape,defToolbars:p,noUploadImg:o,showToolbarName:t.showToolbarName},null),w(XM,{ref:u,modelValue:t.modelValue,setting:c,mdHeadingId:t.mdHeadingId,noMermaid:r,noPrettier:s,sanitize:t.sanitize,placeholder:t.placeholder,noKatex:i,scrollAuto:l.scrollAuto,formatCopiedText:t.formatCopiedText,autofocus:t.autoFocus,disabled:t.disabled,readonly:t.readOnly,maxlength:t.maxLength,autoDetectCode:t.autoDetectCode,noHighlight:a,updateModelValue:m=>{e.emit("update:modelValue",m)},onChange:m=>{t.onChange&&t.onChange(m),e.emit("onChange",m)},onHtmlChanged:m=>{t.onHtmlChanged&&t.onHtmlChanged(m),e.emit("onHtmlChanged",m)},onGetCatalog:m=>{t.onGetCatalog&&t.onGetCatalog(m),e.emit("onGetCatalog",m)},onBlur:m=>{t.onBlur&&t.onBlur(m),e.emit("onBlur",m)},onFocus:m=>{t.onFocus&&t.onFocus(m),e.emit("onFocus",m)},onInput:m=>{t.onInput&&t.onInput(m),e.emit("onInput",m)},completions:t.completions,catalogVisible:f.value,theme:t.theme,noImgZoomIn:t.noImgZoomIn,onDrop:m=>{t.onDrop&&t.onDrop(m),e.emit("onDrop",m)},inputBoxWitdh:t.inputBoxWitdh,onInputBoxWitdhChange:m=>{t.onInputBoxWitdhChange&&t.onInputBoxWitdhChange(m),e.emit("onInputBoxWitdhChange",m)},sanitizeMermaid:t.sanitizeMermaid},null),((d=t.footers)==null?void 0:d.length)>0&&w(HM,{modelValue:t.modelValue,footers:t.footers,defFooters:g,scrollAuto:l.scrollAuto,onScrollAutoChange:m=>l.scrollAuto=m},null)])}}});Ul.install=t=>(t.component(Ul.name,Ul),t.use(Wl).use(Il).use(Yl).use(xo).use(ql),t);const KM={props:{projects:{type:Array,required:!0}},components:{ButtonComp:Ix,ModelComp:jx,TextareaComp:Qx,MdEditor:Ul},async setup(t){const e=Oe(""),n=Oe([]),i=Oe(""),r=Oe(!1),s=Oe(""),o=Oe(!1),a=Oe(!1),l=Oe(!1),u=async()=>{const g=Math.floor(1e5+Math.random()*9e5),m=wg(kg,"share",g.toString());return(await U$(m)).exists()?u():g},c=Ct(()=>e.value?t.projects.filter(g=>{const m=g.title.toLowerCase();return e.value.toLowerCase().split(" ").some(y=>m.includes(y))}):t.projects),h=g=>{n.value=n.value.filter(m=>m!==g)},f=g=>t.projects.find(m=>m.slug===g),d=()=>{navigator.clipboard.writeText(s.value),l.value=!0},p=async()=>{r.value=!0,o.value=!1;const g={projects:n.value,message:i.value},m=String(await u());console.log("ID",m,g),await H$(wg(kg,"share",m),{...g}),s.value=`https://lablnet.com/share/${m}`,a.value=!0,r.value=!1};return oe(n,()=>{console.log("selectedProjects",n.value.length),n.value.length===0&&(o.value=!1)}),{search:e,selectedProjects:n,filteredProjects:c,isModalOpen:o,shareModel:a,shareUrl:s,message:i,loading:r,shareUrl:s,removeProject:h,getProject:f,copyToClipboard:d,share:p,copied:l}}},JM={class:"container mx-auto px-4 mt-4 mb-4"},eF={key:0,id:"loader",class:"fixed inset-0 min-h-screen flex items-center justify-center bg-white bg-opacity-95 z-10"},tF=ne("i",{class:"fa fa-spinner fa-spin text-blue-500"},null,-1),nF=ne("h1",{class:"text-4xl font-bold mb-4"},"Share your project",-1),iF=ne("p",{class:"mb-4"}," Share your project with the world! Please select the projects of your choice and click on the share button. ",-1),rF={class:"flex justify-between items-center mb-4"},sF={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},oF=["for"],aF=["value","id"],lF={class:"text-xl font-semibold mb-1"},uF={class:"text-sm mb-1"},cF={class:"text-xs text-gray-500"},hF={class:"text-xs text-gray-500"},fF={class:"p-4"},dF={class:"flex justify-between items-center mb-4"},pF=ne("h2",{class:"text-2xl font-bold mb-4"},"Selected Projects",-1),mF={class:"border p-2 rounded"},gF={class:"flex justify-between items-center mb-4"},OF={class:"font-bold"},bF=["onClick"],yF=ne("i",{class:"fas fa-times"},null,-1),vF=[yF],_F={class:"text-xs text-gray-500"},wF={class:"mb-2 mt-2"},kF=ne("p",{class:"mb-2"}," Share the selected projects with your client. You can also add a message to the client. ",-1),SF={class:"mt-4 float-end mb-4"},xF={class:"p-12"},TF={class:"flex justify-between items-center mb-4"},PF=ne("h2",{class:"text-2xl font-bold mb-4"},"The share url is ready",-1),EF={class:"mt-4"},AF=ne("label",{for:"shareUrl",class:"block text-sm font-medium text-gray-700"}," Share URL ",-1),CF=ne("p",{class:"text-sm text-gray-500 mb-2"}," Share the following URL with your client. ",-1),$F={key:0,class:"text-green-500"},IF={class:"mt-1 relative rounded-md shadow-sm"},QF={class:"absolute inset-y-0 right-0 flex items-center"},RF=ne("i",{class:"fas fa-copy mr-2"},null,-1);function DF(t,e,n,i,r,s){const o=Dc("ButtonComp"),a=Dc("MdEditor"),l=Dc("ModelComp");return un(),qi("div",JM,[i.loading?(un(),qi("div",eF,[tF,Xa(" Loading do not close the browser ")])):Ls("",!0),nF,iF,ne("div",rF,[Vc(ne("input",{"onUpdate:modelValue":e[0]||(e[0]=u=>i.search=u),type:"text",placeholder:"Search...",class:"mb-4 p-2 border rounded"},null,512),[[l0,i.search]]),i.selectedProjects.length>0?(un(),El(o,{key:0,text:"Share",onClick:e[1]||(e[1]=u=>i.isModalOpen=!0),class:"mb-4"},{default:Ks(()=>[Xa(" Share ")]),_:1})):Ls("",!0)]),ne("div",sF,[(un(!0),qi(es,null,u0(i.filteredProjects,u=>(un(),qi("div",{key:u.id,class:c0(["border rounded p-4",i.selectedProjects.includes(u.slug)?"bg-blue-200":""])},[ne("label",{for:`project-${u.slug}`,class:"block cursor-pointer"},[Vc(ne("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=c=>i.selectedProjects=c),value:u.slug,class:"hidden",id:`project-${u.slug}`},null,8,aF),[[$x,i.selectedProjects]]),ne("h2",lF,ui(u.title),1),ne("p",uF,ui(u.description),1),ne("p",cF,"Start: "+ui(u.startDate),1),ne("p",hF,"End: "+ui(u.endDate),1)],8,oF)],2))),128))]),i.isModalOpen?(un(),El(l,{key:1,onClose:e[5]||(e[5]=u=>i.isModalOpen=!1)},{default:Ks(()=>[ne("div",fF,[ne("div",dF,[pF,ne("i",{class:"fa fa-times text-2xl mb-4 cursor-pointer text-red-500",onClick:e[3]||(e[3]=u=>i.isModalOpen=!1)})]),ne("ul",{class:c0(["overflow-auto",i.selectedProjects.length>2?"h-96":""])},[(un(!0),qi(es,null,u0(i.selectedProjects,u=>(un(),qi("li",{key:u,class:"mb-2"},[ne("div",mF,[ne("div",gF,[ne("h3",OF,ui(i.getProject(u).title),1),ne("button",{onClick:c=>i.removeProject(u),class:"mt-2 text-red-500"},vF,8,bF)]),ne("p",null,ui(i.getProject(u).description),1),ne("p",_F," Date: "+ui(i.getProject(u).startDate)+" - "+ui(i.getProject(u).endDate),1)])]))),128))],2),ne("div",wF,[kF,w(a,{modelValue:i.message,"onUpdate:modelValue":e[4]||(e[4]=u=>i.message=u),noUploadImg:!0,readOnly:!1,language:"en-US"},null,8,["modelValue"])]),ne("div",SF,[w(o,{class:"mb-4",text:"Share",onClick:i.share,disable:i.loading},{default:Ks(()=>[Xa(" Share ")]),_:1},8,["onClick","disable"])])])]),_:1})):Ls("",!0),i.shareModel?(un(),El(l,{key:2,onClose:e[9]||(e[9]=u=>i.shareModel=!1)},{default:Ks(()=>[ne("div",xF,[ne("div",TF,[PF,ne("i",{class:"fa fa-times text-2xl mb-4 cursor-pointer text-red-500",onClick:e[6]||(e[6]=u=>i.shareModel=!1)})]),ne("div",EF,[AF,CF,i.copied?(un(),qi("p",$F,"Link Copied to Clipboard")):Ls("",!0),ne("div",IF,[Vc(ne("input",{type:"text",id:"shareUrl",class:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-7 pr-12 sm:text-sm border-gray-300 rounded-md","onUpdate:modelValue":e[7]||(e[7]=u=>i.shareUrl=u),readonly:""},null,512),[[l0,i.shareUrl]]),ne("div",QF,[ne("button",{onClick:e[8]||(e[8]=(...u)=>i.copyToClipboard&&i.copyToClipboard(...u)),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-black hover:bg-gray-200"},[RF,Xa(" Copy ")])])])])])]),_:1})):Ls("",!0)])}const JF=Mb(KM,[["render",DF]]);export{RS as C,On as E,Te as I,ps as L,ak as N,JF as S,Os as a,ys as b,Fl as c,QQ as d,rS as e,$a as f,Ze as g,gk as h,Ca as i,GS as j,Y as k,I as l,a5 as m,y2 as n,$u as o,lk as p,rn as q,l5 as r,Cs as s,b as t,At as u,yk as v};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["_astro/index.l_y0bbwi.js","_astro/runtime-dom.esm-bundler.IZxkN1op.js","_astro/runtime-core.esm-bundler.g1TQfZFf.js","_astro/TextareaComp.FsC_rNmi.js","_astro/_plugin-vue_export-helper.x3n3nnut.js","_astro/preload-helper.hlDPvxQM.js","_astro/index.49ch_bVm.js","_astro/index.vfqFfZCF.js","_astro/index.AZ1Tji6j.js","_astro/index.MafOi7gm.js","_astro/index.MElc3t5f.js","_astro/index.g3sSJlV_.js","_astro/index.na9Yjtw5.js","_astro/index.xow7cbfU.js","_astro/index.dTozOb7J.js","_astro/index.2y8X5Dv_.js","_astro/index.jAUWzdDU.js","_astro/index.xTbjmx61.js","_astro/dockerfile.4Msa9_-P.js","_astro/simple-mode.C4imR_6Q.js","_astro/factor.eiz_FLDg.js","_astro/nsis.BV0fG17R.js","_astro/index.7ZrestL4.js","_astro/index.2T-P_R25.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
