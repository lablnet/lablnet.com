const __vite__fileDeps=["_astro/index.BK2nFRos.js","_astro/runtime-dom.esm-bundler.ruZyT7zj.js","_astro/runtime-core.esm-bundler.BsMfqyxO.js","_astro/TextareaComp.UoetT113.js","_astro/_plugin-vue_export-helper.DlAUqK2U.js","_astro/preload-helper.BiBI96sQ.js","_astro/index.Dz1sxKsw.js","_astro/index.DrIdGMdy.js","_astro/index.DG7htkcn.js","_astro/index.DxDVd3mV.js","_astro/index.ghEjRj0t.js","_astro/index.BEVJmBco.js","_astro/index.BTfZk2dL.js","_astro/index.DCwJDhEQ.js","_astro/index.mdoNfYiG.js","_astro/index.D4Y3UuMf.js","_astro/index.BjIPCS0r.js","_astro/index.Cr72KhhE.js","_astro/index.Wyi-a-7E.js","_astro/dockerfile.D-wj2TOc.js","_astro/simple-mode.C4Nsj8zu.js","_astro/factor.BtPp0rGH.js","_astro/nsis.B7wj6DhM.js","_astro/pug.UJNYnxW9.js","_astro/javascript.iSgyE4tI.js","_astro/index.CmbYkiIU.js","_astro/index.nScuiJWv.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{w as CS,T as $S,v as T0,b as RS}from"./runtime-dom.esm-bundler.ruZyT7zj.js";import{B as IS,T as QS}from"./TextareaComp.UoetT113.js";import{_ as Ub}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{x as wn,H as du,P as Xo,z as ae,Q as DS,O as We,R as ke,G as Q,T as Bt,U as xe,V as ce,W as He,X as Wa,Y as wf,Z as Ar,_ as Nt,$ as Yn,a0 as VS,h as MS,K as Es,a1 as li,a2 as Ni,a3 as LS,F as yh,y as Or,A as Cl,D as Qo,a4 as vh,L as P0,E as A0,C as Ei}from"./runtime-core.esm-bundler.BsMfqyxO.js";import{_ as F}from"./preload-helper.BiBI96sQ.js";const FS={name:"Modal"},NS=ae("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"},null,-1),ZS=ae("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​",-1),zS={class:"inline-block align-top bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all"};function qS(t,e,n,i,r,s){return wn(),du($S,{name:"modal"},{default:Xo(()=>[ae("div",{class:"fixed top-24 z-10 inset-0 h-auto overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",onClick:e[1]||(e[1]=o=>t.$emit("close"))},[ae("div",{class:"flex items-end justify-center pt-4 px-4 pb-20 text-center sm:block sm:p-0",onClick:e[0]||(e[0]=CS(()=>{},["stop"]))},[NS,ZS,ae("div",zS,[DS(t.$slots,"default")])])])]),_:3})}const BS=Ub(FS,[["render",qS]]);var E0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},jS=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Gb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,u=l?t[r+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let d=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(d=64)),i.push(n[c],n[f],n[d],n[p])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Yb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):jS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const u=r<t.length?n[t.charAt(r)]:64;++r;const f=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||u==null||f==null)throw new XS;const d=s<<2|a>>4;if(i.push(d),u!==64){const p=a<<4&240|u>>2;if(i.push(p),f!==64){const m=u<<6&192|f;i.push(m)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class XS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WS=function(t){const e=Yb(t);return Gb.encodeByteArray(e,!0)},Mu=function(t){return WS(t).replace(/\./g,"")},US=function(t){try{return Gb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=()=>YS().__FIREBASE_DEFAULTS__,HS=()=>{if(typeof process>"u"||typeof E0>"u")return;const t=E0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&US(t[1]);return e&&JSON.parse(e)},Hd=()=>{try{return GS()||HS()||KS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},JS=t=>{var e,n;return(n=(e=Hd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},eT=t=>{const e=JS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Hb=()=>{var t;return(t=Hd())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Mu(JSON.stringify(n)),Mu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rT(){var t;const e=(t=Hd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oT(){return!rT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Kb(){try{return typeof indexedDB=="object"}catch{return!1}}function Jb(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function aT(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="FirebaseError";class ar extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=lT,Object.setPrototypeOf(this,ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cc.prototype.create)}}class Cc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?uT(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new ar(r,a,i)}}function uT(t,e){return t.replace(cT,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const cT=/\{\$([^}]+)}/g;function Lu(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(C0(s)&&C0(o)){if(!Lu(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function C0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=1e3,fT=2,dT=4*60*60*1e3,pT=.5;function $0(t,e=hT,n=fT){const i=e*Math.pow(n,t),r=Math.round(pT*i*(Math.random()-.5)*2);return Math.min(dT,i+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(t){return t&&t._delegate?t._delegate:t}class pi{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new tT;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OT(e))try{this.getOrInitializeService({instanceIdentifier:vr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=vr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vr){return this.instances.has(e)}getOptions(e=vr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:gT(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=vr){return this.component?this.component.multipleInstances?e:vr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gT(t){return t===vr?void 0:t}function OT(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const yT={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},vT=we.INFO,_T={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},wT=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=_T[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kd{constructor(e){this.name=e,this._logLevel=vT,this._logHandler=wT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const xT=(t,e)=>e.some(n=>t instanceof n);let R0,I0;function kT(){return R0||(R0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ST(){return I0||(I0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ey=new WeakMap,xf=new WeakMap,ty=new WeakMap,_h=new WeakMap,Jd=new WeakMap;function TT(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Xi(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ey.set(n,t)}).catch(()=>{}),Jd.set(e,t),e}function PT(t){if(xf.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});xf.set(t,e)}let kf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return xf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ty.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AT(t){kf=t(kf)}function ET(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(wh(this),e,...n);return ty.set(i,e.sort?e.sort():[e]),Xi(i)}:ST().includes(t)?function(...e){return t.apply(wh(this),e),Xi(ey.get(this))}:function(...e){return Xi(t.apply(wh(this),e))}}function CT(t){return typeof t=="function"?ET(t):(t instanceof IDBTransaction&&PT(t),xT(t,kT())?new Proxy(t,kf):t)}function Xi(t){if(t instanceof IDBRequest)return TT(t);if(_h.has(t))return _h.get(t);const e=CT(t);return e!==t&&(_h.set(t,e),Jd.set(e,t)),e}const wh=t=>Jd.get(t);function ny(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=Xi(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Xi(o.result),l.oldVersion,l.newVersion,Xi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const $T=["get","getKey","getAll","getAllKeys","count"],RT=["put","add","delete","clear"],xh=new Map;function Q0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xh.get(e))return xh.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=RT.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||$T.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),r&&l.done]))[0]};return xh.set(e,s),s}AT(t=>({...t,get:(e,n,i)=>Q0(e,n)||t.get(e,n,i),has:(e,n)=>!!Q0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QT(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function QT(t){const e=t.getComponent();return e?.type==="VERSION"}const Sf="@firebase/app",D0="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er=new Kd("@firebase/app"),DT="@firebase/app-compat",VT="@firebase/analytics-compat",MT="@firebase/analytics",LT="@firebase/app-check-compat",FT="@firebase/app-check",NT="@firebase/auth",ZT="@firebase/auth-compat",zT="@firebase/database",qT="@firebase/database-compat",BT="@firebase/functions",jT="@firebase/functions-compat",XT="@firebase/installations",WT="@firebase/installations-compat",UT="@firebase/messaging",YT="@firebase/messaging-compat",GT="@firebase/performance",HT="@firebase/performance-compat",KT="@firebase/remote-config",JT="@firebase/remote-config-compat",eP="@firebase/storage",tP="@firebase/storage-compat",nP="@firebase/firestore",iP="@firebase/vertexai-preview",rP="@firebase/firestore-compat",sP="firebase",oP="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf="[DEFAULT]",aP={[Sf]:"fire-core",[DT]:"fire-core-compat",[MT]:"fire-analytics",[VT]:"fire-analytics-compat",[FT]:"fire-app-check",[LT]:"fire-app-check-compat",[NT]:"fire-auth",[ZT]:"fire-auth-compat",[zT]:"fire-rtdb",[qT]:"fire-rtdb-compat",[BT]:"fire-fn",[jT]:"fire-fn-compat",[XT]:"fire-iid",[WT]:"fire-iid-compat",[UT]:"fire-fcm",[YT]:"fire-fcm-compat",[GT]:"fire-perf",[HT]:"fire-perf-compat",[KT]:"fire-rc",[JT]:"fire-rc-compat",[eP]:"fire-gcs",[tP]:"fire-gcs-compat",[nP]:"fire-fst",[rP]:"fire-fst-compat",[iP]:"fire-vertex","fire-js":"fire-js",[sP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu=new Map,lP=new Map,Pf=new Map;function V0(t,e){try{t.container.addComponent(e)}catch(n){Er.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ki(t){const e=t.name;if(Pf.has(e))return Er.debug(`There were multiple attempts to register component ${e}.`),!1;Pf.set(e,t);for(const n of Fu.values())V0(n,t);for(const n of lP.values())V0(n,t);return!0}function Ua(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wi=new Cc("app","Firebase",uP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new pi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP=oP;function iy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Tf,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Wi.create("bad-app-name",{appName:String(r)});if(n||(n=Hb()),!n)throw Wi.create("no-options");const s=Fu.get(r);if(s){if(Lu(n,s.options)&&Lu(i,s.config))return s;throw Wi.create("duplicate-app",{appName:r})}const o=new bT(r);for(const l of Pf.values())o.addComponent(l);const a=new cP(n,i,o);return Fu.set(r,a),a}function ry(t=Tf){const e=Fu.get(t);if(!e&&t===Tf&&Hb())return iy();if(!e)throw Wi.create("no-app",{appName:t});return e}function jn(t,e,n){var i;let r=(i=aP[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Er.warn(a.join(" "));return}Ki(new pi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP="firebase-heartbeat-database",dP=1,ba="firebase-heartbeat-store";let kh=null;function sy(){return kh||(kh=ny(fP,dP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ba)}catch(n){console.warn(n)}}}}).catch(t=>{throw Wi.create("idb-open",{originalErrorMessage:t.message})})),kh}async function pP(t){try{const n=(await sy()).transaction(ba),i=await n.objectStore(ba).get(oy(t));return await n.done,i}catch(e){if(e instanceof ar)Er.warn(e.message);else{const n=Wi.create("idb-get",{originalErrorMessage:e?.message});Er.warn(n.message)}}}async function M0(t,e){try{const i=(await sy()).transaction(ba,"readwrite");await i.objectStore(ba).put(e,oy(t)),await i.done}catch(n){if(n instanceof ar)Er.warn(n.message);else{const i=Wi.create("idb-set",{originalErrorMessage:n?.message});Er.warn(i.message)}}}function oy(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=1024,gP=30*24*60*60*1e3;class OP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yP(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=L0();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=gP}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=L0(),{heartbeatsToSend:i,unsentEntries:r}=bP(this._heartbeatsCache.heartbeats),s=Mu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function L0(){return new Date().toISOString().substring(0,10)}function bP(t,e=mP){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),F0(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),F0(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class yP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kb()?Jb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return M0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return M0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function F0(t){return Mu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(t){Ki(new pi("platform-logger",e=>new IT(e),"PRIVATE")),Ki(new pi("heartbeat",e=>new OP(e),"PRIVATE")),jn(Sf,D0,t),jn(Sf,D0,"esm2017"),jn("fire-js","")}vP("");var _P="firebase",wP="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jn(_P,wP,"app");const ay="@firebase/installations",ep="0.6.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly=1e4,uy=`w:${ep}`,cy="FIS_v2",xP="https://firebaseinstallations.googleapis.com/v1",kP=60*60*1e3,SP="installations",TP="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Cr=new Cc(SP,TP,PP);function hy(t){return t instanceof ar&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy({projectId:t}){return`${xP}/projects/${t}/installations`}function dy(t){return{token:t.token,requestStatus:2,expiresIn:EP(t.expiresIn),creationTime:Date.now()}}async function py(t,e){const i=(await e.json()).error;return Cr.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function my({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function AP(t,{refreshToken:e}){const n=my(t);return n.append("Authorization",CP(e)),n}async function gy(t){const e=await t();return e.status>=500&&e.status<600?t():e}function EP(t){return Number(t.replace("s","000"))}function CP(t){return`${cy} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $P({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=fy(t),r=my(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&r.append("x-firebase-client",u)}const o={fid:n,authVersion:cy,appId:t.appId,sdkVersion:uy},a={method:"POST",headers:r,body:JSON.stringify(o)},l=await gy(()=>fetch(i,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:dy(u.authToken)}}else throw await py("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=/^[cdef][\w-]{21}$/,Af="";function QP(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=DP(t);return IP.test(n)?n:Af}catch{return Af}}function DP(t){return RP(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by=new Map;function yy(t,e){const n=$c(t);vy(n,e),VP(n,e)}function vy(t,e){const n=by.get(t);if(n)for(const i of n)i(e)}function VP(t,e){const n=MP();n&&n.postMessage({key:t,fid:e}),LP()}let xr=null;function MP(){return!xr&&"BroadcastChannel"in self&&(xr=new BroadcastChannel("[Firebase] FID Change"),xr.onmessage=t=>{vy(t.data.key,t.data.fid)}),xr}function LP(){by.size===0&&xr&&(xr.close(),xr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP="firebase-installations-database",NP=1,$r="firebase-installations-store";let Sh=null;function tp(){return Sh||(Sh=ny(FP,NP,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore($r)}}})),Sh}async function Nu(t,e){const n=$c(t),r=(await tp()).transaction($r,"readwrite"),s=r.objectStore($r),o=await s.get(n);return await s.put(e,n),await r.done,(!o||o.fid!==e.fid)&&yy(t,e.fid),e}async function _y(t){const e=$c(t),i=(await tp()).transaction($r,"readwrite");await i.objectStore($r).delete(e),await i.done}async function Rc(t,e){const n=$c(t),r=(await tp()).transaction($r,"readwrite"),s=r.objectStore($r),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await r.done,a&&(!o||o.fid!==a.fid)&&yy(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function np(t){let e;const n=await Rc(t.appConfig,i=>{const r=ZP(i),s=zP(t,r);return e=s.registrationPromise,s.installationEntry});return n.fid===Af?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function ZP(t){const e=t||{fid:QP(),registrationStatus:0};return wy(e)}function zP(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(Cr.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=qP(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:BP(t)}:{installationEntry:e}}async function qP(t,e){try{const n=await $P(t,e);return Nu(t.appConfig,n)}catch(n){throw hy(n)&&n.customData.serverCode===409?await _y(t.appConfig):await Nu(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function BP(t){let e=await N0(t.appConfig);for(;e.registrationStatus===1;)await Oy(100),e=await N0(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await np(t);return i||n}return e}function N0(t){return Rc(t,e=>{if(!e)throw Cr.create("installation-not-found");return wy(e)})}function wy(t){return jP(t)?{fid:t.fid,registrationStatus:0}:t}function jP(t){return t.registrationStatus===1&&t.registrationTime+ly<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XP({appConfig:t,heartbeatServiceProvider:e},n){const i=WP(t,n),r=AP(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&r.append("x-firebase-client",u)}const o={installation:{sdkVersion:uy,appId:t.appId}},a={method:"POST",headers:r,body:JSON.stringify(o)},l=await gy(()=>fetch(i,a));if(l.ok){const u=await l.json();return dy(u)}else throw await py("Generate Auth Token",l)}function WP(t,{fid:e}){return`${fy(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ip(t,e=!1){let n;const i=await Rc(t.appConfig,s=>{if(!xy(s))throw Cr.create("not-registered");const o=s.authToken;if(!e&&GP(o))return s;if(o.requestStatus===1)return n=UP(t,e),s;{if(!navigator.onLine)throw Cr.create("app-offline");const a=KP(s);return n=YP(t,a),a}});return n?await n:i.authToken}async function UP(t,e){let n=await Z0(t.appConfig);for(;n.authToken.requestStatus===1;)await Oy(100),n=await Z0(t.appConfig);const i=n.authToken;return i.requestStatus===0?ip(t,e):i}function Z0(t){return Rc(t,e=>{if(!xy(e))throw Cr.create("not-registered");const n=e.authToken;return JP(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function YP(t,e){try{const n=await XP(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await Nu(t.appConfig,i),n}catch(n){if(hy(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await _y(t.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Nu(t.appConfig,i)}throw n}}function xy(t){return t!==void 0&&t.registrationStatus===2}function GP(t){return t.requestStatus===2&&!HP(t)}function HP(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+kP}function KP(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function JP(t){return t.requestStatus===1&&t.requestTime+ly<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eA(t){const e=t,{installationEntry:n,registrationPromise:i}=await np(e);return i?i.catch(console.error):ip(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tA(t,e=!1){const n=t;return await nA(n),(await ip(n,e)).token}async function nA(t){const{registrationPromise:e}=await np(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(t){if(!t||!t.options)throw Th("App Configuration");if(!t.name)throw Th("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Th(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Th(t){return Cr.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="installations",rA="installations-internal",sA=t=>{const e=t.getProvider("app").getImmediate(),n=iA(e),i=Ua(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},oA=t=>{const e=t.getProvider("app").getImmediate(),n=Ua(e,ky).getImmediate();return{getId:()=>eA(n),getToken:r=>tA(n,r)}};function aA(){Ki(new pi(ky,sA,"PUBLIC")),Ki(new pi(rA,oA,"PRIVATE"))}aA();jn(ay,ep);jn(ay,ep,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu="analytics",lA="firebase_id",uA="origin",cA=60*1e3,hA="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jt=new Kd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},nn=new Cc("analytics","Analytics",fA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(t){if(!t.startsWith(rp)){const e=nn.create("invalid-gtag-resource",{gtagURL:t});return jt.warn(e.message),""}return t}function Sy(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function pA(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function mA(t,e){const n=pA("firebase-js-sdk-policy",{createScriptURL:dA}),i=document.createElement("script"),r=`${rp}?l=${t}&id=${e}`;i.src=n?n?.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function gA(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function OA(t,e,n,i,r,s){const o=i[r];try{if(o)await e[o];else{const l=(await Sy(n)).find(u=>u.measurementId===r);l&&await e[l.appId]}}catch(a){jt.error(a)}t("config",r,s)}async function bA(t,e,n,i,r){try{let s=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);const a=await Sy(n);for(const l of o){const u=a.find(f=>f.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",i,r||{})}catch(s){jt.error(s)}}function yA(t,e,n,i){async function r(s,...o){try{if(s==="event"){const[a,l]=o;await bA(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await OA(t,e,n,i,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){jt.error(a)}}return r}function vA(t,e,n,i,r){let s=function(...o){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(s=window[r]),window[r]=yA(s,t,e,n),{gtagCore:s,wrappedGtag:window[r]}}function _A(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(rp)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=30,xA=1e3;class kA{constructor(e={},n=xA){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Ty=new kA;function SA(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function TA(t){var e;const{appId:n,apiKey:i}=t,r={method:"GET",headers:SA(i)},s=hA.replace("{app-id}",n),o=await fetch(s,r);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw nn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function PA(t,e=Ty,n){const{appId:i,apiKey:r,measurementId:s}=t.options;if(!i)throw nn.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw nn.create("no-api-key")}const o=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new CA;return setTimeout(async()=>{a.abort()},cA),Py({appId:i,apiKey:r,measurementId:s},o,a,e)}async function Py(t,{throttleEndTimeMillis:e,backoffCount:n},i,r=Ty){var s;const{appId:o,measurementId:a}=t;try{await AA(i,e)}catch(l){if(a)return jt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw l}try{const l=await TA(t);return r.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!EA(u)){if(r.deleteThrottleMetadata(o),a)return jt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u?.customData)===null||s===void 0?void 0:s.httpStatus)===503?$0(n,r.intervalMillis,wA):$0(n,r.intervalMillis),f={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return r.setThrottleMetadata(o,f),jt.debug(`Calling attemptFetch again in ${c} millis`),Py(t,f,i,r)}}function AA(t,e){return new Promise((n,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(s),i(nn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function EA(t){if(!(t instanceof ar)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class CA{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function $A(t,e,n,i,r){if(r&&r.global){t("event",n,i);return}else{const s=await e,o=Object.assign(Object.assign({},i),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RA(){if(Kb())try{await Jb()}catch(t){return jt.warn(nn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return jt.warn(nn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function IA(t,e,n,i,r,s,o){var a;const l=PA(t);l.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&jt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>jt.error(p)),e.push(l);const u=RA().then(p=>{if(p)return i.getId()}),[c,f]=await Promise.all([l,u]);_A(s)||mA(s,c.measurementId),r("js",new Date);const d=(a=o?.config)!==null&&a!==void 0?a:{};return d[uA]="firebase",d.update=!0,f!=null&&(d[lA]=f),r("config",c.measurementId,d),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e){this.app=e}_delete(){return delete ra[this.app.options.appId],Promise.resolve()}}let ra={},z0=[];const q0={};let Ph="dataLayer",DA="gtag",B0,Ay,j0=!1;function VA(){const t=[];if(sT()&&t.push("This is a browser extension environment."),aT()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,r)=>`(${r+1}) ${i}`).join(" "),n=nn.create("invalid-analytics-context",{errorInfo:e});jt.warn(n.message)}}function MA(t,e,n){VA();const i=t.options.appId;if(!i)throw nn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)jt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw nn.create("no-api-key");if(ra[i]!=null)throw nn.create("already-exists",{id:i});if(!j0){gA(Ph);const{wrappedGtag:s,gtagCore:o}=vA(ra,z0,q0,Ph,DA);Ay=s,B0=o,j0=!0}return ra[i]=IA(t,z0,q0,e,B0,Ph,n),new QA(t)}function LA(t=ry()){t=Cs(t);const e=Ua(t,Zu);return e.isInitialized()?e.getImmediate():FA(t)}function FA(t,e={}){const n=Ua(t,Zu);if(n.isInitialized()){const r=n.getImmediate();if(Lu(e,n.getOptions()))return r;throw nn.create("already-initialized")}return n.initialize({options:e})}function NA(t,e,n,i){t=Cs(t),$A(Ay,ra[t.app.options.appId],e,n,i).catch(r=>jt.error(r))}const X0="@firebase/analytics",W0="0.10.4";function ZA(){Ki(new pi(Zu,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return MA(i,r,n)},"PUBLIC")),Ki(new pi("analytics-internal",t,"PRIVATE")),jn(X0,W0),jn(X0,W0,"esm2017");function t(e){try{const n=e.getProvider(Zu).getImmediate();return{logEvent:(i,r,s)=>NA(n,i,r,s)}}catch(n){throw nn.create("interop-component-reg-failed",{reason:n})}}}ZA();var U0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pr,Ey;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,v){function T(){}T.prototype=v.prototype,w.D=v.prototype,w.prototype=new T,w.prototype.constructor=w,w.C=function(A,E,C){for(var P=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)P[Y-2]=arguments[Y];return v.prototype[E].apply(A,P)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(w,v,T){T||(T=0);var A=Array(16);if(typeof v=="string")for(var E=0;16>E;++E)A[E]=v.charCodeAt(T++)|v.charCodeAt(T++)<<8|v.charCodeAt(T++)<<16|v.charCodeAt(T++)<<24;else for(E=0;16>E;++E)A[E]=v[T++]|v[T++]<<8|v[T++]<<16|v[T++]<<24;v=w.g[0],T=w.g[1],E=w.g[2];var C=w.g[3],P=v+(C^T&(E^C))+A[0]+3614090360&4294967295;v=T+(P<<7&4294967295|P>>>25),P=C+(E^v&(T^E))+A[1]+3905402710&4294967295,C=v+(P<<12&4294967295|P>>>20),P=E+(T^C&(v^T))+A[2]+606105819&4294967295,E=C+(P<<17&4294967295|P>>>15),P=T+(v^E&(C^v))+A[3]+3250441966&4294967295,T=E+(P<<22&4294967295|P>>>10),P=v+(C^T&(E^C))+A[4]+4118548399&4294967295,v=T+(P<<7&4294967295|P>>>25),P=C+(E^v&(T^E))+A[5]+1200080426&4294967295,C=v+(P<<12&4294967295|P>>>20),P=E+(T^C&(v^T))+A[6]+2821735955&4294967295,E=C+(P<<17&4294967295|P>>>15),P=T+(v^E&(C^v))+A[7]+4249261313&4294967295,T=E+(P<<22&4294967295|P>>>10),P=v+(C^T&(E^C))+A[8]+1770035416&4294967295,v=T+(P<<7&4294967295|P>>>25),P=C+(E^v&(T^E))+A[9]+2336552879&4294967295,C=v+(P<<12&4294967295|P>>>20),P=E+(T^C&(v^T))+A[10]+4294925233&4294967295,E=C+(P<<17&4294967295|P>>>15),P=T+(v^E&(C^v))+A[11]+2304563134&4294967295,T=E+(P<<22&4294967295|P>>>10),P=v+(C^T&(E^C))+A[12]+1804603682&4294967295,v=T+(P<<7&4294967295|P>>>25),P=C+(E^v&(T^E))+A[13]+4254626195&4294967295,C=v+(P<<12&4294967295|P>>>20),P=E+(T^C&(v^T))+A[14]+2792965006&4294967295,E=C+(P<<17&4294967295|P>>>15),P=T+(v^E&(C^v))+A[15]+1236535329&4294967295,T=E+(P<<22&4294967295|P>>>10),P=v+(E^C&(T^E))+A[1]+4129170786&4294967295,v=T+(P<<5&4294967295|P>>>27),P=C+(T^E&(v^T))+A[6]+3225465664&4294967295,C=v+(P<<9&4294967295|P>>>23),P=E+(v^T&(C^v))+A[11]+643717713&4294967295,E=C+(P<<14&4294967295|P>>>18),P=T+(C^v&(E^C))+A[0]+3921069994&4294967295,T=E+(P<<20&4294967295|P>>>12),P=v+(E^C&(T^E))+A[5]+3593408605&4294967295,v=T+(P<<5&4294967295|P>>>27),P=C+(T^E&(v^T))+A[10]+38016083&4294967295,C=v+(P<<9&4294967295|P>>>23),P=E+(v^T&(C^v))+A[15]+3634488961&4294967295,E=C+(P<<14&4294967295|P>>>18),P=T+(C^v&(E^C))+A[4]+3889429448&4294967295,T=E+(P<<20&4294967295|P>>>12),P=v+(E^C&(T^E))+A[9]+568446438&4294967295,v=T+(P<<5&4294967295|P>>>27),P=C+(T^E&(v^T))+A[14]+3275163606&4294967295,C=v+(P<<9&4294967295|P>>>23),P=E+(v^T&(C^v))+A[3]+4107603335&4294967295,E=C+(P<<14&4294967295|P>>>18),P=T+(C^v&(E^C))+A[8]+1163531501&4294967295,T=E+(P<<20&4294967295|P>>>12),P=v+(E^C&(T^E))+A[13]+2850285829&4294967295,v=T+(P<<5&4294967295|P>>>27),P=C+(T^E&(v^T))+A[2]+4243563512&4294967295,C=v+(P<<9&4294967295|P>>>23),P=E+(v^T&(C^v))+A[7]+1735328473&4294967295,E=C+(P<<14&4294967295|P>>>18),P=T+(C^v&(E^C))+A[12]+2368359562&4294967295,T=E+(P<<20&4294967295|P>>>12),P=v+(T^E^C)+A[5]+4294588738&4294967295,v=T+(P<<4&4294967295|P>>>28),P=C+(v^T^E)+A[8]+2272392833&4294967295,C=v+(P<<11&4294967295|P>>>21),P=E+(C^v^T)+A[11]+1839030562&4294967295,E=C+(P<<16&4294967295|P>>>16),P=T+(E^C^v)+A[14]+4259657740&4294967295,T=E+(P<<23&4294967295|P>>>9),P=v+(T^E^C)+A[1]+2763975236&4294967295,v=T+(P<<4&4294967295|P>>>28),P=C+(v^T^E)+A[4]+1272893353&4294967295,C=v+(P<<11&4294967295|P>>>21),P=E+(C^v^T)+A[7]+4139469664&4294967295,E=C+(P<<16&4294967295|P>>>16),P=T+(E^C^v)+A[10]+3200236656&4294967295,T=E+(P<<23&4294967295|P>>>9),P=v+(T^E^C)+A[13]+681279174&4294967295,v=T+(P<<4&4294967295|P>>>28),P=C+(v^T^E)+A[0]+3936430074&4294967295,C=v+(P<<11&4294967295|P>>>21),P=E+(C^v^T)+A[3]+3572445317&4294967295,E=C+(P<<16&4294967295|P>>>16),P=T+(E^C^v)+A[6]+76029189&4294967295,T=E+(P<<23&4294967295|P>>>9),P=v+(T^E^C)+A[9]+3654602809&4294967295,v=T+(P<<4&4294967295|P>>>28),P=C+(v^T^E)+A[12]+3873151461&4294967295,C=v+(P<<11&4294967295|P>>>21),P=E+(C^v^T)+A[15]+530742520&4294967295,E=C+(P<<16&4294967295|P>>>16),P=T+(E^C^v)+A[2]+3299628645&4294967295,T=E+(P<<23&4294967295|P>>>9),P=v+(E^(T|~C))+A[0]+4096336452&4294967295,v=T+(P<<6&4294967295|P>>>26),P=C+(T^(v|~E))+A[7]+1126891415&4294967295,C=v+(P<<10&4294967295|P>>>22),P=E+(v^(C|~T))+A[14]+2878612391&4294967295,E=C+(P<<15&4294967295|P>>>17),P=T+(C^(E|~v))+A[5]+4237533241&4294967295,T=E+(P<<21&4294967295|P>>>11),P=v+(E^(T|~C))+A[12]+1700485571&4294967295,v=T+(P<<6&4294967295|P>>>26),P=C+(T^(v|~E))+A[3]+2399980690&4294967295,C=v+(P<<10&4294967295|P>>>22),P=E+(v^(C|~T))+A[10]+4293915773&4294967295,E=C+(P<<15&4294967295|P>>>17),P=T+(C^(E|~v))+A[1]+2240044497&4294967295,T=E+(P<<21&4294967295|P>>>11),P=v+(E^(T|~C))+A[8]+1873313359&4294967295,v=T+(P<<6&4294967295|P>>>26),P=C+(T^(v|~E))+A[15]+4264355552&4294967295,C=v+(P<<10&4294967295|P>>>22),P=E+(v^(C|~T))+A[6]+2734768916&4294967295,E=C+(P<<15&4294967295|P>>>17),P=T+(C^(E|~v))+A[13]+1309151649&4294967295,T=E+(P<<21&4294967295|P>>>11),P=v+(E^(T|~C))+A[4]+4149444226&4294967295,v=T+(P<<6&4294967295|P>>>26),P=C+(T^(v|~E))+A[11]+3174756917&4294967295,C=v+(P<<10&4294967295|P>>>22),P=E+(v^(C|~T))+A[2]+718787259&4294967295,E=C+(P<<15&4294967295|P>>>17),P=T+(C^(E|~v))+A[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(E+(P<<21&4294967295|P>>>11))&4294967295,w.g[2]=w.g[2]+E&4294967295,w.g[3]=w.g[3]+C&4294967295}i.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var T=v-this.blockSize,A=this.B,E=this.h,C=0;C<v;){if(E==0)for(;C<=T;)r(this,w,C),C+=this.blockSize;if(typeof w=="string"){for(;C<v;)if(A[E++]=w.charCodeAt(C++),E==this.blockSize){r(this,A),E=0;break}}else for(;C<v;)if(A[E++]=w[C++],E==this.blockSize){r(this,A),E=0;break}}this.h=E,this.o+=v},i.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var T=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=T&255,T/=256;for(this.u(w),w=Array(16),v=T=0;4>v;++v)for(var A=0;32>A;A+=8)w[T++]=this.g[v]>>>A&255;return w};function s(w,v){var T=a;return Object.prototype.hasOwnProperty.call(T,w)?T[w]:T[w]=v(w)}function o(w,v){this.h=v;for(var T=[],A=!0,E=w.length-1;0<=E;E--){var C=w[E]|0;A&&C==v||(T[E]=C,A=!1)}this.g=T}var a={};function l(w){return-128<=w&&128>w?s(w,function(v){return new o([v|0],0>v?-1:0)}):new o([w|0],0>w?-1:0)}function u(w){if(isNaN(w)||!isFinite(w))return f;if(0>w)return y(u(-w));for(var v=[],T=1,A=0;w>=T;A++)v[A]=w/T|0,T*=4294967296;return new o(v,0)}function c(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return y(c(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=u(Math.pow(v,8)),A=f,E=0;E<w.length;E+=8){var C=Math.min(8,w.length-E),P=parseInt(w.substring(E,E+C),v);8>C?(C=u(Math.pow(v,C)),A=A.j(C).add(u(P))):(A=A.j(T),A=A.add(u(P)))}return A}var f=l(0),d=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(O(this))return-y(this).m();for(var w=0,v=1,T=0;T<this.g.length;T++){var A=this.i(T);w+=(0<=A?A:4294967296+A)*v,v*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(m(this))return"0";if(O(this))return"-"+y(this).toString(w);for(var v=u(Math.pow(w,6)),T=this,A="";;){var E=R(T,v).g;T=_(T,E.j(v));var C=((0<T.g.length?T.g[0]:T.h)>>>0).toString(w);if(T=E,m(T))return C+A;for(;6>C.length;)C="0"+C;A=C+A}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function m(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function O(w){return w.h==-1}t.l=function(w){return w=_(this,w),O(w)?-1:m(w)?0:1};function y(w){for(var v=w.g.length,T=[],A=0;A<v;A++)T[A]=~w.g[A];return new o(T,~w.h).add(d)}t.abs=function(){return O(this)?y(this):this},t.add=function(w){for(var v=Math.max(this.g.length,w.g.length),T=[],A=0,E=0;E<=v;E++){var C=A+(this.i(E)&65535)+(w.i(E)&65535),P=(C>>>16)+(this.i(E)>>>16)+(w.i(E)>>>16);A=P>>>16,C&=65535,P&=65535,T[E]=P<<16|C}return new o(T,T[T.length-1]&-2147483648?-1:0)};function _(w,v){return w.add(y(v))}t.j=function(w){if(m(this)||m(w))return f;if(O(this))return O(w)?y(this).j(y(w)):y(y(this).j(w));if(O(w))return y(this.j(y(w)));if(0>this.l(p)&&0>w.l(p))return u(this.m()*w.m());for(var v=this.g.length+w.g.length,T=[],A=0;A<2*v;A++)T[A]=0;for(A=0;A<this.g.length;A++)for(var E=0;E<w.g.length;E++){var C=this.i(A)>>>16,P=this.i(A)&65535,Y=w.i(E)>>>16,G=w.i(E)&65535;T[2*A+2*E]+=P*G,S(T,2*A+2*E),T[2*A+2*E+1]+=C*G,S(T,2*A+2*E+1),T[2*A+2*E+1]+=P*Y,S(T,2*A+2*E+1),T[2*A+2*E+2]+=C*Y,S(T,2*A+2*E+2)}for(A=0;A<v;A++)T[A]=T[2*A+1]<<16|T[2*A];for(A=v;A<2*v;A++)T[A]=0;return new o(T,0)};function S(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function $(w,v){this.g=w,this.h=v}function R(w,v){if(m(v))throw Error("division by zero");if(m(w))return new $(f,f);if(O(w))return v=R(y(w),v),new $(y(v.g),y(v.h));if(O(v))return v=R(w,y(v)),new $(y(v.g),v.h);if(30<w.g.length){if(O(w)||O(v))throw Error("slowDivide_ only works with positive integers.");for(var T=d,A=v;0>=A.l(w);)T=D(T),A=D(A);var E=L(T,1),C=L(A,1);for(A=L(A,2),T=L(T,2);!m(A);){var P=C.add(A);0>=P.l(w)&&(E=E.add(T),C=P),A=L(A,1),T=L(T,1)}return v=_(w,E.j(v)),new $(E,v)}for(E=f;0<=w.l(v);){for(T=Math.max(1,Math.floor(w.m()/v.m())),A=Math.ceil(Math.log(T)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),C=u(T),P=C.j(v);O(P)||0<P.l(w);)T-=A,C=u(T),P=C.j(v);m(C)&&(C=d),E=E.add(C),w=_(w,P)}return new $(E,w)}t.A=function(w){return R(this,w).h},t.and=function(w){for(var v=Math.max(this.g.length,w.g.length),T=[],A=0;A<v;A++)T[A]=this.i(A)&w.i(A);return new o(T,this.h&w.h)},t.or=function(w){for(var v=Math.max(this.g.length,w.g.length),T=[],A=0;A<v;A++)T[A]=this.i(A)|w.i(A);return new o(T,this.h|w.h)},t.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),T=[],A=0;A<v;A++)T[A]=this.i(A)^w.i(A);return new o(T,this.h^w.h)};function D(w){for(var v=w.g.length+1,T=[],A=0;A<v;A++)T[A]=w.i(A)<<1|w.i(A-1)>>>31;return new o(T,w.h)}function L(w,v){var T=v>>5;v%=32;for(var A=w.g.length-T,E=[],C=0;C<A;C++)E[C]=0<v?w.i(C+T)>>>v|w.i(C+T+1)<<32-v:w.i(C+T);return new o(E,w.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Ey=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,Pr=o}).apply(typeof U0<"u"?U0:typeof self<"u"?self:typeof window<"u"?window:{});var $l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cy,$y,Wo,Ry,pu,Ef,Iy,Qy,Dy;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,g,b){return h==Array.prototype||h==Object.prototype||(h[g]=b.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof $l=="object"&&$l];for(var g=0;g<h.length;++g){var b=h[g];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=n(this);function r(h,g){if(g)e:{var b=i;h=h.split(".");for(var k=0;k<h.length-1;k++){var V=h[k];if(!(V in b))break e;b=b[V]}h=h[h.length-1],k=b[h],g=g(k),g!=k&&g!=null&&e(b,h,{configurable:!0,writable:!0,value:g})}}function s(h,g){h instanceof String&&(h+="");var b=0,k=!1,V={next:function(){if(!k&&b<h.length){var N=b++;return{value:g(N,h[N]),done:!1}}return k=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}r("Array.prototype.values",function(h){return h||function(){return s(this,function(g,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(h){var g=typeof h;return g=g!="object"?g:h?Array.isArray(h)?"array":g:"null",g=="array"||g=="object"&&typeof h.length=="number"}function u(h){var g=typeof h;return g=="object"&&h!=null||g=="function"}function c(h,g,b){return h.call.apply(h.bind,arguments)}function f(h,g,b){if(!h)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,k),h.apply(g,V)}}return function(){return h.apply(g,arguments)}}function d(h,g,b){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,d.apply(null,arguments)}function p(h,g){var b=Array.prototype.slice.call(arguments,1);return function(){var k=b.slice();return k.push.apply(k,arguments),h.apply(this,k)}}function m(h,g){function b(){}b.prototype=g.prototype,h.aa=g.prototype,h.prototype=new b,h.prototype.constructor=h,h.Qb=function(k,V,N){for(var W=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)W[$e-2]=arguments[$e];return g.prototype[V].apply(k,W)}}function O(h){const g=h.length;if(0<g){const b=Array(g);for(let k=0;k<g;k++)b[k]=h[k];return b}return[]}function y(h,g){for(let b=1;b<arguments.length;b++){const k=arguments[b];if(l(k)){const V=h.length||0,N=k.length||0;h.length=V+N;for(let W=0;W<N;W++)h[V+W]=k[W]}else h.push(k)}}class _{constructor(g,b){this.i=g,this.j=b,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function S(h){return/^[\s\xa0]*$/.test(h)}function $(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function R(h){return R[" "](h),h}R[" "]=function(){};var D=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function L(h,g,b){for(const k in h)g.call(b,h[k],k,h)}function w(h,g){for(const b in h)g.call(void 0,h[b],b,h)}function v(h){const g={};for(const b in h)g[b]=h[b];return g}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(h,g){let b,k;for(let V=1;V<arguments.length;V++){k=arguments[V];for(b in k)h[b]=k[b];for(let N=0;N<T.length;N++)b=T[N],Object.prototype.hasOwnProperty.call(k,b)&&(h[b]=k[b])}}function E(h){var g=1;h=h.split(":");const b=[];for(;0<g&&h.length;)b.push(h.shift()),g--;return h.length&&b.push(h.join(":")),b}function C(h){a.setTimeout(()=>{throw h},0)}function P(){var h=qe;let g=null;return h.g&&(g=h.g,h.g=h.g.next,h.g||(h.h=null),g.next=null),g}class Y{constructor(){this.h=this.g=null}add(g,b){const k=G.get();k.set(g,b),this.h?this.h.next=k:this.g=k,this.h=k}}var G=new _(()=>new ee,h=>h.reset());class ee{constructor(){this.next=this.g=this.h=null}set(g,b){this.h=g,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let he,de=!1,qe=new Y,fe=()=>{const h=a.Promise.resolve(void 0);he=()=>{h.then(ge)}};var ge=()=>{for(var h;h=P();){try{h.h.call(h.g)}catch(b){C(b)}var g=G;g.j(h),100>g.h&&(g.h++,h.next=g.g,g.g=h)}de=!1};function Le(){this.s=this.s,this.C=this.C}Le.prototype.s=!1,Le.prototype.ma=function(){this.s||(this.s=!0,this.N())},Le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ee(h,g){this.type=h,this.g=this.target=g,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var Wt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,g=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};a.addEventListener("test",b,g),a.removeEventListener("test",b,g)}catch{}return h}();function rt(h,g){if(Ee.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var b=this.type=h.type,k=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=g,g=h.relatedTarget){if(D){e:{try{R(g.nodeName);var V=!0;break e}catch{}V=!1}V||(g=null)}}else b=="mouseover"?g=h.fromElement:b=="mouseout"&&(g=h.toElement);this.relatedTarget=g,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:ti[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&rt.aa.h.call(this)}}m(rt,Ee);var ti={2:"touch",3:"pen",4:"mouse"};rt.prototype.h=function(){rt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ni="closure_listenable_"+(1e6*Math.random()|0),ii=0;function jr(h,g,b,k,V){this.listener=h,this.proxy=null,this.src=g,this.type=b,this.capture=!!k,this.ha=V,this.key=++ii,this.da=this.fa=!1}function ri(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function vn(h){this.src=h,this.g={},this.h=0}vn.prototype.add=function(h,g,b,k,V){var N=h.toString();h=this.g[N],h||(h=this.g[N]=[],this.h++);var W=_i(h,g,k,V);return-1<W?(g=h[W],b||(g.fa=!1)):(g=new jr(g,this.src,N,!!k,V),g.fa=b,h.push(g)),g};function $n(h,g){var b=g.type;if(b in h.g){var k=h.g[b],V=Array.prototype.indexOf.call(k,g,void 0),N;(N=0<=V)&&Array.prototype.splice.call(k,V,1),N&&(ri(g),h.g[b].length==0&&(delete h.g[b],h.h--))}}function _i(h,g,b,k){for(var V=0;V<h.length;++V){var N=h[V];if(!N.da&&N.listener==g&&N.capture==!!b&&N.ha==k)return V}return-1}var wi="closure_lm_"+(1e6*Math.random()|0),Rn={};function cr(h,g,b,k,V){if(Array.isArray(g)){for(var N=0;N<g.length;N++)cr(h,g[N],b,k,V);return null}return b=mo(b),h&&h[ni]?h.K(g,b,u(k)?!!k.capture:!!k,V):Xr(h,g,b,!1,k,V)}function Xr(h,g,b,k,V,N){if(!g)throw Error("Invalid event type");var W=u(V)?!!V.capture:!!V,$e=Ur(h);if($e||(h[wi]=$e=new vn(h)),b=$e.add(g,b,k,W,N),b.proxy)return b;if(k=hr(),b.proxy=k,k.src=h,k.listener=b,h.addEventListener)Wt||(V=W),V===void 0&&(V=!1),h.addEventListener(g.toString(),k,V);else if(h.attachEvent)h.attachEvent(po(g.toString()),k);else if(h.addListener&&h.removeListener)h.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return b}function hr(){function h(b){return g.call(h.src,h.listener,b)}const g=dl;return h}function fo(h,g,b,k,V){if(Array.isArray(g))for(var N=0;N<g.length;N++)fo(h,g[N],b,k,V);else k=u(k)?!!k.capture:!!k,b=mo(b),h&&h[ni]?(h=h.i,g=String(g).toString(),g in h.g&&(N=h.g[g],b=_i(N,b,k,V),-1<b&&(ri(N[b]),Array.prototype.splice.call(N,b,1),N.length==0&&(delete h.g[g],h.h--)))):h&&(h=Ur(h))&&(g=h.g[g.toString()],h=-1,g&&(h=_i(g,b,k,V)),(b=-1<h?g[h]:null)&&Wr(b))}function Wr(h){if(typeof h!="number"&&h&&!h.da){var g=h.src;if(g&&g[ni])$n(g.i,h);else{var b=h.type,k=h.proxy;g.removeEventListener?g.removeEventListener(b,k,h.capture):g.detachEvent?g.detachEvent(po(b),k):g.addListener&&g.removeListener&&g.removeListener(k),(b=Ur(g))?($n(b,h),b.h==0&&(b.src=null,g[wi]=null)):ri(h)}}}function po(h){return h in Rn?Rn[h]:Rn[h]="on"+h}function dl(h,g){if(h.da)h=!0;else{g=new rt(g,this);var b=h.listener,k=h.ha||h.src;h.fa&&Wr(h),h=b.call(k,g)}return h}function Ur(h){return h=h[wi],h instanceof vn?h:null}var Yr="__closure_events_fn_"+(1e9*Math.random()>>>0);function mo(h){return typeof h=="function"?h:(h[Yr]||(h[Yr]=function(g){return h.handleEvent(g)}),h[Yr])}function st(){Le.call(this),this.i=new vn(this),this.M=this,this.F=null}m(st,Le),st.prototype[ni]=!0,st.prototype.removeEventListener=function(h,g,b,k){fo(this,h,g,b,k)};function ct(h,g){var b,k=h.F;if(k)for(b=[];k;k=k.F)b.push(k);if(h=h.M,k=g.type||g,typeof g=="string")g=new Ee(g,h);else if(g instanceof Ee)g.target=g.target||h;else{var V=g;g=new Ee(k,h),A(g,V)}if(V=!0,b)for(var N=b.length-1;0<=N;N--){var W=g.g=b[N];V=fr(W,k,!0,g)&&V}if(W=g.g=h,V=fr(W,k,!0,g)&&V,V=fr(W,k,!1,g)&&V,b)for(N=0;N<b.length;N++)W=g.g=b[N],V=fr(W,k,!1,g)&&V}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var h=this.i,g;for(g in h.g){for(var b=h.g[g],k=0;k<b.length;k++)ri(b[k]);delete h.g[g],h.h--}}this.F=null},st.prototype.K=function(h,g,b,k){return this.i.add(String(h),g,!1,b,k)},st.prototype.L=function(h,g,b,k){return this.i.add(String(h),g,!0,b,k)};function fr(h,g,b,k){if(g=h.i.g[String(g)],!g)return!0;g=g.concat();for(var V=!0,N=0;N<g.length;++N){var W=g[N];if(W&&!W.da&&W.capture==b){var $e=W.listener,gt=W.ha||W.src;W.fa&&$n(h.i,W),V=$e.call(gt,k)!==!1&&V}}return V&&!k.defaultPrevented}function go(h,g,b){if(typeof h=="function")b&&(h=d(h,b));else if(h&&typeof h.handleEvent=="function")h=d(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(h,g||0)}function Oo(h){h.g=go(()=>{h.g=null,h.i&&(h.i=!1,Oo(h))},h.l);const g=h.h;h.h=null,h.m.apply(null,g)}class pl extends Le{constructor(g,b){super(),this.m=g,this.l=b,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Oo(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xi(h){Le.call(this),this.h=h,this.g={}}m(xi,Le);var bo=[];function yo(h){L(h.g,function(g,b){this.g.hasOwnProperty(b)&&Wr(g)},h),h.g={}}xi.prototype.N=function(){xi.aa.N.call(this),yo(this)},xi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gr=a.JSON.stringify,ml=a.JSON.parse,gl=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function Hr(){}Hr.prototype.h=null;function vo(h){return h.h||(h.h=h.i())}function _o(){}var ki={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kr(){Ee.call(this,"d")}m(Kr,Ee);function Jr(){Ee.call(this,"c")}m(Jr,Ee);var In={},wo=null;function dr(){return wo=wo||new st}In.La="serverreachability";function xo(h){Ee.call(this,In.La,h)}m(xo,Ee);function Si(h){const g=dr();ct(g,new xo(g))}In.STAT_EVENT="statevent";function ko(h,g){Ee.call(this,In.STAT_EVENT,h),this.stat=g}m(ko,Ee);function ht(h){const g=dr();ct(g,new ko(g,h))}In.Ma="timingevent";function Oe(h,g){Ee.call(this,In.Ma,h),this.size=g}m(Oe,Ee);function Ue(h,g){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},g)}function si(){this.g=!0}si.prototype.xa=function(){this.g=!1};function aS(h,g,b,k,V,N){h.info(function(){if(h.g)if(N)for(var W="",$e=N.split("&"),gt=0;gt<$e.length;gt++){var Se=$e[gt].split("=");if(1<Se.length){var St=Se[0];Se=Se[1];var Tt=St.split("_");W=2<=Tt.length&&Tt[1]=="type"?W+(St+"="+Se+"&"):W+(St+"=redacted&")}}else W=null;else W=N;return"XMLHTTP REQ ("+k+") [attempt "+V+"]: "+g+`
`+b+`
`+W})}function lS(h,g,b,k,V,N,W){h.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+V+"]: "+g+`
`+b+`
`+N+" "+W})}function es(h,g,b,k){h.info(function(){return"XMLHTTP TEXT ("+g+"): "+cS(h,b)+(k?" "+k:"")})}function uS(h,g){h.info(function(){return"TIMEOUT: "+g})}si.prototype.info=function(){};function cS(h,g){if(!h.g)return g;if(!g)return null;try{var b=JSON.parse(g);if(b){for(h=0;h<b.length;h++)if(Array.isArray(b[h])){var k=b[h];if(!(2>k.length)){var V=k[1];if(Array.isArray(V)&&!(1>V.length)){var N=V[0];if(N!="noop"&&N!="stop"&&N!="close")for(var W=1;W<V.length;W++)V[W]=""}}}}return Gr(b)}catch{return g}}var Ol={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Zm={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ah;function bl(){}m(bl,Hr),bl.prototype.g=function(){return new XMLHttpRequest},bl.prototype.i=function(){return{}},ah=new bl;function Ti(h,g,b,k){this.j=h,this.i=g,this.l=b,this.R=k||1,this.U=new xi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zm}function zm(){this.i=null,this.g="",this.h=!1}var qm={},lh={};function uh(h,g,b){h.L=1,h.v=wl(oi(g)),h.m=b,h.P=!0,Bm(h,null)}function Bm(h,g){h.F=Date.now(),yl(h),h.A=oi(h.v);var b=h.A,k=h.R;Array.isArray(k)||(k=[String(k)]),r0(b.i,"t",k),h.C=0,b=h.j.J,h.h=new zm,h.g=w0(h.j,b?g:null,!h.m),0<h.O&&(h.M=new pl(d(h.Y,h,h.g),h.O)),g=h.U,b=h.g,k=h.ca;var V="readystatechange";Array.isArray(V)||(V&&(bo[0]=V.toString()),V=bo);for(var N=0;N<V.length;N++){var W=cr(b,V[N],k||g.handleEvent,!1,g.h||g);if(!W)break;g.g[W.key]=W}g=h.H?v(h.H):{},h.m?(h.u||(h.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,g)):(h.u="GET",h.g.ea(h.A,h.u,null,g)),Si(),aS(h.i,h.u,h.A,h.l,h.R,h.m)}Ti.prototype.ca=function(h){h=h.target;const g=this.M;g&&ai(h)==3?g.j():this.Y(h)},Ti.prototype.Y=function(h){try{if(h==this.g)e:{const Tt=ai(this.g);var g=this.g.Ba();const is=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||h0(this.g)))){this.J||Tt!=4||g==7||(g==8||0>=is?Si(3):Si(2)),ch(this);var b=this.g.Z();this.X=b;t:if(jm(this)){var k=h0(this.g);h="";var V=k.length,N=ai(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pr(this),So(this);var W="";break t}this.h.i=new a.TextDecoder}for(g=0;g<V;g++)this.h.h=!0,h+=this.h.i.decode(k[g],{stream:!(N&&g==V-1)});k.length=0,this.h.g+=h,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=b==200,lS(this.i,this.u,this.A,this.l,this.R,Tt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,gt=this.g;if(($e=gt.g?gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S($e)){var Se=$e;break t}}Se=null}if(b=Se)es(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hh(this,b);else{this.o=!1,this.s=3,ht(12),pr(this),So(this);break e}}if(this.P){b=!0;let _n;for(;!this.J&&this.C<W.length;)if(_n=hS(this,W),_n==lh){Tt==4&&(this.s=4,ht(14),b=!1),es(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==qm){this.s=4,ht(15),es(this.i,this.l,W,"[Invalid Chunk]"),b=!1;break}else es(this.i,this.l,_n,null),hh(this,_n);if(jm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||W.length!=0||this.h.h||(this.s=1,ht(16),b=!1),this.o=this.o&&b,!b)es(this.i,this.l,W,"[Invalid Chunked Response]"),pr(this),So(this);else if(0<W.length&&!this.W){this.W=!0;var St=this.j;St.g==this&&St.ba&&!St.M&&(St.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Oh(St),St.M=!0,ht(11))}}else es(this.i,this.l,W,null),hh(this,W);Tt==4&&pr(this),this.o&&!this.J&&(Tt==4?b0(this.j,this):(this.o=!1,yl(this)))}else AS(this.g),b==400&&0<W.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),pr(this),So(this)}}}catch{}finally{}};function jm(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function hS(h,g){var b=h.C,k=g.indexOf(`
`,b);return k==-1?lh:(b=Number(g.substring(b,k)),isNaN(b)?qm:(k+=1,k+b>g.length?lh:(g=g.slice(k,k+b),h.C=k+b,g)))}Ti.prototype.cancel=function(){this.J=!0,pr(this)};function yl(h){h.S=Date.now()+h.I,Xm(h,h.I)}function Xm(h,g){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Ue(d(h.ba,h),g)}function ch(h){h.B&&(a.clearTimeout(h.B),h.B=null)}Ti.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(uS(this.i,this.A),this.L!=2&&(Si(),ht(17)),pr(this),this.s=2,So(this)):Xm(this,this.S-h)};function So(h){h.j.G==0||h.J||b0(h.j,h)}function pr(h){ch(h);var g=h.M;g&&typeof g.ma=="function"&&g.ma(),h.M=null,yo(h.U),h.g&&(g=h.g,h.g=null,g.abort(),g.ma())}function hh(h,g){try{var b=h.j;if(b.G!=0&&(b.g==h||fh(b.h,h))){if(!h.K&&fh(b.h,h)&&b.G==3){try{var k=b.Da.g.parse(g)}catch{k=null}if(Array.isArray(k)&&k.length==3){var V=k;if(V[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<h.F)Pl(b),Sl(b);else break e;gh(b),ht(18)}}else b.za=V[1],0<b.za-b.T&&37500>V[2]&&b.F&&b.v==0&&!b.C&&(b.C=Ue(d(b.Za,b),6e3));if(1>=Ym(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else gr(b,11)}else if((h.K||b.g==h)&&Pl(b),!S(g))for(V=b.Da.g.parse(g),g=0;g<V.length;g++){let Se=V[g];if(b.T=Se[0],Se=Se[1],b.G==2)if(Se[0]=="c"){b.K=Se[1],b.ia=Se[2];const St=Se[3];St!=null&&(b.la=St,b.j.info("VER="+b.la));const Tt=Se[4];Tt!=null&&(b.Aa=Tt,b.j.info("SVER="+b.Aa));const is=Se[5];is!=null&&typeof is=="number"&&0<is&&(k=1.5*is,b.L=k,b.j.info("backChannelRequestTimeoutMs_="+k)),k=b;const _n=h.g;if(_n){const El=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(El){var N=k.h;N.g||El.indexOf("spdy")==-1&&El.indexOf("quic")==-1&&El.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(dh(N,N.h),N.h=null))}if(k.D){const bh=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;bh&&(k.ya=bh,Fe(k.I,k.D,bh))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-h.F,b.j.info("Handshake RTT: "+b.R+"ms")),k=b;var W=h;if(k.qa=_0(k,k.J?k.ia:null,k.W),W.K){Gm(k.h,W);var $e=W,gt=k.L;gt&&($e.I=gt),$e.B&&(ch($e),yl($e)),k.g=W}else g0(k);0<b.i.length&&Tl(b)}else Se[0]!="stop"&&Se[0]!="close"||gr(b,7);else b.G==3&&(Se[0]=="stop"||Se[0]=="close"?Se[0]=="stop"?gr(b,7):mh(b):Se[0]!="noop"&&b.l&&b.l.ta(Se),b.v=0)}}Si(4)}catch{}}var fS=class{constructor(h,g){this.g=h,this.map=g}};function Wm(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Um(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ym(h){return h.h?1:h.g?h.g.size:0}function fh(h,g){return h.h?h.h==g:h.g?h.g.has(g):!1}function dh(h,g){h.g?h.g.add(g):h.h=g}function Gm(h,g){h.h&&h.h==g?h.h=null:h.g&&h.g.has(g)&&h.g.delete(g)}Wm.prototype.cancel=function(){if(this.i=Hm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Hm(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let g=h.i;for(const b of h.g.values())g=g.concat(b.D);return g}return O(h.i)}function dS(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var g=[],b=h.length,k=0;k<b;k++)g.push(h[k]);return g}g=[],b=0;for(k in h)g[b++]=h[k];return g}function pS(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var g=[];h=h.length;for(var b=0;b<h;b++)g.push(b);return g}g=[],b=0;for(const k in h)g[b++]=k;return g}}}function Km(h,g){if(h.forEach&&typeof h.forEach=="function")h.forEach(g,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,g,void 0);else for(var b=pS(h),k=dS(h),V=k.length,N=0;N<V;N++)g.call(void 0,k[N],b&&b[N],h)}var Jm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mS(h,g){if(h){h=h.split("&");for(var b=0;b<h.length;b++){var k=h[b].indexOf("="),V=null;if(0<=k){var N=h[b].substring(0,k);V=h[b].substring(k+1)}else N=h[b];g(N,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function mr(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof mr){this.h=h.h,vl(this,h.j),this.o=h.o,this.g=h.g,_l(this,h.s),this.l=h.l;var g=h.i,b=new Ao;b.i=g.i,g.g&&(b.g=new Map(g.g),b.h=g.h),e0(this,b),this.m=h.m}else h&&(g=String(h).match(Jm))?(this.h=!1,vl(this,g[1]||"",!0),this.o=To(g[2]||""),this.g=To(g[3]||"",!0),_l(this,g[4]),this.l=To(g[5]||"",!0),e0(this,g[6]||"",!0),this.m=To(g[7]||"")):(this.h=!1,this.i=new Ao(null,this.h))}mr.prototype.toString=function(){var h=[],g=this.j;g&&h.push(Po(g,t0,!0),":");var b=this.g;return(b||g=="file")&&(h.push("//"),(g=this.o)&&h.push(Po(g,t0,!0),"@"),h.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&h.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(Po(b,b.charAt(0)=="/"?bS:OS,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",Po(b,vS)),h.join("")};function oi(h){return new mr(h)}function vl(h,g,b){h.j=b?To(g,!0):g,h.j&&(h.j=h.j.replace(/:$/,""))}function _l(h,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);h.s=g}else h.s=null}function e0(h,g,b){g instanceof Ao?(h.i=g,_S(h.i,h.h)):(b||(g=Po(g,yS)),h.i=new Ao(g,h.h))}function Fe(h,g,b){h.i.set(g,b)}function wl(h){return Fe(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function To(h,g){return h?g?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Po(h,g,b){return typeof h=="string"?(h=encodeURI(h).replace(g,gS),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function gS(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var t0=/[#\/\?@]/g,OS=/[#\?:]/g,bS=/[#\?]/g,yS=/[#\?@]/g,vS=/#/g;function Ao(h,g){this.h=this.g=null,this.i=h||null,this.j=!!g}function Pi(h){h.g||(h.g=new Map,h.h=0,h.i&&mS(h.i,function(g,b){h.add(decodeURIComponent(g.replace(/\+/g," ")),b)}))}t=Ao.prototype,t.add=function(h,g){Pi(this),this.i=null,h=ts(this,h);var b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(g),this.h+=1,this};function n0(h,g){Pi(h),g=ts(h,g),h.g.has(g)&&(h.i=null,h.h-=h.g.get(g).length,h.g.delete(g))}function i0(h,g){return Pi(h),g=ts(h,g),h.g.has(g)}t.forEach=function(h,g){Pi(this),this.g.forEach(function(b,k){b.forEach(function(V){h.call(g,V,k,this)},this)},this)},t.na=function(){Pi(this);const h=Array.from(this.g.values()),g=Array.from(this.g.keys()),b=[];for(let k=0;k<g.length;k++){const V=h[k];for(let N=0;N<V.length;N++)b.push(g[k])}return b},t.V=function(h){Pi(this);let g=[];if(typeof h=="string")i0(this,h)&&(g=g.concat(this.g.get(ts(this,h))));else{h=Array.from(this.g.values());for(let b=0;b<h.length;b++)g=g.concat(h[b])}return g},t.set=function(h,g){return Pi(this),this.i=null,h=ts(this,h),i0(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[g]),this.h+=1,this},t.get=function(h,g){return h?(h=this.V(h),0<h.length?String(h[0]):g):g};function r0(h,g,b){n0(h,g),0<b.length&&(h.i=null,h.g.set(ts(h,g),O(b)),h.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],g=Array.from(this.g.keys());for(var b=0;b<g.length;b++){var k=g[b];const N=encodeURIComponent(String(k)),W=this.V(k);for(k=0;k<W.length;k++){var V=N;W[k]!==""&&(V+="="+encodeURIComponent(String(W[k]))),h.push(V)}}return this.i=h.join("&")};function ts(h,g){return g=String(g),h.j&&(g=g.toLowerCase()),g}function _S(h,g){g&&!h.j&&(Pi(h),h.i=null,h.g.forEach(function(b,k){var V=k.toLowerCase();k!=V&&(n0(this,k),r0(this,V,b))},h)),h.j=g}function wS(h,g){const b=new si;if(a.Image){const k=new Image;k.onload=p(Ai,b,"TestLoadImage: loaded",!0,g,k),k.onerror=p(Ai,b,"TestLoadImage: error",!1,g,k),k.onabort=p(Ai,b,"TestLoadImage: abort",!1,g,k),k.ontimeout=p(Ai,b,"TestLoadImage: timeout",!1,g,k),a.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=h}else g(!1)}function xS(h,g){const b=new si,k=new AbortController,V=setTimeout(()=>{k.abort(),Ai(b,"TestPingServer: timeout",!1,g)},1e4);fetch(h,{signal:k.signal}).then(N=>{clearTimeout(V),N.ok?Ai(b,"TestPingServer: ok",!0,g):Ai(b,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(V),Ai(b,"TestPingServer: error",!1,g)})}function Ai(h,g,b,k,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),k(b)}catch{}}function kS(){this.g=new gl}function SS(h,g,b){const k=b||"";try{Km(h,function(V,N){let W=V;u(V)&&(W=Gr(V)),g.push(k+N+"="+encodeURIComponent(W))})}catch(V){throw g.push(k+"type="+encodeURIComponent("_badmap")),V}}function Eo(h){this.l=h.Ub||null,this.j=h.eb||!1}m(Eo,Hr),Eo.prototype.g=function(){return new xl(this.l,this.j)},Eo.prototype.i=function(h){return function(){return h}}({});function xl(h,g){st.call(this),this.D=h,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(xl,st),t=xl.prototype,t.open=function(h,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=g,this.readyState=1,$o(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(g.body=h),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Co(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,$o(this)),this.g&&(this.readyState=3,$o(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;s0(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function s0(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var g=h.value?h.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!h.done}))&&(this.response=this.responseText+=g)}h.done?Co(this):$o(this),this.readyState==3&&s0(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Co(this))},t.Qa=function(h){this.g&&(this.response=h,Co(this))},t.ga=function(){this.g&&Co(this)};function Co(h){h.readyState=4,h.l=null,h.j=null,h.v=null,$o(h)}t.setRequestHeader=function(h,g){this.u.append(h,g)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],g=this.h.entries();for(var b=g.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=g.next();return h.join(`\r
`)};function $o(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(xl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function o0(h){let g="";return L(h,function(b,k){g+=k,g+=":",g+=b,g+=`\r
`}),g}function ph(h,g,b){e:{for(k in b){var k=!1;break e}k=!0}k||(b=o0(b),typeof h=="string"?b!=null&&encodeURIComponent(String(b)):Fe(h,g,b))}function Ye(h){st.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(Ye,st);var TS=/^https?$/i,PS=["POST","PUT"];t=Ye.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,g,b,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);g=g?g.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ah.g(),this.v=this.o?vo(this.o):vo(ah),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(g,String(h),!0),this.B=!1}catch(N){a0(this,N);return}if(h=b||"",b=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var V in k)b.set(V,k[V]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const N of k.keys())b.set(N,k.get(N));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(b.keys()).find(N=>N.toLowerCase()=="content-type"),V=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(PS,g,void 0))||k||V||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[N,W]of b)this.g.setRequestHeader(N,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{c0(this),this.u=!0,this.g.send(h),this.u=!1}catch(N){a0(this,N)}};function a0(h,g){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=g,h.m=5,l0(h),kl(h)}function l0(h){h.A||(h.A=!0,ct(h,"complete"),ct(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,ct(this,"complete"),ct(this,"abort"),kl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kl(this,!0)),Ye.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?u0(this):this.bb())},t.bb=function(){u0(this)};function u0(h){if(h.h&&typeof o<"u"&&(!h.v[1]||ai(h)!=4||h.Z()!=2)){if(h.u&&ai(h)==4)go(h.Ea,0,h);else if(ct(h,"readystatechange"),ai(h)==4){h.h=!1;try{const W=h.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var b;if(!(b=g)){var k;if(k=W===0){var V=String(h.D).match(Jm)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),k=!TS.test(V?V.toLowerCase():"")}b=k}if(b)ct(h,"complete"),ct(h,"success");else{h.m=6;try{var N=2<ai(h)?h.g.statusText:""}catch{N=""}h.l=N+" ["+h.Z()+"]",l0(h)}}finally{kl(h)}}}}function kl(h,g){if(h.g){c0(h);const b=h.g,k=h.v[0]?()=>{}:null;h.g=null,h.v=null,g||ct(h,"ready");try{b.onreadystatechange=k}catch{}}}function c0(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function ai(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<ai(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var g=this.g.responseText;return h&&g.indexOf(h)==0&&(g=g.substring(h.length)),ml(g)}};function h0(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function AS(h){const g={};h=(h.g&&2<=ai(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<h.length;k++){if(S(h[k]))continue;var b=E(h[k]);const V=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const N=g[V]||[];g[V]=N,N.push(b)}w(g,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ro(h,g,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||g}function f0(h){this.Aa=0,this.i=[],this.j=new si,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ro("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ro("baseRetryDelayMs",5e3,h),this.cb=Ro("retryDelaySeedMs",1e4,h),this.Wa=Ro("forwardChannelMaxRetries",2,h),this.wa=Ro("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Wm(h&&h.concurrentRequestLimit),this.Da=new kS,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=f0.prototype,t.la=8,t.G=1,t.connect=function(h,g,b,k){ht(0),this.W=h,this.H=g||{},b&&k!==void 0&&(this.H.OSID=b,this.H.OAID=k),this.F=this.X,this.I=_0(this,null,this.W),Tl(this)};function mh(h){if(d0(h),h.G==3){var g=h.U++,b=oi(h.I);if(Fe(b,"SID",h.K),Fe(b,"RID",g),Fe(b,"TYPE","terminate"),Io(h,b),g=new Ti(h,h.j,g),g.L=2,g.v=wl(oi(b)),b=!1,a.navigator&&a.navigator.sendBeacon)try{b=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!b&&a.Image&&(new Image().src=g.v,b=!0),b||(g.g=w0(g.j,null),g.g.ea(g.v)),g.F=Date.now(),yl(g)}v0(h)}function Sl(h){h.g&&(Oh(h),h.g.cancel(),h.g=null)}function d0(h){Sl(h),h.u&&(a.clearTimeout(h.u),h.u=null),Pl(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function Tl(h){if(!Um(h.h)&&!h.s){h.s=!0;var g=h.Ga;he||fe(),de||(he(),de=!0),qe.add(g,h),h.B=0}}function ES(h,g){return Ym(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=g.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Ue(d(h.Ga,h,g),y0(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const V=new Ti(this,this.j,h);let N=this.o;if(this.S&&(N?(N=v(N),A(N,this.S)):N=this.S),this.m!==null||this.O||(V.H=N,N=null),this.P)e:{for(var g=0,b=0;b<this.i.length;b++){t:{var k=this.i[b];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(g+=k,4096<g){g=b;break e}if(g===4096||b===this.i.length-1){g=b+1;break e}}g=1e3}else g=1e3;g=m0(this,V,g),b=oi(this.I),Fe(b,"RID",h),Fe(b,"CVER",22),this.D&&Fe(b,"X-HTTP-Session-Id",this.D),Io(this,b),N&&(this.O?g="headers="+encodeURIComponent(String(o0(N)))+"&"+g:this.m&&ph(b,this.m,N)),dh(this.h,V),this.Ua&&Fe(b,"TYPE","init"),this.P?(Fe(b,"$req",g),Fe(b,"SID","null"),V.T=!0,uh(V,b,null)):uh(V,b,g),this.G=2}}else this.G==3&&(h?p0(this,h):this.i.length==0||Um(this.h)||p0(this))};function p0(h,g){var b;g?b=g.l:b=h.U++;const k=oi(h.I);Fe(k,"SID",h.K),Fe(k,"RID",b),Fe(k,"AID",h.T),Io(h,k),h.m&&h.o&&ph(k,h.m,h.o),b=new Ti(h,h.j,b,h.B+1),h.m===null&&(b.H=h.o),g&&(h.i=g.D.concat(h.i)),g=m0(h,b,1e3),b.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),dh(h.h,b),uh(b,k,g)}function Io(h,g){h.H&&L(h.H,function(b,k){Fe(g,k,b)}),h.l&&Km({},function(b,k){Fe(g,k,b)})}function m0(h,g,b){b=Math.min(h.i.length,b);var k=h.l?d(h.l.Na,h.l,h):null;e:{var V=h.i;let N=-1;for(;;){const W=["count="+b];N==-1?0<b?(N=V[0].g,W.push("ofs="+N)):N=0:W.push("ofs="+N);let $e=!0;for(let gt=0;gt<b;gt++){let Se=V[gt].g;const St=V[gt].map;if(Se-=N,0>Se)N=Math.max(0,V[gt].g-100),$e=!1;else try{SS(St,W,"req"+Se+"_")}catch{k&&k(St)}}if($e){k=W.join("&");break e}}}return h=h.i.splice(0,b),g.D=h,k}function g0(h){if(!h.g&&!h.u){h.Y=1;var g=h.Fa;he||fe(),de||(he(),de=!0),qe.add(g,h),h.v=0}}function gh(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Ue(d(h.Fa,h),y0(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,O0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Ue(d(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),Sl(this),O0(this))};function Oh(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function O0(h){h.g=new Ti(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var g=oi(h.qa);Fe(g,"RID","rpc"),Fe(g,"SID",h.K),Fe(g,"AID",h.T),Fe(g,"CI",h.F?"0":"1"),!h.F&&h.ja&&Fe(g,"TO",h.ja),Fe(g,"TYPE","xmlhttp"),Io(h,g),h.m&&h.o&&ph(g,h.m,h.o),h.L&&(h.g.I=h.L);var b=h.g;h=h.ia,b.L=1,b.v=wl(oi(g)),b.m=null,b.P=!0,Bm(b,h)}t.Za=function(){this.C!=null&&(this.C=null,Sl(this),gh(this),ht(19))};function Pl(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function b0(h,g){var b=null;if(h.g==g){Pl(h),Oh(h),h.g=null;var k=2}else if(fh(h.h,g))b=g.D,Gm(h.h,g),k=1;else return;if(h.G!=0){if(g.o)if(k==1){b=g.m?g.m.length:0,g=Date.now()-g.F;var V=h.B;k=dr(),ct(k,new Oe(k,b)),Tl(h)}else g0(h);else if(V=g.s,V==3||V==0&&0<g.X||!(k==1&&ES(h,g)||k==2&&gh(h)))switch(b&&0<b.length&&(g=h.h,g.i=g.i.concat(b)),V){case 1:gr(h,5);break;case 4:gr(h,10);break;case 3:gr(h,6);break;default:gr(h,2)}}}function y0(h,g){let b=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(b*=2),b*g}function gr(h,g){if(h.j.info("Error code "+g),g==2){var b=d(h.fb,h),k=h.Xa;const V=!k;k=new mr(k||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||vl(k,"https"),wl(k),V?wS(k.toString(),b):xS(k.toString(),b)}else ht(2);h.G=0,h.l&&h.l.sa(g),v0(h),d0(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function v0(h){if(h.G=0,h.ka=[],h.l){const g=Hm(h.h);(g.length!=0||h.i.length!=0)&&(y(h.ka,g),y(h.ka,h.i),h.h.i.length=0,O(h.i),h.i.length=0),h.l.ra()}}function _0(h,g,b){var k=b instanceof mr?oi(b):new mr(b);if(k.g!="")g&&(k.g=g+"."+k.g),_l(k,k.s);else{var V=a.location;k=V.protocol,g=g?g+"."+V.hostname:V.hostname,V=+V.port;var N=new mr(null);k&&vl(N,k),g&&(N.g=g),V&&_l(N,V),b&&(N.l=b),k=N}return b=h.D,g=h.ya,b&&g&&Fe(k,b,g),Fe(k,"VER",h.la),Io(h,k),k}function w0(h,g,b){if(g&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=h.Ca&&!h.pa?new Ye(new Eo({eb:b})):new Ye(h.pa),g.Ha(h.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function x0(){}t=x0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Al(){}Al.prototype.g=function(h,g){return new Ut(h,g)};function Ut(h,g){st.call(this),this.g=new f0(g),this.l=h,this.h=g&&g.messageUrlParams||null,h=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(h?h["X-WebChannel-Content-Type"]=g.messageContentType:h={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(h?h["X-WebChannel-Client-Profile"]=g.va:h={"X-WebChannel-Client-Profile":g.va}),this.g.S=h,(h=g&&g.Sb)&&!S(h)&&(this.g.m=h),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!S(g)&&(this.g.D=g,h=this.h,h!==null&&g in h&&(h=this.h,g in h&&delete h[g])),this.j=new ns(this)}m(Ut,st),Ut.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ut.prototype.close=function(){mh(this.g)},Ut.prototype.o=function(h){var g=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.u&&(b={},b.__data__=Gr(h),h=b);g.i.push(new fS(g.Ya++,h)),g.G==3&&Tl(g)},Ut.prototype.N=function(){this.g.l=null,delete this.j,mh(this.g),delete this.g,Ut.aa.N.call(this)};function k0(h){Kr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var g=h.__sm__;if(g){e:{for(const b in g){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,g=g!==null&&h in g?g[h]:void 0),this.data=g}else this.data=h}m(k0,Kr);function S0(){Jr.call(this),this.status=1}m(S0,Jr);function ns(h){this.g=h}m(ns,x0),ns.prototype.ua=function(){ct(this.g,"a")},ns.prototype.ta=function(h){ct(this.g,new k0(h))},ns.prototype.sa=function(h){ct(this.g,new S0)},ns.prototype.ra=function(){ct(this.g,"b")},Al.prototype.createWebChannel=Al.prototype.g,Ut.prototype.send=Ut.prototype.o,Ut.prototype.open=Ut.prototype.m,Ut.prototype.close=Ut.prototype.close,Dy=function(){return new Al},Qy=function(){return dr()},Iy=In,Ef={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ol.NO_ERROR=0,Ol.TIMEOUT=8,Ol.HTTP_ERROR=6,pu=Ol,Zm.COMPLETE="complete",Ry=Zm,_o.EventType=ki,ki.OPEN="a",ki.CLOSE="b",ki.ERROR="c",ki.MESSAGE="d",st.prototype.listen=st.prototype.K,Wo=_o,$y=Eo,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,Cy=Ye}).apply(typeof $l<"u"?$l:typeof self<"u"?self:typeof window<"u"?window:{});const Y0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eo="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr=new Kd("@firebase/firestore");function Do(){return Rr.logLevel}function K(t,...e){if(Rr.logLevel<=we.DEBUG){const n=e.map(sp);Rr.debug(`Firestore (${eo}): ${t}`,...n)}}function mi(t,...e){if(Rr.logLevel<=we.ERROR){const n=e.map(sp);Rr.error(`Firestore (${eo}): ${t}`,...n)}}function $s(t,...e){if(Rr.logLevel<=we.WARN){const n=e.map(sp);Rr.warn(`Firestore (${eo}): ${t}`,...n)}}function sp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t="Unexpected state"){const e=`FIRESTORE (${eo}) INTERNAL ASSERTION FAILED: `+t;throw mi(e),new Error(e)}function Me(t,e){t||oe()}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends ar{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Et.UNAUTHENTICATED))}shutdown(){}}class qA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class BA{constructor(e){this.t=e,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new Ui;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ui,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ui)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Me(typeof i.accessToken=="string"),new Vy(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string"),new Et(e)}}class jA{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Et.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class XA{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new jA(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class WA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const i=s=>{s.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Me(typeof n.token=="string"),this.R=n.token,new WA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=YA(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}}function Ae(t,e){return t<e?-1:t>e?1:0}function Rs(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new re(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new ut(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.timestamp=e}static fromTimestamp(e){return new le(e)}static min(){return new le(new ut(0,0))}static max(){return new le(new ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,n,i){n===void 0?n=0:n>e.length&&oe(),i===void 0?i=e.length-n:i>e.length-n&&oe(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return ya.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ya?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ge extends ya{construct(e,n,i){return new Ge(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new re(B.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Ge(n)}static emptyPath(){return new Ge([])}}const GA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vt extends ya{construct(e,n,i){return new vt(e,n,i)}static isValidIdentifier(e){return GA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vt(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new re(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new re(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new re(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new re(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vt(n)}static emptyPath(){return new vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(Ge.fromString(e))}static fromName(e){return new ie(Ge.fromString(e).popFirst(5))}static empty(){return new ie(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new Ge(e.slice()))}}function HA(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=le.fromTimestamp(i===1e9?new ut(n+1,0):new ut(n,i));return new Ji(r,ie.empty(),e)}function KA(t){return new Ji(t.readTime,t.key,-1)}class Ji{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Ji(le.min(),ie.empty(),-1)}static max(){return new Ji(le.max(),ie.empty(),-1)}}function JA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:Ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ya(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==eE)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,i)=>{n(e)})}static reject(e){return new q((n,i)=>{i(e)})}static waitFor(e){return new q((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(e){let n=q.resolve(!1);for(const i of e)n=n.next(r=>r?q.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new q((i,r)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&i(o)},c=>r(c))}})}static doWhile(e,n){return new q((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function nE(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ga(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}op.oe=-1;function Ic(t){return t==null}function zu(t){return t===0&&1/t==-1/0}function iE(t){return typeof t=="number"&&Number.isInteger(t)&&!zu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function to(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ly(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,n){this.comparator=e,this.root=n||bt.EMPTY}insert(e,n){return new je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bt.BLACK,null,null))}remove(e){return new je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rl(this.root,e,this.comparator,!0)}}class Rl{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bt{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??bt.RED,this.left=r??bt.EMPTY,this.right=s??bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new bt(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return bt.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();const e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}}bt.EMPTY=null,bt.RED=!0,bt.BLACK=!1;bt.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(e,n,i,r,s){return this}insert(e,n,i){return new bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new H0(this.data.getIterator())}getIteratorFrom(e){return new H0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class H0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(vt.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new kt(vt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Rs(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Fy("Invalid base64 string: "+s):s}}(e);return new Qt(n)}static fromUint8Array(e){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const rE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function er(t){if(Me(!!t),typeof t=="string"){let e=0;const n=rE.exec(t);if(Me(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:et(t.seconds),nanos:et(t.nanos)}}function et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ir(t){return typeof t=="string"?Qt.fromBase64String(t):Qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function lp(t){const e=t.mapValue.fields.__previous_value__;return ap(e)?lp(e):e}function va(t){const e=er(t.mapValue.fields.__local_write_time__.timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,n,i,r,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class _a{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new _a("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof _a&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Qr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ap(t)?4:oE(t)?9007199254740991:10:oe()}function Gn(t,e){if(t===e)return!0;const n=Qr(t);if(n!==Qr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return va(t).isEqual(va(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=er(r.timestampValue),a=er(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return Ir(r.bytesValue).isEqual(Ir(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return et(r.geoPointValue.latitude)===et(s.geoPointValue.latitude)&&et(r.geoPointValue.longitude)===et(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return et(r.integerValue)===et(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=et(r.doubleValue),a=et(s.doubleValue);return o===a?zu(o)===zu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Rs(t.arrayValue.values||[],e.arrayValue.values||[],Gn);case 10:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(G0(o)!==G0(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Gn(o[l],a[l])))return!1;return!0}(t,e);default:return oe()}}function wa(t,e){return(t.values||[]).find(n=>Gn(n,e))!==void 0}function Is(t,e){if(t===e)return 0;const n=Qr(t),i=Qr(e);if(n!==i)return Ae(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ae(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=et(s.integerValue||s.doubleValue),l=et(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return K0(t.timestampValue,e.timestampValue);case 4:return K0(va(t),va(e));case 5:return Ae(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ir(s),l=Ir(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Ae(a[u],l[u]);if(c!==0)return c}return Ae(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ae(et(s.latitude),et(o.latitude));return a!==0?a:Ae(et(s.longitude),et(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Is(a[u],l[u]);if(c)return c}return Ae(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Il.mapValue&&o===Il.mapValue)return 0;if(s===Il.mapValue)return 1;if(o===Il.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const d=Ae(l[f],c[f]);if(d!==0)return d;const p=Is(a[l[f]],u[c[f]]);if(p!==0)return p}return Ae(l.length,c.length)}(t.mapValue,e.mapValue);default:throw oe()}}function K0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ae(t,e);const n=er(t),i=er(e),r=Ae(n.seconds,i.seconds);return r!==0?r:Ae(n.nanos,i.nanos)}function Qs(t){return Cf(t)}function Cf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=er(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ir(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=Cf(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${Cf(n.fields[o])}`;return r+"}"}(t.mapValue):oe()}function $f(t){return!!t&&"integerValue"in t}function up(t){return!!t&&"arrayValue"in t}function J0(t){return!!t&&"nullValue"in t}function eg(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mu(t){return!!t&&"mapValue"in t}function sa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return to(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=sa(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function oE(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!mu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sa(n)}setAll(e){let n=vt.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=sa(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());mu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];mu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){to(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new an(sa(this.value))}}function Ny(t){const e=[];return to(t.fields,(n,i)=>{const r=new vt([n]);if(mu(i)){const s=Ny(i.mapValue).fields;if(s.length===0)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new $t(e,0,le.min(),le.min(),le.min(),an.empty(),0)}static newFoundDocument(e,n,i,r){return new $t(e,1,n,le.min(),i,r,0)}static newNoDocument(e,n){return new $t(e,2,n,le.min(),le.min(),an.empty(),0)}static newUnknownDocument(e,n){return new $t(e,3,n,le.min(),le.min(),an.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n){this.position=e,this.inclusive=n}}function tg(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(s.field.isKeyField()?i=ie.comparator(ie.fromName(o.referenceValue),n.key):i=Is(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function ng(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n="asc"){this.field=e,this.dir=n}}function aE(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{}class lt extends Zy{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new uE(e,n,i):n==="array-contains"?new fE(e,i):n==="in"?new dE(e,i):n==="not-in"?new pE(e,i):n==="array-contains-any"?new mE(e,i):new lt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new cE(e,i):new hE(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Is(n,this.value)):n!==null&&Qr(this.value)===Qr(n)&&this.matchesComparison(Is(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends Zy{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Hn(e,n)}matches(e){return zy(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function zy(t){return t.op==="and"}function qy(t){return lE(t)&&zy(t)}function lE(t){for(const e of t.filters)if(e instanceof Hn)return!1;return!0}function Rf(t){if(t instanceof lt)return t.field.canonicalString()+t.op.toString()+Qs(t.value);if(qy(t))return t.filters.map(e=>Rf(e)).join(",");{const e=t.filters.map(n=>Rf(n)).join(",");return`${t.op}(${e})`}}function By(t,e){return t instanceof lt?function(i,r){return r instanceof lt&&i.op===r.op&&i.field.isEqual(r.field)&&Gn(i.value,r.value)}(t,e):t instanceof Hn?function(i,r){return r instanceof Hn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&By(o,r.filters[a]),!0):!1}(t,e):void oe()}function jy(t){return t instanceof lt?function(n){return`${n.field.canonicalString()} ${n.op} ${Qs(n.value)}`}(t):t instanceof Hn?function(n){return n.op.toString()+" {"+n.getFilters().map(jy).join(" ,")+"}"}(t):"Filter"}class uE extends lt{constructor(e,n,i){super(e,n,i),this.key=ie.fromName(i.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class cE extends lt{constructor(e,n){super(e,"in",n),this.keys=Xy("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class hE extends lt{constructor(e,n){super(e,"not-in",n),this.keys=Xy("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Xy(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>ie.fromName(i.referenceValue))}class fE extends lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return up(n)&&wa(n.arrayValue,this.value)}}class dE extends lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wa(this.value.arrayValue,n)}}class pE extends lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(wa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!wa(this.value.arrayValue,n)}}class mE extends lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!up(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>wa(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function ig(t,e=null,n=[],i=[],r=null,s=null,o=null){return new gE(t,e,n,i,r,s,o)}function cp(t){const e=ue(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Rf(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Ic(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Qs(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Qs(i)).join(",")),e.ue=n}return e.ue}function hp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!aE(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!By(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ng(t.startAt,e.startAt)&&ng(t.endAt,e.endAt)}function If(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function OE(t,e,n,i,r,s,o,a){return new Qc(t,e,n,i,r,s,o,a)}function fp(t){return new Qc(t)}function rg(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bE(t){return t.collectionGroup!==null}function oa(t){const e=ue(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new kt(vt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Bu(s,i))}),n.has(vt.keyField().canonicalString())||e.ce.push(new Bu(vt.keyField(),i))}return e.ce}function Xn(t){const e=ue(t);return e.le||(e.le=yE(e,oa(t))),e.le}function yE(t,e){if(t.limitType==="F")return ig(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new Bu(r.field,s)});const n=t.endAt?new qu(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new qu(t.startAt.position,t.startAt.inclusive):null;return ig(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Qf(t,e,n){return new Qc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dc(t,e){return hp(Xn(t),Xn(e))&&t.limitType===e.limitType}function Wy(t){return`${cp(Xn(t))}|lt:${t.limitType}`}function us(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>jy(r)).join(", ")}]`),Ic(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Qs(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Qs(r)).join(",")),`Target(${i})`}(Xn(t))}; limitType=${t.limitType})`}function Vc(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):ie.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of oa(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,l){const u=tg(o,a,l);return o.inclusive?u<=0:u<0}(i.startAt,oa(i),r)||i.endAt&&!function(o,a,l){const u=tg(o,a,l);return o.inclusive?u>=0:u>0}(i.endAt,oa(i),r))}(t,e)}function vE(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Uy(t){return(e,n)=>{let i=!1;for(const r of oa(t)){const s=_E(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function _E(t,e,n){const i=t.field.isKeyField()?ie.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Is(l,u):oe()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return oe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){to(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return Ly(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=new je(ie.comparator);function gi(){return wE}const Yy=new je(ie.comparator);function Uo(...t){let e=Yy;for(const n of t)e=e.insert(n.key,n);return e}function Gy(t){let e=Yy;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function kr(){return aa()}function Hy(){return aa()}function aa(){return new no(t=>t.toString(),(t,e)=>t.isEqual(e))}const xE=new je(ie.comparator),kE=new kt(ie.comparator);function me(...t){let e=kE;for(const n of t)e=e.add(n);return e}const SE=new kt(Ae);function TE(){return SE}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zu(e)?"-0":e}}function Jy(t){return{integerValue:""+t}}function PE(t,e){return iE(e)?Jy(e):Ky(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(){this._=void 0}}function AE(t,e,n){return t instanceof ju?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&ap(s)&&(s=lp(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof xa?tv(t,e):t instanceof ka?nv(t,e):function(r,s){const o=ev(r,s),a=sg(o)+sg(r.Pe);return $f(o)&&$f(r.Pe)?Jy(a):Ky(r.serializer,a)}(t,e)}function EE(t,e,n){return t instanceof xa?tv(t,e):t instanceof ka?nv(t,e):n}function ev(t,e){return t instanceof Xu?function(i){return $f(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class ju extends Mc{}class xa extends Mc{constructor(e){super(),this.elements=e}}function tv(t,e){const n=iv(e);for(const i of t.elements)n.some(r=>Gn(r,i))||n.push(i);return{arrayValue:{values:n}}}class ka extends Mc{constructor(e){super(),this.elements=e}}function nv(t,e){let n=iv(e);for(const i of t.elements)n=n.filter(r=>!Gn(r,i));return{arrayValue:{values:n}}}class Xu extends Mc{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function sg(t){return et(t.integerValue||t.doubleValue)}function iv(t){return up(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function CE(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof xa&&r instanceof xa||i instanceof ka&&r instanceof ka?Rs(i.elements,r.elements,Gn):i instanceof Xu&&r instanceof Xu?Gn(i.Pe,r.Pe):i instanceof ju&&r instanceof ju}(t.transform,e.transform)}class $E{constructor(e,n){this.version=e,this.transformResults=n}}class hi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hi}static exists(e){return new hi(void 0,e)}static updateTime(e){return new hi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Lc{}function rv(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ov(t.key,hi.none()):new Ha(t.key,t.data,hi.none());{const n=t.data,i=an.empty();let r=new kt(vt.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Zr(t.key,i,new Sn(r.toArray()),hi.none())}}function RE(t,e,n){t instanceof Ha?function(r,s,o){const a=r.value.clone(),l=ag(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Zr?function(r,s,o){if(!gu(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=ag(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(sv(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function la(t,e,n,i){return t instanceof Ha?function(s,o,a,l){if(!gu(s.precondition,o))return a;const u=s.value.clone(),c=lg(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,i):t instanceof Zr?function(s,o,a,l){if(!gu(s.precondition,o))return a;const u=lg(s.fieldTransforms,l,o),c=o.data;return c.setAll(sv(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,i):function(s,o,a){return gu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function IE(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=ev(i.transform,r||null);s!=null&&(n===null&&(n=an.empty()),n.set(i.field,s))}return n||null}function og(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Rs(i,r,(s,o)=>CE(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ha extends Lc{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Zr extends Lc{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function sv(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function ag(t,e,n){const i=new Map;Me(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,EE(o,a,n[r]))}return i}function lg(t,e,n){const i=new Map;for(const r of t){const s=r.transform,o=n.data.field(r.field);i.set(r.field,AE(s,o,e))}return i}class ov extends Lc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QE extends Lc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&RE(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=la(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=la(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=Hy();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const l=rv(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(le.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&Rs(this.mutations,e.mutations,(n,i)=>og(n,i))&&Rs(this.baseMutations,e.baseMutations,(n,i)=>og(n,i))}}class dp{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Me(e.mutations.length===i.length);let r=function(){return xE}();const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new dp(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je,be;function LE(t){switch(t){default:return oe();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function av(t){if(t===void 0)return mi("GRPC error has no .code"),B.UNKNOWN;switch(t){case Je.OK:return B.OK;case Je.CANCELLED:return B.CANCELLED;case Je.UNKNOWN:return B.UNKNOWN;case Je.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Je.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Je.INTERNAL:return B.INTERNAL;case Je.UNAVAILABLE:return B.UNAVAILABLE;case Je.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Je.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Je.NOT_FOUND:return B.NOT_FOUND;case Je.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Je.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Je.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Je.ABORTED:return B.ABORTED;case Je.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Je.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Je.DATA_LOSS:return B.DATA_LOSS;default:return oe()}}(be=Je||(Je={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=new Pr([4294967295,4294967295],0);function ug(t){const e=FE().encode(t),n=new Ey;return n.update(e),new Uint8Array(n.digest())}function cg(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Pr([n,i],0),new Pr([r,s],0)]}class pp{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Yo(`Invalid padding: ${n}`);if(i<0)throw new Yo(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Yo(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Yo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Pr.fromNumber(this.Ie)}Ee(e,n,i){let r=e.add(n.multiply(Pr.fromNumber(i)));return r.compare(NE)===1&&(r=new Pr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=ug(e),[i,r]=cg(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new pp(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=ug(e),[i,r]=cg(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Yo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,Ka.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Fc(le.min(),r,new je(Ae),gi(),me())}}class Ka{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Ka(i,n,me(),me(),me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n,i,r){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=r}}class lv{constructor(e,n){this.targetId=e,this.me=n}}class uv{constructor(e,n,i=Qt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class hg{constructor(){this.fe=0,this.ge=dg(),this.pe=Qt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=me(),n=me(),i=me();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:oe()}}),new Ka(this.pe,this.ye,e,n,i)}ve(){this.we=!1,this.ge=dg()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Me(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ZE{constructor(e){this.Le=e,this.Be=new Map,this.ke=gi(),this.qe=fg(),this.Qe=new je(Ae)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.ve(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(e){const n=e.targetId,i=e.me.count,r=this.Je(n);if(r){const s=r.target;if(If(s))if(i===0){const o=new ie(s.path);this.Ue(n,o,$t.newNoDocument(o,le.min()))}else Me(i===1);else{const o=this.Ye(n);if(o!==i){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let o,a;try{o=Ir(i).toUint8Array()}catch(l){if(l instanceof Fy)return $s("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new pp(o,r,s)}catch(l){return $s(l instanceof Yo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),r++)}),r}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&If(a.target)){const l=new ie(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,$t.newNoDocument(l,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let i=me();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const r=new Fc(e,n,this.Qe,this.ke,i);return this.ke=gi(),this.qe=fg(),this.Qe=new je(Ae),r}$e(e,n){if(!this.ze(e))return;const i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new hg,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new kt(Ae),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new hg),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function fg(){return new je(ie.comparator)}function dg(){return new je(ie.comparator)}const zE={asc:"ASCENDING",desc:"DESCENDING"},qE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BE={and:"AND",or:"OR"};class jE{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Df(t,e){return t.useProto3Json||Ic(e)?e:{value:e}}function Wu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cv(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function XE(t,e){return Wu(t,e.toTimestamp())}function Wn(t){return Me(!!t),le.fromTimestamp(function(n){const i=er(n);return new ut(i.seconds,i.nanos)}(t))}function mp(t,e){return Vf(t,e).canonicalString()}function Vf(t,e){const n=function(r){return new Ge(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function hv(t){const e=Ge.fromString(t);return Me(gv(e)),e}function Mf(t,e){return mp(t.databaseId,e.path)}function Ah(t,e){const n=hv(e);if(n.get(1)!==t.databaseId.projectId)throw new re(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new re(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(dv(n))}function fv(t,e){return mp(t.databaseId,e)}function WE(t){const e=hv(t);return e.length===4?Ge.emptyPath():dv(e)}function Lf(t){return new Ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dv(t){return Me(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function pg(t,e,n){return{name:Mf(t,e),fields:n.value.mapValue.fields}}function UE(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Me(c===void 0||typeof c=="string"),Qt.fromBase64String(c||"")):(Me(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Qt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?B.UNKNOWN:av(u.code);return new re(c,u.message||"")}(o);n=new uv(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Ah(t,i.document.name),s=Wn(i.document.updateTime),o=i.document.createTime?Wn(i.document.createTime):le.min(),a=new an({mapValue:{fields:i.document.fields}}),l=$t.newFoundDocument(r,s,o,a),u=i.targetIds||[],c=i.removedTargetIds||[];n=new Ou(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Ah(t,i.document),s=i.readTime?Wn(i.readTime):le.min(),o=$t.newNoDocument(r,s),a=i.removedTargetIds||[];n=new Ou([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Ah(t,i.document),s=i.removedTargetIds||[];n=new Ou([],s,r,null)}else{if(!("filter"in e))return oe();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new ME(r,s),a=i.targetId;n=new lv(a,o)}}return n}function YE(t,e){let n;if(e instanceof Ha)n={update:pg(t,e.key,e.value)};else if(e instanceof ov)n={delete:Mf(t,e.key)};else if(e instanceof Zr)n={update:pg(t,e.key,e.data),updateMask:rC(e.fieldMask)};else{if(!(e instanceof QE))return oe();n={verify:Mf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof ju)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof xa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ka)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Xu)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw oe()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:XE(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:oe()}(t,e.precondition)),n}function GE(t,e){return t&&t.length>0?(Me(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?Wn(r.updateTime):Wn(s);return o.isEqual(le.min())&&(o=Wn(s)),new $E(o,r.transformResults||[])}(n,e))):[]}function HE(t,e){return{documents:[fv(t,e.path)]}}function KE(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=fv(t,r);const s=function(u){if(u.length!==0)return mv(Hn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:cs(d.field),direction:tC(d.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Df(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:r}}function JE(t){let e=WE(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Me(i===1);const c=n.from[0];c.allDescendants?r=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(f){const d=pv(f);return d instanceof Hn&&qy(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(d=>function(m){return new Bu(hs(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,Ic(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,p=f.values||[];return new qu(p,d)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const d=!f.before,p=f.values||[];return new qu(p,d)}(n.endAt)),OE(e,r,o,s,a,"F",l,u)}function eC(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pv(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=hs(n.unaryFilter.field);return lt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=hs(n.unaryFilter.field);return lt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=hs(n.unaryFilter.field);return lt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=hs(n.unaryFilter.field);return lt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}(t):t.fieldFilter!==void 0?function(n){return lt.create(hs(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Hn.create(n.compositeFilter.filters.map(i=>pv(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return oe()}}(n.compositeFilter.op))}(t):oe()}function tC(t){return zE[t]}function nC(t){return qE[t]}function iC(t){return BE[t]}function cs(t){return{fieldPath:t.canonicalString()}}function hs(t){return vt.fromServerFormat(t.fieldPath)}function mv(t){return t instanceof lt?function(n){if(n.op==="=="){if(eg(n.value))return{unaryFilter:{field:cs(n.field),op:"IS_NAN"}};if(J0(n.value))return{unaryFilter:{field:cs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eg(n.value))return{unaryFilter:{field:cs(n.field),op:"IS_NOT_NAN"}};if(J0(n.value))return{unaryFilter:{field:cs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cs(n.field),op:nC(n.op),value:n.value}}}(t):t instanceof Hn?function(n){const i=n.getFilters().map(r=>mv(r));return i.length===1?i[0]:{compositeFilter:{op:iC(n.op),filters:i}}}(t):oe()}function rC(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gv(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,i,r,s=le.min(),o=le.min(),a=Qt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.ct=e}}function oC(t){const e=JE({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Qf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this._n=new lC}addToCollectionParentIndex(e,n){return this._n.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(Ji.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(Ji.min())}updateCollectionGroup(e,n,i){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class lC{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new kt(Ge.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new kt(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Ds(0)}static Ln(){return new Ds(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(){this.changes=new no(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?q.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&la(i.mutation,r,Sn.empty(),ut.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,me()).next(()=>i))}getLocalViewOfDocuments(e,n,i=me()){const r=kr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=Uo();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=kr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,me()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=gi();const o=aa(),a=function(){return aa()}();return n.forEach((l,u)=>{const c=i.get(u.key);r.has(u.key)&&(c===void 0||c.mutation instanceof Zr)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),la(c.mutation,u,c.mutation.getFieldMask(),ut.now())):o.set(u.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new cC(c,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const i=aa();let r=new je((o,a)=>o-a),s=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=i.get(l)||Sn.empty();c=a.applyToLocalView(u,c),i.set(l,c);const f=(r.get(a.batchId)||me()).add(l);r=r.insert(a.batchId,f)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=Hy();c.forEach(d=>{if(!s.has(d)){const p=rv(n.get(d),i.get(d));p!==null&&f.set(d,p),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return q.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):q.resolve(kr());let a=-1,l=s;return o.next(u=>q.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?q.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,me())).next(c=>({batchId:a,changes:Gy(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(i=>{let r=Uo();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let o=Uo();return this.indexManager.getCollectionParents(e,s).next(a=>q.forEach(a,l=>{const u=function(f,d){return new Qc(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,i,r).next(c=>{c.forEach((f,d)=>{o=o.insert(f,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,$t.newInvalidDocument(c)))});let a=Uo();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&la(c.mutation,u,Sn.empty(),ut.now()),Vc(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return q.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Wn(r.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(r){return{name:r.name,query:oC(r.bundledQuery),readTime:Wn(r.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.overlays=new je(ie.comparator),this.hr=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const i=kr();return q.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.ht(e,n,s)}),q.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.hr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(i)),q.resolve()}getOverlaysForCollection(e,n,i){const r=kr(),s=n.length+1,o=new ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return q.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new je((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let c=s.get(u.largestBatchId);c===null&&(c=kr(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=kr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=r)););return q.resolve(a)}ht(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new VE(n,i));let s=this.hr.get(n);s===void 0&&(s=me(),this.hr.set(n,s)),this.hr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(){this.Pr=new kt(dt.Ir),this.Tr=new kt(dt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const i=new dt(e,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Ar(new dt(e,n))}Rr(e,n){e.forEach(i=>this.removeReference(i,n))}Vr(e){const n=new ie(new Ge([])),i=new dt(n,e),r=new dt(n,e+1),s=[];return this.Tr.forEachInRange([i,r],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ie(new Ge([])),i=new dt(n,e),r=new dt(n,e+1);let s=me();return this.Tr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new dt(e,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class dt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ie.comparator(e.key,n.key)||Ae(e.pr,n.pr)}static Er(e,n){return Ae(e.pr,n.pr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new kt(dt.Ir)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new DE(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.wr=this.wr.add(new dt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,n){return q.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.br(i),s=r<0?0:r;return q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new dt(n,0),r=new dt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([i,r],o=>{const a=this.Sr(o.pr);s.push(a)}),q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new kt(Ae);return n.forEach(r=>{const s=new dt(r,0),o=new dt(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{i=i.add(a.pr)})}),q.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;ie.isDocumentKey(s)||(s=s.child(""));const o=new dt(new ie(s),0);let a=new kt(Ae);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(l.pr)),!0)},o),q.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(i=>{const r=this.Sr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Me(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return q.forEach(n.mutations,r=>{const s=new dt(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,n){const i=new dt(n,0),r=this.wr.firstAfterOrEqual(i);return q.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e){this.vr=e,this.docs=function(){return new je(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return q.resolve(i?i.document.mutableCopy():$t.newInvalidDocument(n))}getEntries(e,n){let i=gi();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():$t.newInvalidDocument(r))}),q.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=gi();const o=n.path,a=new ie(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||JA(KA(c),i)<=0||(r.has(c.key)||Vc(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return q.resolve(s)}getAllFromCollectionGroup(e,n,i,r){oe()}Fr(e,n){return q.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new gC(this)}getSize(e){return q.resolve(this.size)}}class gC extends uC{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ar.addEntry(e,r)):this.ar.removeEntry(i)}),q.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e){this.persistence=e,this.Mr=new no(n=>cp(n),hp),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.Or=0,this.Nr=new gp,this.targetCount=0,this.Lr=Ds.Nn()}forEachTarget(e,n){return this.Mr.forEach((i,r)=>n(r)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),q.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Ds(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.qn(n),q.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),q.waitFor(s).next(()=>r)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const i=this.Mr.get(n)||null;return q.resolve(i)}addMatchingKeys(e,n,i){return this.Nr.dr(n,i),q.resolve()}removeMatchingKeys(e,n,i){this.Nr.Rr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),q.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Nr.gr(n);return q.resolve(i)}containsKey(e,n){return q.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,n){this.Br={},this.overlays={},this.kr=new op(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new OC(this),this.indexManager=new aC,this.remoteDocumentCache=function(r){return new mC(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new sC(n),this.$r=new fC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new pC(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,i){K("MemoryPersistence","Starting transaction:",e);const r=new yC(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(s=>this.referenceDelegate.Wr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gr(e,n){return q.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}}class yC extends tE{constructor(e){super(),this.currentSequenceNumber=e}}class Op{constructor(e){this.persistence=e,this.zr=new gp,this.jr=null}static Hr(e){return new Op(e)}get Jr(){if(this.jr)return this.jr;throw oe()}addReference(e,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),q.resolve()}removeReference(e,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),q.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(r=>this.Jr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Jr.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Jr,i=>{const r=ie.fromPath(i);return this.Yr(e,r).next(s=>{s||n.removeEntry(r,le.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return q.or([()=>q.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.qi=i,this.Qi=r}static Ki(e,n){let i=me(),r=me();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new bp(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return oT()?8:nE(iT())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new vC;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,i,r){return i.documentReadCount<this.Wi?(Do()<=we.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",us(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),q.resolve()):(Do()<=we.DEBUG&&K("QueryEngine","Query:",us(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(Do()<=we.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",us(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xn(n))):q.resolve())}ji(e,n){if(rg(n))return q.resolve(null);let i=Xn(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Qf(n,null,"F"),i=Xn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=me(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(e,Qf(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,i,r){return rg(n)||r.isEqual(le.min())?q.resolve(null):this.zi.getDocuments(e,i).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,i,r)?q.resolve(null):(Do()<=we.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),us(n)),this.es(e,o,n,HA(r,-1)).next(a=>a))})}Zi(e,n){let i=new kt(Uy(e));return n.forEach((r,s)=>{Vc(e,s)&&(i=i.add(s))}),i}Xi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ji(e,n,i){return Do()<=we.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",us(n)),this.zi.getDocumentsMatchingQuery(e,n,Ji.min(),i)}es(e,n,i,r){return this.zi.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,n,i,r){this.persistence=e,this.ts=n,this.serializer=r,this.ns=new je(Ae),this.rs=new no(s=>cp(s),hp),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hC(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function xC(t,e,n,i){return new wC(t,e,n,i)}async function Ov(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n._s(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=me();for(const u of r){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(i,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function kC(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const f=u.batch,d=f.keys();let p=q.resolve();return d.forEach(m=>{p=p.next(()=>c.getEntry(l,m)).next(O=>{const y=u.docVersions.get(m);Me(y!==null),O.version.compareTo(y)<0&&(f.applyToRemoteDocument(O,u),O.isValidDocument()&&(O.setReadTime(u.commitVersion),c.addEntry(O)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=me();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function bv(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function SC(t,e){const n=ue(t),i=e.snapshotVersion;let r=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});r=n.ns;const a=[];e.targetChanges.forEach((c,f)=>{const d=r.get(f);if(!d)return;a.push(n.Qr.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(s,c.addedDocuments,f)));let p=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Qt.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,i)),r=r.insert(f,p),function(O,y,_){return O.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(d,p,c)&&a.push(n.Qr.updateTargetData(s,p))});let l=gi(),u=me();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(TC(s,o,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!i.isEqual(le.min())){const c=n.Qr.getLastRemoteSnapshotVersion(s).next(f=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(c)}return q.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ns=r,s))}function TC(t,e,n){let i=me(),r=me();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=gi();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(le.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):K("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:r}})}function PC(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function AC(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Qr.getTargetData(i,e).next(s=>s?(r=s,q.resolve(r)):n.Qr.allocateTargetId(i).next(o=>(r=new Zi(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.ns.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(i.targetId,i),n.rs.set(e,i.targetId)),i})}async function Ff(t,e,n){const i=ue(t),r=i.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!Ga(o))throw o;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.ns=i.ns.remove(e),i.rs.delete(r.target)}function mg(t,e,n){const i=ue(t);let r=le.min(),s=me();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const f=ue(l),d=f.rs.get(c);return d!==void 0?q.resolve(f.ns.get(d)):f.Qr.getTargetData(u,c)}(i,o,Xn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.ts.getDocumentsMatchingQuery(o,e,n?r:le.min(),n?s:me())).next(a=>(EC(i,vE(e),a),{documents:a,hs:s})))}function EC(t,e,n){let i=t.ss.get(e)||le.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.ss.set(e,i)}class gg{constructor(){this.activeTargetIds=TE()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CC{constructor(){this.no=new gg,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,i){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new gg,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ql=null;function Eh(){return Ql===null?Ql=function(){return 268435456+Math.round(2147483648*Math.random())}():Ql++,"0x"+Ql.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pt="WebChannelConnection";class QC extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=i+"://"+n.host,this.So=`projects/${r}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Do(){return!1}Co(n,i,r,s,o){const a=Eh(),l=this.vo(n,i.toUriEncodedString());K("RestConnection",`Sending RPC '${n}' ${a}:`,l,r);const u={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(u,s,o),this.Mo(n,l,u,r).then(c=>(K("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw $s("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",r),c})}xo(n,i,r,s,o,a){return this.Co(n,i,r,s,o)}Fo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+eo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}vo(n,i){const r=RC[n];return`${this.wo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,i,r){const s=Eh();return new Promise((o,a)=>{const l=new Cy;l.setWithCredentials(!0),l.listenOnce(Ry.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case pu.NO_ERROR:const c=l.getResponseJson();K(Pt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case pu.TIMEOUT:K(Pt,`RPC '${e}' ${s} timed out`),a(new re(B.DEADLINE_EXCEEDED,"Request time out"));break;case pu.HTTP_ERROR:const f=l.getStatus();if(K(Pt,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d?.error;if(p&&p.status&&p.message){const m=function(y){const _=y.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(_)>=0?_:B.UNKNOWN}(p.status);a(new re(m,p.message))}else a(new re(B.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new re(B.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{K(Pt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(r);K(Pt,`RPC '${e}' ${s} sending request:`,r),l.send(n,"POST",u,i,15)})}Oo(e,n,i){const r=Eh(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Dy(),a=Qy(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new $y({})),this.Fo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const c=s.join("");K(Pt,`Creating RPC '${e}' stream ${r}: ${c}`,l);const f=o.createWebChannel(c,l);let d=!1,p=!1;const m=new IC({lo:y=>{p?K(Pt,`Not sending because RPC '${e}' stream ${r} is closed:`,y):(d||(K(Pt,`Opening RPC '${e}' stream ${r} transport.`),f.open(),d=!0),K(Pt,`RPC '${e}' stream ${r} sending:`,y),f.send(y))},ho:()=>f.close()}),O=(y,_,S)=>{y.listen(_,$=>{try{S($)}catch(R){setTimeout(()=>{throw R},0)}})};return O(f,Wo.EventType.OPEN,()=>{p||(K(Pt,`RPC '${e}' stream ${r} transport opened.`),m.mo())}),O(f,Wo.EventType.CLOSE,()=>{p||(p=!0,K(Pt,`RPC '${e}' stream ${r} transport closed`),m.po())}),O(f,Wo.EventType.ERROR,y=>{p||(p=!0,$s(Pt,`RPC '${e}' stream ${r} transport errored:`,y),m.po(new re(B.UNAVAILABLE,"The operation could not be completed")))}),O(f,Wo.EventType.MESSAGE,y=>{var _;if(!p){const S=y.data[0];Me(!!S);const $=S,R=$.error||((_=$[0])===null||_===void 0?void 0:_.error);if(R){K(Pt,`RPC '${e}' stream ${r} received error:`,R);const D=R.status;let L=function(T){const A=Je[T];if(A!==void 0)return av(A)}(D),w=R.message;L===void 0&&(L=B.INTERNAL,w="Unknown error status: "+D+" with message "+R.message),p=!0,m.po(new re(L,w)),f.close()}else K(Pt,`RPC '${e}' stream ${r} received:`,S),m.yo(S)}}),O(a,Iy.STAT_EVENT,y=>{y.stat===Ef.PROXY?K(Pt,`RPC '${e}' stream ${r} detected buffering proxy`):y.stat===Ef.NOPROXY&&K(Pt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{m.fo()},0),m}}function Ch(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(t){return new jE(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,n,i=1e3,r=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=i,this.Lo=r,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),i=Math.max(0,Date.now()-this.Qo),r=Math.max(0,n-i);r>0&&K("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,n,i,r,s,o,a,l){this.oi=e,this.Go=i,this.zo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new yv(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(mi(n.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.jo===n&&this.u_(i,r)},i=>{e(()=>{const r=new re(B.UNKNOWN,"Fetching auth token failed: "+i.message);return this.c_(r)})})}u_(e,n){const i=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{i(()=>this.listener.Po())}),this.stream.To(()=>{i(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(r=>{i(()=>this.c_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DC extends vv{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=UE(this.serializer,e),i=function(s){if(!("targetChange"in s))return le.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?le.min():o.readTime?Wn(o.readTime):le.min()}(e);return this.listener.h_(n,i)}P_(e){const n={};n.database=Lf(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=If(l)?{documents:HE(s,l)}:{query:KE(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=cv(s,o.resumeToken);const u=Df(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(le.min())>0){a.readTime=Wu(s,o.snapshotVersion.toTimestamp());const u=Df(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const i=eC(this.serializer,e);i&&(n.labels=i),this.i_(n)}I_(e){const n={};n.database=Lf(this.serializer),n.removeTarget=e,this.i_(n)}}class VC extends vv{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=GE(e.writeResults,e.commitTime),i=Wn(e.commitTime);return this.listener.A_(i,n)}return Me(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=Lf(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>YE(this.serializer,i))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new re(B.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,i,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,Vf(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new re(B.UNKNOWN,s.toString())})}xo(e,n,i,r,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,Vf(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new re(B.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class LC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(mi(n),this.y_=!1):K("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{i.enqueueAndForget(async()=>{zr(this)&&(K("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ue(l);u.M_.add(4),await Ja(u),u.N_.set("Unknown"),u.M_.delete(4),await Zc(u)}(this))})}),this.N_=new LC(i,r)}}async function Zc(t){if(zr(t))for(const e of t.x_)await e(!0)}async function Ja(t){for(const e of t.x_)await e(!1)}function _v(t,e){const n=ue(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),wp(n)?_p(n):io(n).Xo()&&vp(n,e))}function yp(t,e){const n=ue(t),i=io(n);n.F_.delete(e),i.Xo()&&wv(n,e),n.F_.size===0&&(i.Xo()?i.n_():zr(n)&&n.N_.set("Unknown"))}function vp(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}io(t).P_(e)}function wv(t,e){t.L_.xe(e),io(t).I_(e)}function _p(t){t.L_=new ZE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),io(t).start(),t.N_.w_()}function wp(t){return zr(t)&&!io(t).Zo()&&t.F_.size>0}function zr(t){return ue(t).M_.size===0}function xv(t){t.L_=void 0}async function NC(t){t.N_.set("Online")}async function ZC(t){t.F_.forEach((e,n)=>{vp(t,e)})}async function zC(t,e){xv(t),wp(t)?(t.N_.D_(e),_p(t)):t.N_.set("Unknown")}async function qC(t,e,n){if(t.N_.set("Online"),e instanceof uv&&e.state===2&&e.cause)try{await async function(r,s){const o=s.cause;for(const a of s.targetIds)r.F_.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.F_.delete(a),r.L_.removeTarget(a))}(t,e)}catch(i){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Uu(t,i)}else if(e instanceof Ou?t.L_.Ke(e):e instanceof lv?t.L_.He(e):t.L_.We(e),!n.isEqual(le.min()))try{const i=await bv(t.localStore);n.compareTo(i)>=0&&await function(s,o){const a=s.L_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.F_.get(u);c&&s.F_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.F_.get(l);if(!c)return;s.F_.set(l,c.withResumeToken(Qt.EMPTY_BYTE_STRING,c.snapshotVersion)),wv(s,l);const f=new Zi(c.target,l,u,c.sequenceNumber);vp(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(i){K("RemoteStore","Failed to raise snapshot:",i),await Uu(t,i)}}async function Uu(t,e,n){if(!Ga(e))throw e;t.M_.add(1),await Ja(t),t.N_.set("Offline"),n||(n=()=>bv(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await Zc(t)})}function kv(t,e){return e().catch(n=>Uu(t,n,e))}async function zc(t){const e=ue(t),n=tr(e);let i=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;BC(e);)try{const r=await PC(e.localStore,i);if(r===null){e.v_.length===0&&n.n_();break}i=r.batchId,jC(e,r)}catch(r){await Uu(e,r)}Sv(e)&&Tv(e)}function BC(t){return zr(t)&&t.v_.length<10}function jC(t,e){t.v_.push(e);const n=tr(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function Sv(t){return zr(t)&&!tr(t).Zo()&&t.v_.length>0}function Tv(t){tr(t).start()}async function XC(t){tr(t).V_()}async function WC(t){const e=tr(t);for(const n of t.v_)e.d_(n.mutations)}async function UC(t,e,n){const i=t.v_.shift(),r=dp.from(i,e,n);await kv(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await zc(t)}async function YC(t,e){e&&tr(t).E_&&await async function(i,r){if(function(o){return LE(o)&&o!==B.ABORTED}(r.code)){const s=i.v_.shift();tr(i).t_(),await kv(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await zc(i)}}(t,e),Sv(t)&&Tv(t)}async function bg(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");const i=zr(n);n.M_.add(3),await Ja(n),i&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await Zc(n)}async function GC(t,e){const n=ue(t);e?(n.M_.delete(2),await Zc(n)):e||(n.M_.add(2),await Ja(n),n.N_.set("Unknown"))}function io(t){return t.B_||(t.B_=function(n,i,r){const s=ue(n);return s.f_(),new DC(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Po:NC.bind(null,t),To:ZC.bind(null,t),Ao:zC.bind(null,t),h_:qC.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),wp(t)?_p(t):t.N_.set("Unknown")):(await t.B_.stop(),xv(t))})),t.B_}function tr(t){return t.k_||(t.k_=function(n,i,r){const s=ue(n);return s.f_(),new VC(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:XC.bind(null,t),Ao:YC.bind(null,t),R_:WC.bind(null,t),A_:UC.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await zc(t)):(await t.k_.stop(),t.v_.length>0&&(K("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const o=Date.now()+i,a=new xp(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kp(t,e){if(mi("AsyncQueue",`${e}: ${t}`),Ga(t))return new re(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this.comparator=e?(n,i)=>e(n,i)||ie.comparator(n.key,i.key):(n,i)=>ie.comparator(n.key,i.key),this.keyedMap=Uo(),this.sortedSet=new je(this.comparator)}static emptySet(e){return new ys(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ys)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new ys;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(){this.q_=new je(ie.comparator)}track(e){const n=e.doc.key,i=this.q_.get(n);i?e.type!==0&&i.type===3?this.q_=this.q_.insert(n,e):e.type===3&&i.type!==1?this.q_=this.q_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.q_=this.q_.remove(n):e.type===1&&i.type===2?this.q_=this.q_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):oe():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,i)=>{e.push(i)}),e}}class Vs{constructor(e,n,i,r,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,i,r,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Vs(e,n,ys.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class KC{constructor(){this.queries=new no(e=>Wy(e),Dc),this.onlineState="Unknown",this.z_=new Set}}async function JC(t,e){const n=ue(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.W_()&&e.G_()&&(i=2):(s=new HC,i=e.G_()?0:1);try{switch(i){case 0:s.K_=await n.onListen(r,!0);break;case 1:s.K_=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const a=kp(o,`Initialization of query '${us(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&Sp(n)}async function e3(t,e){const n=ue(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?r=e.G_()?0:1:!s.W_()&&e.G_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function t3(t,e){const n=ue(t);let i=!1;for(const r of e){const s=r.query,o=n.queries.get(s);if(o){for(const a of o.U_)a.H_(r)&&(i=!0);o.K_=r}}i&&Sp(n)}function n3(t,e,n){const i=ue(t),r=i.queries.get(e);if(r)for(const s of r.U_)s.onError(n);i.queries.delete(e)}function Sp(t){t.z_.forEach(e=>{e.next()})}var Nf,vg;(vg=Nf||(Nf={})).J_="default",vg.Cache="cache";class i3{constructor(e,n,i){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=i||{}}H_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Vs(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const i=n!=="Offline";return(!this.options.ra||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=Vs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Nf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e){this.key=e}}class Av{constructor(e){this.key=e}}class r3{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=me(),this.mutatedKeys=me(),this.Ia=Uy(e),this.Ta=new ys(this.Ia)}get Ea(){return this.la}da(e,n){const i=n?n.Aa:new yg,r=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((c,f)=>{const d=r.get(c),p=Vc(this.query,f)?f:null,m=!!d&&this.mutatedKeys.has(d.key),O=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;d&&p?d.data.isEqual(p.data)?m!==O&&(i.track({type:3,doc:p}),y=!0):this.Ra(d,p)||(i.track({type:2,doc:p}),y=!0,(l&&this.Ia(p,l)>0||u&&this.Ia(p,u)<0)&&(a=!0)):!d&&p?(i.track({type:0,doc:p}),y=!0):d&&!p&&(i.track({type:1,doc:d}),y=!0,(l||u)&&(a=!0)),y&&(p?(o=o.add(p),s=O?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),i.track({type:1,doc:c})}return{Ta:o,Aa:i,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((c,f)=>function(p,m){const O=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe()}};return O(p)-O(m)}(c.type,f.type)||this.Ia(c.doc,f.doc)),this.Va(i),r=r!=null&&r;const a=n&&!r?this.ma():[],l=this.Pa.size===0&&this.current&&!r?1:0,u=l!==this.ha;return this.ha=l,o.length!==0||u?{snapshot:new Vs(this.query,e.Ta,s,o,e.mutatedKeys,l===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new yg,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=me(),this.Ta.forEach(i=>{this.ga(i.key)&&(this.Pa=this.Pa.add(i.key))});const n=[];return e.forEach(i=>{this.Pa.has(i)||n.push(new Av(i))}),this.Pa.forEach(i=>{e.has(i)||n.push(new Pv(i))}),n}pa(e){this.la=e.hs,this.Pa=me();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return Vs.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class s3{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class o3{constructor(e){this.key=e,this.wa=!1}}class a3{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new no(a=>Wy(a),Dc),this.Da=new Map,this.Ca=new Set,this.va=new je(ie.comparator),this.Fa=new Map,this.Ma=new gp,this.xa={},this.Oa=new Map,this.Na=Ds.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function l3(t,e,n=!0){const i=Qv(t);let r;const s=i.ba.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.ya()):r=await Ev(i,e,n,!0),r}async function u3(t,e){const n=Qv(t);await Ev(n,e,!0,!1)}async function Ev(t,e,n,i){const r=await AC(t.localStore,Xn(e)),s=r.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return i&&(a=await c3(t,e,s,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&_v(t.remoteStore,r),a}async function c3(t,e,n,i,r){t.Ba=(f,d,p)=>async function(O,y,_,S){let $=y.view.da(_);$.Xi&&($=await mg(O.localStore,y.query,!1).then(({documents:w})=>y.view.da(w,$)));const R=S&&S.targetChanges.get(y.targetId),D=S&&S.targetMismatches.get(y.targetId)!=null,L=y.view.applyChanges($,O.isPrimaryClient,R,D);return wg(O,y.targetId,L.fa),L.snapshot}(t,f,d,p);const s=await mg(t.localStore,e,!0),o=new r3(e,s.hs),a=o.da(s.documents),l=Ka.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),u=o.applyChanges(a,t.isPrimaryClient,l);wg(t,n,u.fa);const c=new s3(e,n,o);return t.ba.set(e,c),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),u.snapshot}async function h3(t,e,n){const i=ue(t),r=i.ba.get(e),s=i.Da.get(r.targetId);if(s.length>1)return i.Da.set(r.targetId,s.filter(o=>!Dc(o,e))),void i.ba.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Ff(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&yp(i.remoteStore,r.targetId),Zf(i,r.targetId)}).catch(Ya)):(Zf(i,r.targetId),await Ff(i.localStore,r.targetId,!0))}async function f3(t,e){const n=ue(t),i=n.ba.get(e),r=n.Da.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),yp(n.remoteStore,i.targetId))}async function d3(t,e,n){const i=v3(t);try{const r=await function(o,a){const l=ue(o),u=ut.now(),c=a.reduce((p,m)=>p.add(m.key),me());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=gi(),O=me();return l.os.getEntries(p,c).next(y=>{m=y,m.forEach((_,S)=>{S.isValidDocument()||(O=O.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(y=>{f=y;const _=[];for(const S of a){const $=IE(S,f.get(S.key).overlayedDocument);$!=null&&_.push(new Zr(S.key,$,Ny($.value.mapValue),hi.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,_,a)}).next(y=>{d=y;const _=y.applyToLocalDocumentSet(f,O);return l.documentOverlayCache.saveOverlays(p,y.batchId,_)})}).then(()=>({batchId:d.batchId,changes:Gy(f)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let u=o.xa[o.currentUser.toKey()];u||(u=new je(Ae)),u=u.insert(a,l),o.xa[o.currentUser.toKey()]=u}(i,r.batchId,n),await el(i,r.changes),await zc(i.remoteStore)}catch(r){const s=kp(r,"Failed to persist write");n.reject(s)}}async function Cv(t,e){const n=ue(t);try{const i=await SC(n.localStore,e);e.targetChanges.forEach((r,s)=>{const o=n.Fa.get(s);o&&(Me(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.wa=!0:r.modifiedDocuments.size>0?Me(o.wa):r.removedDocuments.size>0&&(Me(o.wa),o.wa=!1))}),await el(n,i,e)}catch(i){await Ya(i)}}function _g(t,e,n){const i=ue(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.ba.forEach((s,o)=>{const a=o.view.j_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=ue(o);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const d of f.U_)d.j_(a)&&(u=!0)}),u&&Sp(l)}(i.eventManager,e),r.length&&i.Sa.h_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function p3(t,e,n){const i=ue(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Fa.get(e),s=r&&r.key;if(s){let o=new je(ie.comparator);o=o.insert(s,$t.newNoDocument(s,le.min()));const a=me().add(s),l=new Fc(le.min(),new Map,new je(Ae),o,a);await Cv(i,l),i.va=i.va.remove(s),i.Fa.delete(e),Tp(i)}else await Ff(i.localStore,e,!1).then(()=>Zf(i,e,n)).catch(Ya)}async function m3(t,e){const n=ue(t),i=e.batch.batchId;try{const r=await kC(n.localStore,e);Rv(n,i,null),$v(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await el(n,r)}catch(r){await Ya(r)}}async function g3(t,e,n){const i=ue(t);try{const r=await function(o,a){const l=ue(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Me(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(i.localStore,e);Rv(i,e,n),$v(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await el(i,r)}catch(r){await Ya(r)}}function $v(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function Rv(t,e,n){const i=ue(t);let r=i.xa[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.xa[i.currentUser.toKey()]=r}}function Zf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Da.get(e))t.ba.delete(i),n&&t.Sa.ka(i,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(i=>{t.Ma.containsKey(i)||Iv(t,i)})}function Iv(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(yp(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),Tp(t))}function wg(t,e,n){for(const i of n)i instanceof Pv?(t.Ma.addReference(i.key,e),O3(t,i)):i instanceof Av?(K("SyncEngine","Document no longer in limbo: "+i.key),t.Ma.removeReference(i.key,e),t.Ma.containsKey(i.key)||Iv(t,i.key)):oe()}function O3(t,e){const n=e.key,i=n.path.canonicalString();t.va.get(n)||t.Ca.has(i)||(K("SyncEngine","New document in limbo: "+n),t.Ca.add(i),Tp(t))}function Tp(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new ie(Ge.fromString(e)),i=t.Na.next();t.Fa.set(i,new o3(n)),t.va=t.va.insert(n,i),_v(t.remoteStore,new Zi(Xn(fp(n.path)),i,"TargetPurposeLimboResolution",op.oe))}}async function el(t,e,n){const i=ue(t),r=[],s=[],o=[];i.ba.isEmpty()||(i.ba.forEach((a,l)=>{o.push(i.Ba(l,e,n).then(u=>{if((u||n)&&i.isPrimaryClient){const c=u&&!u.fromCache;i.sharedClientState.updateQueryState(l.targetId,c?"current":"not-current")}if(u){r.push(u);const c=bp.Ki(l.targetId,u);s.push(c)}}))}),await Promise.all(o),i.Sa.h_(r),await async function(l,u){const c=ue(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>q.forEach(u,d=>q.forEach(d.qi,p=>c.persistence.referenceDelegate.addReference(f,d.targetId,p)).next(()=>q.forEach(d.Qi,p=>c.persistence.referenceDelegate.removeReference(f,d.targetId,p)))))}catch(f){if(!Ga(f))throw f;K("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const d=f.targetId;if(!f.fromCache){const p=c.ns.get(d),m=p.snapshotVersion,O=p.withLastLimboFreeSnapshotVersion(m);c.ns=c.ns.insert(d,O)}}}(i.localStore,s))}async function b3(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());const i=await Ov(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(l=>{l.reject(new re(B.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await el(n,i.us)}}function y3(t,e){const n=ue(t),i=n.Fa.get(e);if(i&&i.wa)return me().add(i.key);{let r=me();const s=n.Da.get(e);if(!s)return r;for(const o of s){const a=n.ba.get(o);r=r.unionWith(a.view.Ea)}return r}}function Qv(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Cv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=y3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=p3.bind(null,e),e.Sa.h_=t3.bind(null,e.eventManager),e.Sa.ka=n3.bind(null,e.eventManager),e}function v3(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=m3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=g3.bind(null,e),e}class xg{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Nc(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return xC(this.persistence,new _C,e.initialUser,this.serializer)}createPersistence(e){return new bC(Op.Hr,this.serializer)}createSharedClientState(e){return new CC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class _3{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>_g(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=b3.bind(null,this.syncEngine),await GC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new KC}()}createDatastore(e){const n=Nc(e.databaseInfo.databaseId),i=function(s){return new QC(s)}(e.databaseInfo);return function(s,o,a,l){return new MC(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,a){return new FC(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>_g(this.syncEngine,n,0),function(){return Og.D()?new Og:new $C}())}createSyncEngine(e,n){return function(r,s,o,a,l,u,c){const f=new a3(r,s,o,a,l,u);return c&&(f.La=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(i){const r=ue(i);K("RemoteStore","RemoteStore shutting down."),r.M_.add(5),await Ja(r),r.O_.shutdown(),r.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):mi("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Et.UNAUTHENTICATED,this.clientId=My.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async s=>{K("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(K("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new re(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=kp(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function $h(t,e){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await Ov(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function kg(t,e){t.asyncQueue.verifyOperationInProgress();const n=await S3(t);K("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>bg(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>bg(e.remoteStore,r)),t._onlineComponents=e}function k3(t){return t.name==="FirebaseError"?t.code===B.FAILED_PRECONDITION||t.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function S3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{await $h(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!k3(n))throw n;$s("Error using user provided cache. Falling back to memory cache: "+n),await $h(t,new xg)}}else K("FirestoreClient","Using default OfflineComponentProvider"),await $h(t,new xg);return t._offlineComponents}async function Dv(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),await kg(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),await kg(t,new _3))),t._onlineComponents}function T3(t){return Dv(t).then(e=>e.syncEngine)}async function P3(t){const e=await Dv(t),n=e.eventManager;return n.onListen=l3.bind(null,e.syncEngine),n.onUnlisten=h3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=u3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=f3.bind(null,e.syncEngine),n}function A3(t,e,n={}){const i=new Ui;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new w3({next:d=>{o.enqueueAndForget(()=>e3(s,f));const p=d.docs.has(a);!p&&d.fromCache?u.reject(new re(B.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&d.fromCache&&l&&l.source==="server"?u.reject(new re(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new i3(fp(a.path),c,{includeMetadataChanges:!0,ra:!0});return JC(s,f)}(await P3(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(t,e,n){if(!n)throw new re(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function C3(t,e,n,i){if(e===!0&&i===!0)throw new re(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Tg(t){if(!ie.isDocumentKey(t))throw new re(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Pp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe()}function Sa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new re(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pp(t);throw new re(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new re(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new re(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}C3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Vv((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new re(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new re(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new re(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ap{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new re(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new re(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pg(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new zA;switch(i.type){case"firstParty":return new XA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new re(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Sg.get(n);i&&(K("ComponentProvider","Removing Datastore"),Sg.delete(n),i.terminate())}(this),Promise.resolve()}}function $3(t,e,n,i={}){var r;const s=(t=Sa(t,Ap))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&$s("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=Et.MOCK_USER;else{a=nT(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new re(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Et(u)}t._authCredentials=new qA(new Vy(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ep(this.firestore,e,this._query)}}class cn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class Ta extends Ep{constructor(e,n,i){super(e,n,fp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new ie(e))}withConverter(e){return new Ta(this.firestore,e,this._path)}}function Ag(t,e,...n){if(t=Cs(t),arguments.length===1&&(e=My.newId()),E3("doc","path",e),t instanceof Ap){const i=Ge.fromString(e,...n);return Tg(i),new cn(t,null,new ie(i))}{if(!(t instanceof cn||t instanceof Ta))throw new re(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ge.fromString(e,...n));return Tg(i),new cn(t.firestore,t instanceof Ta?t.converter:null,new ie(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new yv(this,"async_queue_retry"),this.hu=()=>{const n=Ch();n&&K("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=Ch();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Ch();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Ui;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Ga(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(i=>{this.au=i,this.uu=!1;const r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw mi("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.uu=!1,i))));return this.iu=n,n}enqueueAfterDelay(e,n,i){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const r=xp.createAndSchedule(this,e,n,i,s=>this.Eu(s));return this._u.push(r),r}Pu(){this.au&&oe()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class Cp extends Ap{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new R3}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Lv(this),this._firestoreClient.terminate()}}function I3(t,e){const n=typeof t=="object"?t:ry(),i=typeof t=="string"?t:"(default)",r=Ua(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=eT("firestore");s&&$3(r,...s)}return r}function Mv(t){return t._firestoreClient||Lv(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Lv(t){var e,n,i;const r=t._freezeSettings(),s=function(a,l,u,c){return new sE(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Vv(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new x3(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ms(Qt.fromBase64String(e))}catch(n){throw new re(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ms(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new re(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=/^__.*__$/;class D3{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Zr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ha(e,this.data,n,this.fieldTransforms)}}function Nv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe()}}class Ip{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Ip(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.gu({path:i,yu:!1});return r.wu(e),r}Su(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.gu({path:i,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Yu(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(Nv(this.fu)&&Q3.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class V3{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Nc(e)}Fu(e,n,i,r=!1){return new Ip({fu:e,methodName:n,vu:i,path:vt.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function M3(t){const e=t._freezeSettings(),n=Nc(t._databaseId);return new V3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function L3(t,e,n,i,r,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,r);Bv("Data must be an object, but it was:",o,i);const a=zv(i,o);let l,u;if(s.merge)l=new Sn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const d=F3(e,f,n);if(!o.contains(d))throw new re(B.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);Z3(c,d)||c.push(d)}l=new Sn(c),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new D3(new an(a),l,u)}function Zv(t,e){if(qv(t=Cs(t)))return Bv("Unsupported field value:",e,t),zv(t,e);if(t instanceof Fv)return function(i,r){if(!Nv(r.fu))throw r.Du(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=Zv(a,r.bu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=Cs(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return PE(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=ut.fromDate(i);return{timestampValue:Wu(r.serializer,s)}}if(i instanceof ut){const s=new ut(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Wu(r.serializer,s)}}if(i instanceof Rp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ms)return{bytesValue:cv(r.serializer,i._byteString)};if(i instanceof cn){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:mp(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Du(`Unsupported field value: ${Pp(i)}`)}(t,e)}function zv(t,e){const n={};return Ly(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):to(t,(i,r)=>{const s=Zv(r,e.pu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function qv(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof Rp||t instanceof Ms||t instanceof cn||t instanceof Fv)}function Bv(t,e,n){if(!qv(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=Pp(n);throw i==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+i)}}function F3(t,e,n){if((e=Cs(e))instanceof $p)return e._internalPath;if(typeof e=="string")return jv(t,e);throw Yu("Field path arguments must be of type string or ",t,!1,void 0,n)}const N3=new RegExp("[~\\*/\\[\\]]");function jv(t,e,n){if(e.search(N3)>=0)throw Yu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $p(...e.split("."))._internalPath}catch{throw Yu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Yu(t,e,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new re(B.INVALID_ARGUMENT,a+t+l)}function Z3(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new z3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Wv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class z3 extends Xv{data(){return super.data()}}function Wv(t,e){return typeof e=="string"?jv(t,e):e instanceof $p?e._internalPath:e._delegate._internalPath}class q3{convertValue(e,n="none"){switch(Qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ir(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw oe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return to(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertGeoPoint(e){return new Rp(et(e.latitude),et(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=lp(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(va(e));default:return null}}convertTimestamp(e){const n=er(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Ge.fromString(e);Me(gv(i));const r=new _a(i.get(1),i.get(3)),s=new ie(i.popFirst(5));return r.isEqual(n)||mi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(t,e,n){let i;return i=t?t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Uv extends Xv{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new X3(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Wv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class X3 extends Uv{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(t){t=Sa(t,cn);const e=Sa(t.firestore,Cp);return A3(Mv(e),t._key).then(n=>H3(e,t,n))}class U3 extends q3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ms(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,n)}}function Y3(t,e,n){t=Sa(t,cn);const i=Sa(t.firestore,Cp),r=B3(t.converter,e);return G3(i,[L3(M3(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,hi.none())])}function G3(t,e){return function(i,r){const s=new Ui;return i.asyncQueue.enqueueAndForget(async()=>d3(await T3(i),r,s)),s.promise}(Mv(t),e)}function H3(t,e,n){const i=n.docs.get(e._key),r=new U3(t);return new Uv(t,r,e._key,i,new j3(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){eo=r})(hP),Ki(new pi("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new Cp(new BA(i.getProvider("auth-internal")),new UA(i.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new re(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _a(u.options.projectId,c)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),jn(Y0,"4.6.3",e),jn(Y0,"4.6.3","esm2017")})();const K3={apiKey:"AIzaSyBkQe0tqgET22AuM-ZrDSO-Exigu8dPvUU",authDomain:"lablnet-86a04.firebaseapp.com",projectId:"lablnet-86a04",storageBucket:"lablnet-86a04.appspot.com",messagingSenderId:"489647771343",appId:"1:489647771343:web:50c27805ebd74a1049f1ba"},Yv=iy(K3);LA(Yv);const Eg=I3(Yv),J3=t=>{const e=typeof t;return e!=="function"&&e!=="object"||t===null},e$=t=>{const e=t.flags===""?void 0:t.flags;return new RegExp(t.source,e)},Go=(t,e=new WeakMap)=>{if(t===null||J3(t))return t;if(e.has(t))return e.get(t);if(t instanceof RegExp)return e$(t);if(t instanceof Date)return new Date(t.getTime());if(t instanceof Function)return t;if(t instanceof Map){const i=new Map;return e.set(t,i),t.forEach((r,s)=>{i.set(s,Go(r,e))}),i}if(t instanceof Set){const i=new Set;e.set(t,i);for(const r of t)i.add(Go(r,e));return i}if(Array.isArray(t)){const i=[];return e.set(t,i),t.forEach(r=>{i.push(Go(r,e))}),i}const n={};e.set(t,n);for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=Go(t[i],e));return n},Qp=(t,e=200)=>{let n=0;return(...i)=>new Promise(r=>{n&&(clearTimeout(n),r("cancel")),n=window.setTimeout(()=>{t.apply(void 0,i),n=0,r("done")},e)})},t$=(t,e={_blank:!0,nofollow:!0})=>{const n=document.createElement("a");n.href=t,e._blank&&(n.target="_blank"),e.nofollow&&(n.rel="noopener noreferrer"),n.click()},n$=()=>{let t=-1;return(e,n,i,r=100)=>{const s=()=>{i&&(typeof r=="number"?setTimeout(i,r):i())};t!==-1&&(cancelAnimationFrame(t),s());let o=e.scrollTop;const a=()=>{t=-1;const l=n-o;o=o+l/5,Math.abs(l)<1?(e.scrollTo(0,n),s()):(e.scrollTo(0,o),t=requestAnimationFrame(a))};t=requestAnimationFrame(a)}},Gv=(t,e=200)=>{let n=0,i=null;const r=s=>{n===0&&(n=s),s-n>=e?(t.apply(void 0,i),i=null,n=0):window.requestAnimationFrame(r)};return(...s)=>{i===null&&window.requestAnimationFrame(r),i=s}},i$=t=>{const e=n=>{const{scrollHeight:i,scrollWidth:r,offsetHeight:s,offsetWidth:o,scrollLeft:a,scrollTop:l}=t,u=n.x,c=n.y,f=p=>{const m=l+c-p.y,O=a+u-p.x,y=i-s,_=r-o,S={};O>=0&&O<=_&&(S.left=O),m>=0&&m<=y&&(S.top=m),t.scroll(S)};document.addEventListener("mousemove",f);const d=()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",d)};document.addEventListener("mouseup",d)};return t.addEventListener("mousedown",e),()=>{t.removeEventListener("mousedown",e)}},zf=()=>`${Date.now().toString(36)}${Math.random().toString(36).substring(2)}`,Cg=t=>t!==null&&typeof t=="object"&&!Array.isArray(t),Hv=(t,e)=>{for(const n in e)Cg(e[n])&&Cg(t[n])?t[n]=Hv(t[n],e[n]):t[n]=e[n];return t},I="md-editor",r$="https://at.alicdn.com/t/c/font_2605852_rfu1p40qggh.js",s$="https://at.alicdn.com/t/c/font_2605852_rfu1p40qggh.css",Ne="https://cdnjs.cloudflare.com/ajax/libs",o$=`${Ne}/highlight.js/11.8.0/highlight.min.js`,$g={main:`${Ne}/prettier/2.8.0/standalone.js`,markdown:`${Ne}/prettier/2.8.0/parser-markdown.js`},a$={css:`${Ne}/cropperjs/1.5.13/cropper.min.css`,js:`${Ne}/cropperjs/1.5.13/cropper.min.js`},l$=`${Ne}/screenfull.js/5.2.0/screenfull.min.js`,Kv=["bold","underline","italic","strikeThrough","-","title","sub","sup","quote","unorderedList","orderedList","task","-","codeRow","code","link","image","table","mermaid","katex","-","revoke","next","save","=","prettier","pageFullscreen","fullscreen","preview","previewOnly","htmlPreview","catalog","github"],Jv=["markdownTotal","=","scrollSwitch"],Rg={"zh-CN":{toolbarTips:{bold:"加粗",underline:"下划线",italic:"斜体",strikeThrough:"删除线",title:"标题",sub:"下标",sup:"上标",quote:"引用",unorderedList:"无序列表",orderedList:"有序列表",task:"任务列表",codeRow:"行内代码",code:"块级代码",link:"链接",image:"图片",table:"表格",mermaid:"mermaid图",katex:"katex公式",revoke:"后退",next:"前进",save:"保存",prettier:"美化",pageFullscreen:"浏览器全屏",fullscreen:"屏幕全屏",preview:"预览",previewOnly:"仅预览",htmlPreview:"html代码预览",catalog:"目录",github:"源码地址"},titleItem:{h1:"一级标题",h2:"二级标题",h3:"三级标题",h4:"四级标题",h5:"五级标题",h6:"六级标题"},imgTitleItem:{link:"添加链接",upload:"上传图片",clip2upload:"裁剪上传"},linkModalTips:{linkTitle:"添加链接",imageTitle:"添加图片",descLabel:"链接描述：",descLabelPlaceHolder:"请输入描述...",urlLabel:"链接地址：",urlLabelPlaceHolder:"请输入链接...",buttonOK:"确定"},clipModalTips:{title:"裁剪图片上传",buttonUpload:"上传"},copyCode:{text:"复制代码",successTips:"已复制！",failTips:"复制失败！"},mermaid:{flow:"流程图",sequence:"时序图",gantt:"甘特图",class:"类图",state:"状态图",pie:"饼图",relationship:"关系图",journey:"旅程图"},katex:{inline:"行内公式",block:"块级公式"},footer:{markdownTotal:"字数",scrollAuto:"同步滚动"}},"en-US":{toolbarTips:{bold:"bold",underline:"underline",italic:"italic",strikeThrough:"strikeThrough",title:"title",sub:"subscript",sup:"superscript",quote:"quote",unorderedList:"unordered list",orderedList:"ordered list",task:"task list",codeRow:"inline code",code:"block-level code",link:"link",image:"image",table:"table",mermaid:"mermaid",katex:"formula",revoke:"revoke",next:"undo revoke",save:"save",prettier:"prettier",pageFullscreen:"fullscreen in page",fullscreen:"fullscreen",preview:"preview",previewOnly:"preview only",htmlPreview:"html preview",catalog:"catalog",github:"source code"},titleItem:{h1:"Lv1 Heading",h2:"Lv2 Heading",h3:"Lv3 Heading",h4:"Lv4 Heading",h5:"Lv5 Heading",h6:"Lv6 Heading"},imgTitleItem:{link:"Add Img Link",upload:"Upload Img",clip2upload:"Clip Upload"},linkModalTips:{linkTitle:"Add Link",imageTitle:"Add Image",descLabel:"Desc:",descLabelPlaceHolder:"Enter a description...",urlLabel:"Link:",urlLabelPlaceHolder:"Enter a link...",buttonOK:"OK"},clipModalTips:{title:"Crop Image",buttonUpload:"Upload"},copyCode:{text:"Copy",successTips:"Copied!",failTips:"Copy failed!"},mermaid:{flow:"flow",sequence:"sequence",gantt:"gantt",class:"class",state:"state",pie:"pie",relationship:"relationship",journey:"journey"},katex:{inline:"inline",block:"block"},footer:{markdownTotal:"Character Count",scrollAuto:"Scroll Auto"}}},u$=`${Ne}/mermaid/10.6.1/mermaid.esm.min.mjs`,c$={js:`${Ne}/KaTeX/0.16.9/katex.min.js`,css:`${Ne}/KaTeX/0.16.9/katex.min.css`},qf={a11y:{light:`${Ne}/highlight.js/11.8.0/styles/a11y-light.min.css`,dark:`${Ne}/highlight.js/11.8.0/styles/a11y-dark.min.css`},atom:{light:`${Ne}/highlight.js/11.8.0/styles/atom-one-light.min.css`,dark:`${Ne}/highlight.js/11.8.0/styles/atom-one-dark.min.css`},github:{light:`${Ne}/highlight.js/11.8.0/styles/github.min.css`,dark:`${Ne}/highlight.js/11.8.0/styles/github-dark.min.css`},gradient:{light:`${Ne}/highlight.js/11.8.0/styles/gradient-light.min.css`,dark:`${Ne}/highlight.js/11.8.0/styles/gradient-dark.min.css`},kimbie:{light:`${Ne}/highlight.js/11.8.0/styles/kimbie-light.min.css`,dark:`${Ne}/highlight.js/11.8.0/styles/kimbie-dark.min.css`},paraiso:{light:`${Ne}/highlight.js/11.8.0/styles/paraiso-light.min.css`,dark:`${Ne}/highlight.js/11.8.0/styles/paraiso-dark.min.css`},qtcreator:{light:`${Ne}/highlight.js/11.8.0/styles/qtcreator-light.min.css`,dark:`${Ne}/highlight.js/11.8.0/styles/qtcreator-dark.min.css`},stackoverflow:{light:`${Ne}/highlight.js/11.8.0/styles/stackoverflow-light.min.css`,dark:`${Ne}/highlight.js/11.8.0/styles/stackoverflow-dark.min.css`}},mt={editorExtensions:{highlight:{js:o$,css:qf},prettier:{standaloneJs:$g.main,parserMarkdownJs:$g.markdown},cropper:{...a$},iconfont:r$,iconfontClass:s$,screenfull:{js:l$},mermaid:{js:u$},katex:{...c$}},editorExtensionsAttrs:{},editorConfig:{languageUserDefined:{},mermaidTemplate:{},renderDelay:500,zIndex:2e4},codeMirrorExtensions:(t,e)=>e,markdownItConfig:()=>{},markdownItPlugins:t=>t,iconfontType:"svg",mermaidConfig:t=>t},Dl=170,hn=({instance:t,ctx:e,props:n={}},i="default")=>{const r=t?.$slots[i]||e?.slots[i];return(r?r(t):"")||n[i]},h$={overlay:{type:[String,Object],default:""},visible:{type:Boolean,default:!1},onChange:{type:Function,default:()=>{}},relative:{type:String,default:"html"}},fs=We({props:h$,setup(t,e){const n=`${I}-dropdown-hidden`,i=Bt({overlayClass:[n],overlayStyle:{},triggerHover:!1,overlayHover:!1}),r=xe(),s=xe(),o=()=>{var c,f;i.triggerHover=!0;const d=r.value,p=s.value;if(!d||!p)return;const m=d.getBoundingClientRect(),O=d.offsetTop,y=d.offsetLeft,_=m.height,S=m.width,$=((c=document.querySelector(t.relative))==null?void 0:c.scrollLeft)||0,R=((f=document.querySelector(t.relative))==null?void 0:f.clientWidth)||0;let D=y-p.offsetWidth/2+S/2-$;D+p.offsetWidth>$+R&&(D=$+R-p.offsetWidth),D<0&&(D=0),i.overlayStyle={...i.overlayStyle,top:O+_+"px",left:D+"px"},t.onChange(!0)},a=()=>{i.overlayHover=!0};ce(()=>t.visible,c=>{c?i.overlayClass=i.overlayClass.filter(f=>f!==n):i.overlayClass.push(n)});let l=-1;const u=c=>{r.value===c.target?i.triggerHover=!1:i.overlayHover=!1,clearTimeout(l),l=window.setTimeout(()=>{!i.overlayHover&&!i.triggerHover&&t.onChange(!1)},10)};return He(()=>{r.value.addEventListener("mouseenter",o),r.value.addEventListener("mouseleave",u),s.value.addEventListener("mouseenter",a),s.value.addEventListener("mouseleave",u)}),Wa(()=>{r.value.removeEventListener("mouseenter",o),r.value.removeEventListener("mouseleave",u),s.value.removeEventListener("mouseenter",a),s.value.removeEventListener("mouseleave",u)}),()=>{const c=hn({ctx:e}),f=hn({props:t,ctx:e},"overlay"),d=wf(c instanceof Array?c[0]:c,{ref:r,key:"cloned-dropdown-trigger"}),p=Q("div",{class:[`${I}-dropdown`,i.overlayClass],style:i.overlayStyle,ref:s},[Q("div",{class:`${I}-dropdown-overlay`},[f instanceof Array?f[0]:f])]);return[d,p]}}}),f$={title:{type:String,default:""},visible:{type:Boolean},trigger:{type:[String,Object]},onChange:{type:Function},overlay:{type:[String,Object]},insert:{type:Function},language:{type:String},theme:{type:String},previewTheme:{type:String},default:{type:[String,Object]}},bu=We({name:"DropdownToolbar",props:f$,emits:["onChange"],setup(t,e){const n=ke("editorId");return()=>{const i=hn({props:t,ctx:e},"trigger"),r=hn({props:t,ctx:e},"overlay"),s=hn({props:t,ctx:e});return Q(fs,{relative:`#${n}-toolbar-wrapper`,visible:t.visible,onChange:o=>{t.onChange instanceof Function?t.onChange(o):e.emit("onChange",o)},overlay:r},{default:()=>[Q("div",{class:`${I}-toolbar-item`,title:t.title||""},[i,s])]})}}});bu.install=t=>(t.component(bu.name,bu),t);var d$=Object.defineProperty,p$=(t,e,n)=>e in t?d$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,m$=(t,e,n)=>(p$(t,e+"",n),n);class g${constructor(){m$(this,"pools",{})}remove(e,n,i){const s=this.pools[e]&&this.pools[e][n];s&&(this.pools[e][n]=s.filter(o=>o!==i))}clear(e){this.pools[e]={}}on(e,n){return this.pools[e]||(this.pools[e]={}),this.pools[e][n.name]||(this.pools[e][n.name]=[]),this.pools[e][n.name].push(n.callback),this.pools[e][n.name].includes(n.callback)}emit(e,n,...i){this.pools[e]||(this.pools[e]={});const s=this.pools[e][n];s&&s.forEach(o=>{try{o(...i)}catch(a){console.error(`${n} monitor event exception！`,a)}})}}const X=new g$,qc="onSave",Dp="changeCatalogVisible",e_="changeFullscreen",Ig="pageFullscreenChanged",Qg="fullscreenChanged",Dg="previewChanged",Vg="previewOnlyChanged",Mg="htmlPreviewChanged",Lg="catalogVisibleChanged",yu="buildFinished",qr="errorCatcher",Ce="replace",Bc="uploadImage",Bf="openModals",t_="ctrlZ",n_="ctrlShiftZ",vu="catalogChanged",i_="pushCatalog",Vp="rerender",r_="eventListener",Fg=(t,e)=>{const n=i=>{const r=t.parentElement||document.body,s=r.offsetWidth,o=r.offsetHeight,{clientWidth:a}=document.documentElement,{clientHeight:l}=document.documentElement,u=i.offsetX,c=i.offsetY,f=p=>{let m=p.x+document.body.scrollLeft-document.body.clientLeft-u,O=p.y+document.body.scrollTop-document.body.clientTop-c;m=m<1?1:m<a-s-1?m:a-s-1,O=O<1?1:O<l-o-1?O:l-o-1,e?e(m,O):(r.style.left=`${m}px`,r.style.top=`${O}px`)};document.addEventListener("mousemove",f);const d=()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",d)};document.addEventListener("mouseup",d)};return t.addEventListener("mousedown",n),()=>{t.removeEventListener("mousedown",n)}},zt=(t,e,n="")=>{var i;const r=document.getElementById(e.id);if(r)n!==""&&(Reflect.get(window,n)?(i=e.onload)==null||i.call(r,new Event("load")):e.onload&&r.addEventListener("load",e.onload));else{const s={...e};s.onload=null;const o=b$(t,s);e.onload&&o.addEventListener("load",e.onload),document.head.appendChild(o)}},O$=(t,e)=>{const n=document.getElementById(e.id);n?.remove(),zt(t,e)},b$=(t,e)=>{const n=document.createElement(t);return Object.keys(e).forEach(i=>{e[i]!==void 0&&(n[i]=e[i])}),n},y$=(t,e="image.png")=>{const n=t.split(","),i=n[0].match(/:(.*?);/);if(i){const r=i[1],s=atob(n[1]);let o=s.length;const a=new Uint8Array(o);for(;o--;)a[o]=s.charCodeAt(o);return new File([a],e,{type:r})}return null},v$=t=>{if(!t)return t;const e=t.split(`
`),n=['<span rn-wrapper aria-hidden="true">'];return e.forEach(()=>{n.push("<span></span>")}),n.push("</span>"),`<span class="${I}-code-block">${t}</span>${n.join("")}`},_$=(t,e)=>{if(!t||!e)return 0;const n=t?.getBoundingClientRect();if(e===document.documentElement)return n.top-e.clientTop;const i=e?.getBoundingClientRect();return n.top-i.top},w$=(()=>{let t=0;return e=>e+ ++t})(),Ng=(()=>{let t=0;return()=>++t})(),x$=We({props:{name:{type:String,default:""}},setup(t){return()=>Q("svg",{class:`${I}-icon`,"aria-hidden":"true"},[Q("use",{"xlink:href":`#${I}-icon-${t.name}`},null)])}}),ye=We({props:{name:{type:String,default:""}},setup(t){const e=ke("customIcon");return()=>{const n=e.value[t.name];return typeof n=="object"?typeof n.component=="object"?MS(n.component,n.props):Q("span",{innerHTML:n.component},null):Q(x$,{name:t.name},null)}}}),k$={title:{type:String,default:""},visible:{type:Boolean,default:!1},width:{type:String,default:"auto"},height:{type:String,default:"auto"},onClose:{type:Function},showAdjust:{type:Boolean,default:!1},isFullscreen:{type:Boolean,default:!1},onAdjust:{type:Function,default:()=>{}},class:{type:String},style:{type:Object,default:()=>({})}},vs=We({name:"MdModal",props:k$,emits:["onClose"],setup(t,e){const n=ke("theme"),i=xe(t.visible),r=xe([`${I}-modal`]),s=xe(),o=xe(),a=xe(),l=Ar();let u=()=>{};const c=Bt({maskStyle:{zIndex:-1},modalStyle:{zIndex:-1},initPos:{left:"0px",top:"0px"},historyPos:{left:"0px",top:"0px"}}),f=Nt(()=>t.isFullscreen?{width:"100%",height:"100%"}:{width:t.width,height:t.height});return ce(()=>t.isFullscreen,d=>{d?u():Yn(()=>{u=Fg(o.value,(p,m)=>{c.initPos.left=p+"px",c.initPos.top=m+"px"})})}),ce(()=>t.visible,d=>{d?(c.maskStyle.zIndex=mt.editorConfig.zIndex+Ng(),c.modalStyle.zIndex=mt.editorConfig.zIndex+Ng(),r.value.push("zoom-in"),i.value=d,Yn(()=>{const p=s.value.offsetWidth/2,m=s.value.offsetHeight/2,O=document.documentElement.clientWidth/2,y=document.documentElement.clientHeight/2;c.initPos.left=O-p+"px",c.initPos.top=y-m+"px",t.isFullscreen||(u=Fg(o.value,(_,S)=>{c.initPos.left=_+"px",c.initPos.top=S+"px"}))}),setTimeout(()=>{r.value=r.value.filter(p=>p!=="zoom-in")},140)):(r.value.push("zoom-out"),u(),setTimeout(()=>{r.value=r.value.filter(p=>p!=="zoom-out"),i.value=d},130))}),He(()=>{a.value=document.body}),()=>{const d=hn({ctx:e}),p=hn({props:t,ctx:e},"title");return a.value?Q(VS,{to:a.value},{default:()=>[Q("div",{ref:l,class:`${I}-modal-container`,"data-theme":n.value},[Q("div",{class:t.class,style:{...t.style,display:i.value?"block":"none"}},[Q("div",{class:`${I}-modal-mask`,style:c.maskStyle,onClick:()=>{t.onClose?t.onClose():e.emit("onClose")}},null),Q("div",{class:r.value,style:{...c.modalStyle,...c.initPos,...f.value},ref:s},[Q("div",{class:`${I}-modal-header`,ref:o},[p||""]),Q("div",{class:`${I}-modal-body`},[d]),Q("div",{class:`${I}-modal-func`},[t.showAdjust&&Q("div",{class:`${I}-modal-adjust`,onClick:m=>{m.stopPropagation(),t.isFullscreen?c.initPos=c.historyPos:(c.historyPos=c.initPos,c.initPos={left:"0",top:"0"}),t.onAdjust(!t.isFullscreen)}},[Q(ye,{name:t.isFullscreen?"suoxiao":"fangda"},null)]),Q("div",{class:`${I}-modal-close`,onClick:m=>{m.stopPropagation(),t.onClose?t.onClose():e.emit("onClose")}},[Q(ye,{name:"close"},null)])])])])])]}):""}}});vs.install=t=>(t.component(vs.name,vs),t);class Te{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,i){[e,n]=Ls(this,e,n);let r=[];return this.decompose(0,e,r,2),i.length&&i.decompose(0,i.length,r,3),this.decompose(n,this.length,r,1),Ln.from(r,this.length-(n-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=Ls(this,e,n);let i=[];return this.decompose(e,n,i,0),Ln.from(i,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),r=new ua(this),s=new ua(e);for(let o=n,a=n;;){if(r.next(o),s.next(o),o=0,r.lineBreak!=s.lineBreak||r.done!=s.done||r.value!=s.value)return!1;if(a+=r.value.length,r.done||a>=i)return!0}}iter(e=1){return new ua(this,e)}iterRange(e,n=this.length){return new s_(this,e,n)}iterLines(e,n){let i;if(e==null)i=this.iter();else{n==null&&(n=this.lines+1);let r=this.line(e).from;i=this.iterRange(r,Math.max(r,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new o_(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Te.empty:e.length<=32?new Ke(e):Ln.from(Ke.split(e,[]))}}class Ke extends Te{constructor(e,n=S$(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,i,r){for(let s=0;;s++){let o=this.text[s],a=r+o.length;if((n?i:a)>=e)return new T$(r,a,i,o);r=a+1,i++}}decompose(e,n,i,r){let s=e<=0&&n>=this.length?this:new Ke(Zg(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(r&1){let o=i.pop(),a=_u(s.text,o.text.slice(),0,s.length);if(a.length<=32)i.push(new Ke(a,o.length+s.length));else{let l=a.length>>1;i.push(new Ke(a.slice(0,l)),new Ke(a.slice(l)))}}else i.push(s)}replace(e,n,i){if(!(i instanceof Ke))return super.replace(e,n,i);[e,n]=Ls(this,e,n);let r=_u(this.text,_u(i.text,Zg(this.text,0,e)),n),s=this.length+i.length-(n-e);return r.length<=32?new Ke(r,s):Ln.from(Ke.split(r,[]),s)}sliceString(e,n=this.length,i=`
`){[e,n]=Ls(this,e,n);let r="";for(let s=0,o=0;s<=n&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(r+=i),e<l&&n>s&&(r+=a.slice(Math.max(0,e-s),n-s)),s=l+1}return r}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let i=[],r=-1;for(let s of e)i.push(s),r+=s.length+1,i.length==32&&(n.push(new Ke(i,r)),i=[],r=-1);return r>-1&&n.push(new Ke(i,r)),n}}class Ln extends Te{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,n,i,r){for(let s=0;;s++){let o=this.children[s],a=r+o.length,l=i+o.lines-1;if((n?l:a)>=e)return o.lineInner(e,n,i,r);r=a+1,i=l+1}}decompose(e,n,i,r){for(let s=0,o=0;o<=n&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&n>=o){let u=r&((o<=e?1:0)|(l>=n?2:0));o>=e&&l<=n&&!u?i.push(a):a.decompose(e-o,n-o,i,u)}o=l+1}}replace(e,n,i){if([e,n]=Ls(this,e,n),i.lines<this.lines)for(let r=0,s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.length;if(e>=s&&n<=a){let l=o.replace(e-s,n-s,i),u=this.lines-o.lines+l.lines;if(l.lines<u>>4&&l.lines>u>>6){let c=this.children.slice();return c[r]=l,new Ln(c,this.length-(n-e)+i.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,n,i)}sliceString(e,n=this.length,i=`
`){[e,n]=Ls(this,e,n);let r="";for(let s=0,o=0;s<this.children.length&&o<=n;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(r+=i),e<l&&n>o&&(r+=a.sliceString(e-o,n-o,i)),o=l+1}return r}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof Ln))return 0;let i=0,[r,s,o,a]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=n,s+=n){if(r==o||s==a)return i;let l=this.children[r],u=e.children[s];if(l!=u)return i+l.scanIdentical(u,n);i+=l.length+1}}static from(e,n=e.reduce((i,r)=>i+r.length+1,-1)){let i=0;for(let p of e)i+=p.lines;if(i<32){let p=[];for(let m of e)m.flatten(p);return new Ke(p,n)}let r=Math.max(32,i>>5),s=r<<1,o=r>>1,a=[],l=0,u=-1,c=[];function f(p){let m;if(p.lines>s&&p instanceof Ln)for(let O of p.children)f(O);else p.lines>o&&(l>o||!l)?(d(),a.push(p)):p instanceof Ke&&l&&(m=c[c.length-1])instanceof Ke&&p.lines+m.lines<=32?(l+=p.lines,u+=p.length+1,c[c.length-1]=new Ke(m.text.concat(p.text),m.length+1+p.length)):(l+p.lines>r&&d(),l+=p.lines,u+=p.length+1,c.push(p))}function d(){l!=0&&(a.push(c.length==1?c[0]:Ln.from(c,u)),u=-1,l=c.length=0)}for(let p of e)f(p);return d(),a.length==1?a[0]:new Ln(a,n)}}Te.empty=new Ke([""],0);function S$(t){let e=-1;for(let n of t)e+=n.length+1;return e}function _u(t,e,n=0,i=1e9){for(let r=0,s=0,o=!0;s<t.length&&r<=i;s++){let a=t[s],l=r+a.length;l>=n&&(l>i&&(a=a.slice(0,i-r)),r<n&&(a=a.slice(n-r)),o?(e[e.length-1]+=a,o=!1):e.push(a)),r=l+1}return e}function Zg(t,e,n){return _u(t,[""],e,n)}class ua{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof Ke?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,r=this.nodes[i],s=this.offsets[i],o=s>>1,a=r instanceof Ke?r.text.length:r.children.length;if(o==(n>0?a:0)){if(i==0)return this.done=!0,this.value="",this;n>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(n>0?0:1)){if(this.offsets[i]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(r instanceof Ke){let l=r.text[o+(n<0?-1:0)];if(this.offsets[i]+=n,l.length>Math.max(0,e))return this.value=e==0?l:n>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=r.children[o+(n<0?-1:0)];e>l.length?(e-=l.length,this.offsets[i]+=n):(n<0&&this.offsets[i]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof Ke?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class s_{constructor(e,n,i){this.value="",this.done=!1,this.cursor=new ua(e,n>i?-1:1),this.pos=n>i?e.length:0,this.from=Math.min(n,i),this.to=Math.max(n,i)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let i=n<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*n,this.value=r.length<=i?r:n<0?r.slice(r.length-i):r.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class o_{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:i,value:r}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Te.prototype[Symbol.iterator]=function(){return this.iter()},ua.prototype[Symbol.iterator]=s_.prototype[Symbol.iterator]=o_.prototype[Symbol.iterator]=function(){return this});let T$=class{constructor(e,n,i,r){this.from=e,this.to=n,this.number=i,this.text=r}get length(){return this.to-this.from}};function Ls(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}let _s="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=1;t<_s.length;t++)_s[t]+=_s[t-1];function P$(t){for(let e=1;e<_s.length;e+=2)if(_s[e]>t)return _s[e-1]<=t;return!1}function zg(t){return t>=127462&&t<=127487}const qg=8205;function wt(t,e,n=!0,i=!0){return(n?a_:A$)(t,e,i)}function a_(t,e,n){if(e==t.length)return e;e&&l_(t.charCodeAt(e))&&u_(t.charCodeAt(e-1))&&e--;let i=xn(t,e);for(e+=ci(i);e<t.length;){let r=xn(t,e);if(i==qg||r==qg||n&&P$(r))e+=ci(r),i=r;else if(zg(r)){let s=0,o=e-2;for(;o>=0&&zg(xn(t,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function A$(t,e,n){for(;e>0;){let i=a_(t,e-2,n);if(i<e)return i;e--}return 0}function l_(t){return t>=56320&&t<57344}function u_(t){return t>=55296&&t<56320}function xn(t,e){let n=t.charCodeAt(e);if(!u_(n)||e+1==t.length)return n;let i=t.charCodeAt(e+1);return l_(i)?(n-55296<<10)+(i-56320)+65536:n}function c_(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function ci(t){return t<65536?1:2}const jf=/\r\n?|\n/;var Mt=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(Mt||(Mt={}));class Un{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let i=this.sections[n+1];e+=i<0?this.sections[n]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,i=0,r=0;n<this.sections.length;){let s=this.sections[n++],o=this.sections[n++];o<0?(e(i,r,s),r+=s):r+=o,i+=s}}iterChangedRanges(e,n=!1){Xf(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let i=this.sections[n++],r=this.sections[n++];r<0?e.push(i,r):e.push(r,i)}return new Un(e)}composeDesc(e){return this.empty?e:e.empty?this:h_(this,e)}mapDesc(e,n=!1){return e.empty?this:Wf(this,e,n)}mapPos(e,n=-1,i=Mt.Simple){let r=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],u=r+a;if(l<0){if(u>e)return s+(e-r);s+=a}else{if(i!=Mt.Simple&&u>=e&&(i==Mt.TrackDel&&r<e&&u>e||i==Mt.TrackBefore&&r<e||i==Mt.TrackAfter&&u>e))return null;if(u>e||u==e&&n<0&&!a)return e==r||n<0?s:s+l;s+=l}r=u}if(e>r)throw new RangeError(`Position ${e} is out of range for changeset of length ${r}`);return s}touchesRange(e,n=e){for(let i=0,r=0;i<this.sections.length&&r<=n;){let s=this.sections[i++],o=this.sections[i++],a=r+s;if(o>=0&&r<=n&&a>=e)return r<e&&a>n?"cover":!0;r=a}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let i=this.sections[n++],r=this.sections[n++];e+=(e?" ":"")+i+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Un(e)}static create(e){return new Un(e)}}class at extends Un{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Xf(this,(n,i,r,s,o)=>e=e.replace(r,r+(i-n),o),!1),e}mapDesc(e,n=!1){return Wf(this,e,n,!0)}invert(e){let n=this.sections.slice(),i=[];for(let r=0,s=0;r<n.length;r+=2){let o=n[r],a=n[r+1];if(a>=0){n[r]=a,n[r+1]=o;let l=r>>1;for(;i.length<l;)i.push(Te.empty);i.push(o?e.slice(s,s+o):Te.empty)}s+=o}return new at(n,i)}compose(e){return this.empty?e:e.empty?this:h_(this,e,!0)}map(e,n=!1){return e.empty?this:Wf(this,e,n,!0)}iterChanges(e,n=!1){Xf(this,e,n)}get desc(){return Un.create(this.sections)}filter(e){let n=[],i=[],r=[],s=new Pa(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let c=Math.min(s.len,l-a);Ct(r,c,-1);let f=s.ins==-1?-1:s.off==0?s.ins:0;Ct(n,c,f),f>0&&zi(i,n,s.text),s.forward(c),a+=c}let u=e[o++];for(;a<u;){if(s.done)break e;let c=Math.min(s.len,u-a);Ct(n,c,-1),Ct(r,c,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(c),a+=c}}return{changes:new at(n,i),filtered:Un.create(r)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let i=this.sections[n],r=this.sections[n+1];r<0?e.push(i):r==0?e.push([i]):e.push([i].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,i){let r=[],s=[],o=0,a=null;function l(c=!1){if(!c&&!r.length)return;o<n&&Ct(r,n-o,-1);let f=new at(r,s);a=a?a.compose(f.map(a)):f,r=[],s=[],o=0}function u(c){if(Array.isArray(c))for(let f of c)u(f);else if(c instanceof at){if(c.length!=n)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${n})`);l(),a=a?a.compose(c.map(a)):c}else{let{from:f,to:d=f,insert:p}=c;if(f>d||f<0||d>n)throw new RangeError(`Invalid change range ${f} to ${d} (in doc of length ${n})`);let m=p?typeof p=="string"?Te.of(p.split(i||jf)):p:Te.empty,O=m.length;if(f==d&&O==0)return;f<o&&l(),f>o&&Ct(r,f-o,-1),Ct(r,d-f,O),zi(s,r,m),o=d}}return u(e),l(!a),a}static empty(e){return new at(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],i=[];for(let r=0;r<e.length;r++){let s=e[r];if(typeof s=="number")n.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)n.push(s[0],0);else{for(;i.length<r;)i.push(Te.empty);i[r]=Te.of(s.slice(1)),n.push(s[0],i[r].length)}}}return new at(n,i)}static createSet(e,n){return new at(e,n)}}function Ct(t,e,n,i=!1){if(e==0&&n<=0)return;let r=t.length-2;r>=0&&n<=0&&n==t[r+1]?t[r]+=e:e==0&&t[r]==0?t[r+1]+=n:i?(t[r]+=e,t[r+1]+=n):t.push(e,n)}function zi(t,e,n){if(n.length==0)return;let i=e.length-2>>1;if(i<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<i;)t.push(Te.empty);t.push(n)}}function Xf(t,e,n){let i=t.inserted;for(let r=0,s=0,o=0;o<t.sections.length;){let a=t.sections[o++],l=t.sections[o++];if(l<0)r+=a,s+=a;else{let u=r,c=s,f=Te.empty;for(;u+=a,c+=l,l&&i&&(f=f.append(i[o-2>>1])),!(n||o==t.sections.length||t.sections[o+1]<0);)a=t.sections[o++],l=t.sections[o++];e(r,u,s,c,f),r=u,s=c}}}function Wf(t,e,n,i=!1){let r=[],s=i?[]:null,o=new Pa(t),a=new Pa(e);for(let l=-1;;)if(o.ins==-1&&a.ins==-1){let u=Math.min(o.len,a.len);Ct(r,u,-1),o.forward(u),a.forward(u)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!n))){let u=a.len;for(Ct(r,a.ins,-1);u;){let c=Math.min(o.len,u);o.ins>=0&&l<o.i&&o.len<=c&&(Ct(r,0,o.ins),s&&zi(s,r,o.text),l=o.i),o.forward(c),u-=c}a.next()}else if(o.ins>=0){let u=0,c=o.len;for(;c;)if(a.ins==-1){let f=Math.min(c,a.len);u+=f,c-=f,a.forward(f)}else if(a.ins==0&&a.len<c)c-=a.len,a.next();else break;Ct(r,u,l<o.i?o.ins:0),s&&l<o.i&&zi(s,r,o.text),l=o.i,o.forward(o.len-c)}else{if(o.done&&a.done)return s?at.createSet(r,s):Un.create(r);throw new Error("Mismatched change set lengths")}}function h_(t,e,n=!1){let i=[],r=n?[]:null,s=new Pa(t),o=new Pa(e);for(let a=!1;;){if(s.done&&o.done)return r?at.createSet(i,r):Un.create(i);if(s.ins==0)Ct(i,s.len,0,a),s.next();else if(o.len==0&&!o.done)Ct(i,0,o.ins,a),r&&zi(r,i,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),u=i.length;if(s.ins==-1){let c=o.ins==-1?-1:o.off?0:o.ins;Ct(i,l,c,a),r&&c&&zi(r,i,o.text)}else o.ins==-1?(Ct(i,s.off?0:s.len,l,a),r&&zi(r,i,s.textBit(l))):(Ct(i,s.off?0:s.len,o.off?0:o.ins,a),r&&!o.off&&zi(r,i,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||i.length>u),s.forward2(l),o.forward(l)}}}}class Pa{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?Te.empty:e[n]}textBit(e){let{inserted:n}=this.set,i=this.i-2>>1;return i>=n.length&&!e?Te.empty:n[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Sr{constructor(e,n,i){this.from=e,this.to=n,this.flags=i}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let i,r;return this.empty?i=r=e.mapPos(this.from,n):(i=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),i==this.from&&r==this.to?this:new Sr(i,r,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return Z.range(e,n);let i=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return Z.range(this.anchor,i)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Z.range(e.anchor,e.head)}static create(e,n,i){return new Sr(e,n,i)}}class Z{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:Z.create(this.ranges.map(i=>i.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let i=0;i<this.ranges.length;i++)if(!this.ranges[i].eq(e.ranges[i],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Z([this.main],0)}addRange(e,n=!0){return Z.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let i=this.ranges.slice();return i[n]=e,Z.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Z(e.ranges.map(n=>Sr.fromJSON(n)),e.main)}static single(e,n=e){return new Z([Z.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,r=0;r<e.length;r++){let s=e[r];if(s.empty?s.from<=i:s.from<i)return Z.normalized(e.slice(),n);i=s.to}return new Z(e,n)}static cursor(e,n=0,i,r){return Sr.create(e,e,(n==0?0:n<0?8:16)|(i==null?7:Math.min(6,i))|(r??16777215)<<6)}static range(e,n,i,r){let s=(i??16777215)<<6|(r==null?7:Math.min(6,r));return n<e?Sr.create(n,e,48|s):Sr.create(e,n,(n>e?8:0)|s)}static normalized(e,n=0){let i=e[n];e.sort((r,s)=>r.from-s.from),n=e.indexOf(i);for(let r=1;r<e.length;r++){let s=e[r],o=e[r-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);r<=n&&n--,e.splice(--r,2,s.anchor>s.head?Z.range(l,a):Z.range(a,l))}}return new Z(e,n)}}function f_(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let Mp=0;class ne{constructor(e,n,i,r,s){this.combine=e,this.compareInput=n,this.compare=i,this.isStatic=r,this.id=Mp++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new ne(e.combine||(n=>n),e.compareInput||((n,i)=>n===i),e.compare||(e.combine?(n,i)=>n===i:Lp),!!e.static,e.enables)}of(e){return new wu([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new wu(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new wu(e,this,2,n)}from(e,n){return n||(n=i=>i),this.compute([e],i=>n(i.field(e)))}}function Lp(t,e){return t==e||t.length==e.length&&t.every((n,i)=>n===e[i])}class wu{constructor(e,n,i,r){this.dependencies=e,this.facet=n,this.type=i,this.value=r,this.id=Mp++}dynamicSlot(e){var n;let i=this.value,r=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,u=!1,c=[];for(let f of this.dependencies)f=="doc"?l=!0:f=="selection"?u=!0:((n=e[f.id])!==null&&n!==void 0?n:1)&1||c.push(e[f.id]);return{create(f){return f.values[o]=i(f),1},update(f,d){if(l&&d.docChanged||u&&(d.docChanged||d.selection)||Uf(f,c)){let p=i(f);if(a?!Bg(p,f.values[o],r):!r(p,f.values[o]))return f.values[o]=p,1}return 0},reconfigure:(f,d)=>{let p,m=d.config.address[s];if(m!=null){let O=Hu(d,m);if(this.dependencies.every(y=>y instanceof ne?d.facet(y)===f.facet(y):y instanceof On?d.field(y,!1)==f.field(y,!1):!0)||(a?Bg(p=i(f),O,r):r(p=i(f),O)))return f.values[o]=O,0}else p=i(f);return f.values[o]=p,1}}}}function Bg(t,e,n){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(!n(t[i],e[i]))return!1;return!0}function Uf(t,e){let n=!1;for(let i of e)ca(t,i)&1&&(n=!0);return n}function E$(t,e,n){let i=n.map(l=>t[l.id]),r=n.map(l=>l.type),s=i.filter(l=>!(l&1)),o=t[e.id]>>1;function a(l){let u=[];for(let c=0;c<i.length;c++){let f=Hu(l,i[c]);if(r[c]==2)for(let d of f)u.push(d);else u.push(f)}return e.combine(u)}return{create(l){for(let u of i)ca(l,u);return l.values[o]=a(l),1},update(l,u){if(!Uf(l,s))return 0;let c=a(l);return e.compare(c,l.values[o])?0:(l.values[o]=c,1)},reconfigure(l,u){let c=Uf(l,i),f=u.config.facets[e.id],d=u.facet(e);if(f&&!c&&Lp(n,f))return l.values[o]=d,0;let p=a(l);return e.compare(p,d)?(l.values[o]=d,0):(l.values[o]=p,1)}}}const jg=ne.define({static:!0});class On{constructor(e,n,i,r,s){this.id=e,this.createF=n,this.updateF=i,this.compareF=r,this.spec=s,this.provides=void 0}static define(e){let n=new On(Mp++,e.create,e.update,e.compare||((i,r)=>i===r),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(jg).find(i=>i.field==this);return(n?.create||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:i=>(i.values[n]=this.create(i),1),update:(i,r)=>{let s=i.values[n],o=this.updateF(s,r);return this.compareF(s,o)?0:(i.values[n]=o,1)},reconfigure:(i,r)=>r.config.address[this.id]!=null?(i.values[n]=r.field(this),0):(i.values[n]=this.create(i),1)}}init(e){return[this,jg.of({field:this,create:e})]}get extension(){return this}}const wr={lowest:4,low:3,default:2,high:1,highest:0};function Vo(t){return e=>new d_(e,t)}const lr={highest:Vo(wr.highest),high:Vo(wr.high),default:Vo(wr.default),low:Vo(wr.low),lowest:Vo(wr.lowest)};class d_{constructor(e,n){this.inner=e,this.prec=n}}class Fn{of(e){return new Yf(this,e)}reconfigure(e){return Fn.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Yf{constructor(e,n){this.compartment=e,this.inner=n}}class Gu{constructor(e,n,i,r,s,o){for(this.base=e,this.compartments=n,this.dynamicSlots=i,this.address=r,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,i){let r=[],s=Object.create(null),o=new Map;for(let d of C$(e,n,o))d instanceof On?r.push(d):(s[d.facet.id]||(s[d.facet.id]=[])).push(d);let a=Object.create(null),l=[],u=[];for(let d of r)a[d.id]=u.length<<1,u.push(p=>d.slot(p));let c=i?.config.facets;for(let d in s){let p=s[d],m=p[0].facet,O=c&&c[d]||[];if(p.every(y=>y.type==0))if(a[m.id]=l.length<<1|1,Lp(O,p))l.push(i.facet(m));else{let y=m.combine(p.map(_=>_.value));l.push(i&&m.compare(y,i.facet(m))?i.facet(m):y)}else{for(let y of p)y.type==0?(a[y.id]=l.length<<1|1,l.push(y.value)):(a[y.id]=u.length<<1,u.push(_=>y.dynamicSlot(_)));a[m.id]=u.length<<1,u.push(y=>E$(y,m,p))}}let f=u.map(d=>d(a));return new Gu(e,o,f,a,l,s)}}function C$(t,e,n){let i=[[],[],[],[],[]],r=new Map;function s(o,a){let l=r.get(o);if(l!=null){if(l<=a)return;let u=i[l].indexOf(o);u>-1&&i[l].splice(u,1),o instanceof Yf&&n.delete(o.compartment)}if(r.set(o,a),Array.isArray(o))for(let u of o)s(u,a);else if(o instanceof Yf){if(n.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let u=e.get(o.compartment)||o.inner;n.set(o.compartment,u),s(u,a)}else if(o instanceof d_)s(o.inner,o.prec);else if(o instanceof On)i[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof wu)i[a].push(o),o.facet.extensions&&s(o.facet.extensions,wr.default);else{let u=o.extension;if(!u)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(u,a)}}return s(t,wr.default),i.reduce((o,a)=>o.concat(a))}function ca(t,e){if(e&1)return 2;let n=e>>1,i=t.status[n];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;t.status[n]=4;let r=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|r}function Hu(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const p_=ne.define(),Gf=ne.define({combine:t=>t.some(e=>e),static:!0}),m_=ne.define({combine:t=>t.length?t[0]:void 0,static:!0}),g_=ne.define(),O_=ne.define(),b_=ne.define(),y_=ne.define({combine:t=>t.length?t[0]:!1});class vi{constructor(e,n){this.type=e,this.value=n}static define(){return new $$}}class $${of(e){return new vi(this,e)}}class R${constructor(e){this.map=e}of(e){return new Pe(this,e)}}class Pe{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new Pe(this.type,n)}is(e){return this.type==e}static define(e={}){return new R$(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let i=[];for(let r of e){let s=r.map(n);s&&i.push(s)}return i}}Pe.reconfigure=Pe.define();Pe.appendConfig=Pe.define();class tt{constructor(e,n,i,r,s,o){this.startState=e,this.changes=n,this.selection=i,this.effects=r,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,i&&f_(i,n.newLength),s.some(a=>a.type==tt.time)||(this.annotations=s.concat(tt.time.of(Date.now())))}static create(e,n,i,r,s,o){return new tt(e,n,i,r,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(tt.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}tt.time=vi.define();tt.userEvent=vi.define();tt.addToHistory=vi.define();tt.remote=vi.define();function I$(t,e){let n=[];for(let i=0,r=0;;){let s,o;if(i<t.length&&(r==e.length||e[r]>=t[i]))s=t[i++],o=t[i++];else if(r<e.length)s=e[r++],o=e[r++];else return n;!n.length||n[n.length-1]<s?n.push(s,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function v_(t,e,n){var i;let r,s,o;return n?(r=e.changes,s=at.empty(e.changes.length),o=t.changes.compose(e.changes)):(r=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(r)),{changes:o,selection:e.selection?e.selection.map(s):(i=t.selection)===null||i===void 0?void 0:i.map(r),effects:Pe.mapEffects(t.effects,r).concat(Pe.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function Hf(t,e,n){let i=e.selection,r=ws(e.annotations);return e.userEvent&&(r=r.concat(tt.userEvent.of(e.userEvent))),{changes:e.changes instanceof at?e.changes:at.of(e.changes||[],n,t.facet(m_)),selection:i&&(i instanceof Z?i:Z.single(i.anchor,i.head)),effects:ws(e.effects),annotations:r,scrollIntoView:!!e.scrollIntoView}}function __(t,e,n){let i=Hf(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(n=!1);let o=!!e[s].sequential;i=v_(i,Hf(t,e[s],o?i.changes.newLength:t.doc.length),o)}let r=tt.create(t,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return D$(n?Q$(r):r)}function Q$(t){let e=t.startState,n=!0;for(let r of e.facet(g_)){let s=r(t);if(s===!1){n=!1;break}Array.isArray(s)&&(n=n===!0?s:I$(n,s))}if(n!==!0){let r,s;if(n===!1)s=t.changes.invertedDesc,r=at.empty(e.doc.length);else{let o=t.changes.filter(n);r=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}t=tt.create(e,r,t.selection&&t.selection.map(s),Pe.mapEffects(t.effects,s),t.annotations,t.scrollIntoView)}let i=e.facet(O_);for(let r=i.length-1;r>=0;r--){let s=i[r](t);s instanceof tt?t=s:Array.isArray(s)&&s.length==1&&s[0]instanceof tt?t=s[0]:t=__(e,ws(s),!1)}return t}function D$(t){let e=t.startState,n=e.facet(b_),i=t;for(let r=n.length-1;r>=0;r--){let s=n[r](t);s&&Object.keys(s).length&&(i=v_(i,Hf(e,s,t.changes.newLength),!0))}return i==t?t:tt.create(e,t.changes,t.selection,i.effects,i.annotations,i.scrollIntoView)}const V$=[];function ws(t){return t==null?V$:Array.isArray(t)?t:[t]}var xt=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(xt||(xt={}));const M$=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Kf;try{Kf=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function L$(t){if(Kf)return Kf.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||M$.test(n)))return!0}return!1}function F$(t){return e=>{if(!/\S/.test(e))return xt.Space;if(L$(e))return xt.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return xt.Word;return xt.Other}}class _e{constructor(e,n,i,r,s,o){this.config=e,this.doc=n,this.selection=i,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)ca(this,a<<1);this.computeSlot=null}field(e,n=!0){let i=this.config.address[e.id];if(i==null){if(n)throw new RangeError("Field is not present in this state");return}return ca(this,i),Hu(this,i)}update(...e){return __(this,e,!0)}applyTransaction(e){let n=this.config,{base:i,compartments:r}=n;for(let a of e.effects)a.is(Fn.reconfigure)?(n&&(r=new Map,n.compartments.forEach((l,u)=>r.set(u,l)),n=null),r.set(a.value.compartment,a.value.extension)):a.is(Pe.reconfigure)?(n=null,i=a.value):a.is(Pe.appendConfig)&&(n=null,i=ws(i).concat(a.value));let s;n?s=e.startState.values.slice():(n=Gu.resolve(i,r,this),s=new _e(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(l,u)=>u.reconfigure(l,this),null).values);let o=e.startState.facet(Gf)?e.newSelection:e.newSelection.asSingle();new _e(n,e.newDoc,o,s,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:Z.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,i=e(n.ranges[0]),r=this.changes(i.changes),s=[i.range],o=ws(i.effects);for(let a=1;a<n.ranges.length;a++){let l=e(n.ranges[a]),u=this.changes(l.changes),c=u.map(r);for(let d=0;d<a;d++)s[d]=s[d].map(c);let f=r.mapDesc(u,!0);s.push(l.range.map(f)),r=r.compose(c),o=Pe.mapEffects(o,c).concat(Pe.mapEffects(ws(l.effects),f))}return{changes:r,selection:Z.create(s,n.mainIndex),effects:o}}changes(e=[]){return e instanceof at?e:at.of(e,this.doc.length,this.facet(_e.lineSeparator))}toText(e){return Te.of(e.split(this.facet(_e.lineSeparator)||jf))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(ca(this,n),Hu(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let r=e[i];r instanceof On&&this.config.address[r.id]!=null&&(n[i]=r.spec.toJSON(this.field(e[i]),this))}return n}static fromJSON(e,n={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(i){for(let s in i)if(Object.prototype.hasOwnProperty.call(e,s)){let o=i[s],a=e[s];r.push(o.init(l=>o.spec.fromJSON(a,l)))}}return _e.create({doc:e.doc,selection:Z.fromJSON(e.selection),extensions:n.extensions?r.concat([n.extensions]):r})}static create(e={}){let n=Gu.resolve(e.extensions||[],new Map),i=e.doc instanceof Te?e.doc:Te.of((e.doc||"").split(n.staticFacet(_e.lineSeparator)||jf)),r=e.selection?e.selection instanceof Z?e.selection:Z.single(e.selection.anchor,e.selection.head):Z.single(0);return f_(r,i.length),n.staticFacet(Gf)||(r=r.asSingle()),new _e(n,i,r,n.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(_e.tabSize)}get lineBreak(){return this.facet(_e.lineSeparator)||`
`}get readOnly(){return this.facet(y_)}phrase(e,...n){for(let i of this.facet(_e.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(i,r)=>{if(r=="$")return"$";let s=+(r||1);return!s||s>n.length?i:n[s-1]})),e}languageDataAt(e,n,i=-1){let r=[];for(let s of this.facet(p_))for(let o of s(this,n,i))Object.prototype.hasOwnProperty.call(o,e)&&r.push(o[e]);return r}charCategorizer(e){return F$(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:i,length:r}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-i,a=e-i;for(;o>0;){let l=wt(n,o,!1);if(s(n.slice(l,o))!=xt.Word)break;o=l}for(;a<r;){let l=wt(n,a);if(s(n.slice(a,l))!=xt.Word)break;a=l}return o==a?null:Z.range(o+i,a+i)}}_e.allowMultipleSelections=Gf;_e.tabSize=ne.define({combine:t=>t.length?t[0]:4});_e.lineSeparator=m_;_e.readOnly=y_;_e.phrases=ne.define({compare(t,e){let n=Object.keys(t),i=Object.keys(e);return n.length==i.length&&n.every(r=>t[r]==e[r])}});_e.languageData=p_;_e.changeFilter=g_;_e.transactionFilter=O_;_e.transactionExtender=b_;Fn.reconfigure=Pe.define();function Fp(t,e,n={}){let i={};for(let r of t)for(let s of Object.keys(r)){let o=r[s],a=i[s];if(a===void 0)i[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(n,s))i[s]=n[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let r in e)i[r]===void 0&&(i[r]=e[r]);return i}class Dr{eq(e){return this==e}range(e,n=e){return Jf.create(e,n,this)}}Dr.prototype.startSide=Dr.prototype.endSide=0;Dr.prototype.point=!1;Dr.prototype.mapMode=Mt.TrackDel;let Jf=class w_{constructor(e,n,i){this.from=e,this.to=n,this.value=i}static create(e,n,i){return new w_(e,n,i)}};function ed(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class Np{constructor(e,n,i,r){this.from=e,this.to=n,this.value=i,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,n,i,r=0){let s=i?this.to:this.from;for(let o=r,a=s.length;;){if(o==a)return o;let l=o+a>>1,u=s[l]-e||(i?this.value[l].endSide:this.value[l].startSide)-n;if(l==o)return u>=0?o:a;u>=0?a=l:o=l+1}}between(e,n,i,r){for(let s=this.findIndex(n,-1e9,!0),o=this.findIndex(i,1e9,!1,s);s<o;s++)if(r(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,n){let i=[],r=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let u=this.value[l],c=this.from[l]+e,f=this.to[l]+e,d,p;if(c==f){let m=n.mapPos(c,u.startSide,u.mapMode);if(m==null||(d=p=m,u.startSide!=u.endSide&&(p=n.mapPos(c,u.endSide),p<d)))continue}else if(d=n.mapPos(c,u.startSide),p=n.mapPos(f,u.endSide),d>p||d==p&&u.startSide>0&&u.endSide<=0)continue;(p-d||u.endSide-u.startSide)<0||(o<0&&(o=d),u.point&&(a=Math.max(a,p-d)),i.push(u),r.push(d-o),s.push(p-o))}return{mapped:i.length?new Np(r,s,i,a):null,pos:o}}}class ze{constructor(e,n,i,r){this.chunkPos=e,this.chunk=n,this.nextLayer=i,this.maxPoint=r}static create(e,n,i,r){return new ze(e,n,i,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:i=!1,filterFrom:r=0,filterTo:s=this.length}=e,o=e.filter;if(n.length==0&&!o)return this;if(i&&(n=n.slice().sort(ed)),this.isEmpty)return n.length?ze.of(n):this;let a=new x_(this,null,-1).goto(0),l=0,u=[],c=new Fs;for(;a.value||l<n.length;)if(l<n.length&&(a.from-n[l].from||a.startSide-n[l].value.startSide)>=0){let f=n[l++];c.addInner(f.from,f.to,f.value)||u.push(f)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==n.length||this.chunkEnd(a.chunkIndex)<n[l].from)&&(!o||r>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&c.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||r>a.to||s<a.from||o(a.from,a.to,a.value))&&(c.addInner(a.from,a.to,a.value)||u.push(Jf.create(a.from,a.to,a.value))),a.next());return c.finishInner(this.nextLayer.isEmpty&&!u.length?ze.empty:this.nextLayer.update({add:u,filter:o,filterFrom:r,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],i=[],r=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],u=e.touchesRange(a,a+l.length);if(u===!1)r=Math.max(r,l.maxPoint),n.push(l),i.push(e.mapPos(a));else if(u===!0){let{mapped:c,pos:f}=l.map(a,e);c&&(r=Math.max(r,c.maxPoint),n.push(c),i.push(f))}}let s=this.nextLayer.map(e);return n.length==0?s:new ze(i,n,s||ze.empty,r)}between(e,n,i){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let s=this.chunkPos[r],o=this.chunk[r];if(n>=s&&e<=s+o.length&&o.between(s,e-s,n-s,i)===!1)return}this.nextLayer.between(e,n,i)}}iter(e=0){return Aa.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return Aa.from(e).goto(n)}static compare(e,n,i,r,s=-1){let o=e.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=s),a=n.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=s),l=Xg(o,a,i),u=new Mo(o,l,s),c=new Mo(a,l,s);i.iterGaps((f,d,p)=>Wg(u,f,c,d,p,r)),i.empty&&i.length==0&&Wg(u,0,c,0,0,r)}static eq(e,n,i=0,r){r==null&&(r=999999999);let s=e.filter(c=>!c.isEmpty&&n.indexOf(c)<0),o=n.filter(c=>!c.isEmpty&&e.indexOf(c)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=Xg(s,o),l=new Mo(s,a,0).goto(i),u=new Mo(o,a,0).goto(i);for(;;){if(l.to!=u.to||!td(l.active,u.active)||l.point&&(!u.point||!l.point.eq(u.point)))return!1;if(l.to>r)return!0;l.next(),u.next()}}static spans(e,n,i,r,s=-1){let o=new Mo(e,null,s).goto(n),a=n,l=o.openStart;for(;;){let u=Math.min(o.to,i);if(o.point){let c=o.activeForPoint(o.to),f=o.pointFrom<n?c.length+1:o.point.startSide<0?c.length:Math.min(c.length,l);r.point(a,u,o.point,c,f,o.pointRank),l=Math.min(o.openEnd(u),c.length)}else u>a&&(r.span(a,u,o.active,l),l=o.openEnd(u));if(o.to>i)return l+(o.point&&o.to>i?1:0);a=o.to,o.next()}}static of(e,n=!1){let i=new Fs;for(let r of e instanceof Jf?[e]:n?N$(e):e)i.add(r.from,r.to,r.value);return i.finish()}static join(e){if(!e.length)return ze.empty;let n=e[e.length-1];for(let i=e.length-2;i>=0;i--)for(let r=e[i];r!=ze.empty;r=r.nextLayer)n=new ze(r.chunkPos,r.chunk,n,Math.max(r.maxPoint,n.maxPoint));return n}}ze.empty=new ze([],[],null,-1);function N$(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let i=t[n];if(ed(e,i)>0)return t.slice().sort(ed);e=i}return t}ze.empty.nextLayer=ze.empty;class Fs{finishChunk(e){this.chunks.push(new Np(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,i){this.addInner(e,n,i)||(this.nextLayer||(this.nextLayer=new Fs)).add(e,n,i)}addInner(e,n,i){let r=e-this.lastTo||i.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return r<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=n,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let i=n.value.length-1;return this.last=n.value[i],this.lastFrom=n.from[i]+e,this.lastTo=n.to[i]+e,!0}finish(){return this.finishInner(ze.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=ze.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function Xg(t,e,n){let i=new Map;for(let s of t)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&i.set(s.chunk[o],s.chunkPos[o]);let r=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=i.get(s.chunk[o]);a!=null&&(n?n.mapPos(a):a)==s.chunkPos[o]&&!n?.touchesRange(a,a+s.chunk[o].length)&&r.add(s.chunk[o])}return r}class x_{constructor(e,n,i,r=0){this.layer=e,this.skip=n,this.minPoint=i,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,i){for(;this.chunkIndex<this.layer.chunk.length;){let r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<e||r.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!i||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],i=e+n.from[this.rangeIndex];if(this.from=i,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Aa{constructor(e){this.heap=e}static from(e,n=null,i=-1){let r=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=i&&r.push(new x_(o,n,i,s));return r.length==1?r[0]:new Aa(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let i of this.heap)i.goto(e,n);for(let i=this.heap.length>>1;i>=0;i--)Rh(this.heap,i);return this.next(),this}forward(e,n){for(let i of this.heap)i.forward(e,n);for(let i=this.heap.length>>1;i>=0;i--)Rh(this.heap,i);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Rh(this.heap,0)}}}function Rh(t,e){for(let n=t[e];;){let i=(e<<1)+1;if(i>=t.length)break;let r=t[i];if(i+1<t.length&&r.compare(t[i+1])>=0&&(r=t[i+1],i++),n.compare(r)<0)break;t[i]=n,t[e]=r,e=i}}class Mo{constructor(e,n,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Aa.from(e,n,i)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){Vl(this.active,e),Vl(this.activeTo,e),Vl(this.activeRank,e),this.minActive=Ug(this.active,this.activeTo)}addActive(e){let n=0,{value:i,to:r,rank:s}=this.cursor;for(;n<this.activeRank.length&&(s-this.activeRank[n]||r-this.activeTo[n])>0;)n++;Ml(this.active,n,i),Ml(this.activeTo,n,r),Ml(this.activeRank,n,s),e&&Ml(e,n,this.cursor.from),this.minActive=Ug(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),i&&Vl(i,r)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(i),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let r=i.length-1;r>=0&&i[r]<e;r--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&n.push(this.active[i]);return n.reverse()}openEnd(e){let n=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)n++;return n}}function Wg(t,e,n,i,r,s){t.goto(e),n.goto(i);let o=i+r,a=i,l=i-e;for(;;){let u=t.to+l-n.to||t.endSide-n.endSide,c=u<0?t.to+l:n.to,f=Math.min(c,o);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&td(t.activeForPoint(t.to),n.activeForPoint(n.to))||s.comparePoint(a,f,t.point,n.point):f>a&&!td(t.active,n.active)&&s.compareRange(a,f,t.active,n.active),c>o)break;a=c,u<=0&&t.next(),u>=0&&n.next()}}function td(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function Vl(t,e){for(let n=e,i=t.length-1;n<i;n++)t[n]=t[n+1];t.pop()}function Ml(t,e,n){for(let i=t.length-1;i>=e;i--)t[i+1]=t[i];t[e]=n}function Ug(t,e){let n=-1,i=1e9;for(let r=0;r<e.length;r++)(e[r]-i||t[r].endSide-t[n].endSide)<0&&(n=r,i=e[r]);return n}function Oi(t,e,n=t.length){let i=0;for(let r=0;r<n;)t.charCodeAt(r)==9?(i+=e-i%e,r++):(i++,r=wt(t,r));return i}function Z$(t,e,n,i){for(let r=0,s=0;;){if(s>=e)return r;if(r==t.length)break;s+=t.charCodeAt(r)==9?n-s%n:1,r=wt(t,r)}return i===!0?-1:t.length}const nd="ͼ",Yg=typeof Symbol>"u"?"__"+nd:Symbol.for(nd),id=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Gg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class nr{constructor(e,n){this.rules=[];let{finish:i}=n||{};function r(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,u){let c=[],f=/^@(\w+)\b/.exec(o[0]),d=f&&f[1]=="keyframes";if(f&&a==null)return l.push(o[0]+";");for(let p in a){let m=a[p];if(/&/.test(p))s(p.split(/,\s*/).map(O=>o.map(y=>O.replace(/&/,y))).reduce((O,y)=>O.concat(y)),m,l);else if(m&&typeof m=="object"){if(!f)throw new RangeError("The value of a property ("+p+") should be a primitive value.");s(r(p),m,c,d)}else m!=null&&c.push(p.replace(/_.*/,"").replace(/[A-Z]/g,O=>"-"+O.toLowerCase())+": "+m+";")}(c.length||d)&&l.push((i&&!f&&!u?o.map(i):o).join(", ")+" {"+c.join(" ")+"}")}for(let o in e)s(r(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Gg[Yg]||1;return Gg[Yg]=e+1,nd+e.toString(36)}static mount(e,n,i){let r=e[id],s=i&&i.nonce;r?s&&r.setNonce(s):r=new z$(e,s),r.mount(Array.isArray(n)?n:[n],e)}}let Hg=new Map;class z${constructor(e,n){let i=e.ownerDocument||e,r=i.defaultView;if(!e.head&&e.adoptedStyleSheets&&r.CSSStyleSheet){let s=Hg.get(i);if(s)return e[id]=s;this.sheet=new r.CSSStyleSheet,Hg.set(i,this)}else this.styleTag=i.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[id]=this}mount(e,n){let i=this.sheet,r=0,s=0;for(let o=0;o<e.length;o++){let a=e[o],l=this.modules.indexOf(a);if(l<s&&l>-1&&(this.modules.splice(l,1),s--,l=-1),l==-1){if(this.modules.splice(s++,0,a),i)for(let u=0;u<a.rules.length;u++)i.insertRule(a.rules[u],r++)}else{for(;s<l;)r+=this.modules[s++].rules.length;r+=a.rules.length,s++}}if(i)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let o="";for(let l=0;l<this.modules.length;l++)o+=this.modules[l].getRules()+`
`;this.styleTag.textContent=o;let a=n.head||n;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var ir={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ea={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},q$=typeof navigator<"u"&&/Mac/.test(navigator.platform),B$=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var yt=0;yt<10;yt++)ir[48+yt]=ir[96+yt]=String(yt);for(var yt=1;yt<=24;yt++)ir[yt+111]="F"+yt;for(var yt=65;yt<=90;yt++)ir[yt]=String.fromCharCode(yt+32),Ea[yt]=String.fromCharCode(yt);for(var Ih in ir)Ea.hasOwnProperty(Ih)||(Ea[Ih]=ir[Ih]);function j$(t){var e=q$&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||B$&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Ea:ir)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function Ku(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function rd(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function X$(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function xu(t,e){if(!e.anchorNode)return!1;try{return rd(t,e.anchorNode)}catch{return!1}}function Ns(t){return t.nodeType==3?Mr(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function ha(t,e,n,i){return n?Kg(t,e,n,i,-1)||Kg(t,e,n,i,1):!1}function Vr(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function Ju(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function Kg(t,e,n,i,r){for(;;){if(t==n&&e==i)return!0;if(e==(r<0?0:bi(t))){if(t.nodeName=="DIV")return!1;let s=t.parentNode;if(!s||s.nodeType!=1)return!1;e=Vr(t)+(r<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(r<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=r<0?bi(t):0}else return!1}}function bi(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function jc(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function W$(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function k_(t,e){let n=e.width/t.offsetWidth,i=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(i>.995&&i<1.005||!isFinite(i)||Math.abs(e.height-t.offsetHeight)<1)&&(i=1),{scaleX:n,scaleY:i}}function U$(t,e,n,i,r,s,o,a){let l=t.ownerDocument,u=l.defaultView||window;for(let c=t,f=!1;c&&!f;)if(c.nodeType==1){let d,p=c==l.body,m=1,O=1;if(p)d=W$(u);else{if(/^(fixed|sticky)$/.test(getComputedStyle(c).position)&&(f=!0),c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}let S=c.getBoundingClientRect();({scaleX:m,scaleY:O}=k_(c,S)),d={left:S.left,right:S.left+c.clientWidth*m,top:S.top,bottom:S.top+c.clientHeight*O}}let y=0,_=0;if(r=="nearest")e.top<d.top?(_=-(d.top-e.top+o),n>0&&e.bottom>d.bottom+_&&(_=e.bottom-d.bottom+_+o)):e.bottom>d.bottom&&(_=e.bottom-d.bottom+o,n<0&&e.top-_<d.top&&(_=-(d.top+_-e.top+o)));else{let S=e.bottom-e.top,$=d.bottom-d.top;_=(r=="center"&&S<=$?e.top+S/2-$/2:r=="start"||r=="center"&&n<0?e.top-o:e.bottom-$+o)-d.top}if(i=="nearest"?e.left<d.left?(y=-(d.left-e.left+s),n>0&&e.right>d.right+y&&(y=e.right-d.right+y+s)):e.right>d.right&&(y=e.right-d.right+s,n<0&&e.left<d.left+y&&(y=-(d.left+y-e.left+s))):y=(i=="center"?e.left+(e.right-e.left)/2-(d.right-d.left)/2:i=="start"==a?e.left-s:e.right-(d.right-d.left)+s)-d.left,y||_)if(p)u.scrollBy(y,_);else{let S=0,$=0;if(_){let R=c.scrollTop;c.scrollTop+=_/O,$=(c.scrollTop-R)*O}if(y){let R=c.scrollLeft;c.scrollLeft+=y/m,S=(c.scrollLeft-R)*m}e={left:e.left-S,top:e.top-$,right:e.right-S,bottom:e.bottom-$},S&&Math.abs(S-y)<1&&(i="nearest"),$&&Math.abs($-_)<1&&(r="nearest")}if(p)break;c=c.assignedSlot||c.parentNode}else if(c.nodeType==11)c=c.host;else break}function Y$(t){let e=t.ownerDocument;for(let n=t.parentNode;n&&n!=e.body;)if(n.nodeType==1){if(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)return n;n=n.assignedSlot||n.parentNode}else if(n.nodeType==11)n=n.host;else break;return null}class G${constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:i}=e;this.set(n,Math.min(e.anchorOffset,n?bi(n):0),i,Math.min(e.focusOffset,i?bi(i):0))}set(e,n,i,r){this.anchorNode=e,this.anchorOffset=n,this.focusNode=i,this.focusOffset=r}}let rs=null;function S_(t){if(t.setActive)return t.setActive();if(rs)return t.focus(rs);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(rs==null?{get preventScroll(){return rs={preventScroll:!0},!0}}:void 0),!rs){rs=!1;for(let n=0;n<e.length;){let i=e[n++],r=e[n++],s=e[n++];i.scrollTop!=r&&(i.scrollTop=r),i.scrollLeft!=s&&(i.scrollLeft=s)}}}let Jg;function Mr(t,e,n=e){let i=Jg||(Jg=document.createRange());return i.setEnd(t,n),i.setStart(t,e),i}function xs(t,e,n,i){let r={key:e,code:e,keyCode:n,which:n,cancelable:!0};i&&({altKey:r.altKey,ctrlKey:r.ctrlKey,shiftKey:r.shiftKey,metaKey:r.metaKey}=i);let s=new KeyboardEvent("keydown",r);s.synthetic=!0,t.dispatchEvent(s);let o=new KeyboardEvent("keyup",r);return o.synthetic=!0,t.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function H$(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function T_(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function K$(t,e){let n=e.focusNode,i=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=i)return!1;for(i=Math.min(i,bi(n));;)if(i){if(n.nodeType!=1)return!1;let r=n.childNodes[i-1];r.contentEditable=="false"?i--:(n=r,i=bi(n))}else{if(n==t)return!0;i=Vr(n),n=n.parentNode}}function P_(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function A_(t,e){for(let n=t,i=e;;){if(n.nodeType==3&&i>0)return{node:n,offset:i};if(n.nodeType==1&&i>0){if(n.contentEditable=="false")return null;n=n.childNodes[i-1],i=bi(n)}else if(n.parentNode&&!Ju(n))i=Vr(n),n=n.parentNode;else return null}}function E_(t,e){for(let n=t,i=e;;){if(n.nodeType==3&&i<n.nodeValue.length)return{node:n,offset:i};if(n.nodeType==1&&i<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[i],i=0}else if(n.parentNode&&!Ju(n))i=Vr(n)+1,n=n.parentNode;else return null}}class Rt{constructor(e,n,i=!0){this.node=e,this.offset=n,this.precise=i}static before(e,n){return new Rt(e.parentNode,Vr(e),n)}static after(e,n){return new Rt(e.parentNode,Vr(e)+1,n)}}const Zp=[];class Ie{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let i of this.children){if(i==e)return n;n+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,n){if(this.flags&2){let i=this.dom,r=null,s;for(let o of this.children){if(o.flags&7){if(!o.dom&&(s=r?r.nextSibling:i.firstChild)){let a=Ie.get(s);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,n),o.flags&=-8}if(s=r?r.nextSibling:i.firstChild,n&&!n.written&&n.node==i&&s!=o.dom&&(n.written=!0),o.dom.parentNode==i)for(;s&&s!=o.dom;)s=eO(s);else i.insertBefore(o.dom,s);r=o.dom}for(s=r?r.nextSibling:i.firstChild,s&&n&&n.node==i&&(n.written=!0);s;)s=eO(s)}else if(this.flags&1)for(let i of this.children)i.flags&7&&(i.sync(e,n),i.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,n){let i;if(e==this.dom)i=this.dom.childNodes[n];else{let r=bi(e)==0?0:n==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;r==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?r=-1:r=1),e=s}r<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!Ie.get(i);)i=i.nextSibling;if(!i)return this.length;for(let r=0,s=0;;r++){let o=this.children[r];if(o.dom==i)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,n,i=0){let r=-1,s=-1,o=-1,a=-1;for(let l=0,u=i,c=i;l<this.children.length;l++){let f=this.children[l],d=u+f.length;if(u<e&&d>n)return f.domBoundsAround(e,n,u);if(d>=e&&r==-1&&(r=l,s=u),u>n&&f.dom.parentNode==this.dom){o=l,a=c;break}c=d,u=d+f.breakAfter}return{from:s,to:a<0?i+this.length:a,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.flags|=2),n.flags&1)return;n.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,i=Zp){this.markDirty();for(let r=e;r<n;r++){let s=this.children[r];s.parent==this&&i.indexOf(s)<0&&s.destroy()}this.children.splice(e,n-e,...i);for(let r=0;r<i.length;r++)i[r].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new C_(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,n,i,r,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}Ie.prototype.breakAfter=0;function eO(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class C_{constructor(e,n,i){this.children=e,this.pos=n,this.i=i,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function $_(t,e,n,i,r,s,o,a,l){let{children:u}=t,c=u.length?u[e]:null,f=s.length?s[s.length-1]:null,d=f?f.breakAfter:o;if(!(e==i&&c&&!o&&!d&&s.length<2&&c.merge(n,r,s.length?f:null,n==0,a,l))){if(i<u.length){let p=u[i];p&&(r<p.length||p.breakAfter&&f?.breakAfter)?(e==i&&(p=p.split(r),r=0),!d&&f&&p.merge(0,r,f,!0,0,l)?s[s.length-1]=p:((r||p.children.length&&!p.children[0].length)&&p.merge(0,r,null,!1,0,l),s.push(p))):p?.breakAfter&&(f?f.breakAfter=1:o=1),i++}for(c&&(c.breakAfter=o,n>0&&(!o&&s.length&&c.merge(n,c.length,s[0],!1,a,0)?c.breakAfter=s.shift().breakAfter:(n<c.length||c.children.length&&c.children[c.children.length-1].length==0)&&c.merge(n,c.length,null,!1,a,0),e++));e<i&&s.length;)if(u[i-1].become(s[s.length-1]))i--,s.pop(),l=s.length?0:a;else if(u[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&i<u.length&&!u[e-1].breakAfter&&u[i].merge(0,0,u[e-1],!1,a,l)&&e--,(e<i||s.length)&&t.replaceChildren(e,i,s)}}function R_(t,e,n,i,r,s){let o=t.childCursor(),{i:a,off:l}=o.findPos(n,1),{i:u,off:c}=o.findPos(e,-1),f=e-n;for(let d of i)f+=d.length;t.length+=f,$_(t,u,c,a,l,i,0,r,s)}let Jt=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},sd=typeof document<"u"?document:{documentElement:{style:{}}};const od=/Edge\/(\d+)/.exec(Jt.userAgent),I_=/MSIE \d/.test(Jt.userAgent),ad=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Jt.userAgent),Xc=!!(I_||ad||od),tO=!Xc&&/gecko\/(\d+)/i.test(Jt.userAgent),Qh=!Xc&&/Chrome\/(\d+)/.exec(Jt.userAgent),nO="webkitFontSmoothing"in sd.documentElement.style,Q_=!Xc&&/Apple Computer/.test(Jt.vendor),iO=Q_&&(/Mobile\/\w+/.test(Jt.userAgent)||Jt.maxTouchPoints>2);var H={mac:iO||/Mac/.test(Jt.platform),windows:/Win/.test(Jt.platform),linux:/Linux|X11/.test(Jt.platform),ie:Xc,ie_version:I_?sd.documentMode||6:ad?+ad[1]:od?+od[1]:0,gecko:tO,gecko_version:tO?+(/Firefox\/(\d+)/.exec(Jt.userAgent)||[0,0])[1]:0,chrome:!!Qh,chrome_version:Qh?+Qh[1]:0,ios:iO,android:/Android\b/.test(Jt.userAgent),webkit:nO,safari:Q_,webkit_version:nO?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:sd.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const J$=256;class Tn extends Ie{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,i){return this.flags&8||i&&(!(i instanceof Tn)||this.length-(n-e)+i.length>J$||i.flags&8)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new Tn(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n.flags|=this.flags&8,n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new Rt(this.dom,e)}domBoundsAround(e,n,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return e6(this.dom,e,n)}}class yi extends Ie{constructor(e,n=[],i=0){super(),this.mark=e,this.children=n,this.length=i;for(let r of n)r.setParent(this)}setAttrs(e){if(T_(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,n){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,i,r,s,o){return i&&(!(i instanceof yi&&i.mark.eq(this.mark))||e&&s<=0||n<this.length&&o<=0)?!1:(R_(this,e,n,i?i.children.slice():[],s-1,o-1),this.markDirty(),!0)}split(e){let n=[],i=0,r=-1,s=0;for(let a of this.children){let l=i+a.length;l>e&&n.push(i<e?a.split(e-i):a),r<0&&i>=e&&(r=s),i=l,s++}let o=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new yi(this.mark,n,o)}domAtPos(e){return D_(this,e)}coordsAt(e,n){return M_(this,e,n)}}function e6(t,e,n){let i=t.nodeValue.length;e>i&&(e=i);let r=e,s=e,o=0;e==0&&n<0||e==i&&n>=0?H.chrome||H.gecko||(e?(r--,o=1):s<i&&(s++,o=-1)):n<0?r--:s<i&&s++;let a=Mr(t,r,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:n>=0)?0:a.length-1];return H.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,u=>u.width)||l),o?jc(l,o<0):l||null}class Tr extends Ie{static create(e,n,i){return new Tr(e,n,i)}constructor(e,n,i){super(),this.widget=e,this.length=n,this.side=i,this.prevWidget=null}split(e){let n=Tr.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,n,i,r,s,o){return i&&(!(i instanceof Tr)||!this.widget.compare(i.widget)||e>0&&s<=0||n<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-n),!0)}become(e){return e instanceof Tr&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Te.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,i=n&&n.state.doc,r=this.posAtStart;return i?i.slice(r,r+this.length):Te.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Rt.before(this.dom):Rt.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let i=this.widget.coordsAt(this.dom,e,n);if(i)return i;let r=this.dom.getClientRects(),s=null;if(!r.length)return null;let o=this.side?this.side<0:e>0;for(let a=o?r.length-1:0;s=r[a],!(e>0?a==0:a==r.length-1||s.top<s.bottom);a+=o?-1:1);return jc(s,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Zs extends Ie{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Zs&&e.side==this.side}split(){return new Zs(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Rt.before(this.dom):Rt.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Te.empty}get isHidden(){return!0}}Tn.prototype.children=Tr.prototype.children=Zs.prototype.children=Zp;function D_(t,e){let n=t.dom,{children:i}=t,r=0;for(let s=0;r<i.length;r++){let o=i[r],a=s+o.length;if(!(a==s&&o.getSide()<=0)){if(e>s&&e<a&&o.dom.parentNode==n)return o.domAtPos(e-s);if(e<=s)break;s=a}}for(let s=r;s>0;s--){let o=i[s-1];if(o.dom.parentNode==n)return o.domAtPos(o.length)}for(let s=r;s<i.length;s++){let o=i[s];if(o.dom.parentNode==n)return o.domAtPos(0)}return new Rt(n,0)}function V_(t,e,n){let i,{children:r}=t;n>0&&e instanceof yi&&r.length&&(i=r[r.length-1])instanceof yi&&i.mark.eq(e.mark)?V_(i,e.children[0],n-1):(r.push(e),e.setParent(t)),t.length+=e.length}function M_(t,e,n){let i=null,r=-1,s=null,o=-1;function a(u,c){for(let f=0,d=0;f<u.children.length&&d<=c;f++){let p=u.children[f],m=d+p.length;m>=c&&(p.children.length?a(p,c-d):(!s||s.isHidden&&n>0)&&(m>c||d==m&&p.getSide()>0)?(s=p,o=c-d):(d<c||d==m&&p.getSide()<0&&!p.isHidden)&&(i=p,r=c-d)),d=m}}a(t,e);let l=(n<0?i:s)||i||s;return l?l.coordsAt(Math.max(0,l==i?r:o),n):t6(t)}function t6(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=Ns(e);return n[n.length-1]||null}function ld(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const rO=Object.create(null);function zp(t,e,n){if(t==e)return!0;t||(t=rO),e||(e=rO);let i=Object.keys(t),r=Object.keys(e);if(i.length-(n&&i.indexOf(n)>-1?1:0)!=r.length-(n&&r.indexOf(n)>-1?1:0))return!1;for(let s of i)if(s!=n&&(r.indexOf(s)==-1||t[s]!==e[s]))return!1;return!0}function ud(t,e,n){let i=!1;if(e)for(let r in e)n&&r in n||(i=!0,r=="style"?t.style.cssText="":t.removeAttribute(r));if(n)for(let r in n)e&&e[r]==n[r]||(i=!0,r=="style"?t.style.cssText=n[r]:t.setAttribute(r,n[r]));return i}function n6(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let i=t.attributes[n];e[i.name]=i.value}return e}class ot extends Ie{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,i,r,s,o){if(i){if(!(i instanceof ot))return!1;this.dom||i.transferDOM(this)}return r&&this.setDeco(i?i.attrs:null),R_(this,e,n,i?i.children.slice():[],s,o),!0}split(e){let n=new ot;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i,off:r}=this.childPos(e);r&&(n.append(this.children[i].split(r),0),this.children[i].merge(r,this.children[i].length,null,!1,0,0),i++);for(let s=i;s<this.children.length;s++)n.append(this.children[s],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){zp(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){V_(this,e,n)}addLineDeco(e){let n=e.spec.attributes,i=e.spec.class;n&&(this.attrs=ld(n,this.attrs||{})),i&&(this.attrs=ld({class:i},this.attrs||{}))}domAtPos(e){return D_(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,n){var i;this.dom?this.flags&4&&(T_(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(ud(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let r=this.dom.lastChild;for(;r&&Ie.get(r)instanceof yi;)r=r.lastChild;if(!r||!this.length||r.nodeName!="BR"&&((i=Ie.get(r))===null||i===void 0?void 0:i.isEditable)==!1&&(!H.ios||!this.children.some(s=>s instanceof Tn))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let i of this.children){if(!(i instanceof Tn)||/[^ -~]/.test(i.text))return null;let r=Ns(i.dom);if(r.length!=1)return null;e+=r[0].width,n=r[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let i=M_(this,e,n);if(!this.children.length&&i&&this.parent){let{heightOracle:r}=this.parent.view.viewState,s=i.bottom-i.top;if(Math.abs(s-r.lineHeight)<2&&r.textHeight<s){let o=(s-r.textHeight)/2;return{top:i.top+o,bottom:i.bottom-o,left:i.left,right:i.left}}}return i}become(e){return!1}covers(){return!0}static find(e,n){for(let i=0,r=0;i<e.children.length;i++){let s=e.children[i],o=r+s.length;if(o>=n){if(s instanceof ot)return s;if(o>n)break}r=o+s.breakAfter}return null}}class Yi extends Ie{constructor(e,n,i){super(),this.widget=e,this.length=n,this.deco=i,this.breakAfter=0,this.prevWidget=null}merge(e,n,i,r,s,o){return i&&(!(i instanceof Yi)||!this.widget.compare(i.widget)||e>0&&s<=0||n<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?Rt.before(this.dom):Rt.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let i=new Yi(this.widget,n,this.deco);return i.breakAfter=this.breakAfter,i}get children(){return Zp}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Te.empty}domBoundsAround(){return null}become(e){return e instanceof Yi&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,n){return this.widget.coordsAt(this.dom,e,n)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:n,endSide:i}=this.deco;return n==i?!1:e<0?n<0:i>0}}class tl{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,i){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var fi=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(fi||(fi={}));class De extends Dr{constructor(e,n,i,r){super(),this.startSide=e,this.endSide=n,this.widget=i,this.spec=r}get heightRelevant(){return!1}static mark(e){return new nl(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),i=!!e.block;return n+=i&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new rr(e,n,n,i,e.widget||null,!1)}static replace(e){let n=!!e.block,i,r;if(e.isBlockGap)i=-5e8,r=4e8;else{let{start:s,end:o}=L_(e,n);i=(s?n?-3e8:-1:5e8)-1,r=(o?n?2e8:1:-6e8)+1}return new rr(e,i,r,n,e.widget||null,!0)}static line(e){return new il(e)}static set(e,n=!1){return ze.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}De.none=ze.empty;class nl extends De{constructor(e){let{start:n,end:i}=L_(e);super(n?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var n,i;return this==e||e instanceof nl&&this.tagName==e.tagName&&(this.class||((n=this.attrs)===null||n===void 0?void 0:n.class))==(e.class||((i=e.attrs)===null||i===void 0?void 0:i.class))&&zp(this.attrs,e.attrs,"class")}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}nl.prototype.point=!1;class il extends De{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof il&&this.spec.class==e.spec.class&&zp(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}il.prototype.mapMode=Mt.TrackBefore;il.prototype.point=!0;class rr extends De{constructor(e,n,i,r,s,o){super(n,i,s,e),this.block=r,this.isReplace=o,this.mapMode=r?n<=0?Mt.TrackBefore:Mt.TrackAfter:Mt.TrackDel}get type(){return this.startSide!=this.endSide?fi.WidgetRange:this.startSide<=0?fi.WidgetBefore:fi.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof rr&&i6(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}rr.prototype.point=!0;function L_(t,e=!1){let{inclusiveStart:n,inclusiveEnd:i}=t;return n==null&&(n=t.inclusive),i==null&&(i=t.inclusive),{start:n??e,end:i??e}}function i6(t,e){return t==e||!!(t&&e&&t.compare(e))}function cd(t,e,n,i=0){let r=n.length-1;r>=0&&n[r]+i>=t?n[r]=Math.max(n[r],e):n.push(t,e)}class fa{constructor(e,n,i,r){this.doc=e,this.pos=n,this.end=i,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Yi&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new ot),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Ll(new Zs(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Yi)&&this.getLine()}buildText(e,n,i){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(n.length-i)),this.getLine().append(Ll(new Tn(this.text.slice(this.textOff,this.textOff+r)),n),i),this.atCursorPos=!0,this.textOff+=r,e-=r,i=0}}span(e,n,i,r){this.buildText(n-e,i,r),this.pos=n,this.openStart<0&&(this.openStart=r)}point(e,n,i,r,s,o){if(this.disallowBlockEffectsFor[o]&&i instanceof rr){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=n-e;if(i instanceof rr)if(i.block)i.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Yi(i.widget||zs.block,a,i));else{let l=Tr.create(i.widget||zs.inline,a,a?0:i.startSide),u=this.atCursorPos&&!l.isEditable&&s<=r.length&&(e<n||i.startSide>0),c=!l.isEditable&&(e<n||s>r.length||i.startSide<=0),f=this.getLine();this.pendingBuffer==2&&!u&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(r),u&&(f.append(Ll(new Zs(1),r),s),s=r.length+Math.max(0,s-r.length)),f.append(Ll(l,r),s),this.atCursorPos=c,this.pendingBuffer=c?e<n||s>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=s)}static build(e,n,i,r,s){let o=new fa(e,n,i,s);return o.openEnd=ze.spans(r,n,i,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function Ll(t,e){for(let n of e)t=new yi(n,[t],t.length);return t}class zs extends tl{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}zs.inline=new zs("span");zs.block=new zs("div");var nt=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(nt||(nt={}));const Lr=nt.LTR,qp=nt.RTL;function F_(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const r6=F_("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),s6=F_("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),hd=Object.create(null),Qn=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);hd[e]=n,hd[n]=-e}function N_(t){return t<=247?r6[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?s6[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const o6=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class qi{get dir(){return this.level%2?qp:Lr}constructor(e,n,i){this.from=e,this.to=n,this.level=i}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,i,r){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=n&&a.to>=n){if(a.level==i)return o;(s<0||(r!=0?r<0?a.from<n:a.to>n:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function Z_(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let i=t[n],r=e[n];if(i.from!=r.from||i.to!=r.to||i.direction!=r.direction||!Z_(i.inner,r.inner))return!1}return!0}const Re=[];function a6(t,e,n,i,r){for(let s=0;s<=i.length;s++){let o=s?i[s-1].to:e,a=s<i.length?i[s].from:n,l=s?256:r;for(let u=o,c=l,f=l;u<a;u++){let d=N_(t.charCodeAt(u));d==512?d=c:d==8&&f==4&&(d=16),Re[u]=d==4?2:d,d&7&&(f=d),c=d}for(let u=o,c=l,f=l;u<a;u++){let d=Re[u];if(d==128)u<a-1&&c==Re[u+1]&&c&24?d=Re[u]=c:Re[u]=256;else if(d==64){let p=u+1;for(;p<a&&Re[p]==64;)p++;let m=u&&c==8||p<n&&Re[p]==8?f==1?1:8:256;for(let O=u;O<p;O++)Re[O]=m;u=p-1}else d==8&&f==1&&(Re[u]=1);c=d,d&7&&(f=d)}}}function l6(t,e,n,i,r){let s=r==1?2:1;for(let o=0,a=0,l=0;o<=i.length;o++){let u=o?i[o-1].to:e,c=o<i.length?i[o].from:n;for(let f=u,d,p,m;f<c;f++)if(p=hd[d=t.charCodeAt(f)])if(p<0){for(let O=a-3;O>=0;O-=3)if(Qn[O+1]==-p){let y=Qn[O+2],_=y&2?r:y&4?y&1?s:r:0;_&&(Re[f]=Re[Qn[O]]=_),a=O;break}}else{if(Qn.length==189)break;Qn[a++]=f,Qn[a++]=d,Qn[a++]=l}else if((m=Re[f])==2||m==1){let O=m==r;l=O?0:1;for(let y=a-3;y>=0;y-=3){let _=Qn[y+2];if(_&2)break;if(O)Qn[y+2]|=2;else{if(_&4)break;Qn[y+2]|=4}}}}}function u6(t,e,n,i){for(let r=0,s=i;r<=n.length;r++){let o=r?n[r-1].to:t,a=r<n.length?n[r].from:e;for(let l=o;l<a;){let u=Re[l];if(u==256){let c=l+1;for(;;)if(c==a){if(r==n.length)break;c=n[r++].to,a=r<n.length?n[r].from:e}else if(Re[c]==256)c++;else break;let f=s==1,d=(c<e?Re[c]:i)==1,p=f==d?f?1:2:i;for(let m=c,O=r,y=O?n[O-1].to:t;m>l;)m==y&&(m=n[--O].from,y=O?n[O-1].to:t),Re[--m]=p;l=c}else s=u,l++}}}function fd(t,e,n,i,r,s,o){let a=i%2?2:1;if(i%2==r%2)for(let l=e,u=0;l<n;){let c=!0,f=!1;if(u==s.length||l<s[u].from){let O=Re[l];O!=a&&(c=!1,f=O==16)}let d=!c&&a==1?[]:null,p=c?i:i+1,m=l;e:for(;;)if(u<s.length&&m==s[u].from){if(f)break e;let O=s[u];if(!c)for(let y=O.to,_=u+1;;){if(y==n)break e;if(_<s.length&&s[_].from==y)y=s[_++].to;else{if(Re[y]==a)break e;break}}if(u++,d)d.push(O);else{O.from>l&&o.push(new qi(l,O.from,p));let y=O.direction==Lr!=!(p%2);dd(t,y?i+1:i,r,O.inner,O.from,O.to,o),l=O.to}m=O.to}else{if(m==n||(c?Re[m]!=a:Re[m]==a))break;m++}d?fd(t,l,m,i+1,r,d,o):l<m&&o.push(new qi(l,m,p)),l=m}else for(let l=n,u=s.length;l>e;){let c=!0,f=!1;if(!u||l>s[u-1].to){let O=Re[l-1];O!=a&&(c=!1,f=O==16)}let d=!c&&a==1?[]:null,p=c?i:i+1,m=l;e:for(;;)if(u&&m==s[u-1].to){if(f)break e;let O=s[--u];if(!c)for(let y=O.from,_=u;;){if(y==e)break e;if(_&&s[_-1].to==y)y=s[--_].from;else{if(Re[y-1]==a)break e;break}}if(d)d.push(O);else{O.to<l&&o.push(new qi(O.to,l,p));let y=O.direction==Lr!=!(p%2);dd(t,y?i+1:i,r,O.inner,O.from,O.to,o),l=O.from}m=O.from}else{if(m==e||(c?Re[m-1]!=a:Re[m-1]==a))break;m--}d?fd(t,m,l,i+1,r,d,o):m<l&&o.push(new qi(m,l,p)),l=m}}function dd(t,e,n,i,r,s,o){let a=e%2?2:1;a6(t,r,s,i,a),l6(t,r,s,i,a),u6(r,s,i,a),fd(t,r,s,e,n,i,o)}function c6(t,e,n){if(!t)return[new qi(0,0,e==qp?1:0)];if(e==Lr&&!n.length&&!o6.test(t))return z_(t.length);if(n.length)for(;t.length>Re.length;)Re[Re.length]=256;let i=[],r=e==Lr?0:1;return dd(t,r,r,n,0,t.length,i),i}function z_(t){return[new qi(0,t,0)]}let q_="";function h6(t,e,n,i,r){var s;let o=i.head-t.from,a=qi.find(e,o,(s=i.bidiLevel)!==null&&s!==void 0?s:-1,i.assoc),l=e[a],u=l.side(r,n);if(o==u){let d=a+=r?1:-1;if(d<0||d>=e.length)return null;l=e[a=d],o=l.side(!r,n),u=l.side(r,n)}let c=wt(t.text,o,l.forward(r,n));(c<l.from||c>l.to)&&(c=u),q_=t.text.slice(Math.min(o,c),Math.max(o,c));let f=a==(r?e.length-1:0)?null:e[a+(r?1:-1)];return f&&c==u&&f.level+(r?0:1)<l.level?Z.cursor(f.side(!r,n)+t.from,f.forward(r,n)?1:-1,f.level):Z.cursor(c+t.from,l.forward(r,n)?-1:1,l.level)}function f6(t,e,n){for(let i=e;i<n;i++){let r=N_(t.charCodeAt(i));if(r==1)return Lr;if(r==2||r==4)return qp}return Lr}const B_=ne.define(),j_=ne.define(),X_=ne.define(),W_=ne.define(),pd=ne.define(),U_=ne.define(),Y_=ne.define(),G_=ne.define({combine:t=>t.some(e=>e)}),d6=ne.define({combine:t=>t.some(e=>e)}),H_=ne.define();class ks{constructor(e,n="nearest",i="nearest",r=5,s=5,o=!1){this.range=e,this.y=n,this.x=i,this.yMargin=r,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new ks(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new ks(Z.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Fl=Pe.define({map:(t,e)=>t.map(e)});function en(t,e,n){let i=t.facet(W_);i.length?i[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const Wc=ne.define({combine:t=>t.length?t[0]:!0});let p6=0;const Ho=ne.define();class pn{constructor(e,n,i,r,s){this.id=e,this.create=n,this.domEventHandlers=i,this.domEventObservers=r,this.extension=s(this)}static define(e,n){const{eventHandlers:i,eventObservers:r,provide:s,decorations:o}=n||{};return new pn(p6++,e,i,r,a=>{let l=[Ho.of(a)];return o&&l.push(Ca.of(u=>{let c=u.plugin(a);return c?o(c):De.none})),s&&l.push(s(a)),l})}static fromClass(e,n){return pn.define(i=>new e(i),n)}}class Dh{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(i){if(en(n.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(n){en(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(i){en(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const K_=ne.define(),Bp=ne.define(),Ca=ne.define(),J_=ne.define(),jp=ne.define(),ew=ne.define();function sO(t,e){let n=t.state.facet(ew);if(!n.length)return n;let i=n.map(s=>s instanceof Function?s(t):s),r=[];return ze.spans(i,e.from,e.to,{point(){},span(s,o,a,l){let u=s-e.from,c=o-e.from,f=r;for(let d=a.length-1;d>=0;d--,l--){let p=a[d].spec.bidiIsolate,m;if(p==null&&(p=f6(e.text,u,c)),l>0&&f.length&&(m=f[f.length-1]).to==u&&m.direction==p)m.to=c,f=m.inner;else{let O={from:u,to:c,direction:p,inner:[]};f.push(O),f=O.inner}}}}),r}const tw=ne.define();function nw(t){let e=0,n=0,i=0,r=0;for(let s of t.state.facet(tw)){let o=s(t);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(n=Math.max(n,o.right)),o.top!=null&&(i=Math.max(i,o.top)),o.bottom!=null&&(r=Math.max(r,o.bottom)))}return{left:e,right:n,top:i,bottom:r}}const Ko=ne.define();class fn{constructor(e,n,i,r){this.fromA=e,this.toA=n,this.fromB=i,this.toB=r}join(e){return new fn(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,i=this;for(;n>0;n--){let r=e[n-1];if(!(r.fromA>i.toA)){if(r.toA<i.fromA)break;i=i.join(r),e.splice(n-1,1)}}return e.splice(n,0,i),e}static extendWithRanges(e,n){if(n.length==0)return e;let i=[];for(let r=0,s=0,o=0,a=0;;r++){let l=r==e.length?null:e[r],u=o-a,c=l?l.fromB:1e9;for(;s<n.length&&n[s]<c;){let f=n[s],d=n[s+1],p=Math.max(a,f),m=Math.min(c,d);if(p<=m&&new fn(p+u,m+u,p,m).addToSet(i),d>c)break;s+=2}if(!l)return i;new fn(l.fromA,l.toA,l.fromB,l.toB).addToSet(i),o=l.toA,a=l.toB}}}class ec{constructor(e,n,i){this.view=e,this.state=n,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=at.empty(this.startState.doc.length);for(let s of i)this.changes=this.changes.compose(s.changes);let r=[];this.changes.iterChangedRanges((s,o,a,l)=>r.push(new fn(s,o,a,l))),this.changedRanges=r}static create(e,n,i){return new ec(e,n,i)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class oO extends Ie{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new ot],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new fn(0,0,0,e.state.doc.length)],0,null)}update(e){var n;let i=e.changedRanges;this.minWidth>0&&i.length&&(i.every(({fromA:u,toA:c})=>c<this.minWidthFrom||u>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let r=-1;this.view.inputState.composing>=0&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?r=this.domChanged.newSel.head:!_6(e.changes,this.hasComposition)&&!e.selectionSet&&(r=e.state.selection.main.head));let s=r>-1?g6(this.view,e.changes,r):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:u,to:c}=this.hasComposition;i=new fn(u,c,e.changes.mapPos(u,-1),e.changes.mapPos(c,1)).addToSet(i.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(H.ie||H.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,a=this.updateDeco(),l=y6(o,a,e.changes);return i=fn.extendWithRanges(i,l),!(this.flags&7)&&i.length==0?!1:(this.updateInner(i,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n,i){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n,i);let{observer:r}=this.view;r.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=H.chrome||H.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||r.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof Yi&&o.widget instanceof aO&&s.push(o.dom);r.updateGaps(s)}updateChildren(e,n,i){let r=i?i.range.addToSet(e.slice()):e,s=this.childCursor(n);for(let o=r.length-1;;o--){let a=o>=0?r[o]:null;if(!a)break;let{fromA:l,toA:u,fromB:c,toB:f}=a,d,p,m,O;if(i&&i.range.fromB<f&&i.range.toB>c){let R=fa.build(this.view.state.doc,c,i.range.fromB,this.decorations,this.dynamicDecorationMap),D=fa.build(this.view.state.doc,i.range.toB,f,this.decorations,this.dynamicDecorationMap);p=R.breakAtStart,m=R.openStart,O=D.openEnd;let L=this.compositionView(i);D.breakAtStart?L.breakAfter=1:D.content.length&&L.merge(L.length,L.length,D.content[0],!1,D.openStart,0)&&(L.breakAfter=D.content[0].breakAfter,D.content.shift()),R.content.length&&L.merge(0,0,R.content[R.content.length-1],!0,0,R.openEnd)&&R.content.pop(),d=R.content.concat(L).concat(D.content)}else({content:d,breakAtStart:p,openStart:m,openEnd:O}=fa.build(this.view.state.doc,c,f,this.decorations,this.dynamicDecorationMap));let{i:y,off:_}=s.findPos(u,1),{i:S,off:$}=s.findPos(l,-1);$_(this,S,$,y,_,d,p,m,O)}i&&this.fixCompositionDOM(i)}compositionView(e){let n=new Tn(e.text.nodeValue);n.flags|=8;for(let{deco:r}of e.marks)n=new yi(r,[n],n.length);let i=new ot;return i.append(n,0),i}fixCompositionDOM(e){let n=(s,o)=>{o.flags|=8|(o.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(o);let a=Ie.get(s);a&&a!=o&&(a.dom=null),o.setDOM(s)},i=this.childPos(e.range.fromB,1),r=this.children[i.i];n(e.line,r);for(let s=e.marks.length-1;s>=-1;s--)i=r.childPos(i.off,1),r=r.children[i.i],n(s>=0?e.marks[s].node:e.text,r)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let i=this.view.root.activeElement,r=i==this.dom,s=!r&&xu(this.dom,this.view.observer.selectionRange)&&!(i&&this.dom.contains(i));if(!(r||n||s))return;let o=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),u=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(H.gecko&&a.empty&&!this.hasComposition&&m6(l)){let f=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(f,l.node.childNodes[l.offset]||null)),l=u=new Rt(f,0),o=!0}let c=this.view.observer.selectionRange;(o||!c.focusNode||(!ha(l.node,l.offset,c.anchorNode,c.anchorOffset)||!ha(u.node,u.offset,c.focusNode,c.focusOffset))&&!this.suppressWidgetCursorChange(c,a))&&(this.view.observer.ignore(()=>{H.android&&H.chrome&&this.dom.contains(c.focusNode)&&v6(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let f=Ku(this.view.root);if(f)if(a.empty){if(H.gecko){let d=O6(l.node,l.offset);if(d&&d!=3){let p=(d==1?A_:E_)(l.node,l.offset);p&&(l=new Rt(p.node,p.offset))}}f.collapse(l.node,l.offset),a.bidiLevel!=null&&f.caretBidiLevel!==void 0&&(f.caretBidiLevel=a.bidiLevel)}else if(f.extend){f.collapse(l.node,l.offset);try{f.extend(u.node,u.offset)}catch{}}else{let d=document.createRange();a.anchor>a.head&&([l,u]=[u,l]),d.setEnd(u.node,u.offset),d.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(d)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(l,u)),this.impreciseAnchor=l.precise?null:new Rt(c.anchorNode,c.anchorOffset),this.impreciseHead=u.precise?null:new Rt(c.focusNode,c.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&ha(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,i=Ku(e.root),{anchorNode:r,anchorOffset:s}=e.observer.selectionRange;if(!i||!n.empty||!n.assoc||!i.modify)return;let o=ot.find(this,n.head);if(!o)return;let a=o.posAtStart;if(n.head==a||n.head==a+o.length)return;let l=this.coordsAt(n.head,-1),u=this.coordsAt(n.head,1);if(!l||!u||l.bottom>u.top)return;let c=this.domAtPos(n.head+n.assoc);i.collapse(c.node,c.offset),i.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let f=e.observer.selectionRange;e.docView.posFromDOM(f.anchorNode,f.anchorOffset)!=n.from&&i.collapse(r,s)}moveToLine(e){let n=this.dom,i;if(e.node!=n)return e;for(let r=e.offset;!i&&r<n.childNodes.length;r++){let s=Ie.get(n.childNodes[r]);s instanceof ot&&(i=s.domAtPos(0))}for(let r=e.offset-1;!i&&r>=0;r--){let s=Ie.get(n.childNodes[r]);s instanceof ot&&(i=s.domAtPos(s.length))}return i?new Rt(i.node,i.offset,!0):e}nearest(e){for(let n=e;n;){let i=Ie.get(n);if(i&&i.rootView==this)return i;n=n.parentNode}return null}posFromDOM(e,n){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,n)+i.posAtStart}domAtPos(e){let{i:n,off:i}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let r=this.children[n];if(i<r.length||r instanceof ot)break;n++,i=0}return this.children[n].domAtPos(i)}coordsAt(e,n){let i=null,r=0;for(let s=this.length,o=this.children.length-1;o>=0;o--){let a=this.children[o],l=s-a.breakAfter,u=l-a.length;if(l<e)break;u<=e&&(u<e||a.covers(-1))&&(l>e||a.covers(1))&&(!i||a instanceof ot&&!(i instanceof ot&&n>=0))&&(i=a,r=u),s=u}return i?i.coordsAt(e-r,n):null}coordsForChar(e){let{i:n,off:i}=this.childPos(e,1),r=this.children[n];if(!(r instanceof ot))return null;for(;r.children.length;){let{i:a,off:l}=r.childPos(i,1);for(;;a++){if(a==r.children.length)return null;if((r=r.children[a]).length)break}i=l}if(!(r instanceof Tn))return null;let s=wt(r.text,i);if(s==i)return null;let o=Mr(r.dom,i,s).getClientRects();for(let a=0;a<o.length;a++){let l=o[a];if(a==o.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let n=[],{from:i,to:r}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==nt.LTR;for(let u=0,c=0;c<this.children.length;c++){let f=this.children[c],d=u+f.length;if(d>r)break;if(u>=i){let p=f.dom.getBoundingClientRect();if(n.push(p.height),o){let m=f.dom.lastChild,O=m?Ns(m):[];if(O.length){let y=O[O.length-1],_=l?y.right-p.left:p.right-y.left;_>a&&(a=_,this.minWidth=s,this.minWidthFrom=u,this.minWidthTo=d)}}}u=d+f.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?nt.RTL:nt.LTR}measureTextSize(){for(let s of this.children)if(s instanceof ot){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),n,i,r;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=Ns(e.firstChild)[0];n=e.getBoundingClientRect().height,i=s?s.width/27:7,r=s?s.height:n,e.remove()}),{lineHeight:n,charWidth:i,textHeight:r}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new C_(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let i=0,r=0;;r++){let s=r==n.viewports.length?null:n.viewports[r],o=s?s.from-1:this.length;if(o>i){let a=(n.lineBlockAt(o).bottom-n.lineBlockAt(i).top)/this.view.scaleY;e.push(De.replace({widget:new aO(a),block:!0,inclusive:!0,isBlockGap:!0}).range(i,o))}if(!s)break;i=s.to+1}return De.set(e)}updateDeco(){let e=0,n=this.view.state.facet(Ca).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),i=!1,r=this.view.state.facet(J_).map((s,o)=>{let a=typeof s=="function";return a&&(i=!0),a?s(this.view):s});for(r.length&&(this.dynamicDecorationMap[e++]=i,n.push(ze.join(r))),this.decorations=[...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let u=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=u.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let u of this.view.state.facet(H_))try{if(u(this.view,e.range,e))return!0}catch(c){en(this.view.state,c,"scroll handler")}let{range:n}=e,i=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),r;if(!i)return;!n.empty&&(r=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(i={left:Math.min(i.left,r.left),top:Math.min(i.top,r.top),right:Math.max(i.right,r.right),bottom:Math.max(i.bottom,r.bottom)});let s=nw(this.view),o={left:i.left-s.left,top:i.top-s.top,right:i.right+s.right,bottom:i.bottom+s.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;U$(this.view.scrollDOM,o,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==nt.LTR)}}function m6(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}class aO extends tl{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function iw(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let i=A_(n.focusNode,n.focusOffset),r=E_(n.focusNode,n.focusOffset),s=i||r;if(r&&i&&r.node!=i.node){let a=Ie.get(r.node);if(!a||a instanceof Tn&&a.text!=r.node.nodeValue)s=r;else if(t.docView.lastCompositionAfterCursor){let l=Ie.get(i.node);!l||l instanceof Tn&&l.text!=i.node.nodeValue||(s=r)}}if(t.docView.lastCompositionAfterCursor=s!=i,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}function g6(t,e,n){let i=iw(t,n);if(!i)return null;let{node:r,from:s,to:o}=i,a=r.nodeValue;if(/[\n\r]/.test(a)||t.state.doc.sliceString(i.from,i.to)!=a)return null;let l=e.invertedDesc,u=new fn(l.mapPos(s),l.mapPos(o),s,o),c=[];for(let f=r.parentNode;;f=f.parentNode){let d=Ie.get(f);if(d instanceof yi)c.push({node:f,deco:d.mark});else{if(d instanceof ot||f.nodeName=="DIV"&&f.parentNode==t.contentDOM)return{range:u,text:r,marks:c,line:f};if(f!=t.contentDOM)c.push({node:f,deco:new nl({inclusive:!0,attributes:n6(f),tagName:f.tagName.toLowerCase()})});else return null}}}function O6(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let b6=class{constructor(){this.changes=[]}compareRange(e,n){cd(e,n,this.changes)}comparePoint(e,n){cd(e,n,this.changes)}};function y6(t,e,n){let i=new b6;return ze.compare(t,e,n,i),i.changes}function v6(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function _6(t,e){let n=!1;return e&&t.iterChangedRanges((i,r)=>{i<e.to&&r>e.from&&(n=!0)}),n}function w6(t,e,n=1){let i=t.charCategorizer(e),r=t.doc.lineAt(e),s=e-r.from;if(r.length==0)return Z.cursor(e);s==0?n=1:s==r.length&&(n=-1);let o=s,a=s;n<0?o=wt(r.text,s,!1):a=wt(r.text,s);let l=i(r.text.slice(o,a));for(;o>0;){let u=wt(r.text,o,!1);if(i(r.text.slice(u,o))!=l)break;o=u}for(;a<r.length;){let u=wt(r.text,a);if(i(r.text.slice(a,u))!=l)break;a=u}return Z.range(o+r.from,a+r.from)}function x6(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function k6(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function Vh(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function lO(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function uO(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function md(t,e,n){let i,r,s,o,a=!1,l,u,c,f;for(let m=t.firstChild;m;m=m.nextSibling){let O=Ns(m);for(let y=0;y<O.length;y++){let _=O[y];r&&Vh(r,_)&&(_=lO(uO(_,r.bottom),r.top));let S=x6(e,_),$=k6(n,_);if(S==0&&$==0)return m.nodeType==3?cO(m,e,n):md(m,e,n);if(!i||o>$||o==$&&s>S){i=m,r=_,s=S,o=$;let R=$?n<_.top?-1:1:S?e<_.left?-1:1:0;a=!R||(R>0?y<O.length-1:y>0)}S==0?n>_.bottom&&(!c||c.bottom<_.bottom)?(l=m,c=_):n<_.top&&(!f||f.top>_.top)&&(u=m,f=_):c&&Vh(c,_)?c=uO(c,_.bottom):f&&Vh(f,_)&&(f=lO(f,_.top))}}if(c&&c.bottom>=n?(i=l,r=c):f&&f.top<=n&&(i=u,r=f),!i)return{node:t,offset:0};let d=Math.max(r.left,Math.min(r.right,e));if(i.nodeType==3)return cO(i,d,n);if(a&&i.contentEditable!="false")return md(i,d,n);let p=Array.prototype.indexOf.call(t.childNodes,i)+(e>=(r.left+r.right)/2?1:0);return{node:t,offset:p}}function cO(t,e,n){let i=t.nodeValue.length,r=-1,s=1e9,o=0;for(let a=0;a<i;a++){let l=Mr(t,a,a+1).getClientRects();for(let u=0;u<l.length;u++){let c=l[u];if(c.top==c.bottom)continue;o||(o=e-c.left);let f=(c.top>n?c.top-n:n-c.bottom)-1;if(c.left-1<=e&&c.right+1>=e&&f<s){let d=e>=(c.left+c.right)/2,p=d;if((H.chrome||H.gecko)&&Mr(t,a).getBoundingClientRect().left==c.right&&(p=!d),f<=0)return{node:t,offset:a+(p?1:0)};r=a+(p?1:0),s=f}}}return{node:t,offset:r>-1?r:o>0?t.nodeValue.length:0}}function rw(t,e,n,i=-1){var r,s;let o=t.contentDOM.getBoundingClientRect(),a=o.top+t.viewState.paddingTop,l,{docHeight:u}=t.viewState,{x:c,y:f}=e,d=f-a;if(d<0)return 0;if(d>u)return t.state.doc.length;for(let R=t.viewState.heightOracle.textHeight/2,D=!1;l=t.elementAtHeight(d),l.type!=fi.Text;)for(;d=i>0?l.bottom+R:l.top-R,!(d>=0&&d<=u);){if(D)return n?null:0;D=!0,i=-i}f=a+d;let p=l.from;if(p<t.viewport.from)return t.viewport.from==0?0:n?null:hO(t,o,l,c,f);if(p>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:hO(t,o,l,c,f);let m=t.dom.ownerDocument,O=t.root.elementFromPoint?t.root:m,y=O.elementFromPoint(c,f);y&&!t.contentDOM.contains(y)&&(y=null),y||(c=Math.max(o.left+1,Math.min(o.right-1,c)),y=O.elementFromPoint(c,f),y&&!t.contentDOM.contains(y)&&(y=null));let _,S=-1;if(y&&((r=t.docView.nearest(y))===null||r===void 0?void 0:r.isEditable)!=!1){if(m.caretPositionFromPoint){let R=m.caretPositionFromPoint(c,f);R&&({offsetNode:_,offset:S}=R)}else if(m.caretRangeFromPoint){let R=m.caretRangeFromPoint(c,f);R&&({startContainer:_,startOffset:S}=R,(!t.contentDOM.contains(_)||H.safari&&S6(_,S,c)||H.chrome&&T6(_,S,c))&&(_=void 0))}}if(!_||!t.docView.dom.contains(_)){let R=ot.find(t.docView,p);if(!R)return d>l.top+l.height/2?l.to:l.from;({node:_,offset:S}=md(R.dom,c,f))}let $=t.docView.nearest(_);if(!$)return null;if($.isWidget&&((s=$.dom)===null||s===void 0?void 0:s.nodeType)==1){let R=$.dom.getBoundingClientRect();return e.y<R.top||e.y<=R.bottom&&e.x<=(R.left+R.right)/2?$.posAtStart:$.posAtEnd}else return $.localPosFromDOM(_,S)+$.posAtStart}function hO(t,e,n,i,r){let s=Math.round((i-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let a=t.viewState.heightOracle.textHeight,l=Math.floor((r-n.top-(t.defaultLineHeight-a)*.5)/a);s+=l*t.viewState.heightOracle.lineLength}let o=t.state.sliceDoc(n.from,n.to);return n.from+Z$(o,s,t.state.tabSize)}function S6(t,e,n){let i;if(t.nodeType!=3||e!=(i=t.nodeValue.length))return!1;for(let r=t.nextSibling;r;r=r.nextSibling)if(r.nodeType!=1||r.nodeName!="BR")return!1;return Mr(t,i-1,i).getBoundingClientRect().left>n}function T6(t,e,n){if(e!=0)return!1;for(let r=t;;){let s=r.parentNode;if(!s||s.nodeType!=1||s.firstChild!=r)return!1;if(s.classList.contains("cm-line"))break;r=s}let i=t.nodeType==1?t.getBoundingClientRect():Mr(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-i.left>5}function P6(t,e){let n=t.lineBlockAt(e);if(Array.isArray(n.type)){for(let i of n.type)if(i.to>e||i.to==e&&(i.to==n.to||i.type==fi.Text))return i}return n}function A6(t,e,n,i){let r=P6(t,e.head),s=!i||r.type!=fi.Text||!(t.lineWrapping||r.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>r.from?e.head-1:e.head);if(s){let o=t.dom.getBoundingClientRect(),a=t.textDirectionAt(r.from),l=t.posAtCoords({x:n==(a==nt.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(l!=null)return Z.cursor(l,n?-1:1)}return Z.cursor(n?r.to:r.from,n?-1:1)}function fO(t,e,n,i){let r=t.state.doc.lineAt(e.head),s=t.bidiSpans(r),o=t.textDirectionAt(r.from);for(let a=e,l=null;;){let u=h6(r,s,o,a,n),c=q_;if(!u){if(r.number==(n?t.state.doc.lines:1))return a;c=`
`,r=t.state.doc.line(r.number+(n?1:-1)),s=t.bidiSpans(r),u=t.visualLineSide(r,!n)}if(l){if(!l(c))return a}else{if(!i)return u;l=i(c)}a=u}}function E6(t,e,n){let i=t.state.charCategorizer(e),r=i(n);return s=>{let o=i(s);return r==xt.Space&&(r=o),r==o}}function C6(t,e,n,i){let r=e.head,s=n?1:-1;if(r==(n?t.state.doc.length:0))return Z.cursor(r,e.assoc);let o=e.goalColumn,a,l=t.contentDOM.getBoundingClientRect(),u=t.coordsAtPos(r,e.assoc||-1),c=t.documentTop;if(u)o==null&&(o=u.left-l.left),a=s<0?u.top:u.bottom;else{let p=t.viewState.lineBlockAt(r);o==null&&(o=Math.min(l.right-l.left,t.defaultCharacterWidth*(r-p.from))),a=(s<0?p.top:p.bottom)+c}let f=l.left+o,d=i??t.viewState.heightOracle.textHeight>>1;for(let p=0;;p+=10){let m=a+(d+p)*s,O=rw(t,{x:f,y:m},!1,s);if(m<l.top||m>l.bottom||(s<0?O<r:O>r)){let y=t.docView.coordsForChar(O),_=!y||m<y.top?-1:1;return Z.cursor(O,_,void 0,o)}}}function ku(t,e,n){for(;;){let i=0;for(let r of t)r.between(e-1,e+1,(s,o,a)=>{if(e>s&&e<o){let l=i||n||(e-s<o-e?-1:1);e=l<0?s:o,i=l}});if(!i)return e}}function Mh(t,e,n){let i=ku(t.state.facet(jp).map(r=>r(t)),n.from,e.head>n.from?-1:1);return i==n.from?n:Z.cursor(i,i<n.from?1:-1)}class $6{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,H.safari&&e.contentDOM.addEventListener("input",()=>null),H.gecko&&W6(e.contentDOM.ownerDocument)}handleEvent(e){!F6(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,n){let i=this.handlers[e];if(i){for(let r of i.observers)r(this.view,n);for(let r of i.handlers){if(n.defaultPrevented)break;if(r(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=R6(e),i=this.handlers,r=this.view.contentDOM;for(let s in n)if(s!="scroll"){let o=!n[s].handlers.length,a=i[s];a&&o!=!a.handlers.length&&(r.removeEventListener(s,this.handleEvent),a=null),a||r.addEventListener(s,this.handleEvent,{passive:o})}for(let s in i)s!="scroll"&&!n[s]&&r.removeEventListener(s,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(e.keyCode!=27&&ow.indexOf(e.keyCode)<0&&(this.view.inputState.lastEscPress=0),H.android&&H.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return H.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=sw.find(i=>i.keyCode==e.keyCode))&&!e.ctrlKey||I6.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,xs(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:H.safari&&!H.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function dO(t,e){return(n,i)=>{try{return e.call(t,i,n)}catch(r){en(n.state,r)}}}function R6(t){let e=Object.create(null);function n(i){return e[i]||(e[i]={observers:[],handlers:[]})}for(let i of t){let r=i.spec;if(r&&r.domEventHandlers)for(let s in r.domEventHandlers){let o=r.domEventHandlers[s];o&&n(s).handlers.push(dO(i.value,o))}if(r&&r.domEventObservers)for(let s in r.domEventObservers){let o=r.domEventObservers[s];o&&n(s).observers.push(dO(i.value,o))}}for(let i in Pn)n(i).handlers.push(Pn[i]);for(let i in mn)n(i).observers.push(mn[i]);return e}const sw=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],I6="dthko",ow=[16,17,18,20,91,92,224,225],Nl=6;function Zl(t){return Math.max(0,t)*.7+8}function Q6(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class D6{constructor(e,n,i,r){this.view=e,this.startEvent=n,this.style=i,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParent=Y$(e.contentDOM),this.atoms=e.state.facet(jp).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(_e.allowMultipleSelections)&&V6(e,n),this.dragging=L6(e,n)&&cw(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){var n;if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&Q6(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let i=0,r=0,s=((n=this.scrollParent)===null||n===void 0?void 0:n.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},o=nw(this.view);e.clientX-o.left<=s.left+Nl?i=-Zl(s.left-e.clientX):e.clientX+o.right>=s.right-Nl&&(i=Zl(e.clientX-s.right)),e.clientY-o.top<=s.top+Nl?r=-Zl(s.top-e.clientY):e.clientY+o.bottom>=s.bottom-Nl&&(r=Zl(e.clientY-s.bottom)),this.setScrollSpeed(i,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let n=null;for(let i=0;i<e.ranges.length;i++){let r=e.ranges[i],s=null;if(r.empty){let o=ku(this.atoms,r.from,0);o!=r.from&&(s=Z.cursor(o,-1))}else{let o=ku(this.atoms,r.from,-1),a=ku(this.atoms,r.to,1);(o!=r.from||a!=r.to)&&(s=Z.range(r.from==r.anchor?o:a,r.from==r.head?o:a))}s&&(n||(n=e.ranges.slice()),n[i]=s)}return n?Z.create(n,e.mainIndex):e}select(e){let{view:n}=this,i=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!i.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function V6(t,e){let n=t.state.facet(B_);return n.length?n[0](e):H.mac?e.metaKey:e.ctrlKey}function M6(t,e){let n=t.state.facet(j_);return n.length?n[0](e):H.mac?!e.altKey:!e.ctrlKey}function L6(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let i=Ku(t.root);if(!i||i.rangeCount==0)return!0;let r=i.getRangeAt(0).getClientRects();for(let s=0;s<r.length;s++){let o=r[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function F6(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,i;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(i=Ie.get(n))&&i.ignoreEvent(e))return!1;return!0}const Pn=Object.create(null),mn=Object.create(null),aw=H.ie&&H.ie_version<15||H.ios&&H.webkit_version<604;function N6(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),lw(t,n.value)},50)}function lw(t,e){let{state:n}=t,i,r=1,s=n.toText(e),o=s.lines==n.selection.ranges.length;if(gd!=null&&n.selection.ranges.every(l=>l.empty)&&gd==s.toString()){let l=-1;i=n.changeByRange(u=>{let c=n.doc.lineAt(u.from);if(c.from==l)return{range:u};l=c.from;let f=n.toText((o?s.line(r++).text:e)+n.lineBreak);return{changes:{from:c.from,insert:f},range:Z.cursor(u.from+f.length)}})}else o?i=n.changeByRange(l=>{let u=s.line(r++);return{changes:{from:l.from,to:l.to,insert:u.text},range:Z.cursor(l.from+u.length)}}):i=n.replaceSelection(s);t.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}mn.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};Pn.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&(t.inputState.lastEscPress=Date.now()),!1);mn.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};mn.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};Pn.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let i of t.state.facet(X_))if(n=i(t,e),n)break;if(!n&&e.button==0&&(n=q6(t,e)),n){let i=!t.hasFocus;t.inputState.startMouseSelection(new D6(t,e,n,i)),i&&t.observer.ignore(()=>S_(t.contentDOM));let r=t.inputState.mouseSelection;if(r)return r.start(e),r.dragging===!1}return!1};function pO(t,e,n,i){if(i==1)return Z.cursor(e,n);if(i==2)return w6(t.state,e,n);{let r=ot.find(t.docView,e),s=t.state.doc.lineAt(r?r.posAtEnd:e),o=r?r.posAtStart:s.from,a=r?r.posAtEnd:s.to;return a<t.state.doc.length&&a==s.to&&a++,Z.range(o,a)}}let uw=(t,e)=>t>=e.top&&t<=e.bottom,mO=(t,e,n)=>uw(e,n)&&t>=n.left&&t<=n.right;function Z6(t,e,n,i){let r=ot.find(t.docView,e);if(!r)return 1;let s=e-r.posAtStart;if(s==0)return 1;if(s==r.length)return-1;let o=r.coordsAt(s,-1);if(o&&mO(n,i,o))return-1;let a=r.coordsAt(s,1);return a&&mO(n,i,a)?1:o&&uw(i,o)?-1:1}function gO(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:Z6(t,n,e.clientX,e.clientY)}}const z6=H.ie&&H.ie_version<=11;let OO=null,bO=0,yO=0;function cw(t){if(!z6)return t.detail;let e=OO,n=yO;return OO=t,yO=Date.now(),bO=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(bO+1)%3:1}function q6(t,e){let n=gO(t,e),i=cw(e),r=t.state.selection;return{update(s){s.docChanged&&(n.pos=s.changes.mapPos(n.pos),r=r.map(s.changes))},get(s,o,a){let l=gO(t,s),u,c=pO(t,l.pos,l.bias,i);if(n.pos!=l.pos&&!o){let f=pO(t,n.pos,n.bias,i),d=Math.min(f.from,c.from),p=Math.max(f.to,c.to);c=d<c.from?Z.range(d,p):Z.range(p,d)}return o?r.replaceRange(r.main.extend(c.from,c.to)):a&&i==1&&r.ranges.length>1&&(u=B6(r,l.pos))?u:a?r.addRange(c):Z.create([c])}}}function B6(t,e){for(let n=0;n<t.ranges.length;n++){let{from:i,to:r}=t.ranges[n];if(i<=e&&r>=e)return Z.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}Pn.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let r=t.docView.nearest(e.target);if(r&&r.isWidget){let s=r.posAtStart,o=s+r.length;(s>=n.to||o<=n.from)&&(n=Z.range(s,o))}}let{inputState:i}=t;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(n.from,n.to)),e.dataTransfer.effectAllowed="copyMove"),!1};Pn.dragend=t=>(t.inputState.draggedContent=null,!1);function vO(t,e,n,i){if(!n)return;let r=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=t.inputState,o=i&&s&&M6(t,e)?{from:s.from,to:s.to}:null,a={from:r,insert:n},l=t.state.changes(o?[o,a]:a);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(r,-1),head:l.mapPos(r,1)},userEvent:o?"move.drop":"input.drop"}),t.inputState.draggedContent=null}Pn.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let i=Array(n.length),r=0,s=()=>{++r==n.length&&vO(t,e,i.filter(o=>o!=null).join(t.state.lineBreak),!1)};for(let o=0;o<n.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(i[o]=a.result),s()},a.readAsText(n[o])}return!0}else{let i=e.dataTransfer.getData("Text");if(i)return vO(t,e,i,!0),!0}return!1};Pn.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=aw?null:e.clipboardData;return n?(lw(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(N6(t),!1)};function j6(t,e){let n=t.dom.parentNode;if(!n)return;let i=n.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),t.focus()},50)}function X6(t){let e=[],n=[],i=!1;for(let r of t.selection.ranges)r.empty||(e.push(t.sliceDoc(r.from,r.to)),n.push(r));if(!e.length){let r=-1;for(let{from:s}of t.selection.ranges){let o=t.doc.lineAt(s);o.number>r&&(e.push(o.text),n.push({from:o.from,to:Math.min(t.doc.length,o.to+1)})),r=o.number}i=!0}return{text:e.join(t.lineBreak),ranges:n,linewise:i}}let gd=null;Pn.copy=Pn.cut=(t,e)=>{let{text:n,ranges:i,linewise:r}=X6(t.state);if(!n&&!r)return!1;gd=r?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"});let s=aw?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",n),!0):(j6(t,n),!1)};const hw=vi.define();function fw(t,e){let n=[];for(let i of t.facet(Y_)){let r=i(t,e);r&&n.push(r)}return n?t.update({effects:n,annotations:hw.of(!0)}):null}function dw(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=fw(t.state,e);n?t.dispatch(n):t.update([])}},10)}mn.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),dw(t)};mn.blur=t=>{t.observer.clearSelectionRange(),dw(t)};mn.compositionstart=mn.compositionupdate=t=>{t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0)};mn.compositionend=t=>{t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,H.chrome&&H.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50)};mn.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};Pn.beforeinput=(t,e)=>{var n;let i;if(H.chrome&&H.android&&(i=sw.find(r=>r.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let r=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>r+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return H.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),H.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>mn.compositionend(t,e),20),!1};const _O=new Set;function W6(t){_O.has(t)||(_O.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const wO=["pre-wrap","normal","pre-line","break-spaces"];class U6{constructor(e){this.lineWrapping=e,this.doc=Te.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,n){let i=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((n-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return wO.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let i=0;i<e.length;i++){let r=e[i];r<0?i++:this.heightSamples[Math.floor(r*10)]||(n=!0,this.heightSamples[Math.floor(r*10)]=!0)}return n}refresh(e,n,i,r,s,o){let a=wO.indexOf(e)>-1,l=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=n,this.charWidth=i,this.textHeight=r,this.lineLength=s,l){this.heightSamples={};for(let u=0;u<o.length;u++){let c=o[u];c<0?u++:this.heightSamples[Math.floor(c*10)]=!0}}return l}}class Y6{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class Nn{constructor(e,n,i,r,s){this.from=e,this.length=n,this.top=i,this.height=r,this._content=s}get type(){return typeof this._content=="number"?fi.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof rr?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Nn(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var Ze=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(Ze||(Ze={}));const Su=.001;class Lt{constructor(e,n,i=2){this.length=e,this.height=n,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,n){this.height!=n&&(Math.abs(this.height-n)>Su&&(e.heightChanged=!0),this.height=n)}replace(e,n,i){return Lt.of(i)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,i,r){let s=this,o=i.doc;for(let a=r.length-1;a>=0;a--){let{fromA:l,toA:u,fromB:c,toB:f}=r[a],d=s.lineAt(l,Ze.ByPosNoHeight,i.setDoc(n),0,0),p=d.to>=u?d:s.lineAt(u,Ze.ByPosNoHeight,i,0,0);for(f+=p.to-u,u=p.to;a>0&&d.from<=r[a-1].toA;)l=r[a-1].fromA,c=r[a-1].fromB,a--,l<d.from&&(d=s.lineAt(l,Ze.ByPosNoHeight,i,0,0));c+=d.from-l,l=d.from;let m=Xp.build(i.setDoc(o),e,c,f);s=s.replace(l,u,m)}return s.updateHeight(i,0)}static empty(){return new Kt(0,0)}static of(e){if(e.length==1)return e[0];let n=0,i=e.length,r=0,s=0;for(;;)if(n==i)if(r>s*2){let a=e[n-1];a.break?e.splice(--n,1,a.left,null,a.right):e.splice(--n,1,a.left,a.right),i+=1+a.break,r-=a.size}else if(s>r*2){let a=e[i];a.break?e.splice(i,1,a.left,null,a.right):e.splice(i,1,a.left,a.right),i+=2+a.break,s-=a.size}else break;else if(r<s){let a=e[n++];a&&(r+=a.size)}else{let a=e[--i];a&&(s+=a.size)}let o=0;return e[n-1]==null?(o=1,n--):e[n]==null&&(o=1,i++),new G6(Lt.of(e.slice(0,n)),o,Lt.of(e.slice(i)))}}Lt.prototype.size=1;class pw extends Lt{constructor(e,n,i){super(e,n),this.deco=i}blockAt(e,n,i,r){return new Nn(r,this.length,i,this.height,this.deco||0)}lineAt(e,n,i,r,s){return this.blockAt(0,i,r,s)}forEachLine(e,n,i,r,s,o){e<=s+this.length&&n>=s&&o(this.blockAt(0,i,r,s))}updateHeight(e,n=0,i=!1,r){return r&&r.from<=n&&r.more&&this.setHeight(e,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Kt extends pw{constructor(e,n){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,n,i,r){return new Nn(r,this.length,i,this.height,this.breaks)}replace(e,n,i){let r=i[0];return i.length==1&&(r instanceof Kt||r instanceof Ot&&r.flags&4)&&Math.abs(this.length-r.length)<10?(r instanceof Ot?r=new Kt(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):Lt.of(i)}updateHeight(e,n=0,i=!1,r){return r&&r.from<=n&&r.more?this.setHeight(e,r.heights[r.index++]):(i||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Ot extends Lt{constructor(e){super(e,0)}heightMetrics(e,n){let i=e.doc.lineAt(n).number,r=e.doc.lineAt(n+this.length).number,s=r-i+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,this.length>s+1&&(a=(this.height-l)/(this.length-s-1))}else o=this.height/s;return{firstLine:i,lastLine:r,perLine:o,perChar:a}}blockAt(e,n,i,r){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(n,r);if(n.lineWrapping){let u=r+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length)),c=n.doc.lineAt(u),f=a+c.length*l,d=Math.max(i,e-f/2);return new Nn(c.from,c.length,d,f,0)}else{let u=Math.max(0,Math.min(o-s,Math.floor((e-i)/a))),{from:c,length:f}=n.doc.line(s+u);return new Nn(c,f,i+a*u,a,0)}}lineAt(e,n,i,r,s){if(n==Ze.ByHeight)return this.blockAt(e,i,r,s);if(n==Ze.ByPosNoHeight){let{from:p,to:m}=i.doc.lineAt(e);return new Nn(p,m-p,0,0,0)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(i,s),u=i.doc.lineAt(e),c=a+u.length*l,f=u.number-o,d=r+a*f+l*(u.from-s-f);return new Nn(u.from,u.length,Math.max(r,Math.min(d,r+this.height-c)),c,0)}forEachLine(e,n,i,r,s,o){e=Math.max(e,s),n=Math.min(n,s+this.length);let{firstLine:a,perLine:l,perChar:u}=this.heightMetrics(i,s);for(let c=e,f=r;c<=n;){let d=i.doc.lineAt(c);if(c==e){let m=d.number-a;f+=l*m+u*(e-s-m)}let p=l+u*d.length;o(new Nn(d.from,d.length,f,p,0)),f+=p,c=d.to+1}}replace(e,n,i){let r=this.length-n;if(r>0){let s=i[i.length-1];s instanceof Ot?i[i.length-1]=new Ot(s.length+r):i.push(null,new Ot(r-1))}if(e>0){let s=i[0];s instanceof Ot?i[0]=new Ot(e+s.length):i.unshift(new Ot(e-1),null)}return Lt.of(i)}decomposeLeft(e,n){n.push(new Ot(e-1),null)}decomposeRight(e,n){n.push(null,new Ot(this.length-e-1))}updateHeight(e,n=0,i=!1,r){let s=n+this.length;if(r&&r.from<=n+this.length&&r.more){let o=[],a=Math.max(n,r.from),l=-1;for(r.from>n&&o.push(new Ot(r.from-n-1).updateHeight(e,n));a<=s&&r.more;){let c=e.doc.lineAt(a).length;o.length&&o.push(null);let f=r.heights[r.index++];l==-1?l=f:Math.abs(f-l)>=Su&&(l=-2);let d=new Kt(c,f);d.outdated=!1,o.push(d),a+=c+1}a<=s&&o.push(null,new Ot(s-a).updateHeight(e,a));let u=Lt.of(o);return(l<0||Math.abs(u.height-this.height)>=Su||Math.abs(l-this.heightMetrics(e,n).perLine)>=Su)&&(e.heightChanged=!0),u}else(i||this.outdated)&&(this.setHeight(e,e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class G6 extends Lt{constructor(e,n,i){super(e.length+n+i.length,e.height+i.height,n|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,n,i,r){let s=i+this.left.height;return e<s?this.left.blockAt(e,n,i,r):this.right.blockAt(e,n,s,r+this.left.length+this.break)}lineAt(e,n,i,r,s){let o=r+this.left.height,a=s+this.left.length+this.break,l=n==Ze.ByHeight?e<o:e<a,u=l?this.left.lineAt(e,n,i,r,s):this.right.lineAt(e,n,i,o,a);if(this.break||(l?u.to<a:u.from>a))return u;let c=n==Ze.ByPosNoHeight?Ze.ByPosNoHeight:Ze.ByPos;return l?u.join(this.right.lineAt(a,c,i,o,a)):this.left.lineAt(a,c,i,r,s).join(u)}forEachLine(e,n,i,r,s,o){let a=r+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,n,i,r,s,o),n>=l&&this.right.forEachLine(e,n,i,a,l,o);else{let u=this.lineAt(l,Ze.ByPos,i,r,s);e<u.from&&this.left.forEachLine(e,u.from-1,i,r,s,o),u.to>=e&&u.from<=n&&o(u),n>u.to&&this.right.forEachLine(u.to+1,n,i,a,l,o)}}replace(e,n,i){let r=this.left.length+this.break;if(n<r)return this.balanced(this.left.replace(e,n,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,n-r,i));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of i)s.push(a);if(e>0&&xO(s,o-1),n<this.length){let a=s.length;this.decomposeRight(n,s),xO(s,a)}return Lt.of(s)}decomposeLeft(e,n){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(i++,e>=i&&n.push(null)),e>i&&this.right.decomposeLeft(e-i,n)}decomposeRight(e,n){let i=this.left.length,r=i+this.break;if(e>=r)return this.right.decomposeRight(e-r,n);e<i&&this.left.decomposeRight(e,n),this.break&&e<r&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?Lt.of(this.break?[e,null,n]:[e,n]):(this.left=e,this.right=n,this.height=e.height+n.height,this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,i=!1,r){let{left:s,right:o}=this,a=n+s.length+this.break,l=null;return r&&r.from<=n+s.length&&r.more?l=s=s.updateHeight(e,n,i,r):s.updateHeight(e,n,i),r&&r.from<=a+o.length&&r.more?l=o=o.updateHeight(e,a,i,r):o.updateHeight(e,a,i),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function xO(t,e){let n,i;t[e]==null&&(n=t[e-1])instanceof Ot&&(i=t[e+1])instanceof Ot&&t.splice(e-1,3,new Ot(n.length+1+i.length))}const H6=5;class Xp{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let i=Math.min(n,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof Kt?r.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new Kt(i-this.pos,-1)),this.writtenTo=i,n>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,i){if(e<n||i.heightRelevant){let r=i.widget?i.widget.estimatedHeight:0,s=i.widget?i.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let o=n-e;i.block?this.addBlock(new pw(o,r,i)):(o||s||r>=H6)&&this.addLineDeco(r,s,o)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Kt(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let i=new Ot(n-e);return this.oracle.doc.lineAt(e).to==n&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Kt)return e;let n=new Kt(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,i){let r=this.ensureLine();r.length+=i,r.collapsed+=i,r.widgetHeight=Math.max(r.widgetHeight,e),r.breaks+=n,this.writtenTo=this.pos=this.pos+i}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof Kt)&&!this.isCovered?this.nodes.push(new Kt(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let r of this.nodes)r instanceof Kt&&r.updateHeight(this.oracle,i),i+=r?r.length:1;return this.nodes}static build(e,n,i,r){let s=new Xp(i,e);return ze.spans(n,i,r,s,0),s.finish(i)}}function K6(t,e,n){let i=new J6;return ze.compare(t,e,n,i,0),i.changes}class J6{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,i,r){(e<n||i&&i.heightRelevant||r&&r.heightRelevant)&&cd(e,n,this.changes,5)}}function eR(t,e){let n=t.getBoundingClientRect(),i=t.ownerDocument,r=i.defaultView||window,s=Math.max(0,n.left),o=Math.min(r.innerWidth,n.right),a=Math.max(0,n.top),l=Math.min(r.innerHeight,n.bottom);for(let u=t.parentNode;u&&u!=i.body;)if(u.nodeType==1){let c=u,f=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&f.overflow!="visible"){let d=c.getBoundingClientRect();s=Math.max(s,d.left),o=Math.min(o,d.right),a=Math.max(a,d.top),l=u==t.parentNode?d.bottom:Math.min(l,d.bottom)}u=f.position=="absolute"||f.position=="fixed"?c.offsetParent:c.parentNode}else if(u.nodeType==11)u=u.host;else break;return{left:s-n.left,right:Math.max(s,o)-n.left,top:a-(n.top+e),bottom:Math.max(a,l)-(n.top+e)}}function tR(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class Lh{constructor(e,n,i){this.from=e,this.to=n,this.size=i}static same(e,n){if(e.length!=n.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],s=n[i];if(r.from!=s.from||r.to!=s.to||r.size!=s.size)return!1}return!0}draw(e,n){return De.replace({widget:new nR(this.size*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class nR extends tl{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class kO{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=SO,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=nt.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(Bp).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new U6(n),this.stateDeco=e.facet(Ca).filter(i=>typeof i!="function"),this.heightMap=Lt.empty().applyChanges(this.stateDeco,Te.empty,this.heightOracle.setDoc(e.doc),[new fn(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=De.set(this.lineGaps.map(i=>i.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let i=0;i<=1;i++){let r=i?n.head:n.anchor;if(!e.some(({from:s,to:o})=>r>=s&&r<=o)){let{from:s,to:o}=this.lineBlockAt(r);e.push(new zl(s,o))}}this.viewports=e.sort((i,r)=>i.from-r.from),this.scaler=this.heightMap.height<=7e6?SO:new sR(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:Jo(e,this.scaler))})}update(e,n=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(Ca).filter(c=>typeof c!="function");let r=e.changedRanges,s=fn.extendWithRanges(r,K6(i,this.stateDeco,e?e.changes:at.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=o&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<l.from||n.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,n));let u=!e.changes.empty||e.flags&2||l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,this.updateForViewport(),u&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(d6)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,i=window.getComputedStyle(n),r=this.heightOracle,s=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?nt.RTL:nt.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=n.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let u=0,c=0;if(a.width&&a.height){let{scaleX:R,scaleY:D}=k_(n,a);(R>.005&&Math.abs(this.scaleX-R)>.005||D>.005&&Math.abs(this.scaleY-D)>.005)&&(this.scaleX=R,this.scaleY=D,u|=8,o=l=!0)}let f=(parseInt(i.paddingTop)||0)*this.scaleY,d=(parseInt(i.paddingBottom)||0)*this.scaleY;(this.paddingTop!=f||this.paddingBottom!=d)&&(this.paddingTop=f,this.paddingBottom=d,u|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,u|=8);let p=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=p&&(this.scrollAnchorHeight=-1,this.scrollTop=p),this.scrolledToBottom=P_(e.scrollDOM);let m=(this.printing?tR:eR)(n,this.paddingTop),O=m.top-this.pixelViewport.top,y=m.bottom-this.pixelViewport.bottom;this.pixelViewport=m;let _=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(_!=this.inView&&(this.inView=_,_&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let S=a.width;if((this.contentDOMWidth!=S||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,u|=8),l){let R=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(R)&&(o=!0),o||r.lineWrapping&&Math.abs(S-this.contentDOMWidth)>r.charWidth){let{lineHeight:D,charWidth:L,textHeight:w}=e.docView.measureTextSize();o=D>0&&r.refresh(s,D,L,w,S/L,R),o&&(e.docView.minWidth=0,u|=8)}O>0&&y>0?c=Math.max(O,y):O<0&&y<0&&(c=Math.min(O,y)),r.heightChanged=!1;for(let D of this.viewports){let L=D.from==this.viewport.from?R:e.docView.measureVisibleLineHeights(D);this.heightMap=(o?Lt.empty().applyChanges(this.stateDeco,Te.empty,this.heightOracle,[new fn(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(r,0,o,new Y6(D.from,L))}r.heightChanged&&(u|=2)}let $=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return $&&(this.viewport=this.getViewport(c,this.scrollTarget)),this.updateForViewport(),(u&2||$)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new zl(r.lineAt(o-i*1e3,Ze.ByHeight,s,0,0).from,r.lineAt(a+(1-i)*1e3,Ze.ByHeight,s,0,0).to);if(n){let{head:u}=n.range;if(u<l.from||u>l.to){let c=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),f=r.lineAt(u,Ze.ByPos,s,0,0),d;n.y=="center"?d=(f.top+f.bottom)/2-c/2:n.y=="start"||n.y=="nearest"&&u<l.from?d=f.top:d=f.bottom-c,l=new zl(r.lineAt(d-1e3/2,Ze.ByHeight,s,0,0).from,r.lineAt(d+c+1e3/2,Ze.ByHeight,s,0,0).to)}}return l}mapViewport(e,n){let i=n.mapPos(e.from,-1),r=n.mapPos(e.to,1);return new zl(this.heightMap.lineAt(i,Ze.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,Ze.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},i=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,Ze.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(n,Ze.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||r<=o-Math.max(10,Math.min(-i,250)))&&(n==this.state.doc.length||s>=a+Math.max(10,Math.min(i,250)))&&r>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let i=[];for(let r of e)n.touchesRange(r.from,r.to)||i.push(new Lh(n.mapPos(r.from),n.mapPos(r.to),r.size));return i}ensureLineGaps(e,n){let i=this.heightOracle.lineWrapping,r=i?1e4:2e3,s=r>>1,o=r<<1;if(this.defaultTextDirection!=nt.LTR&&!i)return[];let a=[],l=(u,c,f,d)=>{if(c-u<s)return;let p=this.state.selection.main,m=[p.from];p.empty||m.push(p.to);for(let y of m)if(y>u&&y<c){l(u,y-10,f,d),l(y+10,c,f,d);return}let O=rR(e,y=>y.from>=f.from&&y.to<=f.to&&Math.abs(y.from-u)<s&&Math.abs(y.to-c)<s&&!m.some(_=>y.from<_&&y.to>_));if(!O){if(c<f.to&&n&&i&&n.visibleRanges.some(y=>y.from<=c&&y.to>=c)){let y=n.moveToLineBoundary(Z.cursor(c),!1,!0).head;y>u&&(c=y)}O=new Lh(u,c,this.gapSize(f,u,c,d))}a.push(O)};for(let u of this.viewportLines){if(u.length<o)continue;let c=iR(u.from,u.to,this.stateDeco);if(c.total<o)continue;let f=this.scrollTarget?this.scrollTarget.range.head:null,d,p;if(i){let m=r/this.heightOracle.lineLength*this.heightOracle.lineHeight,O,y;if(f!=null){let _=Bl(c,f),S=((this.visibleBottom-this.visibleTop)/2+m)/u.height;O=_-S,y=_+S}else O=(this.visibleTop-u.top-m)/u.height,y=(this.visibleBottom-u.top+m)/u.height;d=ql(c,O),p=ql(c,y)}else{let m=c.total*this.heightOracle.charWidth,O=r*this.heightOracle.charWidth,y,_;if(f!=null){let S=Bl(c,f),$=((this.pixelViewport.right-this.pixelViewport.left)/2+O)/m;y=S-$,_=S+$}else y=(this.pixelViewport.left-O)/m,_=(this.pixelViewport.right+O)/m;d=ql(c,y),p=ql(c,_)}d>u.from&&l(u.from,d,u,c),p<u.to&&l(p,u.to,u,c)}return a}gapSize(e,n,i,r){let s=Bl(r,i)-Bl(r,n);return this.heightOracle.lineWrapping?e.height*s:r.total*this.heightOracle.charWidth*s}updateLineGaps(e){Lh.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=De.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let n=[];ze.spans(e,this.viewport.from,this.viewport.to,{span(r,s){n.push({from:r,to:s})},point(){}},20);let i=n.length!=this.visibleRanges.length||this.visibleRanges.some((r,s)=>r.from!=n[s].from||r.to!=n[s].to);return this.visibleRanges=n,i?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||Jo(this.heightMap.lineAt(e,Ze.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return Jo(this.heightMap.lineAt(this.scaler.fromDOM(e),Ze.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return Jo(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class zl{constructor(e,n){this.from=e,this.to=n}}function iR(t,e,n){let i=[],r=t,s=0;return ze.spans(n,t,e,{span(){},point(o,a){o>r&&(i.push({from:r,to:o}),s+=o-r),r=a}},20),r<e&&(i.push({from:r,to:e}),s+=e-r),{total:s,ranges:i}}function ql({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let i=Math.floor(t*n);for(let r=0;;r++){let{from:s,to:o}=e[r],a=o-s;if(i<=a)return s+i;i-=a}}function Bl(t,e){let n=0;for(let{from:i,to:r}of t.ranges){if(e<=r){n+=e-i;break}n+=r-i}return n/t.total}function rR(t,e){for(let n of t)if(e(n))return n}const SO={toDOM(t){return t},fromDOM(t){return t},scale:1};class sR{constructor(e,n,i){let r=0,s=0,o=0;this.viewports=i.map(({from:a,to:l})=>{let u=n.lineAt(a,Ze.ByPos,e,0,0).top,c=n.lineAt(l,Ze.ByPos,e,0,0).bottom;return r+=c-u,{from:a,to:l,top:u,bottom:c,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(n.height-r);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let n=0,i=0,r=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.top)return r+(e-i)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);i=s.bottom,r=s.domBottom}}fromDOM(e){for(let n=0,i=0,r=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.domTop)return i+(e-r)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);i=s.bottom,r=s.domBottom}}}function Jo(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),i=e.toDOM(t.bottom);return new Nn(t.from,t.length,n,i-n,Array.isArray(t._content)?t._content.map(r=>Jo(r,e)):t._content)}const jl=ne.define({combine:t=>t.join(" ")}),Od=ne.define({combine:t=>t.indexOf(!0)>-1}),bd=nr.newName(),mw=nr.newName(),gw=nr.newName(),Ow={"&light":"."+mw,"&dark":"."+gw};function yd(t,e,n){return new nr(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,r=>{if(r=="&")return t;if(!n||!n[r])throw new RangeError(`Unsupported selector: ${r}`);return n[r]}):t+" "+i}})}const oR=yd("."+bd,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Ow),ea="￿";class aR{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(_e.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=ea}readRange(e,n){if(!e)return this;let i=e.parentNode;for(let r=e;;){this.findPointBefore(i,r);let s=this.text.length;this.readNode(r);let o=r.nextSibling;if(o==n)break;let a=Ie.get(r),l=Ie.get(o);(a&&l?a.breakAfter:(a?a.breakAfter:Ju(r))||Ju(o)&&(r.nodeName!="BR"||r.cmIgnore)&&this.text.length>s)&&this.lineBreak(),r=o}return this.findPointBefore(i,n),this}readTextNode(e){let n=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,n.length));for(let i=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=n.indexOf(this.lineSeparator,i),o=this.lineSeparator.length):(a=r.exec(n))&&(s=a.index,o=a[0].length),this.append(n.slice(i,s<0?n.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);i=s+o}}readNode(e){if(e.cmIgnore)return;let n=Ie.get(e),i=n&&n.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let r=i.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==n&&(i.pos=this.text.length)}findPointInside(e,n){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+(lR(e,i.node,i.offset)?n:0))}}function lR(t,e,n){for(;;){if(!e||n<bi(e))return!1;if(e==t)return!0;n=Vr(e)+1,e=e.parentNode}}class TO{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class uR{constructor(e,n,i,r){this.typeOver=r,this.bounds=null,this.text="";let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,i,0))){let a=s||o?[]:fR(e),l=new aR(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=dR(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!rd(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),u=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!rd(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),c=e.viewport;if((H.ios||H.chrome)&&e.state.selection.main.empty&&l!=u&&(c.from>0||c.to<e.state.doc.length)){let f=Math.min(l,u),d=Math.max(l,u),p=c.from-f,m=c.to-d;(p==0||p==1||f==0)&&(m==0||m==-1||d==e.state.doc.length)&&(l=0,u=e.state.doc.length)}this.newSel=Z.single(u,l)}}}function bw(t,e){let n,{newSel:i}=e,r=t.state.selection.main,s=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:a}=e.bounds,l=r.from,u=null;(s===8||H.android&&e.text.length<a-o)&&(l=r.to,u="end");let c=hR(t.state.doc.sliceString(o,a,ea),e.text,l-o,u);c&&(H.chrome&&s==13&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==ea+ea&&c.toB--,n={from:o+c.from,to:o+c.toA,insert:Te.of(e.text.slice(c.from,c.toB).split(ea))})}else i&&(!t.hasFocus&&t.state.facet(Wc)||i.main.eq(r))&&(i=null);if(!n&&!i)return!1;if(!n&&e.typeOver&&!r.empty&&i&&i.main.empty?n={from:r.from,to:r.to,insert:t.state.doc.slice(r.from,r.to)}:n&&n.from>=r.from&&n.to<=r.to&&(n.from!=r.from||n.to!=r.to)&&r.to-r.from-(n.to-n.from)<=4?n={from:r.from,to:r.to,insert:t.state.doc.slice(r.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,r.to))}:(H.mac||H.android)&&n&&n.from==n.to&&n.from==r.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(i&&n.insert.length==2&&(i=Z.single(i.main.anchor-1,i.main.head-1)),n={from:r.from,to:r.to,insert:Te.of([" "])}):H.chrome&&n&&n.from==n.to&&n.from==r.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(i&&(i=Z.single(i.main.anchor-1,i.main.head-1)),n={from:r.from,to:r.to,insert:Te.of([" "])}),n){if(H.ios&&t.inputState.flushIOSKey(n)||H.android&&(n.to==r.to&&(n.from==r.from||n.from==r.from-1&&t.state.sliceDoc(n.from,r.from)==" ")&&n.insert.length==1&&n.insert.lines==2&&xs(t.contentDOM,"Enter",13)||(n.from==r.from-1&&n.to==r.to&&n.insert.length==0||s==8&&n.insert.length<n.to-n.from&&n.to>r.head)&&xs(t.contentDOM,"Backspace",8)||n.from==r.from&&n.to==r.to+1&&n.insert.length==0&&xs(t.contentDOM,"Delete",46)))return!0;let o=n.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let a,l=()=>a||(a=cR(t,n,i));return t.state.facet(U_).some(u=>u(t,n.from,n.to,o,l))||t.dispatch(l()),!0}else if(i&&!i.main.eq(r)){let o=!1,a="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(o=!0),a=t.inputState.lastSelectionOrigin),t.dispatch({selection:i,scrollIntoView:o,userEvent:a}),!0}else return!1}function cR(t,e,n){let i,r=t.state,s=r.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let a=s.from<e.from?r.sliceDoc(s.from,e.from):"",l=s.to>e.to?r.sliceDoc(e.to,s.to):"";i=r.replaceSelection(t.state.toText(a+e.insert.sliceString(0,void 0,t.state.lineBreak)+l))}else{let a=r.changes(e),l=n&&n.main.to<=a.newLength?n.main:void 0;if(r.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let u=t.state.sliceDoc(e.from,e.to),c,f=n&&iw(t,n.main.head);if(f){let m=e.insert.length-(e.to-e.from);c={from:f.from,to:f.to-m}}else c=t.state.doc.lineAt(s.head);let d=s.to-e.to,p=s.to-s.from;i=r.changeByRange(m=>{if(m.from==s.from&&m.to==s.to)return{changes:a,range:l||m.map(a)};let O=m.to-d,y=O-u.length;if(m.to-m.from!=p||t.state.sliceDoc(y,O)!=u||m.to>=c.from&&m.from<=c.to)return{range:m};let _=r.changes({from:y,to:O,insert:e.insert}),S=m.to-s.to;return{changes:_,range:l?Z.range(Math.max(0,l.anchor+S),Math.max(0,l.head+S)):m.map(_)}})}else i={changes:a,selection:l&&r.selection.replaceRange(l)}}let o="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,o+=".compose",t.inputState.compositionFirstChange&&(o+=".start",t.inputState.compositionFirstChange=!1)),r.update(i,{userEvent:o,scrollIntoView:!0})}function hR(t,e,n,i){let r=Math.min(t.length,e.length),s=0;for(;s<r&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==r&&t.length==e.length)return null;let o=t.length,a=e.length;for(;o>0&&a>0&&t.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(i=="end"){let l=Math.max(0,s-Math.min(o,a));n-=o+l-s}if(o<s&&t.length<e.length){let l=n<=s&&n>=o?s-n:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=n<=s&&n>=a?s-n:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function fR(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:s}=t.observer.selectionRange;return n&&(e.push(new TO(n,i)),(r!=n||s!=i)&&e.push(new TO(r,s))),e}function dR(t,e){if(t.length==0)return null;let n=t[0].pos,i=t.length==2?t[1].pos:n;return n>-1&&i>-1?Z.single(n+e,i+e):null}const pR={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Fh=H.ie&&H.ie_version<=11;class mR{constructor(e){this.view=e,this.active=!1,this.selectionRange=new G$,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let i of n)this.queue.push(i);(H.ie&&H.ie_version<=11||H.ios&&e.composing)&&n.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Fh&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){e.type=="change"&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,i)=>n!=e[i]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,r=this.selectionRange;if(i.state.facet(Wc)?i.root.activeElement!=this.dom:!xu(i.dom,r))return;let s=r.anchorNode&&i.docView.nearest(r.anchorNode);if(s&&s.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(H.ie&&H.ie_version<=11||H.android&&H.chrome)&&!i.state.selection.main.empty&&r.focusNode&&ha(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=Ku(e.root);if(!n)return!1;let i=H.safari&&e.root.nodeType==11&&X$(this.dom.ownerDocument)==this.dom&&gR(this.view,n)||n;if(!i||this.selectionRange.eq(i))return!1;let r=xu(this.dom,i);return r&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&K$(this.dom,i)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(i),r&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let i=this.dom;i;)if(i.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=n)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,pR),Fh&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Fh&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var i;if(!this.delayedAndroidKey){let r=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&xs(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(r)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,i=-1,r=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(r=!0),n==-1?{from:n,to:i}=o:(n=Math.min(o.from,n),i=Math.max(o.to,i)))}return{from:n,to:i,typeOver:r}}readChange(){let{from:e,to:n,typeOver:i}=this.processRecords(),r=this.selectionChanged&&xu(this.dom,this.selectionRange);if(e<0&&!r)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new uR(this.view,e,n,i);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let i=this.view.state,r=bw(this.view,n);return this.view.state==i&&this.view.update([]),r}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.flags|=4),e.type=="childList"){let i=PO(n,e.previousSibling||e.target.previousSibling,-1),r=PO(n,e.nextSibling||e.target.nextSibling,1);return{from:i?n.posAfter(i):n.posAtStart,to:r?n.posBefore(r):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener("change",this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener("change",this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,n,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect();for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function PO(t,e,n){for(;e;){let i=Ie.get(e);if(i&&i.parent==t)return i;let r=e.parentNode;e=r!=t.dom?r:n>0?e.nextSibling:e.previousSibling}return null}function AO(t,e){let n=e.startContainer,i=e.startOffset,r=e.endContainer,s=e.endOffset,o=t.docView.domAtPos(t.state.selection.main.anchor);return ha(o.node,o.offset,r,s)&&([n,i,r,s]=[r,s,n,i]),{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:s}}function gR(t,e){if(e.getComposedRanges){let r=e.getComposedRanges(t.root)[0];if(r)return AO(t,r)}let n=null;function i(r){r.preventDefault(),r.stopImmediatePropagation(),n=r.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",i,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",i,!0),n?AO(t,n):null}class J{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:n}=e;this.dispatchTransactions=e.dispatchTransactions||n&&(i=>i.forEach(r=>n(r,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||H$(e.parent)||document,this.viewState=new kO(e.state||_e.create(e)),e.scrollTo&&e.scrollTo.is(Fl)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Ho).map(i=>new Dh(i));for(let i of this.plugins)i.update(this);this.observer=new mR(this),this.inputState=new $6(this),this.inputState.ensureHandlers(this.plugins),this.docView=new oO(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure()}dispatch(...e){let n=e.length==1&&e[0]instanceof tt?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,i=!1,r,s=this.state;for(let d of e){if(d.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=d.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(d=>d.annotation(hw))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=fw(s,o),l||(a=1));let u=this.observer.delayedAndroidKey,c=null;if(u?(this.observer.clearDelayedAndroidKey(),c=this.observer.readChange(),(c&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(c=null)):this.observer.clear(),s.facet(_e.phrases)!=this.state.facet(_e.phrases))return this.setState(s);r=ec.create(this,s,e),r.flags|=a;let f=this.viewState.scrollTarget;try{this.updateState=2;for(let d of e){if(f&&(f=f.map(d.changes)),d.scrollIntoView){let{main:p}=d.state.selection;f=new ks(p.empty?p:Z.cursor(p.head,p.head>p.anchor?-1:1))}for(let p of d.effects)p.is(Fl)&&(f=p.value.clip(this.state))}this.viewState.update(r,f),this.bidiCache=tc.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),n=this.docView.update(r),this.state.facet(Ko)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(d=>d.isUserEvent("select.pointer")))}finally{this.updateState=0}if(r.startState.facet(jl)!=r.state.facet(jl)&&(this.viewState.mustMeasureContent=!0),(n||i||f||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!r.empty)for(let d of this.state.facet(pd))try{d(r)}catch(p){en(this.state,p,"update listener")}(l||c)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),c&&!bw(this,c)&&u.force&&xs(this.contentDOM,u.key,u.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new kO(e),this.plugins=e.facet(Ho).map(i=>new Dh(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView.destroy(),this.docView=new oO(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(Ho),i=e.state.facet(Ho);if(n!=i){let r=[];for(let s of i){let o=n.indexOf(s);if(o<0)r.push(new Dh(s));else{let a=this.plugins[o];a.mustUpdate=e,r.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=r,this.pluginMap.clear()}else for(let r of this.plugins)r.mustUpdate=e;for(let r=0;r<this.plugins.length;r++)this.plugins[r].update(this);n!=i&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(i){en(this.state,i,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,i=this.scrollDOM,r=i.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(r-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(o<0)if(P_(i))s=-1,o=this.viewState.heightMap.height;else{let p=this.viewState.scrollAnchorAt(r);s=p.from,o=p.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let u=[];l&4||([this.measureRequests,u]=[u,this.measureRequests]);let c=u.map(p=>{try{return p.read(this)}catch(m){return en(this.state,m),EO}}),f=ec.create(this,this.state,[]),d=!1;f.flags|=l,n?n.flags|=l:n=f,this.updateState=2,f.empty||(this.updatePlugins(f),this.inputState.update(f),this.updateAttrs(),d=this.docView.update(f),d&&this.docViewUpdate());for(let p=0;p<u.length;p++)if(c[p]!=EO)try{let m=u[p];m.write&&m.write(c[p],this)}catch(m){en(this.state,m)}if(d&&this.docView.updateSelection(!0),!f.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let m=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(m>1||m<-1){r=r+m,i.scrollTop=r/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let a of this.state.facet(pd))a(n)}get themeClasses(){return bd+" "+(this.state.facet(Od)?gw:mw)+" "+this.state.facet(jl)}updateAttrs(){let e=CO(this,K_,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Wc)?"true":"false",class:"cm-content",style:`${H.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),CO(this,Bp,n);let i=this.observer.ignore(()=>{let r=ud(this.contentDOM,this.contentAttrs,n),s=ud(this.dom,this.editorAttrs,e);return r||s});return this.editorAttrs=e,this.contentAttrs=n,i}showAnnouncements(e){let n=!0;for(let i of e)for(let r of i.effects)if(r.is(J.announce)){n&&(this.announceDOM.textContent=""),n=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=r.value}}mountStyles(){this.styleModules=this.state.facet(Ko);let e=this.state.facet(J.cspNonce);nr.mount(this.root,this.styleModules.concat(oR).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.spec!=e)&&this.pluginMap.set(e,n=this.plugins.find(i=>i.spec==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,i){return Mh(this,e,fO(this,e,n,i))}moveByGroup(e,n){return Mh(this,e,fO(this,e,n,i=>E6(this,e.head,i)))}visualLineSide(e,n){let i=this.bidiSpans(e),r=this.textDirectionAt(e.from),s=i[n?i.length-1:0];return Z.cursor(s.side(n,r)+e.from,s.forward(!n,r)?1:-1)}moveToLineBoundary(e,n,i=!0){return A6(this,e,n,i)}moveVertically(e,n,i){return Mh(this,e,C6(this,e,n,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),rw(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let i=this.docView.coordsAt(e,n);if(!i||i.left==i.right)return i;let r=this.state.doc.lineAt(e),s=this.bidiSpans(r),o=s[qi.find(s,e-r.from,-1,n)];return jc(i,o.dir==nt.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(G_)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>OR)return z_(e.length);let n=this.textDirectionAt(e.from),i;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==n&&(s.fresh||Z_(s.isolates,i=sO(this,e))))return s.order;i||(i=sO(this,e));let r=c6(e.text,n,i);return this.bidiCache.push(new tc(e.from,e.to,n,i,!0,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||H.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{S_(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return Fl.of(new ks(typeof e=="number"?Z.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,i=this.viewState.scrollAnchorAt(e);return Fl.of(new ks(Z.cursor(i.from),"start","start",i.top-e,n,!0))}static domEventHandlers(e){return pn.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return pn.define(()=>({}),{eventObservers:e})}static theme(e,n){let i=nr.newName(),r=[jl.of(i),Ko.of(yd(`.${i}`,e))];return n&&n.dark&&r.push(Od.of(!0)),r}static baseTheme(e){return lr.lowest(Ko.of(yd("."+bd,e,Ow)))}static findFromDOM(e){var n;let i=e.querySelector(".cm-content"),r=i&&Ie.get(i)||Ie.get(e);return((n=r?.rootView)===null||n===void 0?void 0:n.view)||null}}J.styleModule=Ko;J.inputHandler=U_;J.scrollHandler=H_;J.focusChangeEffect=Y_;J.perLineTextDirection=G_;J.exceptionSink=W_;J.updateListener=pd;J.editable=Wc;J.mouseSelectionStyle=X_;J.dragMovesSelection=j_;J.clickAddsSelectionRange=B_;J.decorations=Ca;J.outerDecorations=J_;J.atomicRanges=jp;J.bidiIsolatedRanges=ew;J.scrollMargins=tw;J.darkTheme=Od;J.cspNonce=ne.define({combine:t=>t.length?t[0]:""});J.contentAttributes=Bp;J.editorAttributes=K_;J.lineWrapping=J.contentAttributes.of({class:"cm-lineWrapping"});J.announce=Pe.define();const OR=4096,EO={};class tc{constructor(e,n,i,r,s,o){this.from=e,this.to=n,this.dir=i,this.isolates=r,this.fresh=s,this.order=o}static update(e,n){if(n.empty&&!e.some(s=>s.fresh))return e;let i=[],r=e.length?e[e.length-1].dir:nt.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==r&&!n.touchesRange(o.from,o.to)&&i.push(new tc(n.mapPos(o.from,1),n.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return i}}function CO(t,e,n){for(let i=t.state.facet(e),r=i.length-1;r>=0;r--){let s=i[r],o=typeof s=="function"?s(t):s;o&&ld(o,n)}return n}const bR=H.mac?"mac":H.windows?"win":H.linux?"linux":"key";function yR(t,e){const n=t.split(/-(?!$)/);let i=n[n.length-1];i=="Space"&&(i=" ");let r,s,o,a;for(let l=0;l<n.length-1;++l){const u=n[l];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))s=!0;else if(/^s(hift)?$/i.test(u))o=!0;else if(/^mod$/i.test(u))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+u)}return r&&(i="Alt-"+i),s&&(i="Ctrl-"+i),a&&(i="Meta-"+i),o&&(i="Shift-"+i),i}function Xl(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const vR=lr.default(J.domEventHandlers({keydown(t,e){return vw(yw(e.state),t,e,"editor")}})),rl=ne.define({enables:vR}),$O=new WeakMap;function yw(t){let e=t.facet(rl),n=$O.get(e);return n||$O.set(e,n=xR(e.reduce((i,r)=>i.concat(r),[]))),n}function _R(t,e,n){return vw(yw(t.state),e,t,n)}let Li=null;const wR=4e3;function xR(t,e=bR){let n=Object.create(null),i=Object.create(null),r=(o,a)=>{let l=i[o];if(l==null)i[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,u,c)=>{var f,d;let p=n[o]||(n[o]=Object.create(null)),m=a.split(/ (?!$)/).map(_=>yR(_,e));for(let _=1;_<m.length;_++){let S=m.slice(0,_).join(" ");r(S,!0),p[S]||(p[S]={preventDefault:!0,stopPropagation:!1,run:[$=>{let R=Li={view:$,prefix:S,scope:o};return setTimeout(()=>{Li==R&&(Li=null)},wR),!0}]})}let O=m.join(" ");r(O,!1);let y=p[O]||(p[O]={preventDefault:!1,stopPropagation:!1,run:((d=(f=p._any)===null||f===void 0?void 0:f.run)===null||d===void 0?void 0:d.slice())||[]});l&&y.run.push(l),u&&(y.preventDefault=!0),c&&(y.stopPropagation=!0)};for(let o of t){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let u of a){let c=n[u]||(n[u]=Object.create(null));c._any||(c._any={preventDefault:!1,stopPropagation:!1,run:[]});for(let f in c)c[f].run.push(o.any)}let l=o[e]||o.key;if(l)for(let u of a)s(u,l,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(u,"Shift-"+l,o.shift,o.preventDefault,o.stopPropagation)}return n}function vw(t,e,n,i){let r=j$(e),s=xn(r,0),o=ci(s)==r.length&&r!=" ",a="",l=!1,u=!1,c=!1;Li&&Li.view==n&&Li.scope==i&&(a=Li.prefix+" ",ow.indexOf(e.keyCode)<0&&(u=!0,Li=null));let f=new Set,d=y=>{if(y){for(let _ of y.run)if(!f.has(_)&&(f.add(_),_(n,e)))return y.stopPropagation&&(c=!0),!0;y.preventDefault&&(y.stopPropagation&&(c=!0),u=!0)}return!1},p=t[i],m,O;return p&&(d(p[a+Xl(r,e,!o)])?l=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(H.windows&&e.ctrlKey&&e.altKey)&&(m=ir[e.keyCode])&&m!=r?(d(p[a+Xl(m,e,!0)])||e.shiftKey&&(O=Ea[e.keyCode])!=r&&O!=m&&d(p[a+Xl(O,e,!1)]))&&(l=!0):o&&e.shiftKey&&d(p[a+Xl(r,e,!0)])&&(l=!0),!l&&d(p._any)&&(l=!0)),u&&(l=!0),l&&c&&e.stopPropagation(),l}const kR=!H.ios,RO={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};kR&&(RO[".cm-line"].caretColor="transparent !important",RO[".cm-content"]={caretColor:"transparent !important"});class SR extends tl{constructor(e){super(),this.content=e}toDOM(){let e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}coordsAt(e){let n=e.firstChild?Ns(e.firstChild):[];if(!n.length)return null;let i=window.getComputedStyle(e.parentNode),r=jc(n[0],i.direction!="rtl"),s=parseInt(i.lineHeight);return r.bottom-r.top>s*1.5?{left:r.left,right:r.right,top:r.top,bottom:r.top+s}:r}ignoreEvent(){return!1}}function TR(t){return pn.fromClass(class{constructor(e){this.view=e,this.placeholder=t?De.set([De.widget({widget:new SR(t),side:1}).range(0)]):De.none}get decorations(){return this.view.state.doc.length?De.none:this.placeholder}},{decorations:e=>e.decorations})}const Lo="-10000px";class PR{constructor(e,n,i,r){this.facet=n,this.createTooltipView=i,this.removeTooltipView=r,this.input=e.state.facet(n),this.tooltips=this.input.filter(o=>o);let s=null;this.tooltipViews=this.tooltips.map(o=>s=i(o,s))}update(e,n){var i;let r=e.state.facet(this.facet),s=r.filter(l=>l);if(r===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let o=[],a=n?[]:null;for(let l=0;l<s.length;l++){let u=s[l],c=-1;if(u){for(let f=0;f<this.tooltips.length;f++){let d=this.tooltips[f];d&&d.create==u.create&&(c=f)}if(c<0)o[l]=this.createTooltipView(u,l?o[l-1]:null),a&&(a[l]=!!u.above);else{let f=o[l]=this.tooltipViews[c];a&&(a[l]=n[c]),f.update&&f.update(e)}}}for(let l of this.tooltipViews)o.indexOf(l)<0&&(this.removeTooltipView(l),(i=l.destroy)===null||i===void 0||i.call(l));return n&&(a.forEach((l,u)=>n[u]=l),n.length=a.length),this.input=r,this.tooltips=s,this.tooltipViews=o,!0}}function AR(t){let{win:e}=t;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const Nh=ne.define({combine:t=>{var e,n,i;return{position:H.ios?"absolute":((e=t.find(r=>r.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(r=>r.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((i=t.find(r=>r.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||AR}}}),IO=new WeakMap,_w=pn.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(Nh);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new PR(t,ww,(n,i)=>this.createTooltip(n,i),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,i=t.state.facet(Nh);if(i.position!=this.position&&!this.madeAbsolute){this.position=i.position;for(let r of this.manager.tooltipViews)r.dom.style.position=this.position;n=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let r of this.manager.tooltipViews)this.container.appendChild(r.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),i=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let r=document.createElement("div");r.className="cm-tooltip-arrow",n.dom.appendChild(r)}return n.dom.style.position=this.position,n.dom.style.top=Lo,n.dom.style.left="0px",this.container.insertBefore(n.dom,i),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let i of this.manager.tooltipViews)i.dom.remove(),(t=i.destroy)===null||t===void 0||t.call(i);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect(),e=1,n=1,i=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:r}=this.manager.tooltipViews[0];if(H.gecko)i=r.offsetParent!=this.container.ownerDocument.body;else if(r.style.top==Lo&&r.style.left=="0px"){let s=r.getBoundingClientRect();i=Math.abs(s.top+1e4)>1||Math.abs(s.left)>1}}if(i||this.position=="absolute")if(this.parent){let r=this.parent.getBoundingClientRect();r.width&&r.height&&(e=r.width/this.parent.offsetWidth,n=r.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:n}=this.view.viewState);return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map((r,s)=>{let o=this.manager.tooltipViews[s];return o.getCoords?o.getCoords(r.pos):this.view.coordsAtPos(r.pos)}),size:this.manager.tooltipViews.map(({dom:r})=>r.getBoundingClientRect()),space:this.view.state.facet(Nh).tooltipSpace(this.view),scaleX:e,scaleY:n,makeAbsolute:i}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{editor:n,space:i,scaleX:r,scaleY:s}=t,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],u=this.manager.tooltipViews[a],{dom:c}=u,f=t.pos[a],d=t.size[a];if(!f||f.bottom<=Math.max(n.top,i.top)||f.top>=Math.min(n.bottom,i.bottom)||f.right<Math.max(n.left,i.left)-.1||f.left>Math.min(n.right,i.right)+.1){c.style.top=Lo;continue}let p=l.arrow?u.dom.querySelector(".cm-tooltip-arrow"):null,m=p?7:0,O=d.right-d.left,y=(e=IO.get(u))!==null&&e!==void 0?e:d.bottom-d.top,_=u.offset||CR,S=this.view.textDirection==nt.LTR,$=d.width>i.right-i.left?S?i.left:i.right-d.width:S?Math.min(f.left-(p?14:0)+_.x,i.right-O):Math.max(i.left,f.left-O+(p?14:0)-_.x),R=this.above[a];!l.strictSide&&(R?f.top-(d.bottom-d.top)-_.y<i.top:f.bottom+(d.bottom-d.top)+_.y>i.bottom)&&R==i.bottom-f.bottom>f.top-i.top&&(R=this.above[a]=!R);let D=(R?f.top-i.top:i.bottom-f.bottom)-m;if(D<y&&u.resize!==!1){if(D<this.view.defaultLineHeight){c.style.top=Lo;continue}IO.set(u,y),c.style.height=(y=D)/s+"px"}else c.style.height&&(c.style.height="");let L=R?f.top-y-m-_.y:f.bottom+m+_.y,w=$+O;if(u.overlap!==!0)for(let v of o)v.left<w&&v.right>$&&v.top<L+y&&v.bottom>L&&(L=R?v.top-y-2-m:v.bottom+m+2);if(this.position=="absolute"?(c.style.top=(L-t.parent.top)/s+"px",c.style.left=($-t.parent.left)/r+"px"):(c.style.top=L/s+"px",c.style.left=$/r+"px"),p){let v=f.left+(S?_.x:-_.x)-($+14-7);p.style.left=v/r+"px"}u.overlap!==!0&&o.push({left:$,top:L,right:w,bottom:L+y}),c.classList.toggle("cm-tooltip-above",R),c.classList.toggle("cm-tooltip-below",!R),u.positioned&&u.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=Lo}},{eventObservers:{scroll(){this.maybeMeasure()}}}),ER=J.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),CR={x:0,y:0},ww=ne.define({enables:[_w,ER]});function xw(t,e){let n=t.plugin(_w);if(!n)return null;let i=n.manager.tooltips.indexOf(e);return i<0?null:n.manager.tooltipViews[i]}const QO=ne.define({combine(t){let e,n;for(let i of t)e=e||i.topContainer,n=n||i.bottomContainer;return{topContainer:e,bottomContainer:n}}});function nc(t,e){let n=t.plugin(kw),i=n?n.specs.indexOf(e):-1;return i>-1?n.panels[i]:null}const kw=pn.fromClass(class{constructor(t){this.input=t.state.facet(ic),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(QO);this.top=new Wl(t,!0,e.topContainer),this.bottom=new Wl(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(QO);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Wl(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Wl(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(ic);if(n!=this.input){let i=n.filter(l=>l),r=[],s=[],o=[],a=[];for(let l of i){let u=this.specs.indexOf(l),c;u<0?(c=l(t.view),a.push(c)):(c=this.panels[u],c.update&&c.update(t)),r.push(c),(c.top?s:o).push(c)}this.specs=i,this.panels=r,this.top.sync(s),this.bottom.sync(o);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let i of this.panels)i.update&&i.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>J.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class Wl{constructor(e,n,i){this.view=e,this.top=n,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=DO(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=DO(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function DO(t){let e=t.nextSibling;return t.remove(),e}const ic=ne.define({enables:kw});class qs extends Dr{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}qs.prototype.elementClass="";qs.prototype.toDOM=void 0;qs.prototype.mapMode=Mt.TrackBefore;qs.prototype.startSide=qs.prototype.endSide=-1;qs.prototype.point=!0;const Sw=1024;let $R=0;class ln{constructor(e,n){this.from=e,this.to=n}}class se{constructor(e={}){this.id=$R++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=it.match(e)),n=>{let i=e(n);return i===void 0?null:[this,i]}}}se.closedBy=new se({deserialize:t=>t.split(" ")});se.openedBy=new se({deserialize:t=>t.split(" ")});se.group=new se({deserialize:t=>t.split(" ")});se.isolate=new se({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});se.contextHash=new se({perNode:!0});se.lookAhead=new se({perNode:!0});se.mounted=new se({perNode:!0});class $a{constructor(e,n,i){this.tree=e,this.overlay=n,this.parser=i}static get(e){return e&&e.props&&e.props[se.mounted.id]}}const RR=Object.create(null);class it{constructor(e,n,i,r=0){this.name=e,this.props=n,this.id=i,this.flags=r}static define(e){let n=e.props&&e.props.length?Object.create(null):RR,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),r=new it(e.name||"",n,e.id,i);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(r)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[s[0].id]=s[1]}}return r}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(se.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let i in e)for(let r of i.split(" "))n[r]=e[i];return i=>{for(let r=i.prop(se.group),s=-1;s<(r?r.length:0);s++){let o=n[s<0?i.name:r[s]];if(o)return o}}}}it.none=new it("",Object.create(null),0,8);class ro{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let i of this.types){let r=null;for(let s of e){let o=s(i);o&&(r||(r=Object.assign({},i.props)),r[o[0].id]=o[1])}n.push(r?new it(i.name,r,i.id,i.flags):i)}return new ro(n)}}const Ul=new WeakMap,VO=new WeakMap;var Qe;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(Qe||(Qe={}));class pe{constructor(e,n,i,r,s){if(this.type=e,this.children=n,this.positions=i,this.length=r,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=$a.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let i of this.children){let r=i.toString();r&&(n&&(n+=","),n+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new rc(this.topNode,e)}cursorAt(e,n=0,i=0){let r=Ul.get(this)||this.topNode,s=new rc(r);return s.moveTo(e,n),Ul.set(this,s._tree),s}get topNode(){return new It(this,0,0,null)}resolve(e,n=0){let i=Ra(Ul.get(this)||this.topNode,e,n,!1);return Ul.set(this,i),i}resolveInner(e,n=0){let i=Ra(VO.get(this)||this.topNode,e,n,!0);return VO.set(this,i),i}resolveStack(e,n=0){return DR(this,e,n)}iterate(e){let{enter:n,leave:i,from:r=0,to:s=this.length}=e,o=e.mode||0,a=(o&Qe.IncludeAnonymous)>0;for(let l=this.cursor(o|Qe.IncludeAnonymous);;){let u=!1;if(l.from<=s&&l.to>=r&&(!a&&l.type.isAnonymous||n(l)!==!1)){if(l.firstChild())continue;u=!0}for(;u&&i&&(a||!l.type.isAnonymous)&&i(l),!l.nextSibling();){if(!l.parent())return;u=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:Yp(it.none,this.children,this.positions,0,this.children.length,0,this.length,(n,i,r)=>new pe(this.type,n,i,r,this.propValues),e.makeTree||((n,i,r)=>new pe(it.none,n,i,r)))}static build(e){return VR(e)}}pe.empty=new pe(it.none,[],[],0);class Wp{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Wp(this.buffer,this.index)}}class sr{constructor(e,n,i){this.buffer=e,this.length=n,this.set=i}get type(){return it.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],i=this.buffer[e+3],r=this.set.types[n],s=r.name;if(/\W/.test(s)&&!r.isError&&(s=JSON.stringify(s)),e+=4,i==e)return s;let o=[];for(;e<i;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,n,i,r,s){let{buffer:o}=this,a=-1;for(let l=e;l!=n&&!(Tw(s,r,o[l+1],o[l+2])&&(a=l,i>0));l=o[l+3]);return a}slice(e,n,i){let r=this.buffer,s=new Uint16Array(n-e),o=0;for(let a=e,l=0;a<n;){s[l++]=r[a++],s[l++]=r[a++]-i;let u=s[l++]=r[a++]-i;s[l++]=r[a++]-e,o=Math.max(o,u)}return new sr(s,o,this.set)}}function Tw(t,e,n,i){switch(t){case-2:return n<e;case-1:return i>=e&&n<e;case 0:return n<e&&i>e;case 1:return n<=e&&i>e;case 2:return i>e;case 4:return!0}}function Ra(t,e,n,i){for(var r;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let o=!i&&t instanceof It&&t.index<0?null:t.parent;if(!o)return t;t=o}let s=i?0:Qe.IgnoreOverlays;if(i)for(let o=t,a=o.parent;a;o=a,a=o.parent)o instanceof It&&o.index<0&&((r=a.enter(e,n,s))===null||r===void 0?void 0:r.from)!=o.from&&(t=a);for(;;){let o=t.enter(e,n,s);if(!o)return t;t=o}}class Pw{cursor(e=0){return new rc(this,e)}getChild(e,n=null,i=null){let r=MO(this,e,n,i);return r.length?r[0]:null}getChildren(e,n=null,i=null){return MO(this,e,n,i)}resolve(e,n=0){return Ra(this,e,n,!1)}resolveInner(e,n=0){return Ra(this,e,n,!0)}matchContext(e){return vd(this,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),i=this;for(;n;){let r=n.lastChild;if(!r||r.to!=n.to)break;r.type.isError&&r.from==r.to?(i=n,n=r.prevSibling):n=r}return i}get node(){return this}get next(){return this.parent}}class It extends Pw{constructor(e,n,i,r){super(),this._tree=e,this.from=n,this.index=i,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,i,r,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,u=n>0?a.length:-1;e!=u;e+=n){let c=a[e],f=l[e]+o.from;if(Tw(r,i,f,f+c.length)){if(c instanceof sr){if(s&Qe.ExcludeBuffers)continue;let d=c.findChild(0,c.buffer.length,n,i-f,r);if(d>-1)return new Zn(new IR(o,c,e,f),null,d)}else if(s&Qe.IncludeAnonymous||!c.type.isAnonymous||Up(c)){let d;if(!(s&Qe.IgnoreMounts)&&(d=$a.get(c))&&!d.overlay)return new It(d.tree,f,e,o);let p=new It(c,f,e,o);return s&Qe.IncludeAnonymous||!p.type.isAnonymous?p:p.nextChild(n<0?c.children.length-1:0,n,i,r)}}}if(s&Qe.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+n:e=n<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,i=0){let r;if(!(i&Qe.IgnoreOverlays)&&(r=$a.get(this._tree))&&r.overlay){let s=e-this.from;for(let{from:o,to:a}of r.overlay)if((n>0?o<=s:o<s)&&(n<0?a>=s:a>s))return new It(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function MO(t,e,n,i){let r=t.cursor(),s=[];if(!r.firstChild())return s;if(n!=null){for(let o=!1;!o;)if(o=r.type.is(n),!r.nextSibling())return s}for(;;){if(i!=null&&r.type.is(i))return s;if(r.type.is(e)&&s.push(r.node),!r.nextSibling())return i==null?s:[]}}function vd(t,e,n=e.length-1){for(let i=t.parent;n>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[n]&&e[n]!=i.name)return!1;n--}}return!0}class IR{constructor(e,n,i,r){this.parent=e,this.buffer=n,this.index=i,this.start=r}}class Zn extends Pw{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,i){super(),this.context=e,this._parent=n,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,n,i){let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],e,n-this.context.start,i);return s<0?null:new Zn(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,i=0){if(i&Qe.ExcludeBuffers)return null;let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return s<0?null:new Zn(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Zn(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new Zn(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:i}=this.context,r=this.index+4,s=i.buffer[this.index+3];if(s>r){let o=i.buffer[this.index+1];e.push(i.slice(r,s,o)),n.push(0)}return new pe(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function Aw(t){if(!t.length)return null;let e=0,n=t[0];for(let s=1;s<t.length;s++){let o=t[s];(o.from>n.from||o.to<n.to)&&(n=o,e=s)}let i=n instanceof It&&n.index<0?null:n.parent,r=t.slice();return i?r[e]=i:r.splice(e,1),new QR(r,n)}class QR{constructor(e,n){this.heads=e,this.node=n}get next(){return Aw(this.heads)}}function DR(t,e,n){let i=t.resolveInner(e,n),r=null;for(let s=i instanceof It?i:i.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(r||(r=[i])).push(o.resolve(e,n)),s=o}else{let o=$a.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new It(o.tree,o.overlay[0].from+s.from,-1,s);(r||(r=[i])).push(Ra(a,e,n,!1))}}return r?Aw(r):i}class rc{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof It)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:i,buffer:r}=this.buffer;return this.type=n||r.set.types[r.buffer[e]],this.from=i+r.buffer[e+1],this.to=i+r.buffer[e+2],!0}yield(e){return e?e instanceof It?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,i,this.mode));let{buffer:r}=this.buffer,s=r.findChild(this.index+4,r.buffer[this.index+3],e,n-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,i=this.mode){return this.buffer?i&Qe.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Qe.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Qe.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,i=this.stack.length-1;if(e<0){let r=i<0?0:this.stack[i]+4;if(this.index!=r)return this.yieldBuf(n.findChild(r,this.index,-1,0,4))}else{let r=n.buffer[this.index+3];if(r<(i<0?n.buffer.length:n.buffer[this.stack[i]+3]))return this.yieldBuf(r)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,i,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(r.buffer.buffer[s+3]<this.index)return!1;({index:n,parent:i}=r)}else({index:n,_parent:i}=this._tree);for(;i;{index:n,_parent:i}=i)if(n>-1)for(let s=n+e,o=e<0?-1:i._tree.children.length;s!=o;s+=e){let a=i._tree.children[s];if(this.mode&Qe.IncludeAnonymous||a instanceof sr||!a.type.isAnonymous||Up(a))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,i=0;if(e&&e.context==this.buffer)e:for(let r=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==r){if(r==this.index)return o;n=o,i=s+1;break e}r=this.stack[--s]}for(let r=i;r<this.stack.length;r++)n=new Zn(this.buffer,n,this.stack[r]);return this.bufferNode=new Zn(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let i=0;;){let r=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(r=!0)}for(;r&&n&&n(this),r=this.type.isAnonymous,!this.nextSibling();){if(!i)return;this.parent(),i--,r=!0}}}matchContext(e){if(!this.buffer)return vd(this.node,e);let{buffer:n}=this.buffer,{types:i}=n.set;for(let r=e.length-1,s=this.stack.length-1;r>=0;s--){if(s<0)return vd(this.node,e,r);let o=i[n.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[r]&&e[r]!=o.name)return!1;r--}}return!0}}function Up(t){return t.children.some(e=>e instanceof sr||!e.type.isAnonymous||Up(e))}function VR(t){var e;let{buffer:n,nodeSet:i,maxBufferLength:r=Sw,reused:s=[],minRepeatType:o=i.types.length}=t,a=Array.isArray(n)?new Wp(n,n.length):n,l=i.types,u=0,c=0;function f(D,L,w,v,T,A){let{id:E,start:C,end:P,size:Y}=a,G=c;for(;Y<0;)if(a.next(),Y==-1){let fe=s[E];w.push(fe),v.push(C-D);return}else if(Y==-3){u=E;return}else if(Y==-4){c=E;return}else throw new RangeError(`Unrecognized record size: ${Y}`);let ee=l[E],he,de,qe=C-D;if(P-C<=r&&(de=y(a.pos-L,T))){let fe=new Uint16Array(de.size-de.skip),ge=a.pos-de.size,Le=fe.length;for(;a.pos>ge;)Le=_(de.start,fe,Le);he=new sr(fe,P-de.start,i),qe=de.start-D}else{let fe=a.pos-Y;a.next();let ge=[],Le=[],Ee=E>=o?E:-1,Wt=0,rt=P;for(;a.pos>fe;)Ee>=0&&a.id==Ee&&a.size>=0?(a.end<=rt-r&&(m(ge,Le,C,Wt,a.end,rt,Ee,G),Wt=ge.length,rt=a.end),a.next()):A>2500?d(C,fe,ge,Le):f(C,fe,ge,Le,Ee,A+1);if(Ee>=0&&Wt>0&&Wt<ge.length&&m(ge,Le,C,Wt,C,rt,Ee,G),ge.reverse(),Le.reverse(),Ee>-1&&Wt>0){let ti=p(ee);he=Yp(ee,ge,Le,0,ge.length,0,P-C,ti,ti)}else he=O(ee,ge,Le,P-C,G-P)}w.push(he),v.push(qe)}function d(D,L,w,v){let T=[],A=0,E=-1;for(;a.pos>L;){let{id:C,start:P,end:Y,size:G}=a;if(G>4)a.next();else{if(E>-1&&P<E)break;E<0&&(E=Y-r),T.push(C,P,Y),A++,a.next()}}if(A){let C=new Uint16Array(A*4),P=T[T.length-2];for(let Y=T.length-3,G=0;Y>=0;Y-=3)C[G++]=T[Y],C[G++]=T[Y+1]-P,C[G++]=T[Y+2]-P,C[G++]=G;w.push(new sr(C,T[2]-P,i)),v.push(P-D)}}function p(D){return(L,w,v)=>{let T=0,A=L.length-1,E,C;if(A>=0&&(E=L[A])instanceof pe){if(!A&&E.type==D&&E.length==v)return E;(C=E.prop(se.lookAhead))&&(T=w[A]+E.length+C)}return O(D,L,w,v,T)}}function m(D,L,w,v,T,A,E,C){let P=[],Y=[];for(;D.length>v;)P.push(D.pop()),Y.push(L.pop()+w-T);D.push(O(i.types[E],P,Y,A-T,C-A)),L.push(T-w)}function O(D,L,w,v,T=0,A){if(u){let E=[se.contextHash,u];A=A?[E].concat(A):[E]}if(T>25){let E=[se.lookAhead,T];A=A?[E].concat(A):[E]}return new pe(D,L,w,v,A)}function y(D,L){let w=a.fork(),v=0,T=0,A=0,E=w.end-r,C={size:0,start:0,skip:0};e:for(let P=w.pos-D;w.pos>P;){let Y=w.size;if(w.id==L&&Y>=0){C.size=v,C.start=T,C.skip=A,A+=4,v+=4,w.next();continue}let G=w.pos-Y;if(Y<0||G<P||w.start<E)break;let ee=w.id>=o?4:0,he=w.start;for(w.next();w.pos>G;){if(w.size<0)if(w.size==-3)ee+=4;else break e;else w.id>=o&&(ee+=4);w.next()}T=he,v+=Y,A+=ee}return(L<0||v==D)&&(C.size=v,C.start=T,C.skip=A),C.size>4?C:void 0}function _(D,L,w){let{id:v,start:T,end:A,size:E}=a;if(a.next(),E>=0&&v<o){let C=w;if(E>4){let P=a.pos-(E-4);for(;a.pos>P;)w=_(D,L,w)}L[--w]=C,L[--w]=A-D,L[--w]=T-D,L[--w]=v}else E==-3?u=v:E==-4&&(c=v);return w}let S=[],$=[];for(;a.pos>0;)f(t.start||0,t.bufferStart||0,S,$,-1,0);let R=(e=t.length)!==null&&e!==void 0?e:S.length?$[0]+S[0].length:0;return new pe(l[t.topID],S.reverse(),$.reverse(),R)}const LO=new WeakMap;function Tu(t,e){if(!t.isAnonymous||e instanceof sr||e.type!=t)return 1;let n=LO.get(e);if(n==null){n=1;for(let i of e.children){if(i.type!=t||!(i instanceof pe)){n=1;break}n+=Tu(t,i)}LO.set(e,n)}return n}function Yp(t,e,n,i,r,s,o,a,l){let u=0;for(let m=i;m<r;m++)u+=Tu(t,e[m]);let c=Math.ceil(u*1.5/8),f=[],d=[];function p(m,O,y,_,S){for(let $=y;$<_;){let R=$,D=O[$],L=Tu(t,m[$]);for($++;$<_;$++){let w=Tu(t,m[$]);if(L+w>=c)break;L+=w}if($==R+1){if(L>c){let w=m[R];p(w.children,w.positions,0,w.children.length,O[R]+S);continue}f.push(m[R])}else{let w=O[$-1]+m[$-1].length-D;f.push(Yp(t,m,O,R,$,D,w,null,l))}d.push(D+S-s)}}return p(e,n,i,r,0),(a||l)(f,d,o)}class Ew{constructor(){this.map=new WeakMap}setBuffer(e,n,i){let r=this.map.get(e);r||this.map.set(e,r=new Map),r.set(n,i)}getBuffer(e,n){let i=this.map.get(e);return i&&i.get(n)}set(e,n){e instanceof Zn?this.setBuffer(e.context.buffer,e.index,n):e instanceof It&&this.map.set(e.tree,n)}get(e){return e instanceof Zn?this.getBuffer(e.context.buffer,e.index):e instanceof It?this.map.get(e.tree):void 0}cursorSet(e,n){e.buffer?this.setBuffer(e.buffer.buffer,e.index,n):this.map.set(e.tree,n)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class di{constructor(e,n,i,r,s=!1,o=!1){this.from=e,this.to=n,this.tree=i,this.offset=r,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],i=!1){let r=[new di(0,e.length,e,0,!1,i)];for(let s of n)s.to>e.length&&r.push(s);return r}static applyChanges(e,n,i=128){if(!n.length)return e;let r=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,u=0;;a++){let c=a<n.length?n[a]:null,f=c?c.fromA:1e9;if(f-l>=i)for(;o&&o.from<f;){let d=o;if(l>=d.from||f<=d.to||u){let p=Math.max(d.from,l)-u,m=Math.min(d.to,f)-u;d=p>=m?null:new di(p,m,d.tree,d.offset+u,a>0,!!c)}if(d&&r.push(d),o.to>f)break;o=s<e.length?e[s++]:null}if(!c)break;l=c.toA,u=c.toA-c.toB}return r}}class Uc{startParse(e,n,i){return typeof e=="string"&&(e=new MR(e)),i=i?i.length?i.map(r=>new ln(r.from,r.to)):[new ln(0,0)]:[new ln(0,e.length)],this.createParse(e,n||[],i)}parse(e,n,i){let r=this.startParse(e,n,i);for(;;){let s=r.advance();if(s)return s}}}class MR{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}function Cw(t){return(e,n,i,r)=>new FR(e,t,n,i,r)}class FO{constructor(e,n,i,r,s){this.parser=e,this.parse=n,this.overlay=i,this.target=r,this.from=s}}function NO(t){if(!t.length||t.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(t))}class LR{constructor(e,n,i,r,s,o,a){this.parser=e,this.predicate=n,this.mounts=i,this.index=r,this.start=s,this.target=o,this.prev=a,this.depth=0,this.ranges=[]}}const _d=new se({perNode:!0});class FR{constructor(e,n,i,r,s){this.nest=n,this.input=i,this.fragments=r,this.ranges=s,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let i=this.baseParse.advance();if(!i)return null;if(this.baseParse=null,this.baseTree=i,this.startInner(),this.stoppedAt!=null)for(let r of this.inner)r.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let i=this.baseTree;return this.stoppedAt!=null&&(i=new pe(i.type,i.children,i.positions,i.length,i.propValues.concat([[_d,this.stoppedAt]]))),i}let e=this.inner[this.innerDone],n=e.parse.advance();if(n){this.innerDone++;let i=Object.assign(Object.create(null),e.target.props);i[se.mounted.id]=new $a(n,e.overlay,e.parser),e.target.props=i}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].from<e&&(e=Math.min(e,this.inner[n].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].parse.stopAt(e)}startInner(){let e=new zR(this.fragments),n=null,i=null,r=new rc(new It(this.baseTree,this.ranges[0].from,0,null),Qe.IncludeAnonymous|Qe.IgnoreMounts);e:for(let s,o;;){let a=!0,l;if(this.stoppedAt!=null&&r.from>=this.stoppedAt)a=!1;else if(e.hasNode(r)){if(n){let u=n.mounts.find(c=>c.frag.from<=r.from&&c.frag.to>=r.to&&c.mount.overlay);if(u)for(let c of u.mount.overlay){let f=c.from+u.pos,d=c.to+u.pos;f>=r.from&&d<=r.to&&!n.ranges.some(p=>p.from<d&&p.to>f)&&n.ranges.push({from:f,to:d})}}a=!1}else if(i&&(o=NR(i.ranges,r.from,r.to)))a=o!=2;else if(!r.type.isAnonymous&&(s=this.nest(r,this.input))&&(r.from<r.to||!s.overlay)){r.tree||ZR(r);let u=e.findMounts(r.from,s.parser);if(typeof s.overlay=="function")n=new LR(s.parser,s.overlay,u,this.inner.length,r.from,r.tree,n);else{let c=qO(this.ranges,s.overlay||(r.from<r.to?[new ln(r.from,r.to)]:[]));c.length&&NO(c),(c.length||!s.overlay)&&this.inner.push(new FO(s.parser,c.length?s.parser.startParse(this.input,BO(u,c),c):s.parser.startParse(""),s.overlay?s.overlay.map(f=>new ln(f.from-r.from,f.to-r.from)):null,r.tree,c.length?c[0].from:r.from)),s.overlay?c.length&&(i={ranges:c,depth:0,prev:i}):a=!1}}else n&&(l=n.predicate(r))&&(l===!0&&(l=new ln(r.from,r.to)),l.from<l.to&&n.ranges.push(l));if(a&&r.firstChild())n&&n.depth++,i&&i.depth++;else for(;!r.nextSibling();){if(!r.parent())break e;if(n&&!--n.depth){let u=qO(this.ranges,n.ranges);u.length&&(NO(u),this.inner.splice(n.index,0,new FO(n.parser,n.parser.startParse(this.input,BO(n.mounts,u),u),n.ranges.map(c=>new ln(c.from-n.start,c.to-n.start)),n.target,u[0].from))),n=n.prev}i&&!--i.depth&&(i=i.prev)}}}}function NR(t,e,n){for(let i of t){if(i.from>=n)break;if(i.to>e)return i.from<=e&&i.to>=n?2:1}return 0}function ZO(t,e,n,i,r,s){if(e<n){let o=t.buffer[e+1];i.push(t.slice(e,n,o)),r.push(o-s)}}function ZR(t){let{node:e}=t,n=[],i=e.context.buffer;do n.push(t.index),t.parent();while(!t.tree);let r=t.tree,s=r.children.indexOf(i),o=r.children[s],a=o.buffer,l=[s];function u(c,f,d,p,m,O){let y=n[O],_=[],S=[];ZO(o,c,y,_,S,p);let $=a[y+1],R=a[y+2];l.push(_.length);let D=O?u(y+4,a[y+3],o.set.types[a[y]],$,R-$,O-1):e.toTree();return _.push(D),S.push($-p),ZO(o,a[y+3],f,_,S,p),new pe(d,_,S,m)}r.children[s]=u(0,a.length,it.none,0,o.length,n.length-1);for(let c of l){let f=t.tree.children[c],d=t.tree.positions[c];t.yield(new It(f,d+t.from,c,t._tree))}}class zO{constructor(e,n){this.offset=n,this.done=!1,this.cursor=e.cursor(Qe.IncludeAnonymous|Qe.IgnoreMounts)}moveTo(e){let{cursor:n}=this,i=e-this.offset;for(;!this.done&&n.from<i;)n.to>=e&&n.enter(i,1,Qe.IgnoreOverlays|Qe.ExcludeBuffers)||n.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let n=this.cursor.tree;;){if(n==e.tree)return!0;if(n.children.length&&n.positions[0]==0&&n.children[0]instanceof pe)n=n.children[0];else break}return!1}}let zR=class{constructor(e){var n;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let i=this.curFrag=e[0];this.curTo=(n=i.tree.prop(_d))!==null&&n!==void 0?n:i.to,this.inner=new zO(i.tree,-i.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let n=this.curFrag=this.fragments[this.fragI];this.curTo=(e=n.tree.prop(_d))!==null&&e!==void 0?e:n.to,this.inner=new zO(n.tree,-n.offset)}}findMounts(e,n){var i;let r=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let s=this.inner.cursor.node;s;s=s.parent){let o=(i=s.tree)===null||i===void 0?void 0:i.prop(se.mounted);if(o&&o.parser==n)for(let a=this.fragI;a<this.fragments.length;a++){let l=this.fragments[a];if(l.from>=s.to)break;l.tree==this.curFrag.tree&&r.push({frag:l,pos:s.from-l.offset,mount:o})}}}return r}};function qO(t,e){let n=null,i=e;for(let r=1,s=0;r<t.length;r++){let o=t[r-1].to,a=t[r].from;for(;s<i.length;s++){let l=i[s];if(l.from>=a)break;l.to<=o||(n||(i=n=e.slice()),l.from<o?(n[s]=new ln(l.from,o),l.to>a&&n.splice(s+1,0,new ln(a,l.to))):l.to>a?n[s--]=new ln(a,l.to):n.splice(s--,1))}}return i}function qR(t,e,n,i){let r=0,s=0,o=!1,a=!1,l=-1e9,u=[];for(;;){let c=r==t.length?1e9:o?t[r].to:t[r].from,f=s==e.length?1e9:a?e[s].to:e[s].from;if(o!=a){let d=Math.max(l,n),p=Math.min(c,f,i);d<p&&u.push(new ln(d,p))}if(l=Math.min(c,f),l==1e9)break;c==l&&(o?(o=!1,r++):o=!0),f==l&&(a?(a=!1,s++):a=!0)}return u}function BO(t,e){let n=[];for(let{pos:i,mount:r,frag:s}of t){let o=i+(r.overlay?r.overlay[0].from:0),a=o+r.tree.length,l=Math.max(s.from,o),u=Math.min(s.to,a);if(r.overlay){let c=r.overlay.map(d=>new ln(d.from+i,d.to+i)),f=qR(e,c,l,u);for(let d=0,p=l;;d++){let m=d==f.length,O=m?u:f[d].from;if(O>p&&n.push(new di(p,O,r.tree,-o,s.from>=p||s.openStart,s.to<=O||s.openEnd)),m)break;p=f[d].to}}else n.push(new di(l,u,r.tree,-o,s.from>=o||s.openStart,s.to<=a||s.openEnd))}return n}let BR=0;class kn{constructor(e,n,i){this.set=e,this.base=n,this.modified=i,this.id=BR++}static define(e){if(e?.base)throw new Error("Can not derive from a modified tag");let n=new kn([],null,[]);if(n.set.push(n),e)for(let i of e.set)n.set.push(i);return n}static defineModifier(){let e=new sc;return n=>n.modified.indexOf(e)>-1?n:sc.get(n.base||n,n.modified.concat(e).sort((i,r)=>i.id-r.id))}}let jR=0;class sc{constructor(){this.instances=[],this.id=jR++}static get(e,n){if(!n.length)return e;let i=n[0].instances.find(a=>a.base==e&&XR(n,a.modified));if(i)return i;let r=[],s=new kn(r,e,n);for(let a of n)a.instances.push(s);let o=WR(n);for(let a of e.set)if(!a.modified.length)for(let l of o)r.push(sc.get(a,l));return s}}function XR(t,e){return t.length==e.length&&t.every((n,i)=>n==e[i])}function WR(t){let e=[[]];for(let n=0;n<t.length;n++)for(let i=0,r=e.length;i<r;i++)e.push(e[i].concat(t[n]));return e.sort((n,i)=>i.length-n.length)}function so(t){let e=Object.create(null);for(let n in t){let i=t[n];Array.isArray(i)||(i=[i]);for(let r of n.split(" "))if(r){let s=[],o=2,a=r;for(let f=0;;){if(a=="..."&&f>0&&f+3==r.length){o=1;break}let d=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!d)throw new RangeError("Invalid path: "+r);if(s.push(d[0]=="*"?"":d[0][0]=='"'?JSON.parse(d[0]):d[0]),f+=d[0].length,f==r.length)break;let p=r[f++];if(f==r.length&&p=="!"){o=0;break}if(p!="/")throw new RangeError("Invalid path: "+r);a=r.slice(f)}let l=s.length-1,u=s[l];if(!u)throw new RangeError("Invalid path: "+r);let c=new oc(i,o,l>0?s.slice(0,l):null);e[u]=c.sort(e[u])}}return $w.add(e)}const $w=new se;class oc{constructor(e,n,i,r){this.tags=e,this.mode=n,this.context=i,this.next=r}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}oc.empty=new oc([],2,null);function Rw(t,e){let n=Object.create(null);for(let s of t)if(!Array.isArray(s.tag))n[s.tag.id]=s.class;else for(let o of s.tag)n[o.id]=s.class;let{scope:i,all:r=null}=e||{};return{style:s=>{let o=r;for(let a of s)for(let l of a.set){let u=n[l.id];if(u){o=o?o+" "+u:u;break}}return o},scope:i}}function UR(t,e){let n=null;for(let i of t){let r=i.style(e);r&&(n=n?n+" "+r:r)}return n}function YR(t,e,n,i=0,r=t.length){let s=new GR(i,Array.isArray(e)?e:[e],n);s.highlightRange(t.cursor(),i,r,"",s.highlighters),s.flush(r)}class GR{constructor(e,n,i){this.at=e,this.highlighters=n,this.span=i,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,i,r,s){let{type:o,from:a,to:l}=e;if(a>=i||l<=n)return;o.isTop&&(s=this.highlighters.filter(p=>!p.scope||p.scope(o)));let u=r,c=HR(e)||oc.empty,f=UR(s,c.tags);if(f&&(u&&(u+=" "),u+=f,c.mode==1&&(r+=(r?" ":"")+f)),this.startSpan(Math.max(n,a),u),c.opaque)return;let d=e.tree&&e.tree.prop(se.mounted);if(d&&d.overlay){let p=e.node.enter(d.overlay[0].from+a,1),m=this.highlighters.filter(y=>!y.scope||y.scope(d.tree.type)),O=e.firstChild();for(let y=0,_=a;;y++){let S=y<d.overlay.length?d.overlay[y]:null,$=S?S.from+a:l,R=Math.max(n,_),D=Math.min(i,$);if(R<D&&O)for(;e.from<D&&(this.highlightRange(e,R,D,r,s),this.startSpan(Math.min(D,e.to),u),!(e.to>=$||!e.nextSibling())););if(!S||$>i)break;_=S.to+a,_>n&&(this.highlightRange(p.cursor(),Math.max(n,S.from+a),Math.min(i,_),"",m),this.startSpan(Math.min(i,_),u))}O&&e.parent()}else if(e.firstChild()){d&&(r="");do if(!(e.to<=n)){if(e.from>=i)break;this.highlightRange(e,n,i,r,s),this.startSpan(Math.min(i,e.to),u)}while(e.nextSibling());e.parent()}}}function HR(t){let e=t.type.prop($w);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const U=kn.define,Yl=U(),Qi=U(),jO=U(Qi),XO=U(Qi),Di=U(),Gl=U(Di),Zh=U(Di),Mn=U(),br=U(Mn),Dn=U(),Vn=U(),wd=U(),Fo=U(wd),Hl=U(),x={comment:Yl,lineComment:U(Yl),blockComment:U(Yl),docComment:U(Yl),name:Qi,variableName:U(Qi),typeName:jO,tagName:U(jO),propertyName:XO,attributeName:U(XO),className:U(Qi),labelName:U(Qi),namespace:U(Qi),macroName:U(Qi),literal:Di,string:Gl,docString:U(Gl),character:U(Gl),attributeValue:U(Gl),number:Zh,integer:U(Zh),float:U(Zh),bool:U(Di),regexp:U(Di),escape:U(Di),color:U(Di),url:U(Di),keyword:Dn,self:U(Dn),null:U(Dn),atom:U(Dn),unit:U(Dn),modifier:U(Dn),operatorKeyword:U(Dn),controlKeyword:U(Dn),definitionKeyword:U(Dn),moduleKeyword:U(Dn),operator:Vn,derefOperator:U(Vn),arithmeticOperator:U(Vn),logicOperator:U(Vn),bitwiseOperator:U(Vn),compareOperator:U(Vn),updateOperator:U(Vn),definitionOperator:U(Vn),typeOperator:U(Vn),controlOperator:U(Vn),punctuation:wd,separator:U(wd),bracket:Fo,angleBracket:U(Fo),squareBracket:U(Fo),paren:U(Fo),brace:U(Fo),content:Mn,heading:br,heading1:U(br),heading2:U(br),heading3:U(br),heading4:U(br),heading5:U(br),heading6:U(br),contentSeparator:U(Mn),list:U(Mn),quote:U(Mn),emphasis:U(Mn),strong:U(Mn),link:U(Mn),monospace:U(Mn),strikethrough:U(Mn),inserted:U(),deleted:U(),changed:U(),invalid:U(),meta:Hl,documentMeta:U(Hl),annotation:U(Hl),processingInstruction:U(Hl),definition:kn.defineModifier(),constant:kn.defineModifier(),function:kn.defineModifier(),standard:kn.defineModifier(),local:kn.defineModifier(),special:kn.defineModifier()};Rw([{tag:x.link,class:"tok-link"},{tag:x.heading,class:"tok-heading"},{tag:x.emphasis,class:"tok-emphasis"},{tag:x.strong,class:"tok-strong"},{tag:x.keyword,class:"tok-keyword"},{tag:x.atom,class:"tok-atom"},{tag:x.bool,class:"tok-bool"},{tag:x.url,class:"tok-url"},{tag:x.labelName,class:"tok-labelName"},{tag:x.inserted,class:"tok-inserted"},{tag:x.deleted,class:"tok-deleted"},{tag:x.literal,class:"tok-literal"},{tag:x.string,class:"tok-string"},{tag:x.number,class:"tok-number"},{tag:[x.regexp,x.escape,x.special(x.string)],class:"tok-string2"},{tag:x.variableName,class:"tok-variableName"},{tag:x.local(x.variableName),class:"tok-variableName tok-local"},{tag:x.definition(x.variableName),class:"tok-variableName tok-definition"},{tag:x.special(x.variableName),class:"tok-variableName2"},{tag:x.definition(x.propertyName),class:"tok-propertyName tok-definition"},{tag:x.typeName,class:"tok-typeName"},{tag:x.namespace,class:"tok-namespace"},{tag:x.className,class:"tok-className"},{tag:x.macroName,class:"tok-macroName"},{tag:x.propertyName,class:"tok-propertyName"},{tag:x.operator,class:"tok-operator"},{tag:x.comment,class:"tok-comment"},{tag:x.meta,class:"tok-meta"},{tag:x.invalid,class:"tok-invalid"},{tag:x.punctuation,class:"tok-punctuation"}]);var zh;const Bi=new se;function Yc(t){return ne.define({combine:t?e=>e.concat(t):void 0})}const Gp=new se;class tn{constructor(e,n,i=[],r=""){this.data=e,this.name=r,_e.prototype.hasOwnProperty("tree")||Object.defineProperty(_e.prototype,"tree",{get(){return Xe(this)}}),this.parser=n,this.extension=[Xs.of(this),_e.languageData.of((s,o,a)=>{let l=WO(s,o,a),u=l.type.prop(Bi);if(!u)return[];let c=s.facet(u),f=l.type.prop(Gp);if(f){let d=l.resolve(o-l.from,a);for(let p of f)if(p.test(d,s)){let m=s.facet(p.facet);return p.type=="replace"?m:m.concat(c)}}return c})].concat(i)}isActiveAt(e,n,i=-1){return WO(e,n,i).type.prop(Bi)==this.data}findRegions(e){let n=e.facet(Xs);if(n?.data==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let i=[],r=(s,o)=>{if(s.prop(Bi)==this.data){i.push({from:o,to:o+s.length});return}let a=s.prop(se.mounted);if(a){if(a.tree.prop(Bi)==this.data){if(a.overlay)for(let l of a.overlay)i.push({from:l.from+o,to:l.to+o});else i.push({from:o,to:o+s.length});return}else if(a.overlay){let l=i.length;if(r(a.tree,a.overlay[0].from+o),i.length>l)return}}for(let l=0;l<s.children.length;l++){let u=s.children[l];u instanceof pe&&r(u,s.positions[l]+o)}};return r(Xe(e),0),i}get allowsNesting(){return!0}}tn.setState=Pe.define();function WO(t,e,n){let i=t.facet(Xs),r=Xe(t).topNode;if(!i||i.allowsNesting)for(let s=r;s;s=s.enter(e,n,Qe.ExcludeBuffers))s.type.isTop&&(r=s);return r}class Bs extends tn{constructor(e,n,i){super(e,n,[],i),this.parser=n}static define(e){let n=Yc(e.languageData);return new Bs(n,e.parser.configure({props:[Bi.add(i=>i.isTop?n:void 0)]}),e.name)}configure(e,n){return new Bs(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Xe(t){let e=t.field(tn.state,!1);return e?e.tree:pe.empty}class KR{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let i=this.cursorPos-this.string.length;return e<i||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-i,n-i)}}let No=null;class Fr{constructor(e,n,i=[],r,s,o,a,l){this.parser=e,this.state=n,this.fragments=i,this.tree=r,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,n,i){return new Fr(e,n,[],pe.empty,0,i,[],null)}startParse(){return this.parser.startParse(new KR(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=pe.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let r=Date.now()+e;e=()=>Date.now()>r}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let r=this.parse.advance();if(r)if(this.fragments=this.withoutTempSkipped(di.addTree(r,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=r,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(di.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=No;No=this;try{return e()}finally{No=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=UO(e,n.from,n.to);return e}changes(e,n){let{fragments:i,tree:r,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((u,c,f,d)=>l.push({fromA:u,toA:c,fromB:f,toB:d})),i=di.applyChanges(i,l),r=pe.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let u of this.skipped){let c=e.mapPos(u.from,1),f=e.mapPos(u.to,-1);c<f&&a.push({from:c,to:f})}}}return new Fr(this.parser,n,i,r,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:r,to:s}=this.skipped[i];r<e.to&&s>e.from&&(this.fragments=UO(this.fragments,r,s),this.skipped.splice(i--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends Uc{createParse(n,i,r){let s=r[0].from,o=r[r.length-1].to;return{parsedPos:s,advance(){let l=No;if(l){for(let u of r)l.tempSkipped.push(u);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new pe(it.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return No}}function UO(t,e,n){return di.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class js{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,i)||n.takeTree(),new js(n)}static init(e){let n=Math.min(3e3,e.doc.length),i=Fr.create(e.facet(Xs).parser,e,{from:0,to:n});return i.work(20,n)||i.takeTree(),new js(i)}}tn.state=On.define({create:js.init,update(t,e){for(let n of e.effects)if(n.is(tn.setState))return n.value;return e.startState.facet(Xs)!=e.state.facet(Xs)?js.init(e.state):t.apply(e)}});let Iw=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(Iw=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const qh=typeof navigator<"u"&&(!((zh=navigator.scheduling)===null||zh===void 0)&&zh.isInputPending)?()=>navigator.scheduling.isInputPending():null,JR=pn.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(tn.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(tn.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=Iw(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:r}}=this.view,s=i.field(tn.state);if(s.tree==s.context.tree&&s.context.isDone(r+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!qh?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<r&&i.doc.length>r+1e3,l=s.context.work(()=>qh&&qh()||Date.now()>o,r+(a?0:1e5));this.chunkBudget-=Date.now()-n,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:tn.setState.of(new js(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>en(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Xs=ne.define({combine(t){return t.length?t[0]:null},enables:t=>[tn.state,JR,J.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class Ws{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}class M{constructor(e,n,i,r,s,o=void 0){this.name=e,this.alias=n,this.extensions=i,this.filename=r,this.loadFunc=s,this.support=o,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(e=>this.support=e,e=>{throw this.loading=null,e}))}static of(e){let{load:n,support:i}=e;if(!n){if(!i)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");n=()=>Promise.resolve(i)}return new M(e.name,(e.alias||[]).concat(e.name).map(r=>r.toLowerCase()),e.extensions||[],e.filename,n,i)}static matchFilename(e,n){for(let r of e)if(r.filename&&r.filename.test(n))return r;let i=/\.([^.]+)$/.exec(n);if(i){for(let r of e)if(r.extensions.indexOf(i[1])>-1)return r}return null}static matchLanguageName(e,n,i=!0){n=n.toLowerCase();for(let r of e)if(r.alias.some(s=>s==n))return r;if(i)for(let r of e)for(let s of r.alias){let o=n.indexOf(s);if(o>-1&&(s.length>2||!/\w/.test(n[o-1])&&!/\w/.test(n[o+s.length])))return r}return null}}const Qw=ne.define(),oo=ne.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function Nr(t){let e=t.facet(oo);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function ac(t,e){let n="",i=t.tabSize,r=t.facet(oo)[0];if(r=="	"){for(;e>=i;)n+="	",e-=i;r=" "}for(let s=0;s<e;s++)n+=r;return n}function Dw(t,e){t instanceof _e&&(t=new Gc(t));for(let i of t.state.facet(Qw)){let r=i(t,e);if(r!==void 0)return r}let n=Xe(t.state);return n.length>=e?e5(t,n,e):null}class Gc{constructor(e,n={}){this.state=e,this.options=n,this.unit=Nr(e)}lineAt(e,n=1){let i=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:s}=this.options;return r!=null&&r>=i.from&&r<=i.to?s&&r==e?{text:"",from:e}:(n<0?r<e:r<=e)?{text:i.text.slice(r-i.from),from:r}:{text:i.text.slice(0,r-i.from),from:i.from}:i}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:r}=this.lineAt(e,n);return i.slice(e-r,Math.min(i.length,e+100-r))}column(e,n=1){let{text:i,from:r}=this.lineAt(e,n),s=this.countColumn(i,e-r),o=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return o>-1&&(s+=o-this.countColumn(i,i.search(/\S|$/))),s}countColumn(e,n=e.length){return Oi(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:i,from:r}=this.lineAt(e,n),s=this.options.overrideIndentation;if(s){let o=s(r);if(o>-1)return o}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const sl=new se;function e5(t,e,n){let i=e.resolveStack(n),r=i.node.enterUnfinishedNodesBefore(n);if(r!=i.node){let s=[];for(let o=r;o!=i.node;o=o.parent)s.push(o);for(let o=s.length-1;o>=0;o--)i={node:s[o],next:i}}return Vw(i,t,n)}function Vw(t,e,n){for(let i=t;i;i=i.next){let r=n5(i.node);if(r)return r(Hp.create(e,n,i))}return 0}function t5(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function n5(t){let e=t.type.prop(sl);if(e)return e;let n=t.firstChild,i;if(n&&(i=n.type.prop(se.closedBy))){let r=t.lastChild,s=r&&i.indexOf(r.name)>-1;return o=>Mw(o,!0,1,void 0,s&&!t5(o)?r.from:void 0)}return t.parent==null?i5:null}function i5(){return 0}class Hp extends Gc{constructor(e,n,i){super(e.state,e.options),this.base=e,this.pos=n,this.context=i}get node(){return this.context.node}static create(e,n,i){return new Hp(e,n,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let i=e.resolve(n.from);for(;i.parent&&i.parent.from==i.from;)i=i.parent;if(r5(i,e))break;n=this.state.doc.lineAt(i.from)}return this.lineIndent(n.from)}continue(){return Vw(this.context.next,this.base,this.pos)}}function r5(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function s5(t){let e=t.node,n=e.childAfter(e.from),i=e.lastChild;if(!n)return null;let r=t.options.simulateBreak,s=t.state.doc.lineAt(n.from),o=r==null||r<=s.from?s.to:Math.min(s.to,r);for(let a=n.to;;){let l=e.childAfter(a);if(!l||l==i)return null;if(!l.type.isSkipped)return l.from<o?n:null;a=l.to}}function o5({closing:t,align:e=!0,units:n=1}){return i=>Mw(i,e,n,t)}function Mw(t,e,n,i,r){let s=t.textAfter,o=s.match(/^\s*/)[0].length,a=i&&s.slice(o,o+i.length)==i||r==t.pos+o,l=e?s5(t):null;return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*n)}const a5=t=>t.baseIndent;function Pu({except:t,units:e=1}={}){return n=>{let i=t&&t.test(n.textAfter);return n.baseIndent+(i?0:e*n.unit)}}const l5=ne.define(),ol=new se;function Lw(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}class ao{constructor(e,n){this.specs=e;let i;function r(a){let l=nr.newName();return(i||(i=Object.create(null)))["."+l]=a,l}const s=typeof n.all=="string"?n.all:n.all?r(n.all):void 0,o=n.scope;this.scope=o instanceof tn?a=>a.prop(Bi)==o.data:o?a=>a==o:void 0,this.style=Rw(e.map(a=>({tag:a.tag,class:a.class||r(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=i?new nr(i):null,this.themeType=n.themeType}static define(e,n){return new ao(e,n||{})}}const xd=ne.define(),u5=ne.define({combine(t){return t.length?[t[0]]:null}});function Bh(t){let e=t.facet(xd);return e.length?e:t.facet(u5)}function Fw(t,e){let n=[h5],i;return t instanceof ao&&(t.module&&n.push(J.styleModule.of(t.module)),i=t.themeType),i?n.push(xd.computeN([J.darkTheme],r=>r.facet(J.darkTheme)==(i=="dark")?[t]:[])):n.push(xd.of(t)),n}class c5{constructor(e){this.markCache=Object.create(null),this.tree=Xe(e.state),this.decorations=this.buildDeco(e,Bh(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=Xe(e.state),i=Bh(e.state),r=i!=Bh(e.startState),{viewport:s}=e.view,o=e.changes.mapPos(this.decoratedTo,1);n.length<s.to&&!r&&n.type==this.tree.type&&o>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(n!=this.tree||e.viewportChanged||r)&&(this.tree=n,this.decorations=this.buildDeco(e.view,i),this.decoratedTo=s.to)}buildDeco(e,n){if(!n||!this.tree.length)return De.none;let i=new Fs;for(let{from:r,to:s}of e.visibleRanges)YR(this.tree,n,(o,a,l)=>{i.add(o,a,this.markCache[l]||(this.markCache[l]=De.mark({class:l})))},r,s);return i.finish()}}const h5=lr.high(pn.fromClass(c5,{decorations:t=>t.decorations}));x.meta,x.link,x.heading,x.emphasis,x.strong,x.strikethrough,x.keyword,x.atom,x.bool,x.url,x.contentSeparator,x.labelName,x.literal,x.inserted,x.string,x.deleted,x.regexp,x.escape,x.string,x.variableName,x.variableName,x.typeName,x.namespace,x.className,x.variableName,x.macroName,x.propertyName,x.comment,x.invalid;const f5=1e4,d5="()[]{}",Nw=new se;function kd(t,e,n){let i=t.prop(e<0?se.openedBy:se.closedBy);if(i)return i;if(t.name.length==1){let r=n.indexOf(t.name);if(r>-1&&r%2==(e<0?1:0))return[n[r+e]]}return null}function Sd(t){let e=t.type.prop(Nw);return e?e(t.node):t}function gs(t,e,n,i={}){let r=i.maxScanDistance||f5,s=i.brackets||d5,o=Xe(t),a=o.resolveInner(e,n);for(let l=a;l;l=l.parent){let u=kd(l.type,n,s);if(u&&l.from<l.to){let c=Sd(l);if(c&&(n>0?e>=c.from&&e<c.to:e>c.from&&e<=c.to))return p5(t,e,n,l,c,u,s)}}return m5(t,e,n,o,a.type,r,s)}function p5(t,e,n,i,r,s,o){let a=i.parent,l={from:r.from,to:r.to},u=0,c=a?.cursor();if(c&&(n<0?c.childBefore(i.from):c.childAfter(i.to)))do if(n<0?c.to<=i.from:c.from>=i.to){if(u==0&&s.indexOf(c.type.name)>-1&&c.from<c.to){let f=Sd(c);return{start:l,end:f?{from:f.from,to:f.to}:void 0,matched:!0}}else if(kd(c.type,n,o))u++;else if(kd(c.type,-n,o)){if(u==0){let f=Sd(c);return{start:l,end:f&&f.from<f.to?{from:f.from,to:f.to}:void 0,matched:!1}}u--}}while(n<0?c.prevSibling():c.nextSibling());return{start:l,matched:!1}}function m5(t,e,n,i,r,s,o){let a=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=n>0)return null;let u={from:n<0?e-1:e,to:n>0?e+1:e},c=t.doc.iterRange(e,n>0?t.doc.length:0),f=0;for(let d=0;!c.next().done&&d<=s;){let p=c.value;n<0&&(d+=p.length);let m=e+d*n;for(let O=n>0?0:p.length-1,y=n>0?p.length:-1;O!=y;O+=n){let _=o.indexOf(p[O]);if(!(_<0||i.resolveInner(m+O,1).type!=r))if(_%2==0==n>0)f++;else{if(f==1)return{start:u,end:{from:m+O,to:m+O+1},matched:_>>1==l>>1};f--}}n>0&&(d+=p.length)}return c.done?{start:u,matched:!1}:null}function YO(t,e,n,i=0,r=0){e==null&&(e=t.search(/[^\s\u00a0]/),e==-1&&(e=t.length));let s=r;for(let o=i;o<e;o++)t.charCodeAt(o)==9?s+=n-s%n:s++;return s}class Zw{constructor(e,n,i,r){this.string=e,this.tabSize=n,this.indentUnit=i,this.overrideIndent=r,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(e){let n=this.string.charAt(this.pos),i;if(typeof e=="string"?i=n==e:i=n&&(e instanceof RegExp?e.test(n):e(n)),i)return++this.pos,n}eatWhile(e){let n=this.pos;for(;this.eat(e););return this.pos>n}eatSpace(){let e=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}skipToEnd(){this.pos=this.string.length}skipTo(e){let n=this.string.indexOf(e,this.pos);if(n>-1)return this.pos=n,!0}backUp(e){this.pos-=e}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=YO(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var e;return(e=this.overrideIndent)!==null&&e!==void 0?e:YO(this.string,null,this.tabSize)}match(e,n,i){if(typeof e=="string"){let r=o=>i?o.toLowerCase():o,s=this.string.substr(this.pos,e.length);return r(s)==r(e)?(n!==!1&&(this.pos+=e.length),!0):null}else{let r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&n!==!1&&(this.pos+=r[0].length),r)}}current(){return this.string.slice(this.start,this.pos)}}function g5(t){return{name:t.name||"",token:t.token,blankLine:t.blankLine||(()=>{}),startState:t.startState||(()=>!0),copyState:t.copyState||O5,indent:t.indent||(()=>null),languageData:t.languageData||{},tokenTable:t.tokenTable||em}}function O5(t){if(typeof t!="object")return t;let e={};for(let n in t){let i=t[n];e[n]=i instanceof Array?i.slice():i}return e}const GO=new WeakMap;class Kp extends tn{constructor(e){let n=Yc(e.languageData),i=g5(e),r,s=new class extends Uc{createParse(o,a,l){return new y5(r,o,a,l)}};super(n,s,[Qw.of((o,a)=>this.getIndent(o,a))],e.name),this.topNode=w5(n),r=this,this.streamParser=i,this.stateAfter=new se({perNode:!0}),this.tokenTable=e.tokenTable?new jw(i.tokenTable):_5}static define(e){return new Kp(e)}getIndent(e,n){let i=Xe(e.state),r=i.resolve(n);for(;r&&r.type!=this.topNode;)r=r.parent;if(!r)return null;let s,{overrideIndentation:o}=e.options;o&&(s=GO.get(e.state),s!=null&&s<n-1e4&&(s=void 0));let a=Jp(this,i,0,r.from,s??n),l,u;if(a?(u=a.state,l=a.pos+1):(u=this.streamParser.startState(e.unit),l=0),n-l>1e4)return null;for(;l<n;){let f=e.state.doc.lineAt(l),d=Math.min(n,f.to);if(f.length){let p=o?o(f.from):-1,m=new Zw(f.text,e.state.tabSize,e.unit,p<0?void 0:p);for(;m.pos<d-f.from;)qw(this.streamParser.token,m,u)}else this.streamParser.blankLine(u,e.unit);if(d==n)break;l=f.to+1}let c=e.lineAt(n);return o&&s==null&&GO.set(e.state,c.from),this.streamParser.indent(u,/^\s*(.*)/.exec(c.text)[1],e)}get allowsNesting(){return!1}}function Jp(t,e,n,i,r){let s=n>=i&&n+e.length<=r&&e.prop(t.stateAfter);if(s)return{state:t.streamParser.copyState(s),pos:n+e.length};for(let o=e.children.length-1;o>=0;o--){let a=e.children[o],l=n+e.positions[o],u=a instanceof pe&&l<r&&Jp(t,a,l,i,r);if(u)return u}return null}function zw(t,e,n,i,r){if(r&&n<=0&&i>=e.length)return e;!r&&e.type==t.topNode&&(r=!0);for(let s=e.children.length-1;s>=0;s--){let o=e.positions[s],a=e.children[s],l;if(o<i&&a instanceof pe){if(!(l=zw(t,a,n-o,i-o,r)))break;return r?new pe(e.type,e.children.slice(0,s).concat(l),e.positions.slice(0,s+1),o+l.length):l}}return null}function b5(t,e,n,i){for(let r of e){let s=r.from+(r.openStart?25:0),o=r.to-(r.openEnd?25:0),a=s<=n&&o>n&&Jp(t,r.tree,0-r.offset,n,o),l;if(a&&(l=zw(t,r.tree,n+r.offset,a.pos+r.offset,!1)))return{state:a.state,tree:l}}return{state:t.streamParser.startState(i?Nr(i):4),tree:pe.empty}}let y5=class{constructor(e,n,i,r){this.lang=e,this.input=n,this.fragments=i,this.ranges=r,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=r[r.length-1].to;let s=Fr.get(),o=r[0].from,{state:a,tree:l}=b5(e,i,o,s?.state);this.state=a,this.parsedPos=this.chunkStart=o+l.length;for(let u=0;u<l.children.length;u++)this.chunks.push(l.children[u]),this.chunkPos.push(l.positions[u]);s&&this.parsedPos<s.viewport.from-1e5&&(this.state=this.lang.streamParser.startState(Nr(s.state)),s.skipUntilInView(this.parsedPos,s.viewport.from),this.parsedPos=s.viewport.from),this.moveRangeIndex()}advance(){let e=Fr.get(),n=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),i=Math.min(n,this.chunkStart+2048);for(e&&(i=Math.min(i,e.viewport.to));this.parsedPos<i;)this.parseLine(e);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=n?this.finish():e&&this.parsedPos>=e.viewport.to?(e.skipUntilInView(this.parsedPos,n),this.finish()):null}stopAt(e){this.stoppedAt=e}lineAfter(e){let n=this.input.chunk(e);if(this.input.lineChunks)n==`
`&&(n="");else{let i=n.indexOf(`
`);i>-1&&(n=n.slice(0,i))}return e+n.length<=this.to?n:n.slice(0,this.to-e)}nextLine(){let e=this.parsedPos,n=this.lineAfter(e),i=e+n.length;for(let r=this.rangeIndex;;){let s=this.ranges[r].to;if(s>=i||(n=n.slice(0,s-(i-n.length)),r++,r==this.ranges.length))break;let o=this.ranges[r].from,a=this.lineAfter(o);n+=a,i=o+a.length}return{line:n,end:i}}skipGapsTo(e,n,i){for(;;){let r=this.ranges[this.rangeIndex].to,s=e+n;if(i>0?r>s:r>=s)break;let o=this.ranges[++this.rangeIndex].from;n+=o-r}return n}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(e,n,i,r,s){if(this.ranges.length>1){s=this.skipGapsTo(n,s,1),n+=s;let o=this.chunk.length;s=this.skipGapsTo(i,s,-1),i+=s,r+=this.chunk.length-o}return this.chunk.push(e,n,i,r),s}parseLine(e){let{line:n,end:i}=this.nextLine(),r=0,{streamParser:s}=this.lang,o=new Zw(n,e?e.state.tabSize:4,e?Nr(e.state):2);if(o.eol())s.blankLine(this.state,o.indentUnit);else for(;!o.eol();){let a=qw(s.token,o,this.state);if(a&&(r=this.emitToken(this.lang.tokenTable.resolve(a),this.parsedPos+o.start,this.parsedPos+o.pos,4,r)),o.start>1e4)break}this.parsedPos=i,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let e=pe.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:v5,topID:0,maxBufferLength:2048,reused:this.chunkReused});e=new pe(e.type,e.children,e.positions,e.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(e),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new pe(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}};function qw(t,e,n){e.start=e.pos;for(let i=0;i<10;i++){let r=t(e,n);if(e.pos>e.start)return r}throw new Error("Stream parser failed to advance stream.")}const em=Object.create(null),Ia=[it.none],v5=new ro(Ia),HO=[],KO=Object.create(null),Bw=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Bw[t]=Xw(em,e);class jw{constructor(e){this.extra=e,this.table=Object.assign(Object.create(null),Bw)}resolve(e){return e?this.table[e]||(this.table[e]=Xw(this.extra,e)):0}}const _5=new jw(em);function jh(t,e){HO.indexOf(t)>-1||(HO.push(t),console.warn(e))}function Xw(t,e){let n=[];for(let a of e.split(" ")){let l=[];for(let u of a.split(".")){let c=t[u]||x[u];c?typeof c=="function"?l.length?l=l.map(c):jh(u,`Modifier ${u} used at start of tag`):l.length?jh(u,`Tag ${u} used as modifier`):l=Array.isArray(c)?c:[c]:jh(u,`Unknown highlighting tag ${u}`)}for(let u of l)n.push(u)}if(!n.length)return 0;let i=e.replace(/ /g,"_"),r=i+" "+n.map(a=>a.id),s=KO[r];if(s)return s.id;let o=KO[r]=it.define({id:Ia.length,name:i,props:[so({[i]:n})]});return Ia.push(o),o.id}function w5(t){let e=it.define({id:Ia.length,name:"Document",props:[Bi.add(()=>t)],top:!0});return Ia.push(e),e}nt.RTL,nt.LTR;const x5=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),i=nm(t.state,n.from);return i.line?k5(t):i.block?T5(t):!1};function tm(t,e){return({state:n,dispatch:i})=>{if(n.readOnly)return!1;let r=t(e,n);return r?(i(n.update(r)),!0):!1}}const k5=tm(E5,0),S5=tm(Ww,0),T5=tm((t,e)=>Ww(t,e,A5(e)),0);function nm(t,e){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}const Zo=50;function P5(t,{open:e,close:n},i,r){let s=t.sliceDoc(i-Zo,i),o=t.sliceDoc(r,r+Zo),a=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(o)[0].length,u=s.length-a;if(s.slice(u-e.length,u)==e&&o.slice(l,l+n.length)==n)return{open:{pos:i-a,margin:a&&1},close:{pos:r+l,margin:l&&1}};let c,f;r-i<=2*Zo?c=f=t.sliceDoc(i,r):(c=t.sliceDoc(i,i+Zo),f=t.sliceDoc(r-Zo,r));let d=/^\s*/.exec(c)[0].length,p=/\s*$/.exec(f)[0].length,m=f.length-p-n.length;return c.slice(d,d+e.length)==e&&f.slice(m,m+n.length)==n?{open:{pos:i+d+e.length,margin:/\s/.test(c.charAt(d+e.length))?1:0},close:{pos:r-p-n.length,margin:/\s/.test(f.charAt(m-1))?1:0}}:null}function A5(t){let e=[];for(let n of t.selection.ranges){let i=t.doc.lineAt(n.from),r=n.to<=i.to?i:t.doc.lineAt(n.to),s=e.length-1;s>=0&&e[s].to>i.from?e[s].to=r.to:e.push({from:i.from+/^\s*/.exec(i.text)[0].length,to:r.to})}return e}function Ww(t,e,n=e.selection.ranges){let i=n.map(s=>nm(e,s.from).block);if(!i.every(s=>s))return null;let r=n.map((s,o)=>P5(e,i[o],s.from,s.to));if(t!=2&&!r.every(s=>s))return{changes:e.changes(n.map((s,o)=>r[o]?[]:[{from:s.from,insert:i[o].open+" "},{from:s.to,insert:" "+i[o].close}]))};if(t!=1&&r.some(s=>s)){let s=[];for(let o=0,a;o<r.length;o++)if(a=r[o]){let l=i[o],{open:u,close:c}=a;s.push({from:u.pos-l.open.length,to:u.pos+u.margin},{from:c.pos-c.margin,to:c.pos+l.close.length})}return{changes:s}}return null}function E5(t,e,n=e.selection.ranges){let i=[],r=-1;for(let{from:s,to:o}of n){let a=i.length,l=1e9,u=nm(e,s).line;if(u){for(let c=s;c<=o;){let f=e.doc.lineAt(c);if(f.from>r&&(s==o||o>f.from)){r=f.from;let d=/^\s*/.exec(f.text)[0].length,p=d==f.length,m=f.text.slice(d,d+u.length)==u?d:-1;d<f.text.length&&d<l&&(l=d),i.push({line:f,comment:m,token:u,indent:d,empty:p,single:!1})}c=f.to+1}if(l<1e9)for(let c=a;c<i.length;c++)i[c].indent<i[c].line.text.length&&(i[c].indent=l);i.length==a+1&&(i[a].single=!0)}}if(t!=2&&i.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:l,indent:u,empty:c,single:f}of i)(f||!c)&&s.push({from:a.from+u,insert:l+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(t!=1&&i.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:l}of i)if(a>=0){let u=o.from+a,c=u+l.length;o.text[c-o.from]==" "&&c++,s.push({from:u,to:c})}return{changes:s}}return null}const Td=vi.define(),C5=vi.define(),$5=ne.define(),Uw=ne.define({combine(t){return Fp(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(i,r)=>e(i,r)||n(i,r)})}}),Yw=On.define({create(){return zn.empty},update(t,e){let n=e.state.facet(Uw),i=e.annotation(Td);if(i){let l=qt.fromTransaction(e,i.selection),u=i.side,c=u==0?t.undone:t.done;return l?c=uc(c,c.length,n.minDepth,l):c=Hw(c,e.startState.selection),new zn(u==0?i.rest:c,u==0?c:i.rest)}let r=e.annotation(C5);if((r=="full"||r=="before")&&(t=t.isolate()),e.annotation(tt.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let s=qt.fromTransaction(e),o=e.annotation(tt.time),a=e.annotation(tt.userEvent);return s?t=t.addChanges(s,o,a,n,e):e.selection&&(t=t.addSelection(e.startState.selection,o,a,n.newGroupDelay)),(r=="full"||r=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new zn(t.done.map(qt.fromJSON),t.undone.map(qt.fromJSON))}});function JO(t={}){return[Yw,Uw.of(t),J.domEventHandlers({beforeinput(e,n){let i=e.inputType=="historyUndo"?im:e.inputType=="historyRedo"?lc:null;return i?(e.preventDefault(),i(n)):!1}})]}function Hc(t,e){return function({state:n,dispatch:i}){if(!e&&n.readOnly)return!1;let r=n.field(Yw,!1);if(!r)return!1;let s=r.pop(t,n,e);return s?(i(s),!0):!1}}const im=Hc(0,!1),lc=Hc(1,!1),R5=Hc(0,!0),I5=Hc(1,!0);class qt{constructor(e,n,i,r,s){this.changes=e,this.effects=n,this.mapped=i,this.startSelection=r,this.selectionsAfter=s}setSelAfter(e){return new qt(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,i;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(r=>r.toJSON())}}static fromJSON(e){return new qt(e.changes&&at.fromJSON(e.changes),[],e.mapped&&Un.fromJSON(e.mapped),e.startSelection&&Z.fromJSON(e.startSelection),e.selectionsAfter.map(Z.fromJSON))}static fromTransaction(e,n){let i=un;for(let r of e.startState.facet($5)){let s=r(e);s.length&&(i=i.concat(s))}return!i.length&&e.changes.empty?null:new qt(e.changes.invert(e.startState.doc),i,void 0,n||e.startState.selection,un)}static selection(e){return new qt(void 0,un,void 0,void 0,e)}}function uc(t,e,n,i){let r=e+1>n+20?e-n-1:0,s=t.slice(r,e);return s.push(i),s}function Q5(t,e){let n=[],i=!1;return t.iterChangedRanges((r,s)=>n.push(r,s)),e.iterChangedRanges((r,s,o,a)=>{for(let l=0;l<n.length;){let u=n[l++],c=n[l++];a>=u&&o<=c&&(i=!0)}}),i}function D5(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,i)=>n.empty!=e.ranges[i].empty).length===0}function Gw(t,e){return t.length?e.length?t.concat(e):t:e}const un=[],V5=200;function Hw(t,e){if(t.length){let n=t[t.length-1],i=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-V5));return i.length&&i[i.length-1].eq(e)?t:(i.push(e),uc(t,t.length-1,1e9,n.setSelAfter(i)))}else return[qt.selection([e])]}function M5(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function Xh(t,e){if(!t.length)return t;let n=t.length,i=un;for(;n;){let r=L5(t[n-1],e,i);if(r.changes&&!r.changes.empty||r.effects.length){let s=t.slice(0,n);return s[n-1]=r,s}else e=r.mapped,n--,i=r.selectionsAfter}return i.length?[qt.selection(i)]:un}function L5(t,e,n){let i=Gw(t.selectionsAfter.length?t.selectionsAfter.map(a=>a.map(e)):un,n);if(!t.changes)return qt.selection(i);let r=t.changes.map(e),s=e.mapDesc(t.changes,!0),o=t.mapped?t.mapped.composeDesc(s):s;return new qt(r,Pe.mapEffects(t.effects,e),o,t.startSelection.map(s),i)}const F5=/^(input\.type|delete)($|\.)/;class zn{constructor(e,n,i=0,r=void 0){this.done=e,this.undone=n,this.prevTime=i,this.prevUserEvent=r}isolate(){return this.prevTime?new zn(this.done,this.undone):this}addChanges(e,n,i,r,s){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!i||F5.test(i))&&(!a.selectionsAfter.length&&n-this.prevTime<r.newGroupDelay&&r.joinToEvent(s,Q5(a.changes,e.changes))||i=="input.type.compose")?o=uc(o,o.length-1,r.minDepth,new qt(e.changes.compose(a.changes),Gw(e.effects,a.effects),a.mapped,a.startSelection,un)):o=uc(o,o.length,r.minDepth,e),new zn(o,un,n,i)}addSelection(e,n,i,r){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:un;return s.length>0&&n-this.prevTime<r&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&D5(s[s.length-1],e)?this:new zn(Hw(this.done,e),this.undone,n,i)}addMapping(e){return new zn(Xh(this.done,e),Xh(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,i){let r=e==0?this.done:this.undone;if(r.length==0)return null;let s=r[r.length-1],o=s.selectionsAfter[0]||n.selection;if(i&&s.selectionsAfter.length)return n.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:Td.of({side:e,rest:M5(r),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let a=r.length==1?un:r.slice(0,r.length-1);return s.mapped&&(a=Xh(a,s.mapped)),n.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:Td.of({side:e,rest:a,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}zn.empty=new zn(un,un);const N5=[{key:"Mod-z",run:im,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:lc,preventDefault:!0},{linux:"Ctrl-Shift-z",run:lc,preventDefault:!0},{key:"Mod-u",run:R5,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:I5,preventDefault:!0}];function lo(t,e){return Z.create(t.ranges.map(e),t.mainIndex)}function Kn(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function An({state:t,dispatch:e},n){let i=lo(t.selection,n);return i.eq(t.selection,!0)?!1:(e(Kn(t,i)),!0)}function Kc(t,e){return Z.cursor(e?t.to:t.from)}function Kw(t,e){return An(t,n=>n.empty?t.moveByChar(n,e):Kc(n,e))}function Dt(t){return t.textDirectionAt(t.state.selection.main.head)==nt.LTR}const Jw=t=>Kw(t,!Dt(t)),ex=t=>Kw(t,Dt(t));function tx(t,e){return An(t,n=>n.empty?t.moveByGroup(n,e):Kc(n,e))}const Z5=t=>tx(t,!Dt(t)),z5=t=>tx(t,Dt(t));function q5(t,e,n){if(e.type.prop(n))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function Jc(t,e,n){let i=Xe(t).resolveInner(e.head),r=n?se.closedBy:se.openedBy;for(let l=e.head;;){let u=n?i.childAfter(l):i.childBefore(l);if(!u)break;q5(t,u,r)?i=u:l=n?u.to:u.from}let s=i.type.prop(r),o,a;return s&&(o=n?gs(t,i.from,1):gs(t,i.to,-1))&&o.matched?a=n?o.end.to:o.end.from:a=n?i.to:i.from,Z.cursor(a,n?-1:1)}const B5=t=>An(t,e=>Jc(t.state,e,!Dt(t))),j5=t=>An(t,e=>Jc(t.state,e,Dt(t)));function nx(t,e){return An(t,n=>{if(!n.empty)return Kc(n,e);let i=t.moveVertically(n,e);return i.head!=n.head?i:t.moveToLineBoundary(n,e)})}const ix=t=>nx(t,!1),rx=t=>nx(t,!0);function sx(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,i=0,r;if(e){for(let s of t.state.facet(J.scrollMargins)){let o=s(t);o?.top&&(n=Math.max(o?.top,n)),o?.bottom&&(i=Math.max(o?.bottom,i))}r=t.scrollDOM.clientHeight-n-i}else r=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:i,selfScroll:e,height:Math.max(t.defaultLineHeight,r-5)}}function ox(t,e){let n=sx(t),{state:i}=t,r=lo(i.selection,o=>o.empty?t.moveVertically(o,e,n.height):Kc(o,e));if(r.eq(i.selection))return!1;let s;if(n.selfScroll){let o=t.coordsAtPos(i.selection.main.head),a=t.scrollDOM.getBoundingClientRect(),l=a.top+n.marginTop,u=a.bottom-n.marginBottom;o&&o.top>l&&o.bottom<u&&(s=J.scrollIntoView(r.main.head,{y:"start",yMargin:o.top-l}))}return t.dispatch(Kn(i,r),{effects:s}),!0}const e1=t=>ox(t,!1),Pd=t=>ox(t,!0);function ur(t,e,n){let i=t.lineBlockAt(e.head),r=t.moveToLineBoundary(e,n);if(r.head==e.head&&r.head!=(n?i.to:i.from)&&(r=t.moveToLineBoundary(e,n,!1)),!n&&r.head==i.from&&i.length){let s=/^\s*/.exec(t.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;s&&e.head!=i.from+s&&(r=Z.cursor(i.from+s))}return r}const X5=t=>An(t,e=>ur(t,e,!0)),W5=t=>An(t,e=>ur(t,e,!1)),U5=t=>An(t,e=>ur(t,e,!Dt(t))),Y5=t=>An(t,e=>ur(t,e,Dt(t))),G5=t=>An(t,e=>Z.cursor(t.lineBlockAt(e.head).from,1)),H5=t=>An(t,e=>Z.cursor(t.lineBlockAt(e.head).to,-1));function K5(t,e,n){let i=!1,r=lo(t.selection,s=>{let o=gs(t,s.head,-1)||gs(t,s.head,1)||s.head>0&&gs(t,s.head-1,1)||s.head<t.doc.length&&gs(t,s.head+1,-1);if(!o||!o.end)return s;i=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return Z.cursor(a)});return i?(e(Kn(t,r)),!0):!1}const J5=({state:t,dispatch:e})=>K5(t,e);function bn(t,e){let n=lo(t.state.selection,i=>{let r=e(i);return Z.range(i.anchor,r.head,r.goalColumn,r.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(Kn(t.state,n)),!0)}function ax(t,e){return bn(t,n=>t.moveByChar(n,e))}const lx=t=>ax(t,!Dt(t)),ux=t=>ax(t,Dt(t));function cx(t,e){return bn(t,n=>t.moveByGroup(n,e))}const e4=t=>cx(t,!Dt(t)),t4=t=>cx(t,Dt(t)),n4=t=>bn(t,e=>Jc(t.state,e,!Dt(t))),i4=t=>bn(t,e=>Jc(t.state,e,Dt(t)));function hx(t,e){return bn(t,n=>t.moveVertically(n,e))}const fx=t=>hx(t,!1),dx=t=>hx(t,!0);function px(t,e){return bn(t,n=>t.moveVertically(n,e,sx(t).height))}const t1=t=>px(t,!1),n1=t=>px(t,!0),r4=t=>bn(t,e=>ur(t,e,!0)),s4=t=>bn(t,e=>ur(t,e,!1)),o4=t=>bn(t,e=>ur(t,e,!Dt(t))),a4=t=>bn(t,e=>ur(t,e,Dt(t))),l4=t=>bn(t,e=>Z.cursor(t.lineBlockAt(e.head).from)),u4=t=>bn(t,e=>Z.cursor(t.lineBlockAt(e.head).to)),i1=({state:t,dispatch:e})=>(e(Kn(t,{anchor:0})),!0),r1=({state:t,dispatch:e})=>(e(Kn(t,{anchor:t.doc.length})),!0),s1=({state:t,dispatch:e})=>(e(Kn(t,{anchor:t.selection.main.anchor,head:0})),!0),o1=({state:t,dispatch:e})=>(e(Kn(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),c4=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),h4=({state:t,dispatch:e})=>{let n=eh(t).map(({from:i,to:r})=>Z.range(i,Math.min(r+1,t.doc.length)));return e(t.update({selection:Z.create(n),userEvent:"select"})),!0},f4=({state:t,dispatch:e})=>{let n=lo(t.selection,i=>{var r;let s=Xe(t).resolveStack(i.from,1);for(let o=s;o;o=o.next){let{node:a}=o;if((a.from<i.from&&a.to>=i.to||a.to>i.to&&a.from<=i.from)&&(!((r=a.parent)===null||r===void 0)&&r.parent))return Z.range(a.to,a.from)}return i});return e(Kn(t,n)),!0},d4=({state:t,dispatch:e})=>{let n=t.selection,i=null;return n.ranges.length>1?i=Z.create([n.main]):n.main.empty||(i=Z.create([Z.cursor(n.main.head)])),i?(e(Kn(t,i)),!0):!1};function al(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:i}=t,r=i.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let l=e(s);l<o?(n="delete.backward",l=Kl(t,l,!1)):l>o&&(n="delete.forward",l=Kl(t,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=Kl(t,o,!1),a=Kl(t,a,!0);return o==a?{range:s}:{changes:{from:o,to:a},range:Z.cursor(o,o<s.head?-1:1)}});return r.changes.empty?!1:(t.dispatch(i.update(r,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?J.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function Kl(t,e,n){if(t instanceof J)for(let i of t.state.facet(J.atomicRanges).map(r=>r(t)))i.between(e,e,(r,s)=>{r<e&&s>e&&(e=n?s:r)});return e}const mx=(t,e,n)=>al(t,i=>{let r=i.from,{state:s}=t,o=s.doc.lineAt(r),a,l;if(n&&!e&&r>o.from&&r<o.from+200&&!/[^ \t]/.test(a=o.text.slice(0,r-o.from))){if(a[a.length-1]=="	")return r-1;let u=Oi(a,s.tabSize),c=u%Nr(s)||Nr(s);for(let f=0;f<c&&a[a.length-1-f]==" ";f++)r--;l=r}else l=wt(o.text,r-o.from,e,e)+o.from,l==r&&o.number!=(e?s.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(l-o.from,r-o.from))&&(l=wt(o.text,l-o.from,!1,!1)+o.from);return l}),Ad=t=>mx(t,!1,!0),gx=t=>mx(t,!0,!1),Ox=(t,e)=>al(t,n=>{let i=n.head,{state:r}=t,s=r.doc.lineAt(i),o=r.charCategorizer(i);for(let a=null;;){if(i==(e?s.to:s.from)){i==n.head&&s.number!=(e?r.doc.lines:1)&&(i+=e?1:-1);break}let l=wt(s.text,i-s.from,e)+s.from,u=s.text.slice(Math.min(i,l)-s.from,Math.max(i,l)-s.from),c=o(u);if(a!=null&&c!=a)break;(u!=" "||i!=n.head)&&(a=c),i=l}return i}),bx=t=>Ox(t,!1),p4=t=>Ox(t,!0),m4=t=>al(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),g4=t=>al(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),O4=t=>al(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),b4=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:Te.of(["",""])},range:Z.cursor(i.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},y4=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(i=>{if(!i.empty||i.from==0||i.from==t.doc.length)return{range:i};let r=i.from,s=t.doc.lineAt(r),o=r==s.from?r-1:wt(s.text,r-s.from,!1)+s.from,a=r==s.to?r+1:wt(s.text,r-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:t.doc.slice(r,a).append(t.doc.slice(o,r))},range:Z.cursor(a)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function eh(t){let e=[],n=-1;for(let i of t.selection.ranges){let r=t.doc.lineAt(i.from),s=t.doc.lineAt(i.to);if(!i.empty&&i.to==s.from&&(s=t.doc.lineAt(i.to-1)),n>=r.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(i)}else e.push({from:r.from,to:s.to,ranges:[i]});n=s.number+1}return e}function yx(t,e,n){if(t.readOnly)return!1;let i=[],r=[];for(let s of eh(t)){if(n?s.to==t.doc.length:s.from==0)continue;let o=t.doc.lineAt(n?s.to+1:s.from-1),a=o.length+1;if(n){i.push({from:s.to,to:o.to},{from:s.from,insert:o.text+t.lineBreak});for(let l of s.ranges)r.push(Z.range(Math.min(t.doc.length,l.anchor+a),Math.min(t.doc.length,l.head+a)))}else{i.push({from:o.from,to:s.from},{from:s.to,insert:t.lineBreak+o.text});for(let l of s.ranges)r.push(Z.range(l.anchor-a,l.head-a))}}return i.length?(e(t.update({changes:i,scrollIntoView:!0,selection:Z.create(r,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const v4=({state:t,dispatch:e})=>yx(t,e,!1),_4=({state:t,dispatch:e})=>yx(t,e,!0);function vx(t,e,n){if(t.readOnly)return!1;let i=[];for(let r of eh(t))n?i.push({from:r.from,insert:t.doc.slice(r.from,r.to)+t.lineBreak}):i.push({from:r.to,insert:t.lineBreak+t.doc.slice(r.from,r.to)});return e(t.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const w4=({state:t,dispatch:e})=>vx(t,e,!1),x4=({state:t,dispatch:e})=>vx(t,e,!0),_x=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(eh(e).map(({from:r,to:s})=>(r>0?r--:s<e.doc.length&&s++,{from:r,to:s}))),i=lo(e.selection,r=>{let s;if(t.lineWrapping){let o=t.lineBlockAt(r.head),a=t.coordsAtPos(r.head,r.assoc||1);a&&(s=o.bottom+t.documentTop-a.bottom+t.defaultLineHeight/2)}return t.moveVertically(r,!0,s)}).map(n);return t.dispatch({changes:n,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function k4(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=Xe(t).resolveInner(e),i=n.childBefore(e),r=n.childAfter(e),s;return i&&r&&i.to<=e&&r.from>=e&&(s=i.type.prop(se.closedBy))&&s.indexOf(r.name)>-1&&t.doc.lineAt(i.to).from==t.doc.lineAt(r.from).from&&!/\S/.test(t.sliceDoc(i.to,r.from))?{from:i.to,to:r.from}:null}const S4=wx(!1),T4=wx(!0);function wx(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let i=e.changeByRange(r=>{let{from:s,to:o}=r,a=e.doc.lineAt(s),l=!t&&s==o&&k4(e,s);t&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let u=new Gc(e,{simulateBreak:s,simulateDoubleBreak:!!l}),c=Dw(u,s);for(c==null&&(c=Oi(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:s,to:o}=l:s>a.from&&s<a.from+100&&!/\S/.test(a.text.slice(0,s))&&(s=a.from);let f=["",ac(e,c)];return l&&f.push(ac(e,u.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:Te.of(f)},range:Z.cursor(s+1+f[1].length)}});return n(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function rm(t,e){let n=-1;return t.changeByRange(i=>{let r=[];for(let o=i.from;o<=i.to;){let a=t.doc.lineAt(o);a.number>n&&(i.empty||i.to>a.from)&&(e(a,r,i),n=a.number),o=a.to+1}let s=t.changes(r);return{changes:r,range:Z.range(s.mapPos(i.anchor,1),s.mapPos(i.head,1))}})}const P4=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),i=new Gc(t,{overrideIndentation:s=>{let o=n[s];return o??-1}}),r=rm(t,(s,o,a)=>{let l=Dw(i,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let u=/^\s*/.exec(s.text)[0],c=ac(t,l);(u!=c||a.from<s.from+u.length)&&(n[s.from]=l,o.push({from:s.from,to:s.from+u.length,insert:c}))});return r.changes.empty||e(t.update(r,{userEvent:"indent"})),!0},xx=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(rm(t,(n,i)=>{i.push({from:n.from,insert:t.facet(oo)})}),{userEvent:"input.indent"})),!0),kx=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(rm(t,(n,i)=>{let r=/^\s*/.exec(n.text)[0];if(!r)return;let s=Oi(r,t.tabSize),o=0,a=ac(t,Math.max(0,s-Nr(t)));for(;o<r.length&&o<a.length&&r.charCodeAt(o)==a.charCodeAt(o);)o++;i.push({from:n.from+o,to:n.from+r.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),A4=[{key:"Ctrl-b",run:Jw,shift:lx,preventDefault:!0},{key:"Ctrl-f",run:ex,shift:ux},{key:"Ctrl-p",run:ix,shift:fx},{key:"Ctrl-n",run:rx,shift:dx},{key:"Ctrl-a",run:G5,shift:l4},{key:"Ctrl-e",run:H5,shift:u4},{key:"Ctrl-d",run:gx},{key:"Ctrl-h",run:Ad},{key:"Ctrl-k",run:m4},{key:"Ctrl-Alt-h",run:bx},{key:"Ctrl-o",run:b4},{key:"Ctrl-t",run:y4},{key:"Ctrl-v",run:Pd}],E4=[{key:"ArrowLeft",run:Jw,shift:lx,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:Z5,shift:e4,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:U5,shift:o4,preventDefault:!0},{key:"ArrowRight",run:ex,shift:ux,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:z5,shift:t4,preventDefault:!0},{mac:"Cmd-ArrowRight",run:Y5,shift:a4,preventDefault:!0},{key:"ArrowUp",run:ix,shift:fx,preventDefault:!0},{mac:"Cmd-ArrowUp",run:i1,shift:s1},{mac:"Ctrl-ArrowUp",run:e1,shift:t1},{key:"ArrowDown",run:rx,shift:dx,preventDefault:!0},{mac:"Cmd-ArrowDown",run:r1,shift:o1},{mac:"Ctrl-ArrowDown",run:Pd,shift:n1},{key:"PageUp",run:e1,shift:t1},{key:"PageDown",run:Pd,shift:n1},{key:"Home",run:W5,shift:s4,preventDefault:!0},{key:"Mod-Home",run:i1,shift:s1},{key:"End",run:X5,shift:r4,preventDefault:!0},{key:"Mod-End",run:r1,shift:o1},{key:"Enter",run:S4},{key:"Mod-a",run:c4},{key:"Backspace",run:Ad,shift:Ad},{key:"Delete",run:gx},{key:"Mod-Backspace",mac:"Alt-Backspace",run:bx},{key:"Mod-Delete",mac:"Alt-Delete",run:p4},{mac:"Mod-Backspace",run:g4},{mac:"Mod-Delete",run:O4}].concat(A4.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),C4=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:B5,shift:n4},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:j5,shift:i4},{key:"Alt-ArrowUp",run:v4},{key:"Shift-Alt-ArrowUp",run:w4},{key:"Alt-ArrowDown",run:_4},{key:"Shift-Alt-ArrowDown",run:x4},{key:"Escape",run:d4},{key:"Mod-Enter",run:T4},{key:"Alt-l",mac:"Ctrl-l",run:h4},{key:"Mod-i",run:f4,preventDefault:!0},{key:"Mod-[",run:kx},{key:"Mod-]",run:xx},{key:"Mod-Alt-\\",run:P4},{key:"Shift-Mod-k",run:_x},{key:"Shift-Mod-\\",run:J5},{key:"Mod-/",run:x5},{key:"Alt-A",run:S5}].concat(E4),$4={key:"Tab",run:xx,shift:kx};function At(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var r=n[i];typeof r=="string"?t.setAttribute(i,r):r!=null&&(t[i]=r)}e++}for(;e<arguments.length;e++)Sx(t,arguments[e]);return t}function Sx(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)Sx(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}const a1=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class Qa{constructor(e,n,i=0,r=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(i,r),this.bufferStart=i,this.normalize=s?a=>s(a1(a)):a1,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return xn(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=c_(e),i=this.bufferStart+this.bufferPos;this.bufferPos+=ci(e);let r=this.normalize(n);for(let s=0,o=i;;s++){let a=r.charCodeAt(s),l=this.match(a,o,this.bufferPos+this.bufferStart);if(s==r.length-1){if(l)return this.value=l,this;break}o==i&&s<n.length&&n.charCodeAt(s)==a&&o++}}}match(e,n,i){let r=null;for(let s=0;s<this.matches.length;s+=2){let o=this.matches[s],a=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?r={from:this.matches[s+1],to:i}:(this.matches[s]++,a=!0)),a||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?r={from:n,to:i}:this.matches.push(1,n)),r&&this.test&&!this.test(r.from,r.to,this.buffer,this.bufferStart)&&(r=null),r}}typeof Symbol<"u"&&(Qa.prototype[Symbol.iterator]=function(){return this});const Tx={from:-1,to:-1,match:/.*/.exec("")},sm="gm"+(/x/.unicode==null?"":"u");class Px{constructor(e,n,i,r=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=Tx,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new Ax(e,n,i,r,s);this.re=new RegExp(n,sm+(i?.ignoreCase?"i":"")),this.test=i?.test,this.iter=e.iter();let o=e.lineAt(r);this.curLineStart=o.from,this.matchPos=cc(e,r),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let i=this.curLineStart+n.index,r=i+n[0].length;if(this.matchPos=cc(this.text,r+(i==r?1:0)),i==this.curLineStart+this.curLine.length&&this.nextLine(),(i<r||i>this.value.to)&&(!this.test||this.test(i,r,n)))return this.value={from:i,to:r,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const Wh=new WeakMap;class Ss{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,i){let r=Wh.get(e);if(!r||r.from>=i||r.to<=n){let a=new Ss(n,e.sliceString(n,i));return Wh.set(e,a),a}if(r.from==n&&r.to==i)return r;let{text:s,from:o}=r;return o>n&&(s=e.sliceString(n,o)+s,o=n),r.to<i&&(s+=e.sliceString(r.to,i)),Wh.set(e,new Ss(o,s)),new Ss(n,s.slice(n-o,i-o))}}class Ax{constructor(e,n,i,r,s){this.text=e,this.to=s,this.done=!1,this.value=Tx,this.matchPos=cc(e,r),this.re=new RegExp(n,sm+(i?.ignoreCase?"i":"")),this.test=i?.test,this.flat=Ss.get(e,r,this.chunkEnd(r+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let i=this.flat.from+n.index,r=i+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(i,r,n)))return this.value={from:i,to:r,match:n},this.matchPos=cc(this.text,r+(i==r?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Ss.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(Px.prototype[Symbol.iterator]=Ax.prototype[Symbol.iterator]=function(){return this});function R4(t){try{return new RegExp(t,sm),!0}catch{return!1}}function cc(t,e){if(e>=t.length)return e;let n=t.lineAt(e),i;for(;e<n.to&&(i=n.text.charCodeAt(e-n.from))>=56320&&i<57344;)e++;return e}function Ed(t){let e=String(t.state.doc.lineAt(t.state.selection.main.head).number),n=At("input",{class:"cm-textfield",name:"line",value:e}),i=At("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),t.dispatch({effects:hc.of(!1)}),t.focus()):s.keyCode==13&&(s.preventDefault(),r())},onsubmit:s=>{s.preventDefault(),r()}},At("label",t.state.phrase("Go to line"),": ",n)," ",At("button",{class:"cm-button",type:"submit"},t.state.phrase("go")));function r(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!s)return;let{state:o}=t,a=o.doc.lineAt(o.selection.main.head),[,l,u,c,f]=s,d=c?+c.slice(1):0,p=u?+u:a.number;if(u&&f){let y=p/100;l&&(y=y*(l=="-"?-1:1)+a.number/o.doc.lines),p=Math.round(o.doc.lines*y)}else u&&l&&(p=p*(l=="-"?-1:1)+a.number);let m=o.doc.line(Math.max(1,Math.min(o.doc.lines,p))),O=Z.cursor(m.from+Math.max(0,Math.min(d,m.length)));t.dispatch({effects:[hc.of(!1),J.scrollIntoView(O.from,{y:"center"})],selection:O}),t.focus()}return{dom:i}}const hc=Pe.define(),l1=On.define({create(){return!0},update(t,e){for(let n of e.effects)n.is(hc)&&(t=n.value);return t},provide:t=>ic.from(t,e=>e?Ed:null)}),I4=t=>{let e=nc(t,Ed);if(!e){let n=[hc.of(!0)];t.state.field(l1,!1)==null&&n.push(Pe.appendConfig.of([l1,Q4])),t.dispatch({effects:n}),e=nc(t,Ed)}return e&&e.dom.querySelector("input").select(),!0},Q4=J.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),D4=({state:t,dispatch:e})=>{let{selection:n}=t,i=Z.create(n.ranges.map(r=>t.wordAt(r.head)||Z.cursor(r.head)),n.mainIndex);return i.eq(n)?!1:(e(t.update({selection:i})),!0)};function V4(t,e){let{main:n,ranges:i}=t.selection,r=t.wordAt(n.head),s=r&&r.from==n.from&&r.to==n.to;for(let o=!1,a=new Qa(t.doc,e,i[i.length-1].to);;)if(a.next(),a.done){if(o)return null;a=new Qa(t.doc,e,0,Math.max(0,i[i.length-1].from-1)),o=!0}else{if(o&&i.some(l=>l.from==a.value.from))continue;if(s){let l=t.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const M4=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(s=>s.from===s.to))return D4({state:t,dispatch:e});let i=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(s=>t.sliceDoc(s.from,s.to)!=i))return!1;let r=V4(t,i);return r?(e(t.update({selection:t.selection.addRange(Z.range(r.from,r.to),!1),effects:J.scrollIntoView(r.to)})),!0):!1},uo=ne.define({combine(t){return Fp(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new Y4(e),scrollToMatch:e=>J.scrollIntoView(e)})}});class Ex{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||R4(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,i)=>i=="n"?`
`:i=="r"?"\r":i=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new Z4(this):new F4(this)}getCursor(e,n=0,i){let r=e.doc?e:_e.create({doc:e});return i==null&&(i=r.doc.length),this.regexp?ps(this,r,n,i):ds(this,r,n,i)}}class Cx{constructor(e){this.spec=e}}function ds(t,e,n,i){return new Qa(e.doc,t.unquoted,n,i,t.caseSensitive?void 0:r=>r.toLowerCase(),t.wholeWord?L4(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function L4(t,e){return(n,i,r,s)=>((s>n||s+r.length<i)&&(s=Math.max(0,n-2),r=t.sliceString(s,Math.min(t.length,i+2))),(e(fc(r,n-s))!=xt.Word||e(dc(r,n-s))!=xt.Word)&&(e(dc(r,i-s))!=xt.Word||e(fc(r,i-s))!=xt.Word))}class F4 extends Cx{constructor(e){super(e)}nextMatch(e,n,i){let r=ds(this.spec,e,i,e.doc.length).nextOverlapping();return r.done&&(r=ds(this.spec,e,0,n).nextOverlapping()),r.done?null:r.value}prevMatchInRange(e,n,i){for(let r=i;;){let s=Math.max(n,r-1e4-this.spec.unquoted.length),o=ds(this.spec,e,s,r),a=null;for(;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(s==n)return null;r-=1e4}}prevMatch(e,n,i){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let i=ds(this.spec,e,0,e.doc.length),r=[];for(;!i.next().done;){if(r.length>=n)return null;r.push(i.value)}return r}highlight(e,n,i,r){let s=ds(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)r(s.value.from,s.value.to)}}function ps(t,e,n,i){return new Px(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?N4(e.charCategorizer(e.selection.main.head)):void 0},n,i)}function fc(t,e){return t.slice(wt(t,e,!1),e)}function dc(t,e){return t.slice(e,wt(t,e))}function N4(t){return(e,n,i)=>!i[0].length||(t(fc(i.input,i.index))!=xt.Word||t(dc(i.input,i.index))!=xt.Word)&&(t(dc(i.input,i.index+i[0].length))!=xt.Word||t(fc(i.input,i.index+i[0].length))!=xt.Word)}class Z4 extends Cx{nextMatch(e,n,i){let r=ps(this.spec,e,i,e.doc.length).next();return r.done&&(r=ps(this.spec,e,0,n).next()),r.done?null:r.value}prevMatchInRange(e,n,i){for(let r=1;;r++){let s=Math.max(n,i-r*1e4),o=ps(this.spec,e,s,i),a=null;for(;!o.next().done;)a=o.value;if(a&&(s==n||a.from>s+10))return a;if(s==n)return null}}prevMatch(e,n,i){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(n,i)=>i=="$"?"$":i=="&"?e.match[0]:i!="0"&&+i<e.match.length?e.match[i]:n)}matchAll(e,n){let i=ps(this.spec,e,0,e.doc.length),r=[];for(;!i.next().done;){if(r.length>=n)return null;r.push(i.value)}return r}highlight(e,n,i,r){let s=ps(this.spec,e,Math.max(0,n-250),Math.min(i+250,e.doc.length));for(;!s.next().done;)r(s.value.from,s.value.to)}}const Da=Pe.define(),om=Pe.define(),Gi=On.define({create(t){return new Uh(Cd(t).create(),null)},update(t,e){for(let n of e.effects)n.is(Da)?t=new Uh(n.value.create(),t.panel):n.is(om)&&(t=new Uh(t.query,n.value?am:null));return t},provide:t=>ic.from(t,e=>e.panel)});class Uh{constructor(e,n){this.query=e,this.panel=n}}const z4=De.mark({class:"cm-searchMatch"}),q4=De.mark({class:"cm-searchMatch cm-searchMatch-selected"}),B4=pn.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(Gi))}update(t){let e=t.state.field(Gi);(e!=t.startState.field(Gi)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return De.none;let{view:n}=this,i=new Fs;for(let r=0,s=n.visibleRanges,o=s.length;r<o;r++){let{from:a,to:l}=s[r];for(;r<o-1&&l>s[r+1].from-2*250;)l=s[++r].to;t.highlight(n.state,a,l,(u,c)=>{let f=n.state.selection.ranges.some(d=>d.from==u&&d.to==c);i.add(u,c,f?q4:z4)})}return i.finish()}},{decorations:t=>t.decorations});function ll(t){return e=>{let n=e.state.field(Gi,!1);return n&&n.query.spec.valid?t(e,n):Ix(e)}}const pc=ll((t,{query:e})=>{let{to:n}=t.state.selection.main,i=e.nextMatch(t.state,n,n);if(!i)return!1;let r=Z.single(i.from,i.to),s=t.state.facet(uo);return t.dispatch({selection:r,effects:[lm(t,i),s.scrollToMatch(r.main,t)],userEvent:"select.search"}),Rx(t),!0}),mc=ll((t,{query:e})=>{let{state:n}=t,{from:i}=n.selection.main,r=e.prevMatch(n,i,i);if(!r)return!1;let s=Z.single(r.from,r.to),o=t.state.facet(uo);return t.dispatch({selection:s,effects:[lm(t,r),o.scrollToMatch(s.main,t)],userEvent:"select.search"}),Rx(t),!0}),j4=ll((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!n||!n.length?!1:(t.dispatch({selection:Z.create(n.map(i=>Z.range(i.from,i.to))),userEvent:"select.search.matches"}),!0)}),X4=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:i,to:r}=n.main,s=[],o=0;for(let a=new Qa(t.doc,t.sliceDoc(i,r));!a.next().done;){if(s.length>1e3)return!1;a.value.from==i&&(o=s.length),s.push(Z.range(a.value.from,a.value.to))}return e(t.update({selection:Z.create(s,o),userEvent:"select.search.matches"})),!0},u1=ll((t,{query:e})=>{let{state:n}=t,{from:i,to:r}=n.selection.main;if(n.readOnly)return!1;let s=e.nextMatch(n,i,i);if(!s)return!1;let o=[],a,l,u=[];if(s.from==i&&s.to==r&&(l=n.toText(e.getReplacement(s)),o.push({from:s.from,to:s.to,insert:l}),s=e.nextMatch(n,s.from,s.to),u.push(J.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(i).number)+"."))),s){let c=o.length==0||o[0].from>=s.to?0:s.to-s.from-l.length;a=Z.single(s.from-c,s.to-c),u.push(lm(t,s)),u.push(n.facet(uo).scrollToMatch(a.main,t))}return t.dispatch({changes:o,selection:a,effects:u,userEvent:"input.replace"}),!0}),W4=ll((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map(r=>{let{from:s,to:o}=r;return{from:s,to:o,insert:e.getReplacement(r)}});if(!n.length)return!1;let i=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:J.announce.of(i),userEvent:"input.replace.all"}),!0});function am(t){return t.state.facet(uo).createPanel(t)}function Cd(t,e){var n,i,r,s,o;let a=t.selection.main,l=a.empty||a.to>a.from+100?"":t.sliceDoc(a.from,a.to);if(e&&!l)return e;let u=t.facet(uo);return new Ex({search:((n=e?.literal)!==null&&n!==void 0?n:u.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(i=e?.caseSensitive)!==null&&i!==void 0?i:u.caseSensitive,literal:(r=e?.literal)!==null&&r!==void 0?r:u.literal,regexp:(s=e?.regexp)!==null&&s!==void 0?s:u.regexp,wholeWord:(o=e?.wholeWord)!==null&&o!==void 0?o:u.wholeWord})}function $x(t){let e=nc(t,am);return e&&e.dom.querySelector("[main-field]")}function Rx(t){let e=$x(t);e&&e==t.root.activeElement&&e.select()}const Ix=t=>{let e=t.state.field(Gi,!1);if(e&&e.panel){let n=$x(t);if(n&&n!=t.root.activeElement){let i=Cd(t.state,e.query.spec);i.valid&&t.dispatch({effects:Da.of(i)}),n.focus(),n.select()}}else t.dispatch({effects:[om.of(!0),e?Da.of(Cd(t.state,e.query.spec)):Pe.appendConfig.of(H4)]});return!0},Qx=t=>{let e=t.state.field(Gi,!1);if(!e||!e.panel)return!1;let n=nc(t,am);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:om.of(!1)}),!0},U4=[{key:"Mod-f",run:Ix,scope:"editor search-panel"},{key:"F3",run:pc,shift:mc,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:pc,shift:mc,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Qx,scope:"editor search-panel"},{key:"Mod-Shift-l",run:X4},{key:"Mod-Alt-g",run:I4},{key:"Mod-d",run:M4,preventDefault:!0}];class Y4{constructor(e){this.view=e;let n=this.query=e.state.field(Gi).query.spec;this.commit=this.commit.bind(this),this.searchField=At("input",{value:n.search,placeholder:Yt(e,"Find"),"aria-label":Yt(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=At("input",{value:n.replace,placeholder:Yt(e,"Replace"),"aria-label":Yt(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=At("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=At("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=At("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function i(r,s,o){return At("button",{class:"cm-button",name:r,onclick:s,type:"button"},o)}this.dom=At("div",{onkeydown:r=>this.keydown(r),class:"cm-search"},[this.searchField,i("next",()=>pc(e),[Yt(e,"next")]),i("prev",()=>mc(e),[Yt(e,"previous")]),i("select",()=>j4(e),[Yt(e,"all")]),At("label",null,[this.caseField,Yt(e,"match case")]),At("label",null,[this.reField,Yt(e,"regexp")]),At("label",null,[this.wordField,Yt(e,"by word")]),...e.state.readOnly?[]:[At("br"),this.replaceField,i("replace",()=>u1(e),[Yt(e,"replace")]),i("replaceAll",()=>W4(e),[Yt(e,"replace all")])],At("button",{name:"close",onclick:()=>Qx(e),"aria-label":Yt(e,"close"),type:"button"},["×"])])}commit(){let e=new Ex({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Da.of(e)}))}keydown(e){_R(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?mc:pc)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),u1(this.view))}update(e){for(let n of e.transactions)for(let i of n.effects)i.is(Da)&&!i.value.eq(this.query)&&this.setQuery(i.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(uo).top}}function Yt(t,e){return t.state.phrase(e)}const Jl=30,eu=/[\s\.,:;?!]/;function lm(t,{from:e,to:n}){let i=t.state.doc.lineAt(e),r=t.state.doc.lineAt(n).to,s=Math.max(i.from,e-Jl),o=Math.min(r,n+Jl),a=t.state.sliceDoc(s,o);if(s!=i.from){for(let l=0;l<Jl;l++)if(!eu.test(a[l+1])&&eu.test(a[l])){a=a.slice(l);break}}if(o!=r){for(let l=a.length-1;l>a.length-Jl;l--)if(!eu.test(a[l-1])&&eu.test(a[l])){a=a.slice(0,l);break}}return J.announce.of(`${t.state.phrase("current match")}. ${a} ${t.state.phrase("on line")} ${i.number}.`)}const G4=J.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),H4=[Gi,lr.low(B4),G4];class um{constructor(e,n,i){this.state=e,this.pos=n,this.explicit=i,this.abortListeners=[]}tokenBefore(e){let n=Xe(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),i=Math.max(n.from,this.pos-250),r=n.text.slice(i-n.from,this.pos-n.from),s=r.search(Vx(e,!1));return s<0?null:{from:i+s,to:this.pos,text:r.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,n){e=="abort"&&this.abortListeners&&this.abortListeners.push(n)}}function c1(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function K4(t){let e=Object.create(null),n=Object.create(null);for(let{label:r}of t){e[r[0]]=!0;for(let s=1;s<r.length;s++)n[r[s]]=!0}let i=c1(e)+c1(n)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function Dx(t){let e=t.map(r=>typeof r=="string"?{label:r}:r),[n,i]=e.every(r=>/^\w+$/.test(r.label))?[/\w*$/,/\w+$/]:K4(e);return r=>{let s=r.matchBefore(i);return s||r.explicit?{from:s?s.from:r.pos,options:e,validFor:n}:null}}function J4(t,e){return n=>{for(let i=Xe(n.state).resolveInner(n.pos,-1);i;i=i.parent){if(t.indexOf(i.name)>-1)return null;if(i.type.isTop)break}return e(n)}}class h1{constructor(e,n,i,r){this.completion=e,this.source=n,this.match=i,this.score=r}}function Hi(t){return t.selection.main.from}function Vx(t,e){var n;let{source:i}=t,r=e&&i[0]!="^",s=i[i.length-1]!="$";return!r&&!s?t:new RegExp(`${r?"^":""}(?:${i})${s?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const cm=vi.define();function eI(t,e,n,i){let{main:r}=t.selection,s=n-r.from,o=i-r.from;return Object.assign(Object.assign({},t.changeByRange(a=>a!=r&&n!=i&&t.sliceDoc(a.from+s,a.from+o)!=t.sliceDoc(n,i)?{range:a}:{changes:{from:a.from+s,to:i==r.from?a.to:a.from+o,insert:e},range:Z.cursor(a.from+s+e.length)})),{scrollIntoView:!0,userEvent:"input.complete"})}const f1=new WeakMap;function tI(t){if(!Array.isArray(t))return t;let e=f1.get(t);return e||f1.set(t,e=Dx(t)),e}const gc=Pe.define(),Va=Pe.define();class nI{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let i=xn(e,n),r=ci(i);this.chars.push(i);let s=e.slice(n,n+r),o=s.toUpperCase();this.folded.push(xn(o==s?s.toLowerCase():o,0)),n+=r}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:i,any:r,precise:s,byWord:o}=this;if(n.length==1){let S=xn(e,0),$=ci(S),R=$==e.length?0:-100;if(S!=n[0])if(S==i[0])R+=-200;else return null;return this.ret(R,[0,$])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=n.length,u=0;if(a<0){for(let S=0,$=Math.min(e.length,200);S<$&&u<l;){let R=xn(e,S);(R==n[u]||R==i[u])&&(r[u++]=S),S+=ci(R)}if(u<l)return null}let c=0,f=0,d=!1,p=0,m=-1,O=-1,y=/[a-z]/.test(e),_=!0;for(let S=0,$=Math.min(e.length,200),R=0;S<$&&f<l;){let D=xn(e,S);a<0&&(c<l&&D==n[c]&&(s[c++]=S),p<l&&(D==n[p]||D==i[p]?(p==0&&(m=S),O=S+1,p++):p=0));let L,w=D<255?D>=48&&D<=57||D>=97&&D<=122?2:D>=65&&D<=90?1:0:(L=c_(D))!=L.toLowerCase()?1:L!=L.toUpperCase()?2:0;(!S||w==1&&y||R==0&&w!=0)&&(n[f]==D||i[f]==D&&(d=!0)?o[f++]=S:o.length&&(_=!1)),R=w,S+=ci(D)}return f==l&&o[0]==0&&_?this.result(-100+(d?-200:0),o,e):p==l&&m==0?this.ret(-200-e.length+(O==e.length?0:-100),[0,O]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):p==l?this.ret(-900-e.length,[m,O]):f==l?this.result(-100+(d?-200:0)+-700+(_?0:-1100),o,e):n.length==2?null:this.result((r[0]?-700:0)+-200+-1100,r,e)}result(e,n,i){let r=[],s=0;for(let o of n){let a=o+(this.astral?ci(xn(i,o)):1);s&&r[s-1]==o?r[s-1]=a:(r[s++]=o,r[s++]=a)}return this.ret(e-i.length,r)}}class iI{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),i=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return i==null?null:(this.matched=[0,n.length],this.score=i+(e.length==this.pattern.length?0:-100),this)}}const _t=ne.define({combine(t){return Fp(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:rI,filterStrict:!1,compareCompletions:(e,n)=>e.label.localeCompare(n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>i=>d1(e(i),n(i)),optionClass:(e,n)=>i=>d1(e(i),n(i)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function d1(t,e){return t?e?t+" "+e:t:e}function rI(t,e,n,i,r,s){let o=t.textDirection==nt.RTL,a=o,l=!1,u="top",c,f,d=e.left-r.left,p=r.right-e.right,m=i.right-i.left,O=i.bottom-i.top;if(a&&d<Math.min(m,p)?a=!1:!a&&p<Math.min(m,d)&&(a=!0),m<=(a?d:p))c=Math.max(r.top,Math.min(n.top,r.bottom-O))-e.top,f=Math.min(400,a?d:p);else{l=!0,f=Math.min(400,(o?e.right:r.right-e.left)-30);let S=r.bottom-e.bottom;S>=O||S>e.top?c=n.bottom-e.top:(u="bottom",c=e.bottom-n.top)}let y=(e.bottom-e.top)/s.offsetHeight,_=(e.right-e.left)/s.offsetWidth;return{style:`${u}: ${c/y}px; max-width: ${f/_}px`,class:"cm-completionInfo-"+(l?o?"left-narrow":"right-narrow":a?"left":"right")}}function sI(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),n.type&&i.classList.add(...n.type.split(/\s+/g).map(r=>"cm-completionIcon-"+r)),i.setAttribute("aria-hidden","true"),i},position:20}),e.push({render(n,i,r,s){let o=document.createElement("span");o.className="cm-completionLabel";let a=n.displayLabel||n.label,l=0;for(let u=0;u<s.length;){let c=s[u++],f=s[u++];c>l&&o.appendChild(document.createTextNode(a.slice(l,c)));let d=o.appendChild(document.createElement("span"));d.appendChild(document.createTextNode(a.slice(c,f))),d.className="cm-completionMatchedText",l=f}return l<a.length&&o.appendChild(document.createTextNode(a.slice(l))),o},position:50},{render(n){if(!n.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=n.detail,i},position:80}),e.sort((n,i)=>n.position-i.position).map(n=>n.render)}function Yh(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let r=Math.floor(e/n);return{from:r*n,to:(r+1)*n}}let i=Math.floor((t-e)/n);return{from:t-(i+1)*n,to:t-i*n}}class oI{constructor(e,n,i){this.view=e,this.stateField=n,this.applyCompletion=i,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let r=e.state.field(n),{options:s,selected:o}=r.open,a=e.state.facet(_t);this.optionContent=sI(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=Yh(s.length,o,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:u}=e.state.field(n).open;for(let c=l.target,f;c&&c!=this.dom;c=c.parentNode)if(c.nodeName=="LI"&&(f=/-(\d+)$/.exec(c.id))&&+f[1]<u.length){this.applyCompletion(e,u[+f[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let u=e.state.field(this.stateField,!1);u&&u.tooltip&&e.state.facet(_t).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:Va.of(null)})}),this.showOptions(s,r.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let i=e.state.field(this.stateField),r=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),i!=r){let{options:s,selected:o,disabled:a}=i.open;(!r.open||r.open.options!=s)&&(this.range=Yh(s.length,o,e.state.facet(_t).maxRenderedOptions),this.showOptions(s,i.id)),this.updateSel(),a!=((n=r.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let i of this.currentClass.split(" "))i&&this.dom.classList.remove(i);for(let i of n.split(" "))i&&this.dom.classList.add(i);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=Yh(n.options.length,n.selected,this.view.state.facet(_t).maxRenderedOptions),this.showOptions(n.options,e.id)),this.updateSelectedOption(n.selected)){this.destroyInfo();let{completion:i}=n.options[n.selected],{info:r}=i;if(!r)return;let s=typeof r=="string"?document.createTextNode(r):r(i);if(!s)return;"then"in s?s.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,i)}).catch(o=>en(this.view.state,o,"completion info")):this.addInfoPane(s,i)}}addInfoPane(e,n){this.destroyInfo();let i=this.info=document.createElement("div");if(i.className="cm-tooltip cm-completionInfo",e.nodeType!=null)i.appendChild(e),this.infoDestroy=null;else{let{dom:r,destroy:s}=e;i.appendChild(r),this.infoDestroy=s||null}this.dom.appendChild(i),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let i=this.list.firstChild,r=this.range.from;i;i=i.nextSibling,r++)i.nodeName!="LI"||!i.id?r--:r==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),n=i):i.hasAttribute("aria-selected")&&i.removeAttribute("aria-selected");return n&&lI(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),r=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.defaultView||window;s={left:0,top:0,right:o.innerWidth,bottom:o.innerHeight}}return r.top>Math.min(s.bottom,n.bottom)-10||r.bottom<Math.max(s.top,n.top)+10?null:this.view.state.facet(_t).positionInfo(this.view,n,r,i,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,i){const r=document.createElement("ul");r.id=n,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions"));let s=null;for(let o=i.from;o<i.to;o++){let{completion:a,match:l}=e[o],{section:u}=a;if(u){let d=typeof u=="string"?u:u.name;if(d!=s&&(o>i.from||i.from==0))if(s=d,typeof u!="string"&&u.header)r.appendChild(u.header(u));else{let p=r.appendChild(document.createElement("completion-section"));p.textContent=d}}const c=r.appendChild(document.createElement("li"));c.id=n+"-"+o,c.setAttribute("role","option");let f=this.optionClass(a);f&&(c.className=f);for(let d of this.optionContent){let p=d(a,this.view.state,this.view,l);p&&c.appendChild(p)}}return i.from&&r.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function aI(t,e){return n=>new oI(n,t,e)}function lI(t,e){let n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),r=n.height/t.offsetHeight;i.top<n.top?t.scrollTop-=(n.top-i.top)/r:i.bottom>n.bottom&&(t.scrollTop+=(i.bottom-n.bottom)/r)}function p1(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function uI(t,e){let n=[],i=null,r=u=>{n.push(u);let{section:c}=u.completion;if(c){i||(i=[]);let f=typeof c=="string"?c:c.name;i.some(d=>d.name==f)||i.push(typeof c=="string"?{name:f}:c)}},s=e.facet(_t);for(let u of t)if(u.hasResult()){let c=u.result.getMatch;if(u.result.filter===!1)for(let f of u.result.options)r(new h1(f,u.source,c?c(f):[],1e9-n.length));else{let f=e.sliceDoc(u.from,u.to),d,p=s.filterStrict?new iI(f):new nI(f);for(let m of u.result.options)if(d=p.match(m.label)){let O=m.displayLabel?c?c(m,d.matched):[]:d.matched;r(new h1(m,u.source,O,d.score+(m.boost||0)))}}}if(i){let u=Object.create(null),c=0,f=(d,p)=>{var m,O;return((m=d.rank)!==null&&m!==void 0?m:1e9)-((O=p.rank)!==null&&O!==void 0?O:1e9)||(d.name<p.name?-1:1)};for(let d of i.sort(f))c-=1e5,u[d.name]=c;for(let d of n){let{section:p}=d.completion;p&&(d.score+=u[typeof p=="string"?p:p.name])}}let o=[],a=null,l=s.compareCompletions;for(let u of n.sort((c,f)=>f.score-c.score||l(c.completion,f.completion))){let c=u.completion;!a||a.label!=c.label||a.detail!=c.detail||a.type!=null&&c.type!=null&&a.type!=c.type||a.apply!=c.apply||a.boost!=c.boost?o.push(u):p1(u.completion)>p1(a)&&(o[o.length-1]=u),a=u.completion}return o}class Os{constructor(e,n,i,r,s,o){this.options=e,this.attrs=n,this.tooltip=i,this.timestamp=r,this.selected=s,this.disabled=o}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new Os(this.options,m1(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,i,r,s){let o=uI(e,n);if(!o.length)return r&&e.some(l=>l.state==1)?new Os(r.options,r.attrs,r.tooltip,r.timestamp,r.selected,!0):null;let a=n.facet(_t).selectOnOpen?0:-1;if(r&&r.selected!=a&&r.selected!=-1){let l=r.options[r.selected].completion;for(let u=0;u<o.length;u++)if(o[u].completion==l){a=u;break}}return new Os(o,m1(i,a),{pos:e.reduce((l,u)=>u.hasResult()?Math.min(l,u.from):l,1e8),create:pI,above:s.aboveCursor},r?r.timestamp:Date.now(),a,!1)}map(e){return new Os(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class Oc{constructor(e,n,i){this.active=e,this.id=n,this.open=i}static start(){return new Oc(fI,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,i=n.facet(_t),s=(i.override||n.languageDataAt("autocomplete",Hi(n)).map(tI)).map(a=>(this.active.find(u=>u.source==a)||new Vt(a,this.active.some(u=>u.state!=0)?1:0)).update(e,i));s.length==this.active.length&&s.every((a,l)=>a==this.active[l])&&(s=this.active);let o=this.open;o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(a=>a.hasResult()&&e.changes.touchesRange(a.from,a.to))||!cI(s,this.active)?o=Os.build(s,n,this.id,o,i):o&&o.disabled&&!s.some(a=>a.state==1)&&(o=null),!o&&s.every(a=>a.state!=1)&&s.some(a=>a.hasResult())&&(s=s.map(a=>a.hasResult()?new Vt(a.source,0):a));for(let a of e.effects)a.is(Lx)&&(o=o&&o.setSelected(a.value,this.id));return s==this.active&&o==this.open?this:new Oc(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:hI}}function cI(t,e){if(t==e)return!0;for(let n=0,i=0;;){for(;n<t.length&&!t[n].hasResult;)n++;for(;i<e.length&&!e[i].hasResult;)i++;let r=n==t.length,s=i==e.length;if(r||s)return r==s;if(t[n++].result!=e[i++].result)return!1}}const hI={"aria-autocomplete":"list"};function m1(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const fI=[];function $d(t,e){if(t.isUserEvent("input.complete")){let n=t.annotation(cm);if(n&&e.activateOnCompletion(n))return"input"}return t.isUserEvent("input.type")?"input":t.isUserEvent("delete.backward")?"delete":null}class Vt{constructor(e,n,i=-1){this.source=e,this.state=n,this.explicitPos=i}hasResult(){return!1}update(e,n){let i=$d(e,n),r=this;i?r=r.handleUserEvent(e,i,n):e.docChanged?r=r.handleChange(e):e.selection&&r.state!=0&&(r=new Vt(r.source,0));for(let s of e.effects)if(s.is(gc))r=new Vt(r.source,1,s.value?Hi(e.state):-1);else if(s.is(Va))r=new Vt(r.source,0);else if(s.is(Mx))for(let o of s.value)o.source==r.source&&(r=o);return r}handleUserEvent(e,n,i){return n=="delete"||!i.activateOnTyping?this.map(e.changes):new Vt(this.source,1)}handleChange(e){return e.changes.touchesRange(Hi(e.startState))?new Vt(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new Vt(this.source,this.state,e.mapPos(this.explicitPos))}}class Ts extends Vt{constructor(e,n,i,r,s){super(e,2,n),this.result=i,this.from=r,this.to=s}hasResult(){return!0}handleUserEvent(e,n,i){var r;let s=this.result;s.map&&!e.changes.empty&&(s=s.map(s,e.changes));let o=e.changes.mapPos(this.from),a=e.changes.mapPos(this.to,1),l=Hi(e.state);if((this.explicitPos<0?l<=o:l<this.from)||l>a||!s||n=="delete"&&Hi(e.startState)==this.from)return new Vt(this.source,n=="input"&&i.activateOnTyping?1:0);let u=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return dI(s.validFor,e.state,o,a)?new Ts(this.source,u,s,o,a):s.update&&(s=s.update(s,o,a,new um(e.state,l,u>=0)))?new Ts(this.source,u,s,s.from,(r=s.to)!==null&&r!==void 0?r:Hi(e.state)):new Vt(this.source,1,u)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new Vt(this.source,0):this.map(e.changes)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new Ts(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Vt(this.source,0)}}function dI(t,e,n,i){if(!t)return!1;let r=e.sliceDoc(n,i);return typeof t=="function"?t(r,n,i,e):Vx(t,!0).test(r)}const Mx=Pe.define({map(t,e){return t.map(n=>n.map(e))}}),Lx=Pe.define(),Zt=On.define({create(){return Oc.start()},update(t,e){return t.update(e)},provide:t=>[ww.from(t,e=>e.tooltip),J.contentAttributes.from(t,e=>e.attrs)]});function hm(t,e){const n=e.completion.apply||e.completion.label;let i=t.state.field(Zt).active.find(r=>r.source==e.source);return i instanceof Ts?(typeof n=="string"?t.dispatch(Object.assign(Object.assign({},eI(t.state,n,i.from,i.to)),{annotations:cm.of(e.completion)})):n(t,e.completion,i.from,i.to),!0):!1}const pI=aI(Zt,hm);function tu(t,e="option"){return n=>{let i=n.state.field(Zt,!1);if(!i||!i.open||i.open.disabled||Date.now()-i.open.timestamp<n.state.facet(_t).interactionDelay)return!1;let r=1,s;e=="page"&&(s=xw(n,i.open.tooltip))&&(r=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=i.open.options,a=i.open.selected>-1?i.open.selected+r*(t?1:-1):t?0:o-1;return a<0?a=e=="page"?0:o-1:a>=o&&(a=e=="page"?o-1:0),n.dispatch({effects:Lx.of(a)}),!0}}const mI=t=>{let e=t.state.field(Zt,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(_t).interactionDelay?!1:hm(t,e.open.options[e.open.selected])},gI=t=>t.state.field(Zt,!1)?(t.dispatch({effects:gc.of(!0)}),!0):!1,OI=t=>{let e=t.state.field(Zt,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:Va.of(null)}),!0)};class bI{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const yI=50,vI=1e3,_I=pn.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(Zt).active)e.state==1&&this.startQuery(e)}update(t){let e=t.state.field(Zt),n=t.state.facet(_t);if(!t.selectionSet&&!t.docChanged&&t.startState.field(Zt)==e)return;let i=t.transactions.some(s=>(s.selection||s.docChanged)&&!$d(s,n));for(let s=0;s<this.running.length;s++){let o=this.running[s];if(i||o.updates.length+t.transactions.length>yI&&Date.now()-o.time>vI){for(let a of o.context.abortListeners)try{a()}catch(l){en(this.view.state,l)}o.context.abortListeners=null,this.running.splice(s--,1)}else o.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(s=>s.effects.some(o=>o.is(gc)))&&(this.pendingStart=!0);let r=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.state==1&&!this.running.some(o=>o.active.source==s.source))?setTimeout(()=>this.startUpdate(),r):-1,this.composing!=0)for(let s of t.transactions)$d(s,n)=="input"?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(Zt);for(let n of e.active)n.state==1&&!this.running.some(i=>i.active.source==n.source)&&this.startQuery(n)}startQuery(t){let{state:e}=this.view,n=Hi(e),i=new um(e,n,t.explicitPos==n),r=new bI(t,i);this.running.push(r),Promise.resolve(t.source(i)).then(s=>{r.context.aborted||(r.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:Va.of(null)}),en(this.view.state,s)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(_t).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(_t);for(let i=0;i<this.running.length;i++){let r=this.running[i];if(r.done===void 0)continue;if(this.running.splice(i--,1),r.done){let o=new Ts(r.active.source,r.active.explicitPos,r.done,r.done.from,(t=r.done.to)!==null&&t!==void 0?t:Hi(r.updates.length?r.updates[0].startState:this.view.state));for(let a of r.updates)o=o.update(a,n);if(o.hasResult()){e.push(o);continue}}let s=this.view.state.field(Zt).active.find(o=>o.source==r.active.source);if(s&&s.state==1)if(r.done==null){let o=new Vt(r.active.source,0);for(let a of r.updates)o=o.update(a,n);o.state!=1&&e.push(o)}else this.startQuery(s)}e.length&&this.view.dispatch({effects:Mx.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(Zt,!1);if(e&&e.tooltip&&this.view.state.facet(_t).closeOnBlur){let n=e.open&&xw(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Va.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:gc.of(!1)}),20),this.composing=0}}}),wI=typeof navigator=="object"&&/Win/.test(navigator.platform),xI=lr.highest(J.domEventHandlers({keydown(t,e){let n=e.state.field(Zt,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&!(wI&&t.altKey)||t.metaKey)return!1;let i=n.open.options[n.open.selected],r=n.active.find(o=>o.source==i.source),s=i.completion.commitCharacters||r.result.commitCharacters;return s&&s.indexOf(t.key)>-1&&hm(e,i),!1}})),Fx=J.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class kI{constructor(e,n,i,r){this.field=e,this.line=n,this.from=i,this.to=r}}class fm{constructor(e,n,i){this.field=e,this.from=n,this.to=i}map(e){let n=e.mapPos(this.from,-1,Mt.TrackDel),i=e.mapPos(this.to,1,Mt.TrackDel);return n==null||i==null?null:new fm(this.field,n,i)}}class dm{constructor(e,n){this.lines=e,this.fieldPositions=n}instantiate(e,n){let i=[],r=[n],s=e.doc.lineAt(n),o=/^\s*/.exec(s.text)[0];for(let l of this.lines){if(i.length){let u=o,c=/^\t*/.exec(l)[0].length;for(let f=0;f<c;f++)u+=e.facet(oo);r.push(n+u.length-c),l=u+l.slice(c)}i.push(l),n+=l.length+1}let a=this.fieldPositions.map(l=>new fm(l.field,r[l.line]+l.from,r[l.line]+l.to));return{text:i,ranges:a}}static parse(e){let n=[],i=[],r=[],s;for(let o of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(o);){let a=s[1]?+s[1]:null,l=s[2]||s[3]||"",u=-1,c=l.replace(/\\[{}]/g,f=>f[1]);for(let f=0;f<n.length;f++)(a!=null?n[f].seq==a:c&&n[f].name==c)&&(u=f);if(u<0){let f=0;for(;f<n.length&&(a==null||n[f].seq!=null&&n[f].seq<a);)f++;n.splice(f,0,{seq:a,name:c}),u=f;for(let d of r)d.field>=u&&d.field++}r.push(new kI(u,i.length,s.index,s.index+c.length)),o=o.slice(0,s.index)+l+o.slice(s.index+s[0].length)}o=o.replace(/\\([{}])/g,(a,l,u)=>{for(let c of r)c.line==i.length&&c.from>u&&(c.from--,c.to--);return l}),i.push(o)}return new dm(i,r)}}let SI=De.widget({widget:new class extends tl{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),TI=De.mark({class:"cm-snippetField"});class co{constructor(e,n){this.ranges=e,this.active=n,this.deco=De.set(e.map(i=>(i.from==i.to?SI:TI).range(i.from,i.to)))}map(e){let n=[];for(let i of this.ranges){let r=i.map(e);if(!r)return null;n.push(r)}return new co(n,this.active)}selectionInsideField(e){return e.ranges.every(n=>this.ranges.some(i=>i.field==this.active&&i.from<=n.from&&i.to>=n.to))}}const ul=Pe.define({map(t,e){return t&&t.map(e)}}),PI=Pe.define(),Ma=On.define({create(){return null},update(t,e){for(let n of e.effects){if(n.is(ul))return n.value;if(n.is(PI)&&t)return new co(t.ranges,n.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>J.decorations.from(t,e=>e?e.deco:De.none)});function pm(t,e){return Z.create(t.filter(n=>n.field==e).map(n=>Z.range(n.from,n.to)))}function AI(t){let e=dm.parse(t);return(n,i,r,s)=>{let{text:o,ranges:a}=e.instantiate(n.state,r),l={changes:{from:r,to:s,insert:Te.of(o)},scrollIntoView:!0,annotations:i?[cm.of(i),tt.userEvent.of("input.complete")]:void 0};if(a.length&&(l.selection=pm(a,0)),a.some(u=>u.field>0)){let u=new co(a,0),c=l.effects=[ul.of(u)];n.state.field(Ma,!1)===void 0&&c.push(Pe.appendConfig.of([Ma,II,QI,Fx]))}n.dispatch(n.state.update(l))}}function Nx(t){return({state:e,dispatch:n})=>{let i=e.field(Ma,!1);if(!i||t<0&&i.active==0)return!1;let r=i.active+t,s=t>0&&!i.ranges.some(o=>o.field==r+t);return n(e.update({selection:pm(i.ranges,r),effects:ul.of(s?null:new co(i.ranges,r)),scrollIntoView:!0})),!0}}const EI=({state:t,dispatch:e})=>t.field(Ma,!1)?(e(t.update({effects:ul.of(null)})),!0):!1,CI=Nx(1),$I=Nx(-1),RI=[{key:"Tab",run:CI,shift:$I},{key:"Escape",run:EI}],g1=ne.define({combine(t){return t.length?t[0]:RI}}),II=lr.highest(rl.compute([g1],t=>t.facet(g1)));function Ft(t,e){return Object.assign(Object.assign({},e),{apply:AI(t)})}const QI=J.domEventHandlers({mousedown(t,e){let n=e.state.field(Ma,!1),i;if(!n||(i=e.posAtCoords({x:t.clientX,y:t.clientY}))==null)return!1;let r=n.ranges.find(s=>s.from<=i&&s.to>=i);return!r||r.field==n.active?!1:(e.dispatch({selection:pm(n.ranges,r.field),effects:ul.of(n.ranges.some(s=>s.field>r.field)?new co(n.ranges,r.field):null),scrollIntoView:!0}),!0)}}),Zx=new class extends Dr{};Zx.startSide=1;Zx.endSide=-1;function DI(t={}){return[xI,Zt,_t.of(t),_I,MI,Fx]}const VI=[{key:"Ctrl-Space",run:gI},{key:"Escape",run:OI},{key:"ArrowDown",run:tu(!0)},{key:"ArrowUp",run:tu(!1)},{key:"PageDown",run:tu(!0,"page")},{key:"PageUp",run:tu(!1,"page")},{key:"Enter",run:mI}],MI=lr.highest(rl.computeN([_t],t=>t.facet(_t).defaultKeymap?[VI]:[]));function z(t){return new Ws(Kp.define(t))}function Ci(t){return F(()=>import("./index.BK2nFRos.js"),__vite__mapDeps([0,1,2,3,4,5])).then(e=>e.sql({dialect:e[t]}))}const LI=[M.of({name:"C",extensions:["c","h","ino"],load(){return F(()=>import("./index.Dz1sxKsw.js"),__vite__mapDeps([6,1,2,3,4,5])).then(t=>t.cpp())}}),M.of({name:"C++",alias:["cpp"],extensions:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],load(){return F(()=>import("./index.Dz1sxKsw.js"),__vite__mapDeps([6,1,2,3,4,5])).then(t=>t.cpp())}}),M.of({name:"CQL",alias:["cassandra"],extensions:["cql"],load(){return Ci("Cassandra")}}),M.of({name:"CSS",extensions:["css"],load(){return F(()=>Promise.resolve().then(()=>CD),void 0).then(t=>t.css())}}),M.of({name:"Go",extensions:["go"],load(){return F(()=>import("./index.DrIdGMdy.js"),__vite__mapDeps([7,1,2,3,4,5])).then(t=>t.go())}}),M.of({name:"HTML",alias:["xhtml"],extensions:["html","htm","handlebars","hbs"],load(){return F(()=>Promise.resolve().then(()=>y9),void 0).then(t=>t.html())}}),M.of({name:"Java",extensions:["java"],load(){return F(()=>import("./index.DG7htkcn.js"),__vite__mapDeps([8,1,2,3,4,5])).then(t=>t.java())}}),M.of({name:"JavaScript",alias:["ecmascript","js","node"],extensions:["js","mjs","cjs"],load(){return F(()=>Promise.resolve().then(()=>ru),void 0).then(t=>t.javascript())}}),M.of({name:"JSON",alias:["json5"],extensions:["json","map"],load(){return F(()=>import("./index.DxDVd3mV.js"),__vite__mapDeps([9,1,2,3,4,5])).then(t=>t.json())}}),M.of({name:"JSX",extensions:["jsx"],load(){return F(()=>Promise.resolve().then(()=>ru),void 0).then(t=>t.javascript({jsx:!0}))}}),M.of({name:"LESS",extensions:["less"],load(){return F(()=>import("./index.ghEjRj0t.js"),__vite__mapDeps([10,1,2,3,4,5])).then(t=>t.less())}}),M.of({name:"Liquid",extensions:["liquid"],load(){return F(()=>import("./index.BEVJmBco.js"),__vite__mapDeps([11,1,2,3,4,5])).then(t=>t.liquid())}}),M.of({name:"MariaDB SQL",load(){return Ci("MariaSQL")}}),M.of({name:"Markdown",extensions:["md","markdown","mkd"],load(){return F(()=>Promise.resolve().then(()=>E9),void 0).then(t=>t.markdown())}}),M.of({name:"MS SQL",load(){return Ci("MSSQL")}}),M.of({name:"MySQL",load(){return Ci("MySQL")}}),M.of({name:"PHP",extensions:["php","php3","php4","php5","php7","phtml"],load(){return F(()=>import("./index.BTfZk2dL.js"),__vite__mapDeps([12,1,2,3,4,5])).then(t=>t.php())}}),M.of({name:"PLSQL",extensions:["pls"],load(){return Ci("PLSQL")}}),M.of({name:"PostgreSQL",load(){return Ci("PostgreSQL")}}),M.of({name:"Python",extensions:["BUILD","bzl","py","pyw"],filename:/^(BUCK|BUILD)$/,load(){return F(()=>import("./index.DCwJDhEQ.js"),__vite__mapDeps([13,1,2,3,4,5])).then(t=>t.python())}}),M.of({name:"Rust",extensions:["rs"],load(){return F(()=>import("./index.mdoNfYiG.js"),__vite__mapDeps([14,1,2,3,4,5])).then(t=>t.rust())}}),M.of({name:"Sass",extensions:["sass"],load(){return F(()=>import("./index.D4Y3UuMf.js"),__vite__mapDeps([15,1,2,3,4,5])).then(t=>t.sass({indented:!0}))}}),M.of({name:"SCSS",extensions:["scss"],load(){return F(()=>import("./index.D4Y3UuMf.js"),__vite__mapDeps([15,1,2,3,4,5])).then(t=>t.sass())}}),M.of({name:"SQL",extensions:["sql"],load(){return Ci("StandardSQL")}}),M.of({name:"SQLite",load(){return Ci("SQLite")}}),M.of({name:"TSX",extensions:["tsx"],load(){return F(()=>Promise.resolve().then(()=>ru),void 0).then(t=>t.javascript({jsx:!0,typescript:!0}))}}),M.of({name:"TypeScript",alias:["ts"],extensions:["ts","mts","cts"],load(){return F(()=>Promise.resolve().then(()=>ru),void 0).then(t=>t.javascript({typescript:!0}))}}),M.of({name:"WebAssembly",extensions:["wat","wast"],load(){return F(()=>import("./index.BjIPCS0r.js"),__vite__mapDeps([16,1,2,3,4,5])).then(t=>t.wast())}}),M.of({name:"XML",alias:["rss","wsdl","xsd"],extensions:["xml","xsl","xsd","svg"],load(){return F(()=>import("./index.Cr72KhhE.js"),__vite__mapDeps([17,1,2,3,4,5])).then(t=>t.xml())}}),M.of({name:"YAML",alias:["yml"],extensions:["yaml","yml"],load(){return F(()=>import("./index.Wyi-a-7E.js"),__vite__mapDeps([18,1,2,3,4,5])).then(t=>t.yaml())}}),M.of({name:"APL",extensions:["dyalog","apl"],load(){return F(()=>import("./apl.B4CMkyY2.js"),[]).then(t=>z(t.apl))}}),M.of({name:"PGP",alias:["asciiarmor"],extensions:["asc","pgp","sig"],load(){return F(()=>import("./asciiarmor.Df11BRmG.js"),[]).then(t=>z(t.asciiArmor))}}),M.of({name:"ASN.1",extensions:["asn","asn1"],load(){return F(()=>import("./asn1.CGOzndHr.js"),[]).then(t=>z(t.asn1({})))}}),M.of({name:"Asterisk",filename:/^extensions\.conf$/i,load(){return F(()=>import("./asterisk.B-8jnY81.js"),[]).then(t=>z(t.asterisk))}}),M.of({name:"Brainfuck",extensions:["b","bf"],load(){return F(()=>import("./brainfuck.C4LP7Hcl.js"),[]).then(t=>z(t.brainfuck))}}),M.of({name:"Cobol",extensions:["cob","cpy"],load(){return F(()=>import("./cobol.XrqhtCFE.js"),[]).then(t=>z(t.cobol))}}),M.of({name:"C#",alias:["csharp","cs"],extensions:["cs"],load(){return F(()=>import("./clike.DWq2Y8ae.js"),[]).then(t=>z(t.csharp))}}),M.of({name:"Clojure",extensions:["clj","cljc","cljx"],load(){return F(()=>import("./clojure.BMjYHr_A.js"),[]).then(t=>z(t.clojure))}}),M.of({name:"ClojureScript",extensions:["cljs"],load(){return F(()=>import("./clojure.BMjYHr_A.js"),[]).then(t=>z(t.clojure))}}),M.of({name:"Closure Stylesheets (GSS)",extensions:["gss"],load(){return F(()=>import("./css.BnMrqG3P.js"),[]).then(t=>z(t.gss))}}),M.of({name:"CMake",extensions:["cmake","cmake.in"],filename:/^CMakeLists\.txt$/,load(){return F(()=>import("./cmake.BQqOBYOt.js"),[]).then(t=>z(t.cmake))}}),M.of({name:"CoffeeScript",alias:["coffee","coffee-script"],extensions:["coffee"],load(){return F(()=>import("./coffeescript.S37ZYGWr.js"),[]).then(t=>z(t.coffeeScript))}}),M.of({name:"Common Lisp",alias:["lisp"],extensions:["cl","lisp","el"],load(){return F(()=>import("./commonlisp.5jcOZwOE.js"),[]).then(t=>z(t.commonLisp))}}),M.of({name:"Cypher",extensions:["cyp","cypher"],load(){return F(()=>import("./cypher.C_CwsFkJ.js"),[]).then(t=>z(t.cypher))}}),M.of({name:"Cython",extensions:["pyx","pxd","pxi"],load(){return F(()=>import("./python.BuPzkPfP.js"),[]).then(t=>z(t.cython))}}),M.of({name:"Crystal",extensions:["cr"],load(){return F(()=>import("./crystal.SjHAIU92.js"),[]).then(t=>z(t.crystal))}}),M.of({name:"D",extensions:["d"],load(){return F(()=>import("./d.pRatUO7H.js"),[]).then(t=>z(t.d))}}),M.of({name:"Dart",extensions:["dart"],load(){return F(()=>import("./clike.DWq2Y8ae.js"),[]).then(t=>z(t.dart))}}),M.of({name:"diff",extensions:["diff","patch"],load(){return F(()=>import("./diff.DbItnlRl.js"),[]).then(t=>z(t.diff))}}),M.of({name:"Dockerfile",filename:/^Dockerfile$/,load(){return F(()=>import("./dockerfile.D-wj2TOc.js"),__vite__mapDeps([19,20])).then(t=>z(t.dockerFile))}}),M.of({name:"DTD",extensions:["dtd"],load(){return F(()=>import("./dtd.DF_7sFjM.js"),[]).then(t=>z(t.dtd))}}),M.of({name:"Dylan",extensions:["dylan","dyl","intr"],load(){return F(()=>import("./dylan.DwRh75JA.js"),[]).then(t=>z(t.dylan))}}),M.of({name:"EBNF",load(){return F(()=>import("./ebnf.CDyGwa7X.js"),[]).then(t=>z(t.ebnf))}}),M.of({name:"ECL",extensions:["ecl"],load(){return F(()=>import("./ecl.Cabwm37j.js"),[]).then(t=>z(t.ecl))}}),M.of({name:"edn",extensions:["edn"],load(){return F(()=>import("./clojure.BMjYHr_A.js"),[]).then(t=>z(t.clojure))}}),M.of({name:"Eiffel",extensions:["e"],load(){return F(()=>import("./eiffel.CnydiIhH.js"),[]).then(t=>z(t.eiffel))}}),M.of({name:"Elm",extensions:["elm"],load(){return F(()=>import("./elm.vLlmbW-K.js"),[]).then(t=>z(t.elm))}}),M.of({name:"Erlang",extensions:["erl"],load(){return F(()=>import("./erlang.BNw1qcRV.js"),[]).then(t=>z(t.erlang))}}),M.of({name:"Esper",load(){return F(()=>import("./sql.C4g8LzGK.js"),[]).then(t=>z(t.esper))}}),M.of({name:"Factor",extensions:["factor"],load(){return F(()=>import("./factor.BtPp0rGH.js"),__vite__mapDeps([21,20])).then(t=>z(t.factor))}}),M.of({name:"FCL",load(){return F(()=>import("./fcl.Kvtd6kyn.js"),[]).then(t=>z(t.fcl))}}),M.of({name:"Forth",extensions:["forth","fth","4th"],load(){return F(()=>import("./forth.Ffai-XNe.js"),[]).then(t=>z(t.forth))}}),M.of({name:"Fortran",extensions:["f","for","f77","f90","f95"],load(){return F(()=>import("./fortran.DYz_wnZ1.js"),[]).then(t=>z(t.fortran))}}),M.of({name:"F#",alias:["fsharp"],extensions:["fs"],load(){return F(()=>import("./mllike.C_8OmSiT.js"),[]).then(t=>z(t.fSharp))}}),M.of({name:"Gas",extensions:["s"],load(){return F(()=>import("./gas.Bneqetm1.js"),[]).then(t=>z(t.gas))}}),M.of({name:"Gherkin",extensions:["feature"],load(){return F(()=>import("./gherkin.heZmZLOM.js"),[]).then(t=>z(t.gherkin))}}),M.of({name:"Groovy",extensions:["groovy","gradle"],filename:/^Jenkinsfile$/,load(){return F(()=>import("./groovy.DKLxxR9y.js"),[]).then(t=>z(t.groovy))}}),M.of({name:"Haskell",extensions:["hs"],load(){return F(()=>import("./haskell.BWDZoCOh.js"),[]).then(t=>z(t.haskell))}}),M.of({name:"Haxe",extensions:["hx"],load(){return F(()=>import("./haxe.pv4rovob.js"),[]).then(t=>z(t.haxe))}}),M.of({name:"HXML",extensions:["hxml"],load(){return F(()=>import("./haxe.pv4rovob.js"),[]).then(t=>z(t.hxml))}}),M.of({name:"HTTP",load(){return F(()=>import("./http.DBlCnlav.js"),[]).then(t=>z(t.http))}}),M.of({name:"IDL",extensions:["pro"],load(){return F(()=>import("./idl.BEugSyMb.js"),[]).then(t=>z(t.idl))}}),M.of({name:"JSON-LD",alias:["jsonld"],extensions:["jsonld"],load(){return F(()=>import("./javascript.iSgyE4tI.js"),[]).then(t=>z(t.jsonld))}}),M.of({name:"Jinja2",extensions:["j2","jinja","jinja2"],load(){return F(()=>import("./jinja2.C4DGRd-O.js"),[]).then(t=>z(t.jinja2))}}),M.of({name:"Julia",extensions:["jl"],load(){return F(()=>import("./julia.DuME0IfC.js"),[]).then(t=>z(t.julia))}}),M.of({name:"Kotlin",extensions:["kt","kts"],load(){return F(()=>import("./clike.DWq2Y8ae.js"),[]).then(t=>z(t.kotlin))}}),M.of({name:"LiveScript",alias:["ls"],extensions:["ls"],load(){return F(()=>import("./livescript.k3uCVVjK.js"),[]).then(t=>z(t.liveScript))}}),M.of({name:"Lua",extensions:["lua"],load(){return F(()=>import("./lua.BgMRiT3U.js"),[]).then(t=>z(t.lua))}}),M.of({name:"mIRC",extensions:["mrc"],load(){return F(()=>import("./mirc.CjQqDB4T.js"),[]).then(t=>z(t.mirc))}}),M.of({name:"Mathematica",extensions:["m","nb","wl","wls"],load(){return F(()=>import("./mathematica.DTrFuWx2.js"),[]).then(t=>z(t.mathematica))}}),M.of({name:"Modelica",extensions:["mo"],load(){return F(()=>import("./modelica.Dc1JOy9r.js"),[]).then(t=>z(t.modelica))}}),M.of({name:"MUMPS",extensions:["mps"],load(){return F(()=>import("./mumps.BT43cFF4.js"),[]).then(t=>z(t.mumps))}}),M.of({name:"Mbox",extensions:["mbox"],load(){return F(()=>import("./mbox.CNhZ1qSd.js"),[]).then(t=>z(t.mbox))}}),M.of({name:"Nginx",filename:/nginx.*\.conf$/i,load(){return F(()=>import("./nginx.DdIZxoE0.js"),[]).then(t=>z(t.nginx))}}),M.of({name:"NSIS",extensions:["nsh","nsi"],load(){return F(()=>import("./nsis.B7wj6DhM.js"),__vite__mapDeps([22,20])).then(t=>z(t.nsis))}}),M.of({name:"NTriples",extensions:["nt","nq"],load(){return F(()=>import("./ntriples.BfvgReVJ.js"),[]).then(t=>z(t.ntriples))}}),M.of({name:"Objective-C",alias:["objective-c","objc"],extensions:["m"],load(){return F(()=>import("./clike.DWq2Y8ae.js"),[]).then(t=>z(t.objectiveC))}}),M.of({name:"Objective-C++",alias:["objective-c++","objc++"],extensions:["mm"],load(){return F(()=>import("./clike.DWq2Y8ae.js"),[]).then(t=>z(t.objectiveCpp))}}),M.of({name:"OCaml",extensions:["ml","mli","mll","mly"],load(){return F(()=>import("./mllike.C_8OmSiT.js"),[]).then(t=>z(t.oCaml))}}),M.of({name:"Octave",extensions:["m"],load(){return F(()=>import("./octave.Ck1zUtKM.js"),[]).then(t=>z(t.octave))}}),M.of({name:"Oz",extensions:["oz"],load(){return F(()=>import("./oz.BzwKVEFT.js"),[]).then(t=>z(t.oz))}}),M.of({name:"Pascal",extensions:["p","pas"],load(){return F(()=>import("./pascal.B1wCu0_E.js"),[]).then(t=>z(t.pascal))}}),M.of({name:"Perl",extensions:["pl","pm"],load(){return F(()=>import("./perl.CdXCOZ3F.js"),[]).then(t=>z(t.perl))}}),M.of({name:"Pig",extensions:["pig"],load(){return F(()=>import("./pig.CevX1Tat.js"),[]).then(t=>z(t.pig))}}),M.of({name:"PowerShell",extensions:["ps1","psd1","psm1"],load(){return F(()=>import("./powershell.CFHJl5sT.js"),[]).then(t=>z(t.powerShell))}}),M.of({name:"Properties files",alias:["ini","properties"],extensions:["properties","ini","in"],load(){return F(()=>import("./properties.C78fOPTZ.js"),[]).then(t=>z(t.properties))}}),M.of({name:"ProtoBuf",extensions:["proto"],load(){return F(()=>import("./protobuf.ChK-085T.js"),[]).then(t=>z(t.protobuf))}}),M.of({name:"Pug",alias:["jade"],extensions:["pug","jade"],load(){return F(()=>import("./pug.UJNYnxW9.js"),__vite__mapDeps([23,24])).then(t=>z(t.pug))}}),M.of({name:"Puppet",extensions:["pp"],load(){return F(()=>import("./puppet.DMA9R1ak.js"),[]).then(t=>z(t.puppet))}}),M.of({name:"Q",extensions:["q"],load(){return F(()=>import("./q.ZnEupP5q.js"),[]).then(t=>z(t.q))}}),M.of({name:"R",alias:["rscript"],extensions:["r","R"],load(){return F(()=>import("./r.DUYO_cvP.js"),[]).then(t=>z(t.r))}}),M.of({name:"RPM Changes",load(){return F(()=>import("./rpm.CTu-6PCP.js"),[]).then(t=>z(t.rpmChanges))}}),M.of({name:"RPM Spec",extensions:["spec"],load(){return F(()=>import("./rpm.CTu-6PCP.js"),[]).then(t=>z(t.rpmSpec))}}),M.of({name:"Ruby",alias:["jruby","macruby","rake","rb","rbx"],extensions:["rb"],filename:/^(Gemfile|Rakefile)$/,load(){return F(()=>import("./ruby.B2Rjki9n.js"),[]).then(t=>z(t.ruby))}}),M.of({name:"SAS",extensions:["sas"],load(){return F(()=>import("./sas.B4kiWyti.js"),[]).then(t=>z(t.sas))}}),M.of({name:"Scala",extensions:["scala"],load(){return F(()=>import("./clike.DWq2Y8ae.js"),[]).then(t=>z(t.scala))}}),M.of({name:"Scheme",extensions:["scm","ss"],load(){return F(()=>import("./scheme.C41bIUwD.js"),[]).then(t=>z(t.scheme))}}),M.of({name:"Shell",alias:["bash","sh","zsh"],extensions:["sh","ksh","bash"],filename:/^PKGBUILD$/,load(){return F(()=>import("./shell.CjFT_Tl9.js"),[]).then(t=>z(t.shell))}}),M.of({name:"Sieve",extensions:["siv","sieve"],load(){return F(()=>import("./sieve.C3Gn_uJK.js"),[]).then(t=>z(t.sieve))}}),M.of({name:"Smalltalk",extensions:["st"],load(){return F(()=>import("./smalltalk.CnHTOXQT.js"),[]).then(t=>z(t.smalltalk))}}),M.of({name:"Solr",load(){return F(()=>import("./solr.DehyRSwq.js"),[]).then(t=>z(t.solr))}}),M.of({name:"SML",extensions:["sml","sig","fun","smackspec"],load(){return F(()=>import("./mllike.C_8OmSiT.js"),[]).then(t=>z(t.sml))}}),M.of({name:"SPARQL",alias:["sparul"],extensions:["rq","sparql"],load(){return F(()=>import("./sparql.DkYu6x3z.js"),[]).then(t=>z(t.sparql))}}),M.of({name:"Spreadsheet",alias:["excel","formula"],load(){return F(()=>import("./spreadsheet.BCZA_wO0.js"),[]).then(t=>z(t.spreadsheet))}}),M.of({name:"Squirrel",extensions:["nut"],load(){return F(()=>import("./clike.DWq2Y8ae.js"),[]).then(t=>z(t.squirrel))}}),M.of({name:"Stylus",extensions:["styl"],load(){return F(()=>import("./stylus.q6zbLY83.js"),[]).then(t=>z(t.stylus))}}),M.of({name:"Swift",extensions:["swift"],load(){return F(()=>import("./swift.BzpIVaGY.js"),[]).then(t=>z(t.swift))}}),M.of({name:"sTeX",load(){return F(()=>import("./stex.C3f8Ysf7.js"),[]).then(t=>z(t.stex))}}),M.of({name:"LaTeX",alias:["tex"],extensions:["text","ltx","tex"],load(){return F(()=>import("./stex.C3f8Ysf7.js"),[]).then(t=>z(t.stex))}}),M.of({name:"SystemVerilog",extensions:["v","sv","svh"],load(){return F(()=>import("./verilog.C6RDOZhf.js"),[]).then(t=>z(t.verilog))}}),M.of({name:"Tcl",extensions:["tcl"],load(){return F(()=>import("./tcl.DVfN8rqt.js"),[]).then(t=>z(t.tcl))}}),M.of({name:"Textile",extensions:["textile"],load(){return F(()=>import("./textile.CnDTJFAw.js"),[]).then(t=>z(t.textile))}}),M.of({name:"TiddlyWiki",load(){return F(()=>import("./tiddlywiki.DO-Gjzrf.js"),[]).then(t=>z(t.tiddlyWiki))}}),M.of({name:"Tiki wiki",load(){return F(()=>import("./tiki.DGYXhP31.js"),[]).then(t=>z(t.tiki))}}),M.of({name:"TOML",extensions:["toml"],load(){return F(()=>import("./toml.BXUEaScT.js"),[]).then(t=>z(t.toml))}}),M.of({name:"Troff",extensions:["1","2","3","4","5","6","7","8","9"],load(){return F(()=>import("./troff.wAsdV37c.js"),[]).then(t=>z(t.troff))}}),M.of({name:"TTCN",extensions:["ttcn","ttcn3","ttcnpp"],load(){return F(()=>import("./ttcn.CiGrtVSZ.js"),[]).then(t=>z(t.ttcn))}}),M.of({name:"TTCN_CFG",extensions:["cfg"],load(){return F(()=>import("./ttcn-cfg.BIkV9KBc.js"),[]).then(t=>z(t.ttcnCfg))}}),M.of({name:"Turtle",extensions:["ttl"],load(){return F(()=>import("./turtle.B1tBg_DP.js"),[]).then(t=>z(t.turtle))}}),M.of({name:"Web IDL",extensions:["webidl"],load(){return F(()=>import("./webidl.ZXfAyPTL.js"),[]).then(t=>z(t.webIDL))}}),M.of({name:"VB.NET",extensions:["vb"],load(){return F(()=>import("./vb.CmGdzxic.js"),[]).then(t=>z(t.vb))}}),M.of({name:"VBScript",extensions:["vbs"],load(){return F(()=>import("./vbscript.BuJXcnF6.js"),[]).then(t=>z(t.vbScript))}}),M.of({name:"Velocity",extensions:["vtl"],load(){return F(()=>import("./velocity.D8B20fx6.js"),[]).then(t=>z(t.velocity))}}),M.of({name:"Verilog",extensions:["v"],load(){return F(()=>import("./verilog.C6RDOZhf.js"),[]).then(t=>z(t.verilog))}}),M.of({name:"VHDL",extensions:["vhd","vhdl"],load(){return F(()=>import("./vhdl.lSbBsy5d.js"),[]).then(t=>z(t.vhdl))}}),M.of({name:"XQuery",extensions:["xy","xquery"],load(){return F(()=>import("./xquery.WRlm2TX8.js"),[]).then(t=>z(t.xQuery))}}),M.of({name:"Yacas",extensions:["ys"],load(){return F(()=>import("./yacas.BJ4BC0dw.js"),[]).then(t=>z(t.yacas))}}),M.of({name:"Z80",extensions:["z80"],load(){return F(()=>import("./z80.Hz9HOZM7.js"),[]).then(t=>z(t.z80))}}),M.of({name:"MscGen",extensions:["mscgen","mscin","msc"],load(){return F(()=>import("./mscgen.BA5vi2Kp.js"),[]).then(t=>z(t.mscgen))}}),M.of({name:"Xù",extensions:["xu"],load(){return F(()=>import("./mscgen.BA5vi2Kp.js"),[]).then(t=>z(t.xu))}}),M.of({name:"MsGenny",extensions:["msgenny"],load(){return F(()=>import("./mscgen.BA5vi2Kp.js"),[]).then(t=>z(t.msgenny))}}),M.of({name:"Vue",extensions:["vue"],load(){return F(()=>import("./index.CmbYkiIU.js"),__vite__mapDeps([25,1,2,3,4,5])).then(t=>t.vue())}}),M.of({name:"Angular Template",load(){return F(()=>import("./index.nScuiJWv.js"),__vite__mapDeps([26,1,2,3,4,5])).then(t=>t.angular())}})];class bc{static create(e,n,i,r,s){let o=r+(r<<8)+e+(n<<4)|0;return new bc(e,n,i,o,s,[],[])}constructor(e,n,i,r,s,o,a){this.type=e,this.value=n,this.from=i,this.hash=r,this.end=s,this.children=o,this.positions=a,this.hashProp=[[se.contextHash,r]]}addChild(e,n){e.prop(se.contextHash)!=this.hash&&(e=new pe(e.type,e.children,e.positions,e.length,this.hashProp)),this.children.push(e),this.positions.push(n)}toTree(e,n=this.end){let i=this.children.length-1;return i>=0&&(n=Math.max(n,this.positions[i]+this.children[i].length+this.from)),new pe(e.types[this.type],this.children,this.positions,n-this.from).balance({makeTree:(r,s,o)=>new pe(it.none,r,s,o,this.hashProp)})}}var j;(function(t){t[t.Document=1]="Document",t[t.CodeBlock=2]="CodeBlock",t[t.FencedCode=3]="FencedCode",t[t.Blockquote=4]="Blockquote",t[t.HorizontalRule=5]="HorizontalRule",t[t.BulletList=6]="BulletList",t[t.OrderedList=7]="OrderedList",t[t.ListItem=8]="ListItem",t[t.ATXHeading1=9]="ATXHeading1",t[t.ATXHeading2=10]="ATXHeading2",t[t.ATXHeading3=11]="ATXHeading3",t[t.ATXHeading4=12]="ATXHeading4",t[t.ATXHeading5=13]="ATXHeading5",t[t.ATXHeading6=14]="ATXHeading6",t[t.SetextHeading1=15]="SetextHeading1",t[t.SetextHeading2=16]="SetextHeading2",t[t.HTMLBlock=17]="HTMLBlock",t[t.LinkReference=18]="LinkReference",t[t.Paragraph=19]="Paragraph",t[t.CommentBlock=20]="CommentBlock",t[t.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",t[t.Escape=22]="Escape",t[t.Entity=23]="Entity",t[t.HardBreak=24]="HardBreak",t[t.Emphasis=25]="Emphasis",t[t.StrongEmphasis=26]="StrongEmphasis",t[t.Link=27]="Link",t[t.Image=28]="Image",t[t.InlineCode=29]="InlineCode",t[t.HTMLTag=30]="HTMLTag",t[t.Comment=31]="Comment",t[t.ProcessingInstruction=32]="ProcessingInstruction",t[t.Autolink=33]="Autolink",t[t.HeaderMark=34]="HeaderMark",t[t.QuoteMark=35]="QuoteMark",t[t.ListMark=36]="ListMark",t[t.LinkMark=37]="LinkMark",t[t.EmphasisMark=38]="EmphasisMark",t[t.CodeMark=39]="CodeMark",t[t.CodeText=40]="CodeText",t[t.CodeInfo=41]="CodeInfo",t[t.LinkTitle=42]="LinkTitle",t[t.LinkLabel=43]="LinkLabel",t[t.URL=44]="URL"})(j||(j={}));class FI{constructor(e,n){this.start=e,this.content=n,this.marks=[],this.parsers=[]}}class NI{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let e=this.skipSpace(this.basePos);this.indent=this.countIndent(e,this.pos,this.indent),this.pos=e,this.next=e==this.text.length?-1:this.text.charCodeAt(e)}skipSpace(e){return da(this.text,e)}reset(e){for(this.text=e,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(e){this.basePos=e,this.baseIndent=this.countIndent(e,this.pos,this.indent)}moveBaseColumn(e){this.baseIndent=e,this.basePos=this.findColumn(e)}addMarker(e){this.markers.push(e)}countIndent(e,n=0,i=0){for(let r=n;r<e;r++)i+=this.text.charCodeAt(r)==9?4-i%4:1;return i}findColumn(e){let n=0;for(let i=0;n<this.text.length&&i<e;n++)i+=this.text.charCodeAt(n)==9?4-i%4:1;return n}scrub(){if(!this.baseIndent)return this.text;let e="";for(let n=0;n<this.basePos;n++)e+=" ";return e+this.text.slice(this.basePos)}}function O1(t,e,n){if(n.pos==n.text.length||t!=e.block&&n.indent>=e.stack[n.depth+1].value+n.baseIndent)return!0;if(n.indent>=n.baseIndent+4)return!1;let i=(t.type==j.OrderedList?Om:gm)(n,e,!1);return i>0&&(t.type!=j.BulletList||mm(n,e,!1)<0)&&n.text.charCodeAt(n.pos+i-1)==t.value}const zx={[j.Blockquote](t,e,n){return n.next!=62?!1:(n.markers.push(ve(j.QuoteMark,e.lineStart+n.pos,e.lineStart+n.pos+1)),n.moveBase(n.pos+(yn(n.text.charCodeAt(n.pos+1))?2:1)),t.end=e.lineStart+n.text.length,!0)},[j.ListItem](t,e,n){return n.indent<n.baseIndent+t.value&&n.next>-1?!1:(n.moveBaseColumn(n.baseIndent+t.value),!0)},[j.OrderedList]:O1,[j.BulletList]:O1,[j.Document](){return!0}};function yn(t){return t==32||t==9||t==10||t==13}function da(t,e=0){for(;e<t.length&&yn(t.charCodeAt(e));)e++;return e}function b1(t,e,n){for(;e>n&&yn(t.charCodeAt(e-1));)e--;return e}function qx(t){if(t.next!=96&&t.next!=126)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==t.next;)e++;if(e<t.pos+3)return-1;if(t.next==96){for(let n=e;n<t.text.length;n++)if(t.text.charCodeAt(n)==96)return-1}return e}function Bx(t){return t.next!=62?-1:t.text.charCodeAt(t.pos+1)==32?2:1}function mm(t,e,n){if(t.next!=42&&t.next!=45&&t.next!=95)return-1;let i=1;for(let r=t.pos+1;r<t.text.length;r++){let s=t.text.charCodeAt(r);if(s==t.next)i++;else if(!yn(s))return-1}return n&&t.next==45&&Wx(t)>-1&&t.depth==e.stack.length||i<3?-1:1}function jx(t,e){for(let n=t.stack.length-1;n>=0;n--)if(t.stack[n].type==e)return!0;return!1}function gm(t,e,n){return(t.next==45||t.next==43||t.next==42)&&(t.pos==t.text.length-1||yn(t.text.charCodeAt(t.pos+1)))&&(!n||jx(e,j.BulletList)||t.skipSpace(t.pos+2)<t.text.length)?1:-1}function Om(t,e,n){let i=t.pos,r=t.next;for(;r>=48&&r<=57;){i++;if(i==t.text.length)return-1;r=t.text.charCodeAt(i)}return i==t.pos||i>t.pos+9||r!=46&&r!=41||i<t.text.length-1&&!yn(t.text.charCodeAt(i+1))||n&&!jx(e,j.OrderedList)&&(t.skipSpace(i+1)==t.text.length||i>t.pos+1||t.next!=49)?-1:i+1-t.pos}function Xx(t){if(t.next!=35)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==35;)e++;if(e<t.text.length&&t.text.charCodeAt(e)!=32)return-1;let n=e-t.pos;return n>6?-1:n}function Wx(t){if(t.next!=45&&t.next!=61||t.indent>=t.baseIndent+4)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==t.next;)e++;let n=e;for(;e<t.text.length&&yn(t.text.charCodeAt(e));)e++;return e==t.text.length?n:-1}const Rd=/^[ \t]*$/,Ux=/-->/,Yx=/\?>/,Id=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,Ux],[/^\s*<\?/,Yx],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,Rd],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,Rd]];function Gx(t,e,n){if(t.next!=60)return-1;let i=t.text.slice(t.pos);for(let r=0,s=Id.length-(n?1:0);r<s;r++)if(Id[r][0].test(i))return r;return-1}function y1(t,e){let n=t.countIndent(e,t.pos,t.indent),i=t.countIndent(t.skipSpace(e),e,n);return i>=n+5?n+1:i}function yr(t,e,n){let i=t.length-1;i>=0&&t[i].to==e&&t[i].type==j.CodeText?t[i].to=n:t.push(ve(j.CodeText,e,n))}const nu={LinkReference:void 0,IndentedCode(t,e){let n=e.baseIndent+4;if(e.indent<n)return!1;let i=e.findColumn(n),r=t.lineStart+i,s=t.lineStart+e.text.length,o=[],a=[];for(yr(o,r,s);t.nextLine()&&e.depth>=t.stack.length;)if(e.pos==e.text.length){yr(a,t.lineStart-1,t.lineStart);for(let l of e.markers)a.push(l)}else{if(e.indent<n)break;{if(a.length){for(let u of a)u.type==j.CodeText?yr(o,u.from,u.to):o.push(u);a=[]}yr(o,t.lineStart-1,t.lineStart);for(let u of e.markers)o.push(u);s=t.lineStart+e.text.length;let l=t.lineStart+e.findColumn(e.baseIndent+4);l<s&&yr(o,l,s)}}return a.length&&(a=a.filter(l=>l.type!=j.CodeText),a.length&&(e.markers=a.concat(e.markers))),t.addNode(t.buffer.writeElements(o,-r).finish(j.CodeBlock,s-r),r),!0},FencedCode(t,e){let n=qx(e);if(n<0)return!1;let i=t.lineStart+e.pos,r=e.next,s=n-e.pos,o=e.skipSpace(n),a=b1(e.text,e.text.length,o),l=[ve(j.CodeMark,i,i+s)];o<a&&l.push(ve(j.CodeInfo,t.lineStart+o,t.lineStart+a));for(let u=!0;t.nextLine()&&e.depth>=t.stack.length;u=!1){let c=e.pos;if(e.indent-e.baseIndent<4)for(;c<e.text.length&&e.text.charCodeAt(c)==r;)c++;if(c-e.pos>=s&&e.skipSpace(c)==e.text.length){for(let f of e.markers)l.push(f);l.push(ve(j.CodeMark,t.lineStart+e.pos,t.lineStart+c)),t.nextLine();break}else{u||yr(l,t.lineStart-1,t.lineStart);for(let p of e.markers)l.push(p);let f=t.lineStart+e.basePos,d=t.lineStart+e.text.length;f<d&&yr(l,f,d)}}return t.addNode(t.buffer.writeElements(l,-i).finish(j.FencedCode,t.prevLineEnd()-i),i),!0},Blockquote(t,e){let n=Bx(e);return n<0?!1:(t.startContext(j.Blockquote,e.pos),t.addNode(j.QuoteMark,t.lineStart+e.pos,t.lineStart+e.pos+1),e.moveBase(e.pos+n),null)},HorizontalRule(t,e){if(mm(e,t,!1)<0)return!1;let n=t.lineStart+e.pos;return t.nextLine(),t.addNode(j.HorizontalRule,n),!0},BulletList(t,e){let n=gm(e,t,!1);if(n<0)return!1;t.block.type!=j.BulletList&&t.startContext(j.BulletList,e.basePos,e.next);let i=y1(e,e.pos+1);return t.startContext(j.ListItem,e.basePos,i-e.baseIndent),t.addNode(j.ListMark,t.lineStart+e.pos,t.lineStart+e.pos+n),e.moveBaseColumn(i),null},OrderedList(t,e){let n=Om(e,t,!1);if(n<0)return!1;t.block.type!=j.OrderedList&&t.startContext(j.OrderedList,e.basePos,e.text.charCodeAt(e.pos+n-1));let i=y1(e,e.pos+n);return t.startContext(j.ListItem,e.basePos,i-e.baseIndent),t.addNode(j.ListMark,t.lineStart+e.pos,t.lineStart+e.pos+n),e.moveBaseColumn(i),null},ATXHeading(t,e){let n=Xx(e);if(n<0)return!1;let i=e.pos,r=t.lineStart+i,s=b1(e.text,e.text.length,i),o=s;for(;o>i&&e.text.charCodeAt(o-1)==e.next;)o--;(o==s||o==i||!yn(e.text.charCodeAt(o-1)))&&(o=e.text.length);let a=t.buffer.write(j.HeaderMark,0,n).writeElements(t.parser.parseInline(e.text.slice(i+n+1,o),r+n+1),-r);o<e.text.length&&a.write(j.HeaderMark,o-i,s-i);let l=a.finish(j.ATXHeading1-1+n,e.text.length-i);return t.nextLine(),t.addNode(l,r),!0},HTMLBlock(t,e){let n=Gx(e,t,!1);if(n<0)return!1;let i=t.lineStart+e.pos,r=Id[n][1],s=[],o=r!=Rd;for(;!r.test(e.text)&&t.nextLine();){if(e.depth<t.stack.length){o=!1;break}for(let u of e.markers)s.push(u)}o&&t.nextLine();let a=r==Ux?j.CommentBlock:r==Yx?j.ProcessingInstructionBlock:j.HTMLBlock,l=t.prevLineEnd();return t.addNode(t.buffer.writeElements(s,-i).finish(a,l-i),i),!0},SetextHeading:void 0};class ZI{constructor(e){this.stage=0,this.elts=[],this.pos=0,this.start=e.start,this.advance(e.content)}nextLine(e,n,i){if(this.stage==-1)return!1;let r=i.content+`
`+n.scrub(),s=this.advance(r);return s>-1&&s<r.length?this.complete(e,i,s):!1}finish(e,n){return(this.stage==2||this.stage==3)&&da(n.content,this.pos)==n.content.length?this.complete(e,n,n.content.length):!1}complete(e,n,i){return e.addLeafElement(n,ve(j.LinkReference,this.start,this.start+i,this.elts)),!0}nextStage(e){return e?(this.pos=e.to-this.start,this.elts.push(e),this.stage++,!0):(e===!1&&(this.stage=-1),!1)}advance(e){for(;;){if(this.stage==-1)return-1;if(this.stage==0){if(!this.nextStage(sk(e,this.pos,this.start,!0)))return-1;if(e.charCodeAt(this.pos)!=58)return this.stage=-1;this.elts.push(ve(j.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(this.stage==1){if(!this.nextStage(ik(e,da(e,this.pos),this.start)))return-1}else if(this.stage==2){let n=da(e,this.pos),i=0;if(n>this.pos){let r=rk(e,n,this.start);if(r){let s=Gh(e,r.to-this.start);s>0&&(this.nextStage(r),i=s)}}return i||(i=Gh(e,this.pos)),i>0&&i<e.length?i:-1}else return Gh(e,this.pos)}}}function Gh(t,e){for(;e<t.length;e++){let n=t.charCodeAt(e);if(n==10)break;if(!yn(n))return-1}return e}class zI{nextLine(e,n,i){let r=n.depth<e.stack.length?-1:Wx(n),s=n.next;if(r<0)return!1;let o=ve(j.HeaderMark,e.lineStart+n.pos,e.lineStart+r);return e.nextLine(),e.addLeafElement(i,ve(s==61?j.SetextHeading1:j.SetextHeading2,i.start,e.prevLineEnd(),[...e.parser.parseInline(i.content,i.start),o])),!0}finish(){return!1}}const qI={LinkReference(t,e){return e.content.charCodeAt(0)==91?new ZI(e):null},SetextHeading(){return new zI}},BI=[(t,e)=>Xx(e)>=0,(t,e)=>qx(e)>=0,(t,e)=>Bx(e)>=0,(t,e)=>gm(e,t,!0)>=0,(t,e)=>Om(e,t,!0)>=0,(t,e)=>mm(e,t,!0)>=0,(t,e)=>Gx(e,t,!0)>=0],jI={text:"",end:0};class XI{constructor(e,n,i,r){this.parser=e,this.input=n,this.ranges=r,this.line=new NI,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=r[r.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=r[0].from,this.block=bc.create(j.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=i.length?new GI(i,n):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(this.stoppedAt!=null&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:e}=this;for(;;){for(let i=0;;){let r=e.depth<this.stack.length?this.stack[this.stack.length-1]:null;for(;i<e.markers.length&&(!r||e.markers[i].from<r.end);){let s=e.markers[i++];this.addNode(s.type,s.from,s.to)}if(!r)break;this.finishContext()}if(e.pos<e.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(e.basePos))return null;e:for(;;){for(let i of this.parser.blockParsers)if(i){let r=i(this,e);if(r!=!1){if(r==!0)return null;e.forward();continue e}}break}let n=new FI(this.lineStart+e.pos,e.text.slice(e.pos));for(let i of this.parser.leafBlockParsers)if(i){let r=i(this,n);r&&n.parsers.push(r)}e:for(;this.nextLine()&&e.pos!=e.text.length;){if(e.indent<e.baseIndent+4){for(let i of this.parser.endLeafBlock)if(i(this,e,n))break e}for(let i of n.parsers)if(i.nextLine(this,e,n))return null;n.content+=`
`+e.scrub();for(let i of e.markers)n.marks.push(i)}return this.finishLeaf(n),null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}reuseFragment(e){if(!this.fragments.moveTo(this.absoluteLineStart+e,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let n=this.fragments.takeNodes(this);return n?(this.absoluteLineStart+=n,this.lineStart=ok(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0):!1}get depth(){return this.stack.length}parentType(e=this.depth-1){return this.parser.nodeSet.types[this.stack[e].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(e){let n=jI;if(n.end=e,e>=this.to)n.text="";else if(n.text=this.lineChunkAt(e),n.end+=n.text.length,this.ranges.length>1){let i=this.absoluteLineStart,r=this.rangeI;for(;this.ranges[r].to<n.end;){r++;let s=this.ranges[r].from,o=this.lineChunkAt(s);n.end=s+o.length,n.text=n.text.slice(0,this.ranges[r-1].to-i)+o,i=n.end-n.text.length}}return n}readLine(){let{line:e}=this,{text:n,end:i}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=i,e.reset(n);e.depth<this.stack.length;e.depth++){let r=this.stack[e.depth],s=this.parser.skipContextMarkup[r.type];if(!s)throw new Error("Unhandled block context "+j[r.type]);if(!s(r,this,e))break;e.forward()}}lineChunkAt(e){let n=this.input.chunk(e),i;if(this.input.lineChunks)i=n==`
`?"":n;else{let r=n.indexOf(`
`);i=r<0?n:n.slice(0,r)}return e+i.length>this.to?i.slice(0,this.to-e):i}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(e,n,i=0){this.block=bc.create(e,i,this.lineStart+n,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(e,n,i=0){this.startContext(this.parser.getNodeType(e),n,i)}addNode(e,n,i){typeof e=="number"&&(e=new pe(this.parser.nodeSet.types[e],Us,Us,(i??this.prevLineEnd())-n)),this.block.addChild(e,n-this.block.from)}addElement(e){this.block.addChild(e.toTree(this.parser.nodeSet),e.from-this.block.from)}addLeafElement(e,n){this.addNode(this.buffer.writeElements(Vd(n.children,e.marks),-n.from).finish(n.type,n.to-n.from),n.from)}finishContext(){let e=this.stack.pop(),n=this.stack[this.stack.length-1];n.addChild(e.toTree(this.parser.nodeSet),e.from-n.from),this.block=n}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(e){return this.ranges.length>1?Hx(this.ranges,0,e.topNode,this.ranges[0].from,this.reusePlaceholders):e}finishLeaf(e){for(let i of e.parsers)if(i.finish(this,e))return;let n=Vd(this.parser.parseInline(e.content,e.start),e.marks);this.addNode(this.buffer.writeElements(n,-e.start).finish(j.Paragraph,e.content.length),e.start)}elt(e,n,i,r){return typeof e=="string"?ve(this.parser.getNodeType(e),n,i,r):new ek(e,n)}get buffer(){return new Jx(this.parser.nodeSet)}}function Hx(t,e,n,i,r){let s=t[e].to,o=[],a=[],l=n.from+i;function u(c,f){for(;f?c>=s:c>s;){let d=t[e+1].from-s;i+=d,c+=d,e++,s=t[e].to}}for(let c=n.firstChild;c;c=c.nextSibling){u(c.from+i,!0);let f=c.from+i,d,p=r.get(c.tree);p?d=p:c.to+i>s?(d=Hx(t,e,c,i,r),u(c.to+i,!1)):d=c.toTree(),o.push(d),a.push(f-l)}return u(n.to+i,!1),new pe(n.type,o,a,n.to+i-l,n.tree?n.tree.propValues:void 0)}class th extends Uc{constructor(e,n,i,r,s,o,a,l,u){super(),this.nodeSet=e,this.blockParsers=n,this.leafBlockParsers=i,this.blockNames=r,this.endLeafBlock=s,this.skipContextMarkup=o,this.inlineParsers=a,this.inlineNames=l,this.wrappers=u,this.nodeTypes=Object.create(null);for(let c of e.types)this.nodeTypes[c.name]=c.id}createParse(e,n,i){let r=new XI(this,e,n,i);for(let s of this.wrappers)r=s(r,e,n,i);return r}configure(e){let n=Qd(e);if(!n)return this;let{nodeSet:i,skipContextMarkup:r}=this,s=this.blockParsers.slice(),o=this.leafBlockParsers.slice(),a=this.blockNames.slice(),l=this.inlineParsers.slice(),u=this.inlineNames.slice(),c=this.endLeafBlock.slice(),f=this.wrappers;if(zo(n.defineNodes)){r=Object.assign({},r);let d=i.types.slice(),p;for(let m of n.defineNodes){let{name:O,block:y,composite:_,style:S}=typeof m=="string"?{name:m}:m;if(d.some(D=>D.name==O))continue;_&&(r[d.length]=(D,L,w)=>_(L,w,D.value));let $=d.length,R=_?["Block","BlockContext"]:y?$>=j.ATXHeading1&&$<=j.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;d.push(it.define({id:$,name:O,props:R&&[[se.group,R]]})),S&&(p||(p={}),Array.isArray(S)||S instanceof kn?p[O]=S:Object.assign(p,S))}i=new ro(d),p&&(i=i.extend(so(p)))}if(zo(n.props)&&(i=i.extend(...n.props)),zo(n.remove))for(let d of n.remove){let p=this.blockNames.indexOf(d),m=this.inlineNames.indexOf(d);p>-1&&(s[p]=o[p]=void 0),m>-1&&(l[m]=void 0)}if(zo(n.parseBlock))for(let d of n.parseBlock){let p=a.indexOf(d.name);if(p>-1)s[p]=d.parse,o[p]=d.leaf;else{let m=d.before?iu(a,d.before):d.after?iu(a,d.after)+1:a.length-1;s.splice(m,0,d.parse),o.splice(m,0,d.leaf),a.splice(m,0,d.name)}d.endLeaf&&c.push(d.endLeaf)}if(zo(n.parseInline))for(let d of n.parseInline){let p=u.indexOf(d.name);if(p>-1)l[p]=d.parse;else{let m=d.before?iu(u,d.before):d.after?iu(u,d.after)+1:u.length-1;l.splice(m,0,d.parse),u.splice(m,0,d.name)}}return n.wrap&&(f=f.concat(n.wrap)),new th(i,s,o,a,c,r,l,u,f)}getNodeType(e){let n=this.nodeTypes[e];if(n==null)throw new RangeError(`Unknown node type '${e}'`);return n}parseInline(e,n){let i=new UI(this,e,n);e:for(let r=n;r<i.end;){let s=i.char(r);for(let o of this.inlineParsers)if(o){let a=o(i,s,r);if(a>=0){r=a;continue e}}r++}return i.resolveMarkers(0)}}function zo(t){return t!=null&&t.length>0}function Qd(t){if(!Array.isArray(t))return t;if(t.length==0)return null;let e=Qd(t[0]);if(t.length==1)return e;let n=Qd(t.slice(1));if(!n||!e)return e||n;let i=(o,a)=>(o||Us).concat(a||Us),r=e.wrap,s=n.wrap;return{props:i(e.props,n.props),defineNodes:i(e.defineNodes,n.defineNodes),parseBlock:i(e.parseBlock,n.parseBlock),parseInline:i(e.parseInline,n.parseInline),remove:i(e.remove,n.remove),wrap:r?s?(o,a,l,u)=>r(s(o,a,l,u),a,l,u):r:s}}function iu(t,e){let n=t.indexOf(e);if(n<0)throw new RangeError(`Position specified relative to unknown parser ${e}`);return n}let Kx=[it.none];for(let t=1,e;e=j[t];t++)Kx[t]=it.define({id:t,name:e,props:t>=j.Escape?[]:[[se.group,t in zx?["Block","BlockContext"]:["Block","LeafBlock"]]],top:e=="Document"});const Us=[];let Jx=class{constructor(e){this.nodeSet=e,this.content=[],this.nodes=[]}write(e,n,i,r=0){return this.content.push(e,n,i,4+r*4),this}writeElements(e,n=0){for(let i of e)i.writeTo(this,n);return this}finish(e,n){return pe.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:e,length:n})}},La=class{constructor(e,n,i,r=Us){this.type=e,this.from=n,this.to=i,this.children=r}writeTo(e,n){let i=e.content.length;e.writeElements(this.children,n),e.content.push(this.type,this.from+n,this.to+n,e.content.length+4-i)}toTree(e){return new Jx(e).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}};class ek{constructor(e,n){this.tree=e,this.from=n}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return Us}writeTo(e,n){e.nodes.push(this.tree),e.content.push(e.nodes.length-1,this.from+n,this.to+n,-1)}toTree(){return this.tree}}function ve(t,e,n,i){return new La(t,e,n,i)}const tk={resolve:"Emphasis",mark:"EmphasisMark"},nk={resolve:"Emphasis",mark:"EmphasisMark"},ms={},Dd={};class on{constructor(e,n,i,r){this.type=e,this.from=n,this.to=i,this.side=r}}const v1="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";let Fa=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{Fa=new RegExp("[\\p{Pc}|\\p{Pd}|\\p{Pe}|\\p{Pf}|\\p{Pi}|\\p{Po}|\\p{Ps}]","u")}catch{}const Hh={Escape(t,e,n){if(e!=92||n==t.end-1)return-1;let i=t.char(n+1);for(let r=0;r<v1.length;r++)if(v1.charCodeAt(r)==i)return t.append(ve(j.Escape,n,n+2));return-1},Entity(t,e,n){if(e!=38)return-1;let i=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(t.slice(n+1,n+31));return i?t.append(ve(j.Entity,n,n+1+i[0].length)):-1},InlineCode(t,e,n){if(e!=96||n&&t.char(n-1)==96)return-1;let i=n+1;for(;i<t.end&&t.char(i)==96;)i++;let r=i-n,s=0;for(;i<t.end;i++)if(t.char(i)==96){if(s++,s==r&&t.char(i+1)!=96)return t.append(ve(j.InlineCode,n,i+1,[ve(j.CodeMark,n,n+r),ve(j.CodeMark,i+1-r,i+1)]))}else s=0;return-1},HTMLTag(t,e,n){if(e!=60||n==t.end-1)return-1;let i=t.slice(n+1,t.end),r=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(i);if(r)return t.append(ve(j.Autolink,n,n+1+r[0].length,[ve(j.LinkMark,n,n+1),ve(j.URL,n+1,n+r[0].length),ve(j.LinkMark,n+r[0].length,n+1+r[0].length)]));let s=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(i);if(s)return t.append(ve(j.Comment,n,n+1+s[0].length));let o=/^\?[^]*?\?>/.exec(i);if(o)return t.append(ve(j.ProcessingInstruction,n,n+1+o[0].length));let a=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(i);return a?t.append(ve(j.HTMLTag,n,n+1+a[0].length)):-1},Emphasis(t,e,n){if(e!=95&&e!=42)return-1;let i=n+1;for(;t.char(i)==e;)i++;let r=t.slice(n-1,n),s=t.slice(i,i+1),o=Fa.test(r),a=Fa.test(s),l=/\s|^$/.test(r),u=/\s|^$/.test(s),c=!u&&(!a||l||o),f=!l&&(!o||u||a),d=c&&(e==42||!f||o),p=f&&(e==42||!c||a);return t.append(new on(e==95?tk:nk,n,i,(d?1:0)|(p?2:0)))},HardBreak(t,e,n){if(e==92&&t.char(n+1)==10)return t.append(ve(j.HardBreak,n,n+2));if(e==32){let i=n+1;for(;t.char(i)==32;)i++;if(t.char(i)==10&&i>=n+2)return t.append(ve(j.HardBreak,n,i+1))}return-1},Link(t,e,n){return e==91?t.append(new on(ms,n,n+1,1)):-1},Image(t,e,n){return e==33&&t.char(n+1)==91?t.append(new on(Dd,n,n+2,1)):-1},LinkEnd(t,e,n){if(e!=93)return-1;for(let i=t.parts.length-1;i>=0;i--){let r=t.parts[i];if(r instanceof on&&(r.type==ms||r.type==Dd)){if(!r.side||t.skipSpace(r.to)==n&&!/[(\[]/.test(t.slice(n+1,n+2)))return t.parts[i]=null,-1;let s=t.takeContent(i),o=t.parts[i]=WI(t,s,r.type==ms?j.Link:j.Image,r.from,n+1);if(r.type==ms)for(let a=0;a<i;a++){let l=t.parts[a];l instanceof on&&l.type==ms&&(l.side=0)}return o.to}}return-1}};function WI(t,e,n,i,r){let{text:s}=t,o=t.char(r),a=r;if(e.unshift(ve(j.LinkMark,i,i+(n==j.Image?2:1))),e.push(ve(j.LinkMark,r-1,r)),o==40){let l=t.skipSpace(r+1),u=ik(s,l-t.offset,t.offset),c;u&&(l=t.skipSpace(u.to),l!=u.to&&(c=rk(s,l-t.offset,t.offset),c&&(l=t.skipSpace(c.to)))),t.char(l)==41&&(e.push(ve(j.LinkMark,r,r+1)),a=l+1,u&&e.push(u),c&&e.push(c),e.push(ve(j.LinkMark,l,a)))}else if(o==91){let l=sk(s,r-t.offset,t.offset,!1);l&&(e.push(l),a=l.to)}return ve(n,i,a,e)}function ik(t,e,n){if(t.charCodeAt(e)==60){for(let r=e+1;r<t.length;r++){let s=t.charCodeAt(r);if(s==62)return ve(j.URL,e+n,r+1+n);if(s==60||s==10)return!1}return null}else{let r=0,s=e;for(let o=!1;s<t.length;s++){let a=t.charCodeAt(s);if(yn(a))break;if(o)o=!1;else if(a==40)r++;else if(a==41){if(!r)break;r--}else a==92&&(o=!0)}return s>e?ve(j.URL,e+n,s+n):s==t.length?null:!1}}function rk(t,e,n){let i=t.charCodeAt(e);if(i!=39&&i!=34&&i!=40)return!1;let r=i==40?41:i;for(let s=e+1,o=!1;s<t.length;s++){let a=t.charCodeAt(s);if(o)o=!1;else{if(a==r)return ve(j.LinkTitle,e+n,s+1+n);a==92&&(o=!0)}}return null}function sk(t,e,n,i){for(let r=!1,s=e+1,o=Math.min(t.length,s+999);s<o;s++){let a=t.charCodeAt(s);if(r)r=!1;else{if(a==93)return i?!1:ve(j.LinkLabel,e+n,s+1+n);if(i&&!yn(a)&&(i=!1),a==91)return!1;a==92&&(r=!0)}}return null}class UI{constructor(e,n,i){this.parser=e,this.text=n,this.offset=i,this.parts=[]}char(e){return e>=this.end?-1:this.text.charCodeAt(e-this.offset)}get end(){return this.offset+this.text.length}slice(e,n){return this.text.slice(e-this.offset,n-this.offset)}append(e){return this.parts.push(e),e.to}addDelimiter(e,n,i,r,s){return this.append(new on(e,n,i,(r?1:0)|(s?2:0)))}get hasOpenLink(){for(let e=this.parts.length-1;e>=0;e--){let n=this.parts[e];if(n instanceof on&&(n.type==ms||n.type==Dd))return!0}return!1}addElement(e){return this.append(e)}resolveMarkers(e){for(let i=e;i<this.parts.length;i++){let r=this.parts[i];if(!(r instanceof on&&r.type.resolve&&r.side&2))continue;let s=r.type==tk||r.type==nk,o=r.to-r.from,a,l=i-1;for(;l>=e;l--){let O=this.parts[l];if(O instanceof on&&O.side&1&&O.type==r.type&&!(s&&(r.side&1||O.side&2)&&(O.to-O.from+o)%3==0&&((O.to-O.from)%3||o%3))){a=O;break}}if(!a)continue;let u=r.type.resolve,c=[],f=a.from,d=r.to;if(s){let O=Math.min(2,a.to-a.from,o);f=a.to-O,d=r.from+O,u=O==1?"Emphasis":"StrongEmphasis"}a.type.mark&&c.push(this.elt(a.type.mark,f,a.to));for(let O=l+1;O<i;O++)this.parts[O]instanceof La&&c.push(this.parts[O]),this.parts[O]=null;r.type.mark&&c.push(this.elt(r.type.mark,r.from,d));let p=this.elt(u,f,d,c);this.parts[l]=s&&a.from!=f?new on(a.type,a.from,f,a.side):null,(this.parts[i]=s&&r.to!=d?new on(r.type,d,r.to,r.side):null)?this.parts.splice(i,0,p):this.parts[i]=p}let n=[];for(let i=e;i<this.parts.length;i++){let r=this.parts[i];r instanceof La&&n.push(r)}return n}findOpeningDelimiter(e){for(let n=this.parts.length-1;n>=0;n--){let i=this.parts[n];if(i instanceof on&&i.type==e)return n}return null}takeContent(e){let n=this.resolveMarkers(e);return this.parts.length=e,n}skipSpace(e){return da(this.text,e-this.offset)+this.offset}elt(e,n,i,r){return typeof e=="string"?ve(this.parser.getNodeType(e),n,i,r):new ek(e,n)}}function Vd(t,e){if(!e.length)return t;if(!t.length)return e;let n=t.slice(),i=0;for(let r of e){for(;i<n.length&&n[i].to<r.to;)i++;if(i<n.length&&n[i].from<r.from){let s=n[i];s instanceof La&&(n[i]=new La(s.type,s.from,s.to,Vd(s.children,[r])))}else n.splice(i++,0,r)}return n}const YI=[j.CodeBlock,j.ListItem,j.OrderedList,j.BulletList];let GI=class{constructor(e,n){this.fragments=e,this.input=n,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,e.length&&(this.fragment=e[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(e,n){for(;this.fragment&&this.fragment.to<=e;)this.nextFragment();if(!this.fragment||this.fragment.from>(e?e-1:0))return!1;if(this.fragmentEnd<0){let s=this.fragment.to;for(;s>0&&this.input.read(s-1,s)!=`
`;)s--;this.fragmentEnd=s?s-1:0}let i=this.cursor;i||(i=this.cursor=this.fragment.tree.cursor(),i.firstChild());let r=e+this.fragment.offset;for(;i.to<=r;)if(!i.parent())return!1;for(;;){if(i.from>=r)return this.fragment.from<=n;if(!i.childAfter(r))return!1}}matches(e){let n=this.cursor.tree;return n&&n.prop(se.contextHash)==e}takeNodes(e){let n=this.cursor,i=this.fragment.offset,r=this.fragmentEnd-(this.fragment.openEnd?1:0),s=e.absoluteLineStart,o=s,a=e.block.children.length,l=o,u=a;for(;;){if(n.to-i>r){if(n.type.isAnonymous&&n.firstChild())continue;break}let c=ok(n.from-i,e.ranges);if(n.to-i<=e.ranges[e.rangeI].to)e.addNode(n.tree,c);else{let f=new pe(e.parser.nodeSet.types[j.Paragraph],[],[],0,e.block.hashProp);e.reusePlaceholders.set(f,n.tree),e.addNode(f,c)}if(n.type.is("Block")&&(YI.indexOf(n.type.id)<0?(o=n.to-i,a=e.block.children.length):(o=l,a=u,l=n.to-i,u=e.block.children.length)),!n.nextSibling())break}for(;e.block.children.length>a;)e.block.children.pop(),e.block.positions.pop();return o-s}};function ok(t,e){let n=t;for(let i=1;i<e.length;i++){let r=e[i-1].to,s=e[i].from;r<t&&(n-=s-r)}return n}const HI=so({"Blockquote/...":x.quote,HorizontalRule:x.contentSeparator,"ATXHeading1/... SetextHeading1/...":x.heading1,"ATXHeading2/... SetextHeading2/...":x.heading2,"ATXHeading3/...":x.heading3,"ATXHeading4/...":x.heading4,"ATXHeading5/...":x.heading5,"ATXHeading6/...":x.heading6,"Comment CommentBlock":x.comment,Escape:x.escape,Entity:x.character,"Emphasis/...":x.emphasis,"StrongEmphasis/...":x.strong,"Link/... Image/...":x.link,"OrderedList/... BulletList/...":x.list,"BlockQuote/...":x.quote,"InlineCode CodeText":x.monospace,"URL Autolink":x.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":x.processingInstruction,"CodeInfo LinkLabel":x.labelName,LinkTitle:x.string,Paragraph:x.content}),KI=new th(new ro(Kx).extend(HI),Object.keys(nu).map(t=>nu[t]),Object.keys(nu).map(t=>qI[t]),Object.keys(nu),BI,zx,Object.keys(Hh).map(t=>Hh[t]),Object.keys(Hh),[]);function JI(t,e,n){let i=[];for(let r=t.firstChild,s=e;;r=r.nextSibling){let o=r?r.from:n;if(o>s&&i.push({from:s,to:o}),!r)break;s=r.to}return i}function eQ(t){let{codeParser:e,htmlParser:n}=t;return{wrap:Cw((r,s)=>{let o=r.type.id;if(e&&(o==j.CodeBlock||o==j.FencedCode)){let a="";if(o==j.FencedCode){let u=r.node.getChild(j.CodeInfo);u&&(a=s.read(u.from,u.to))}let l=e(a);if(l)return{parser:l,overlay:u=>u.type.id==j.CodeText}}else if(n&&(o==j.HTMLBlock||o==j.HTMLTag))return{parser:n,overlay:JI(r.node,r.from,r.to)};return null})}}const tQ={resolve:"Strikethrough",mark:"StrikethroughMark"},nQ={defineNodes:[{name:"Strikethrough",style:{"Strikethrough/...":x.strikethrough}},{name:"StrikethroughMark",style:x.processingInstruction}],parseInline:[{name:"Strikethrough",parse(t,e,n){if(e!=126||t.char(n+1)!=126||t.char(n+2)==126)return-1;let i=t.slice(n-1,n),r=t.slice(n+2,n+3),s=/\s|^$/.test(i),o=/\s|^$/.test(r),a=Fa.test(i),l=Fa.test(r);return t.addDelimiter(tQ,n,n+2,!o&&(!l||s||a),!s&&(!a||o||l))},after:"Emphasis"}]};function pa(t,e,n=0,i,r=0){let s=0,o=!0,a=-1,l=-1,u=!1,c=()=>{i.push(t.elt("TableCell",r+a,r+l,t.parser.parseInline(e.slice(a,l),r+a)))};for(let f=n;f<e.length;f++){let d=e.charCodeAt(f);d==124&&!u?((!o||a>-1)&&s++,o=!1,i&&(a>-1&&c(),i.push(t.elt("TableDelimiter",f+r,f+r+1))),a=l=-1):(u||d!=32&&d!=9)&&(a<0&&(a=f),l=f+1),u=!u&&d==92}return a>-1&&(s++,i&&c()),s}function _1(t,e){for(let n=e;n<t.length;n++){let i=t.charCodeAt(n);if(i==124)return!0;i==92&&n++}return!1}const ak=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/;class w1{constructor(){this.rows=null}nextLine(e,n,i){if(this.rows==null){this.rows=!1;let r;if((n.next==45||n.next==58||n.next==124)&&ak.test(r=n.text.slice(n.pos))){let s=[];pa(e,i.content,0,s,i.start)==pa(e,r,n.pos)&&(this.rows=[e.elt("TableHeader",i.start,i.start+i.content.length,s),e.elt("TableDelimiter",e.lineStart+n.pos,e.lineStart+n.text.length)])}}else if(this.rows){let r=[];pa(e,n.text,n.pos,r,e.lineStart),this.rows.push(e.elt("TableRow",e.lineStart+n.pos,e.lineStart+n.text.length,r))}return!1}finish(e,n){return this.rows?(e.addLeafElement(n,e.elt("Table",n.start,n.start+n.content.length,this.rows)),!0):!1}}const iQ={defineNodes:[{name:"Table",block:!0},{name:"TableHeader",style:{"TableHeader/...":x.heading}},"TableRow",{name:"TableCell",style:x.content},{name:"TableDelimiter",style:x.processingInstruction}],parseBlock:[{name:"Table",leaf(t,e){return _1(e.content,0)?new w1:null},endLeaf(t,e,n){if(n.parsers.some(r=>r instanceof w1)||!_1(e.text,e.basePos))return!1;let i=t.scanLine(t.absoluteLineEnd+1).text;return ak.test(i)&&pa(t,e.text,e.basePos)==pa(t,i,e.basePos)},before:"SetextHeading"}]};class rQ{nextLine(){return!1}finish(e,n){return e.addLeafElement(n,e.elt("Task",n.start,n.start+n.content.length,[e.elt("TaskMarker",n.start,n.start+3),...e.parser.parseInline(n.content.slice(3),n.start+3)])),!0}}const sQ={defineNodes:[{name:"Task",block:!0,style:x.list},{name:"TaskMarker",style:x.atom}],parseBlock:[{name:"TaskList",leaf(t,e){return/^\[[ xX]\][ \t]/.test(e.content)&&t.parentType().name=="ListItem"?new rQ:null},after:"SetextHeading"}]},x1=/(www\.)|(https?:\/\/)|([\w.+-]+@)|(mailto:|xmpp:)/gy,k1=/[\w-]+(\.[\w-]+)+(\/[^\s<]*)?/gy,oQ=/[\w-]+\.[\w-]+($|\/)/,S1=/[\w.+-]+@[\w-]+(\.[\w.-]+)+/gy,T1=/\/[a-zA-Z\d@.]+/gy;function P1(t,e,n,i){let r=0;for(let s=e;s<n;s++)t[s]==i&&r++;return r}function aQ(t,e){k1.lastIndex=e;let n=k1.exec(t);if(!n||oQ.exec(n[0])[0].indexOf("_")>-1)return-1;let i=e+n[0].length;for(;;){let r=t[i-1],s;if(/[?!.,:*_~]/.test(r)||r==")"&&P1(t,e,i,")")>P1(t,e,i,"("))i--;else if(r==";"&&(s=/&(?:#\d+|#x[a-f\d]+|\w+);$/.exec(t.slice(e,i))))i=e+s.index;else break}return i}function A1(t,e){S1.lastIndex=e;let n=S1.exec(t);if(!n)return-1;let i=n[0][n[0].length-1];return i=="_"||i=="-"?-1:e+n[0].length-(i=="."?1:0)}const lQ={parseInline:[{name:"Autolink",parse(t,e,n){let i=n-t.offset;x1.lastIndex=i;let r=x1.exec(t.text),s=-1;if(!r)return-1;if(r[1]||r[2]){if(s=aQ(t.text,i+r[0].length),s>-1&&t.hasOpenLink){let o=/([^\[\]]|\[[^\]]*\])*/.exec(t.text.slice(i,s));s=i+o[0].length}}else r[3]?s=A1(t.text,i):(s=A1(t.text,i+r[0].length),s>-1&&r[0]=="xmpp:"&&(T1.lastIndex=s,r=T1.exec(t.text),r&&(s=r.index+r[0].length)));return s<0?-1:(t.addElement(t.elt("URL",n,s+t.offset)),s+t.offset)}}]},uQ=[iQ,sQ,nQ,lQ];function lk(t,e,n){return(i,r,s)=>{if(r!=t||i.char(s+1)==t)return-1;let o=[i.elt(n,s,s+1)];for(let a=s+1;a<i.end;a++){let l=i.char(a);if(l==t)return i.addElement(i.elt(e,s,a+1,o.concat(i.elt(n,a,a+1))));if(l==92&&o.push(i.elt("Escape",a,a+++2)),yn(l))break}return-1}}const cQ={defineNodes:[{name:"Superscript",style:x.special(x.content)},{name:"SuperscriptMark",style:x.processingInstruction}],parseInline:[{name:"Superscript",parse:lk(94,"Superscript","SuperscriptMark")}]},hQ={defineNodes:[{name:"Subscript",style:x.special(x.content)},{name:"SubscriptMark",style:x.processingInstruction}],parseInline:[{name:"Subscript",parse:lk(126,"Subscript","SubscriptMark")}]},fQ={defineNodes:[{name:"Emoji",style:x.character}],parseInline:[{name:"Emoji",parse(t,e,n){let i;return e!=58||!(i=/^[a-zA-Z_0-9]+:/.exec(t.slice(n+1,t.end)))?-1:t.addElement(t.elt("Emoji",n,n+1+i[0].length))}}]};var E1={};let dQ=class Md{constructor(e,n,i,r,s,o,a,l,u,c=0,f){this.p=e,this.stack=n,this.state=i,this.reducePos=r,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=u,this.lookAhead=c,this.parent=f}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,i=0){let r=e.parser.context;return new Md(e,[],n,i,i,0,[],0,r?new C1(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let i=e>>19,r=e&65535,{parser:s}=this.p;this.reducePos<this.pos-25&&this.setLookAhead(this.pos);let o=s.dynamicPrecedence(r);if(o&&(this.score+=o),i==0){this.pushState(s.getGoto(this.state,r,!0),this.reducePos),r<s.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,4,!0),this.reduceContext(r,this.reducePos);return}let a=this.stack.length-(i-1)*3-(e&262144?6:0),l=a?this.stack[a-2]:this.p.ranges[0].from,u=this.reducePos-l;u>=2e3&&!(!((n=this.p.parser.nodeSet.types[r])===null||n===void 0)&&n.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=u):this.p.lastBigReductionSize<u&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=u));let c=a?this.stack[a-1]:0,f=this.bufferBase+this.buffer.length-c;if(r<s.minRepeatTerm||e&131072){let d=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,l,d,f+4,!0)}if(e&262144)this.state=this.stack[a];else{let d=this.stack[a-3];this.state=s.getGoto(d,r,!0)}for(;this.stack.length>a;)this.stack.pop();this.reduceContext(r,l)}storeNode(e,n,i,r=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(n==i)return;if(o.buffer[a-2]>=n){o.buffer[a-2]=i;return}}}if(!s||this.pos==i)this.buffer.push(e,n,i,r);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0)for(;o>0&&this.buffer[o-2]>i;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,r>4&&(r-=4);this.buffer[o]=e,this.buffer[o+1]=n,this.buffer[o+2]=i,this.buffer[o+3]=r}}shift(e,n,i,r){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=r,this.shiftContext(n,i),n<=this.p.parser.maxNode&&this.buffer.push(n,i,r,4);else{let s=e,{parser:o}=this.p;(r>this.pos||n<=o.maxNode)&&(this.pos=r,o.stateFlag(s,1)||(this.reducePos=r)),this.pushState(s,i),this.shiftContext(n,i),n<=o.maxNode&&this.buffer.push(n,i,r,4)}}apply(e,n,i,r){e&65536?this.reduce(e):this.shift(e,n,i,r)}useNode(e,n){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let r=this.pos;this.reducePos=this.pos=r+e.length,this.pushState(n,r),this.buffer.push(i,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let i=e.buffer.slice(n),r=e.bufferBase+n;for(;e&&r==e.bufferBase;)e=e.parent;return new Md(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,r,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,i?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new pQ(this);;){let i=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(i==0)return!1;if(!(i&65536))return!0;n.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let r=[];for(let s=0,o;s<n.length;s+=2)(o=n[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&r.push(n[s],o);if(this.stack.length<120)for(let s=0;r.length<8&&s<n.length;s+=2){let o=n[s+1];r.some((a,l)=>l&1&&a==o)||r.push(n[s],o)}n=r}let i=[];for(let r=0;r<n.length&&i.length<4;r+=2){let s=n[r+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(n[r],this.pos),o.reducePos=this.pos,o.score-=200,i.push(o)}return i}forceReduce(){let{parser:e}=this.p,n=e.stateSlot(this.state,5);if(!(n&65536))return!1;if(!e.validAction(this.state,n)){let i=n>>19,r=n&65535,s=this.stack.length-i*3;if(s<0||e.getGoto(this.stack[s],r,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;n=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:e}=this.p,n=[],i=(r,s)=>{if(!n.includes(r))return n.push(r),e.allActions(r,o=>{if(!(o&393216))if(o&65536){let a=(o>>19)-s;if(a>1){let l=o&65535,u=this.stack.length-a*3;if(u>=0&&e.getGoto(this.stack[u],l,!1)>=0)return a<<19|65536|l}}else{let a=i(o,s+1);if(a!=null)return a}})};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new C1(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}};class C1{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}class pQ{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,i=e>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let r=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=r}}class yc{constructor(e,n,i){this.stack=e,this.pos=n,this.index=i,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new yc(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new yc(this.stack,this.pos,this.index)}}function ta(t,e=Uint16Array){if(typeof t!="string")return t;let n=null;for(let i=0,r=0;i<t.length;){let s=0;for(;;){let o=t.charCodeAt(i++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}n?n[r++]=s:n=new e(s)}return n}class Au{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const $1=new Au;class mQ{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=$1,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let i=this.range,r=this.rangeIndex,s=this.pos+e;for(;s<i.from;){if(!r)return null;let o=this.ranges[--r];s-=i.from-o.to,i=o}for(;n<0?s>i.to:s>=i.to;){if(r==this.ranges.length-1)return null;let o=this.ranges[++r];s+=o.from-i.to,i=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,i,r;if(n>=0&&n<this.chunk.length)i=this.pos+e,r=this.chunk.charCodeAt(n);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(i=s,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=i;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-i)),r=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),r}acceptToken(e,n=0){let i=n?this.resolveOffset(n,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}acceptTokenTo(e,n){this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=$1,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let i="";for(let r of this.ranges){if(r.from>=n)break;r.to>e&&(i+=this.input.read(Math.max(r.from,e),Math.min(r.to,n)))}return i}}class Ps{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:i}=n.p;uk(this.data,e,n,this.id,i.data,i.tokenPrecTable)}}Ps.prototype.contextual=Ps.prototype.fallback=Ps.prototype.extend=!1;class vc{constructor(e,n,i){this.precTable=n,this.elseToken=i,this.data=typeof e=="string"?ta(e):e}token(e,n){let i=e.pos,r=0;for(;;){let s=e.next<0,o=e.resolveOffset(1,1);if(uk(this.data,e,n,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(s||r++,o==null)break;e.reset(o,e.token)}r&&(e.reset(i,e.token),e.acceptToken(this.elseToken,r))}}vc.prototype.contextual=Ps.prototype.fallback=Ps.prototype.extend=!1;class En{constructor(e,n={}){this.token=e,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}}function uk(t,e,n,i,r,s){let o=0,a=1<<i,{dialect:l}=n.p.parser;e:for(;a&t[o];){let u=t[o+1];for(let p=o+3;p<u;p+=2)if((t[p+1]&a)>0){let m=t[p];if(l.allows(m)&&(e.token.value==-1||e.token.value==m||gQ(m,e.token.value,r,s))){e.acceptToken(m);break}}let c=e.next,f=0,d=t[o+2];if(e.next<0&&d>f&&t[u+d*3-3]==65535){o=t[u+d*3-1];continue e}for(;f<d;){let p=f+d>>1,m=u+p+(p<<1),O=t[m],y=t[m+1]||65536;if(c<O)d=p;else if(c>=y)f=p+1;else{o=t[m+2],e.advance();continue e}}break}}function R1(t,e,n){for(let i=e,r;(r=t[i])!=65535;i++)if(r==n)return i-e;return-1}function gQ(t,e,n,i){let r=R1(n,i,e);return r<0||R1(n,i,t)<r}const Gt=typeof process<"u"&&E1&&/\bparse\b/.test(E1.LOG);let Kh=null;function I1(t,e,n){let i=t.cursor(Qe.IncludeAnonymous);for(i.moveTo(e);;)if(!(n<0?i.childBefore(e):i.childAfter(e)))for(;;){if((n<0?i.to<e:i.from>e)&&!i.type.isError)return n<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(t.length,Math.max(i.from+1,e+25));if(n<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return n<0?0:t.length}}class OQ{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?I1(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?I1(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let i=this.trees[n],r=this.index[n];if(r==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=i.children[r],o=this.start[n]+i.positions[r];if(o>e)return this.nextStart=o,null;if(s instanceof pe){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let l=s.prop(se.lookAhead);if(!l||a+l<this.fragment.to)return s}}this.index[n]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[n]++,this.nextStart=o+s.length}}}class bQ{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(i=>new Au)}getActions(e){let n=0,i=null,{parser:r}=e.p,{tokenizers:s}=r,o=r.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let u=0;u<s.length;u++){if(!(1<<u&o))continue;let c=s[u],f=this.tokens[u];if(!(i&&!c.fallback)&&((c.contextual||f.start!=e.pos||f.mask!=o||f.context!=a)&&(this.updateCachedToken(f,c,e),f.mask=o,f.context=a),f.lookAhead>f.end+25&&(l=Math.max(f.lookAhead,l)),f.value!=0)){let d=n;if(f.extended>-1&&(n=this.addActions(e,f.extended,f.end,n)),n=this.addActions(e,f.value,f.end,n),!c.extend&&(i=f,n>d))break}}for(;this.actions.length>n;)this.actions.pop();return l&&e.setLookAhead(l),!i&&e.pos==this.stream.end&&(i=new Au,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,n=this.addActions(e,i.value,i.end,n)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new Au,{pos:i,p:r}=e;return n.start=i,n.end=Math.min(i+1,r.stream.end),n.value=i==r.stream.end?r.parser.eofTerm:0,n}updateCachedToken(e,n,i){let r=this.stream.clipPos(i.pos);if(n.token(this.stream.reset(r,e),i),e.value>-1){let{parser:s}=i.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let a=s.specializers[o](this.stream.read(e.start,e.end),i);if(a>=0&&i.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(r+1)}putAction(e,n,i,r){for(let s=0;s<r;s+=3)if(this.actions[s]==e)return r;return this.actions[r++]=e,this.actions[r++]=n,this.actions[r++]=i,r}addActions(e,n,i,r){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let u=o.stateSlot(s,l?2:1);;u+=3){if(a[u]==65535)if(a[u+1]==1)u=ui(a,u+2);else{r==0&&a[u+1]==2&&(r=this.putAction(ui(a,u+2),n,i,r));break}a[u]==n&&(r=this.putAction(ui(a,u+1),n,i,r))}return r}}class yQ{constructor(e,n,i,r){this.parser=e,this.input=n,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new mQ(n,r),this.tokens=new bQ(e,this.stream),this.topTerm=e.top[1];let{from:s}=r[0];this.stacks=[dQ.start(this,e.top[0],s)],this.fragments=i.length&&this.stream.end-s>e.bufferLength*4?new OQ(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,i=this.stacks=[],r,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>n)i.push(a);else{if(this.advanceStack(a,i,e))continue;{r||(r=[],s=[]),r.push(a);let l=this.tokens.getMainToken(a);s.push(l.value,l.end)}}break}}if(!i.length){let o=r&&_Q(r);if(o)return Gt&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw Gt&&r&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&r){let o=this.stoppedAt!=null&&r[0].pos>this.stoppedAt?r[0]:this.runRecovery(r,s,i);if(o)return Gt&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(i.length>o)for(i.sort((a,l)=>l.score-a.score);i.length>o;)i.pop();i.some(a=>a.reducePos>n)&&this.recovering--}else if(i.length>1){e:for(let o=0;o<i.length-1;o++){let a=i[o];for(let l=o+1;l<i.length;l++){let u=i[l];if(a.sameState(u)||a.buffer.length>500&&u.buffer.length>500)if((a.score-u.score||a.buffer.length-u.buffer.length)>0)i.splice(l--,1);else{i.splice(o--,1);continue e}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let o=1;o<i.length;o++)i[o].pos<this.minStackPos&&(this.minStackPos=i[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,i){let r=e.pos,{parser:s}=this,o=Gt?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&r>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let u=e.curContext&&e.curContext.tracker.strict,c=u?e.curContext.hash:0;for(let f=this.fragments.nodeAt(r);f;){let d=this.parser.nodeSet.types[f.type.id]==f.type?s.getGoto(e.state,f.type.id):-1;if(d>-1&&f.length&&(!u||(f.prop(se.contextHash)||0)==c))return e.useNode(f,d),Gt&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(f.type.id)})`),!0;if(!(f instanceof pe)||f.children.length==0||f.positions[0]>0)break;let p=f.children[0];if(p instanceof pe&&f.positions[0]==0)f=p;else break}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),Gt&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(a&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let u=0;u<l.length;){let c=l[u++],f=l[u++],d=l[u++],p=u==l.length||!i,m=p?e:e.split(),O=this.tokens.mainToken;if(m.apply(c,f,O?O.start:m.pos,d),Gt&&console.log(o+this.stackID(m)+` (via ${c&65536?`reduce of ${s.getName(c&65535)}`:"shift"} for ${s.getName(f)} @ ${r}${m==e?"":", split"})`),p)return!0;m.pos>r?n.push(m):i.push(m)}return!1}advanceFully(e,n){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return Q1(e,n),!0}}runRecovery(e,n,i){let r=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],l=n[o<<1],u=n[(o<<1)+1],c=Gt?this.stackID(a)+" -> ":"";if(a.deadEnd&&(s||(s=!0,a.restart(),Gt&&console.log(c+this.stackID(a)+" (restarted)"),this.advanceFully(a,i))))continue;let f=a.split(),d=c;for(let p=0;f.forceReduce()&&p<10&&(Gt&&console.log(d+this.stackID(f)+" (via force-reduce)"),!this.advanceFully(f,i));p++)Gt&&(d=this.stackID(f)+" -> ");for(let p of a.recoverByInsert(l))Gt&&console.log(c+this.stackID(p)+" (via recover-insert)"),this.advanceFully(p,i);this.stream.end>a.pos?(u==a.pos&&(u++,l=0),a.recoverByDelete(l,u),Gt&&console.log(c+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),Q1(a,i)):(!r||r.score<a.score)&&(r=a)}return r}stackToTree(e){return e.close(),pe.build({buffer:yc.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(Kh||(Kh=new WeakMap)).get(e);return n||Kh.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function Q1(t,e){for(let n=0;n<e.length;n++){let i=e[n];if(i.pos==t.pos&&i.sameState(t)){e[n].score<t.score&&(e[n]=t);return}}e.push(t)}class vQ{constructor(e,n,i){this.source=e,this.flags=n,this.disabled=i}allows(e){return!this.disabled||this.disabled[e]==0}}const Jh=t=>t;class ck{constructor(e){this.start=e.start,this.shift=e.shift||Jh,this.reduce=e.reduce||Jh,this.reuse=e.reuse||Jh,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class Ys extends Uc{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let a=0;a<e.repeatNodeCount;a++)n.push("");let i=Object.keys(e.topRules).map(a=>e.topRules[a][1]),r=[];for(let a=0;a<n.length;a++)r.push([]);function s(a,l,u){r[a].push([l,l.deserialize(String(u))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=se[l]);for(let u=1;u<a.length;){let c=a[u++];if(c>=0)s(c,l,a[u++]);else{let f=a[u+-c];for(let d=-c;d>0;d--)s(a[u++],l,f);u++}}}this.nodeSet=new ro(n.map((a,l)=>it.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:r[l],top:i.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=Sw;let o=ta(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(D1),this.states=ta(e.states,Uint32Array),this.data=ta(e.stateData),this.goto=ta(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new Ps(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,i){let r=new yQ(this,e,n,i);for(let s of this.wrappers)r=s(r,e,n,i);return r}getGoto(e,n,i=!1){let r=this.goto;if(n>=r[0])return-1;for(let s=r[n+1];;){let o=r[s++],a=o&1,l=r[s++];if(a&&i)return l;for(let u=s+(o>>1);s<u;s++)if(r[s]==e)return l;if(a)return-1}}hasAction(e,n){let i=this.data;for(let r=0;r<2;r++)for(let s=this.stateSlot(e,r?2:1),o;;s+=3){if((o=i[s])==65535)if(i[s+1]==1)o=i[s=ui(i,s+2)];else{if(i[s+1]==2)return ui(i,s+2);break}if(o==n||o==0)return ui(i,s+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){return!!this.allActions(e,i=>i==n?!0:null)}allActions(e,n){let i=this.stateSlot(e,4),r=i?n(i):void 0;for(let s=this.stateSlot(e,1);r==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=ui(this.data,s+2);else break;r=n(ui(this.data,s+1))}return r}nextStates(e){let n=[];for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=ui(this.data,i+2);else break;if(!(this.data[i+2]&1)){let r=this.data[i+1];n.some((s,o)=>o&1&&s==r)||n.push(this.data[i],r)}}return n}configure(e){let n=Object.assign(Object.create(Ys.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=i}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(i=>{let r=e.tokenizers.find(s=>s.from==i);return r?r.to:i})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((i,r)=>{let s=e.specializers.find(a=>a.from==i.external);if(!s)return i;let o=Object.assign(Object.assign({},i),{external:s.to});return n.specializers[r]=D1(o),o})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),i=n.map(()=>!1);if(e)for(let s of e.split(" ")){let o=n.indexOf(s);o>=0&&(i[o]=!0)}let r=null;for(let s=0;s<n.length;s++)if(!i[s])for(let o=this.dialects[n[s]],a;(a=this.data[o++])!=65535;)(r||(r=new Uint8Array(this.maxTerm+1)))[a]=1;return new vQ(e,i,r)}static deserialize(e){return new Ys(e)}}function ui(t,e){return t[e]|t[e+1]<<16}function _Q(t){let e=null;for(let n of t){let i=n.p.stoppedAt;(n.pos==n.p.stream.end||i!=null&&n.pos>i)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function D1(t){if(t.external){let e=t.extend?1:0;return(n,i)=>t.external(n,i)<<1|e}return t.get}const wQ=54,xQ=1,kQ=55,SQ=2,TQ=56,PQ=3,V1=4,AQ=5,_c=6,hk=7,fk=8,dk=9,pk=10,EQ=11,CQ=12,$Q=13,ef=57,RQ=14,M1=58,mk=20,IQ=22,gk=23,QQ=24,Ld=26,Ok=27,DQ=28,VQ=31,MQ=34,LQ=36,FQ=37,NQ=0,ZQ=1,zQ={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},qQ={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},L1={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function BQ(t){return t==45||t==46||t==58||t>=65&&t<=90||t==95||t>=97&&t<=122||t>=161}function bk(t){return t==9||t==10||t==13||t==32}let F1=null,N1=null,Z1=0;function Fd(t,e){let n=t.pos+e;if(Z1==n&&N1==t)return F1;let i=t.peek(e);for(;bk(i);)i=t.peek(++e);let r="";for(;BQ(i);)r+=String.fromCharCode(i),i=t.peek(++e);return N1=t,Z1=n,F1=r?r.toLowerCase():i==jQ||i==XQ?void 0:null}const yk=60,wc=62,bm=47,jQ=63,XQ=33,WQ=45;function z1(t,e){this.name=t,this.parent=e}const UQ=[_c,pk,hk,fk,dk],YQ=new ck({start:null,shift(t,e,n,i){return UQ.indexOf(e)>-1?new z1(Fd(i,1)||"",t):t},reduce(t,e){return e==mk&&t?t.parent:t},reuse(t,e,n,i){let r=e.type.id;return r==_c||r==LQ?new z1(Fd(i,1)||"",t):t},strict:!1}),GQ=new En((t,e)=>{if(t.next!=yk){t.next<0&&e.context&&t.acceptToken(ef);return}t.advance();let n=t.next==bm;n&&t.advance();let i=Fd(t,0);if(i===void 0)return;if(!i)return t.acceptToken(n?RQ:_c);let r=e.context?e.context.name:null;if(n){if(i==r)return t.acceptToken(EQ);if(r&&qQ[r])return t.acceptToken(ef,-2);if(e.dialectEnabled(NQ))return t.acceptToken(CQ);for(let s=e.context;s;s=s.parent)if(s.name==i)return;t.acceptToken($Q)}else{if(i=="script")return t.acceptToken(hk);if(i=="style")return t.acceptToken(fk);if(i=="textarea")return t.acceptToken(dk);if(zQ.hasOwnProperty(i))return t.acceptToken(pk);r&&L1[r]&&L1[r][i]?t.acceptToken(ef,-1):t.acceptToken(_c)}},{contextual:!0}),HQ=new En(t=>{for(let e=0,n=0;;n++){if(t.next<0){n&&t.acceptToken(M1);break}if(t.next==WQ)e++;else if(t.next==wc&&e>=2){n>=3&&t.acceptToken(M1,-2);break}else e=0;t.advance()}});function KQ(t){for(;t;t=t.parent)if(t.name=="svg"||t.name=="math")return!0;return!1}const JQ=new En((t,e)=>{if(t.next==bm&&t.peek(1)==wc){let n=e.dialectEnabled(ZQ)||KQ(e.context);t.acceptToken(n?AQ:V1,2)}else t.next==wc&&t.acceptToken(V1,1)});function ym(t,e,n){let i=2+t.length;return new En(r=>{for(let s=0,o=0,a=0;;a++){if(r.next<0){a&&r.acceptToken(e);break}if(s==0&&r.next==yk||s==1&&r.next==bm||s>=2&&s<i&&r.next==t.charCodeAt(s-2))s++,o++;else if((s==2||s==i)&&bk(r.next))o++;else if(s==i&&r.next==wc){a>o?r.acceptToken(e,-o):r.acceptToken(n,-(o-2));break}else if((r.next==10||r.next==13)&&a){r.acceptToken(e,1);break}else s=o=0;r.advance()}})}const eD=ym("script",wQ,xQ),tD=ym("style",kQ,SQ),nD=ym("textarea",TQ,PQ),iD=so({"Text RawText":x.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":x.angleBracket,TagName:x.tagName,"MismatchedCloseTag/TagName":[x.tagName,x.invalid],AttributeName:x.attributeName,"AttributeValue UnquotedAttributeValue":x.attributeValue,Is:x.definitionOperator,"EntityReference CharacterReference":x.character,Comment:x.blockComment,ProcessingInst:x.processingInstruction,DoctypeDecl:x.documentMeta}),rD=Ys.deserialize({version:14,states:",xOVO!rOOO!WQ#tO'#CqO!]Q#tO'#CzO!bQ#tO'#C}O!gQ#tO'#DQO!lQ#tO'#DSO!qOaO'#CpO!|ObO'#CpO#XOdO'#CpO$eO!rO'#CpOOO`'#Cp'#CpO$lO$fO'#DTO$tQ#tO'#DVO$yQ#tO'#DWOOO`'#Dk'#DkOOO`'#DY'#DYQVO!rOOO%OQ&rO,59]O%ZQ&rO,59fO%fQ&rO,59iO%qQ&rO,59lO%|Q&rO,59nOOOa'#D^'#D^O&XOaO'#CxO&dOaO,59[OOOb'#D_'#D_O&lObO'#C{O&wObO,59[OOOd'#D`'#D`O'POdO'#DOO'[OdO,59[OOO`'#Da'#DaO'dO!rO,59[O'kQ#tO'#DROOO`,59[,59[OOOp'#Db'#DbO'pO$fO,59oOOO`,59o,59oO'xQ#|O,59qO'}Q#|O,59rOOO`-E7W-E7WO(SQ&rO'#CsOOQW'#DZ'#DZO(bQ&rO1G.wOOOa1G.w1G.wOOO`1G/Y1G/YO(mQ&rO1G/QOOOb1G/Q1G/QO(xQ&rO1G/TOOOd1G/T1G/TO)TQ&rO1G/WOOO`1G/W1G/WO)`Q&rO1G/YOOOa-E7[-E7[O)kQ#tO'#CyOOO`1G.v1G.vOOOb-E7]-E7]O)pQ#tO'#C|OOOd-E7^-E7^O)uQ#tO'#DPOOO`-E7_-E7_O)zQ#|O,59mOOOp-E7`-E7`OOO`1G/Z1G/ZOOO`1G/]1G/]OOO`1G/^1G/^O*PQ,UO,59_OOQW-E7X-E7XOOOa7+$c7+$cOOO`7+$t7+$tOOOb7+$l7+$lOOOd7+$o7+$oOOO`7+$r7+$rO*[Q#|O,59eO*aQ#|O,59hO*fQ#|O,59kOOO`1G/X1G/XO*kO7[O'#CvO*|OMhO'#CvOOQW1G.y1G.yOOO`1G/P1G/POOO`1G/S1G/SOOO`1G/V1G/VOOOO'#D['#D[O+_O7[O,59bOOQW,59b,59bOOOO'#D]'#D]O+pOMhO,59bOOOO-E7Y-E7YOOQW1G.|1G.|OOOO-E7Z-E7Z",stateData:",]~O!^OS~OUSOVPOWQOXROYTO[]O][O^^O`^Oa^Ob^Oc^Ox^O{_O!dZO~OfaO~OfbO~OfcO~OfdO~OfeO~O!WfOPlP!ZlP~O!XiOQoP!ZoP~O!YlORrP!ZrP~OUSOVPOWQOXROYTOZqO[]O][O^^O`^Oa^Ob^Oc^Ox^O!dZO~O!ZrO~P#dO![sO!euO~OfvO~OfwO~OS|OT}OhyO~OS!POT}OhyO~OS!ROT}OhyO~OS!TOT}OhyO~OS}OT}OhyO~O!WfOPlX!ZlX~OP!WO!Z!XO~O!XiOQoX!ZoX~OQ!ZO!Z!XO~O!YlORrX!ZrX~OR!]O!Z!XO~O!Z!XO~P#dOf!_O~O![sO!e!aO~OS!bO~OS!cO~Oi!dOSgXTgXhgX~OS!fOT!gOhyO~OS!hOT!gOhyO~OS!iOT!gOhyO~OS!jOT!gOhyO~OS!gOT!gOhyO~Of!kO~Of!lO~Of!mO~OS!nO~Ok!qO!`!oO!b!pO~OS!rO~OS!sO~OS!tO~Oa!uOb!uOc!uO!`!wO!a!uO~Oa!xOb!xOc!xO!b!wO!c!xO~Oa!uOb!uOc!uO!`!{O!a!uO~Oa!xOb!xOc!xO!b!{O!c!xO~OT~bac!dx{!d~",goto:"%p!`PPPPPPPPPPPPPPPPPPPP!a!gP!mPP!yP!|#P#S#Y#]#`#f#i#l#r#x!aP!a!aP$O$U$l$r$x%O%U%[%bPPPPPPPP%hX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:"⚠ StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:67,context:YQ,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,21,30,33,36,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,29,32,35,37,"OpenTag"],["group",-9,14,17,18,19,20,39,40,41,42,"Entity",16,"Entity TextContent",-3,28,31,34,"TextContent Entity"],["isolate",-11,21,29,30,32,33,35,36,37,38,41,42,"ltr",-3,26,27,39,""]],propSources:[iD],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|c`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bX`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UV`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pT`POv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!cpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({W`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!a`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!a`!cpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYkWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]``P!a`!cp!^^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebhSkWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXhSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vchS`P!a`!cpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!`h`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WihSkWc!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zbkWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOa!R!R7tP;=`<%l7S!Z8OYkWa!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{ihSkWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbhSkWa!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QchSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXhSa!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TakWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOb!R!RAwP;=`<%lAY!ZBRYkWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbhSkWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbhSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXhSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!bx`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYlhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_khS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_X`P!a`!cp!eQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZhSfQ`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!a`!cpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!a`!cp!dPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!a`!cpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!a`!cpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!a`!cpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!a`!cpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!a`!cpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!a`!cpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!a`!cpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!cpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO{PP!-nP;=`<%l!-Sq!-xS!cp{POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!a`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!a`{POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!a`!cp{POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!a`!cpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!a`!cpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!a`!cpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!a`!cpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!a`!cpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!a`!cpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!cpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOxPP!7TP;=`<%l!6Vq!7]V!cpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!cpxPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!a`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!a`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!a`xPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!a`!cpxPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXiS`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[eD,tD,nD,JQ,GQ,HQ,0,1,2,3,4,5],topRules:{Document:[0,15]},dialects:{noMatch:0,selfClosing:509},tokenPrec:511});function vk(t,e){let n=Object.create(null);for(let i of t.getChildren(gk)){let r=i.getChild(QQ),s=i.getChild(Ld)||i.getChild(Ok);r&&(n[e.read(r.from,r.to)]=s?s.type.id==Ld?e.read(s.from+1,s.to-1):e.read(s.from,s.to):"")}return n}function q1(t,e){let n=t.getChild(IQ);return n?e.read(n.from,n.to):" "}function tf(t,e,n){let i;for(let r of n)if(!r.attrs||r.attrs(i||(i=vk(t.node.parent.firstChild,e))))return{parser:r.parser};return null}function _k(t=[],e=[]){let n=[],i=[],r=[],s=[];for(let a of t)(a.tag=="script"?n:a.tag=="style"?i:a.tag=="textarea"?r:s).push(a);let o=e.length?Object.create(null):null;for(let a of e)(o[a.name]||(o[a.name]=[])).push(a);return Cw((a,l)=>{let u=a.type.id;if(u==DQ)return tf(a,l,n);if(u==VQ)return tf(a,l,i);if(u==MQ)return tf(a,l,r);if(u==mk&&s.length){let c=a.node,f=c.firstChild,d=f&&q1(f,l),p;if(d){for(let m of s)if(m.tag==d&&(!m.attrs||m.attrs(p||(p=vk(f,l))))){let O=c.lastChild,y=O.type.id==FQ?O.from:c.to;if(y>f.to)return{parser:m.parser,overlay:[{from:f.to,to:y}]}}}}if(o&&u==gk){let c=a.node,f;if(f=c.firstChild){let d=o[l.read(f.from,f.to)];if(d)for(let p of d){if(p.tagName&&p.tagName!=q1(c.parent,l))continue;let m=c.lastChild;if(m.type.id==Ld){let O=m.from+1,y=m.lastChild,_=m.to-(y&&y.isError?0:1);if(_>O)return{parser:p.parser,overlay:[{from:O,to:_}]}}else if(m.type.id==Ok)return{parser:p.parser,overlay:[{from:m.from,to:m.to}]}}}}return null})}const sD=99,B1=1,oD=100,aD=101,j1=2,wk=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],lD=58,uD=40,xk=95,cD=91,Eu=45,hD=46,fD=35,dD=37,pD=38,mD=92,gD=10;function Na(t){return t>=65&&t<=90||t>=97&&t<=122||t>=161}function kk(t){return t>=48&&t<=57}const OD=new En((t,e)=>{for(let n=!1,i=0,r=0;;r++){let{next:s}=t;if(Na(s)||s==Eu||s==xk||n&&kk(s))!n&&(s!=Eu||r>0)&&(n=!0),i===r&&s==Eu&&i++,t.advance();else if(s==mD&&t.peek(1)!=gD)t.advance(),t.next>-1&&t.advance(),n=!0;else{n&&t.acceptToken(s==uD?oD:i==2&&e.canShift(j1)?j1:aD);break}}}),bD=new En(t=>{if(wk.includes(t.peek(-1))){let{next:e}=t;(Na(e)||e==xk||e==fD||e==hD||e==cD||e==lD&&Na(t.peek(1))||e==Eu||e==pD)&&t.acceptToken(sD)}}),yD=new En(t=>{if(!wk.includes(t.peek(-1))){let{next:e}=t;if(e==dD&&(t.advance(),t.acceptToken(B1)),Na(e)){do t.advance();while(Na(t.next)||kk(t.next));t.acceptToken(B1)}}}),vD=so({"AtKeyword import charset namespace keyframes media supports":x.definitionKeyword,"from to selector":x.keyword,NamespaceName:x.namespace,KeyframeName:x.labelName,KeyframeRangeName:x.operatorKeyword,TagName:x.tagName,ClassName:x.className,PseudoClassName:x.constant(x.className),IdName:x.labelName,"FeatureName PropertyName":x.propertyName,AttributeName:x.attributeName,NumberLiteral:x.number,KeywordQuery:x.keyword,UnaryQueryOp:x.operatorKeyword,"CallTag ValueName":x.atom,VariableName:x.variableName,Callee:x.operatorKeyword,Unit:x.unit,"UniversalSelector NestingSelector":x.definitionOperator,MatchOp:x.compareOperator,"ChildOp SiblingOp, LogicOp":x.logicOperator,BinOp:x.arithmeticOperator,Important:x.modifier,Comment:x.blockComment,ColorLiteral:x.color,"ParenthesizedContent StringLiteral":x.string,":":x.punctuation,"PseudoOp #":x.derefOperator,"; ,":x.separator,"( )":x.paren,"[ ]":x.squareBracket,"{ }":x.brace}),_D={__proto__:null,lang:32,"nth-child":32,"nth-last-child":32,"nth-of-type":32,"nth-last-of-type":32,dir:32,"host-context":32,url:60,"url-prefix":60,domain:60,regexp:60,selector:138},wD={__proto__:null,"@import":118,"@media":142,"@charset":146,"@namespace":150,"@keyframes":156,"@supports":168},xD={__proto__:null,not:132,only:132},kD=Ys.deserialize({version:14,states:":^QYQ[OOO#_Q[OOP#fOWOOOOQP'#Cd'#CdOOQP'#Cc'#CcO#kQ[O'#CfO$_QXO'#CaO$fQ[O'#ChO$qQ[O'#DTO$vQ[O'#DWOOQP'#Em'#EmO${QdO'#DgO%jQ[O'#DtO${QdO'#DvO%{Q[O'#DxO&WQ[O'#D{O&`Q[O'#ERO&nQ[O'#ETOOQS'#El'#ElOOQS'#EW'#EWQYQ[OOO&uQXO'#CdO'jQWO'#DcO'oQWO'#EsO'zQ[O'#EsQOQWOOP(UO#tO'#C_POOO)C@[)C@[OOQP'#Cg'#CgOOQP,59Q,59QO#kQ[O,59QO(aQ[O'#E[O({QWO,58{O)TQ[O,59SO$qQ[O,59oO$vQ[O,59rO(aQ[O,59uO(aQ[O,59wO(aQ[O,59xO)`Q[O'#DbOOQS,58{,58{OOQP'#Ck'#CkOOQO'#DR'#DROOQP,59S,59SO)gQWO,59SO)lQWO,59SOOQP'#DV'#DVOOQP,59o,59oOOQO'#DX'#DXO)qQ`O,59rOOQS'#Cp'#CpO${QdO'#CqO)yQvO'#CsO+ZQtO,5:ROOQO'#Cx'#CxO)lQWO'#CwO+oQWO'#CyO+tQ[O'#DOOOQS'#Ep'#EpOOQO'#Dj'#DjO+|Q[O'#DqO,[QWO'#EtO&`Q[O'#DoO,jQWO'#DrOOQO'#Eu'#EuO)OQWO,5:`O,oQpO,5:bOOQS'#Dz'#DzO,wQWO,5:dO,|Q[O,5:dOOQO'#D}'#D}O-UQWO,5:gO-ZQWO,5:mO-cQWO,5:oOOQS-E8U-E8UO${QdO,59}O-kQ[O'#E^O-xQWO,5;_O-xQWO,5;_POOO'#EV'#EVP.TO#tO,58yPOOO,58y,58yOOQP1G.l1G.lO.zQXO,5:vOOQO-E8Y-E8YOOQS1G.g1G.gOOQP1G.n1G.nO)gQWO1G.nO)lQWO1G.nOOQP1G/Z1G/ZO/XQ`O1G/^O/rQXO1G/aO0YQXO1G/cO0pQXO1G/dO1WQWO,59|O1]Q[O'#DSO1dQdO'#CoOOQP1G/^1G/^O${QdO1G/^O1kQpO,59]OOQS,59_,59_O${QdO,59aO1sQWO1G/mOOQS,59c,59cO1xQ!bO,59eOOQS'#DP'#DPOOQS'#EY'#EYO2QQ[O,59jOOQS,59j,59jO2YQWO'#DjO2eQWO,5:VO2jQWO,5:]O&`Q[O,5:XO&`Q[O'#E_O2rQWO,5;`O2}QWO,5:ZO(aQ[O,5:^OOQS1G/z1G/zOOQS1G/|1G/|OOQS1G0O1G0OO3`QWO1G0OO3eQdO'#EOOOQS1G0R1G0ROOQS1G0X1G0XOOQS1G0Z1G0ZO3pQtO1G/iOOQO,5:x,5:xO4WQ[O,5:xOOQO-E8[-E8[O4eQWO1G0yPOOO-E8T-E8TPOOO1G.e1G.eOOQP7+$Y7+$YOOQP7+$x7+$xO${QdO7+$xOOQS1G/h1G/hO4pQXO'#ErO4wQWO,59nO4|QtO'#EXO5tQdO'#EoO6OQWO,59ZO6TQpO7+$xOOQS1G.w1G.wOOQS1G.{1G.{OOQS7+%X7+%XO6]QWO1G/POOQS-E8W-E8WOOQS1G/U1G/UO${QdO1G/qOOQO1G/w1G/wOOQO1G/s1G/sO6bQWO,5:yOOQO-E8]-E8]O6pQXO1G/xOOQS7+%j7+%jO6wQYO'#CsOOQO'#EQ'#EQO7SQ`O'#EPOOQO'#EP'#EPO7_QWO'#E`O7gQdO,5:jOOQS,5:j,5:jO7rQtO'#E]O${QdO'#E]O8sQdO7+%TOOQO7+%T7+%TOOQO1G0d1G0dO9WQpO<<HdO9`QWO,5;^OOQP1G/Y1G/YOOQS-E8V-E8VO${QdO'#EZO9hQWO,5;ZOOQT1G.u1G.uOOQP<<Hd<<HdOOQS7+$k7+$kO9pQdO7+%]OOQO7+%d7+%dOOQO,5:k,5:kO3hQdO'#EaO7_QWO,5:zOOQS,5:z,5:zOOQS-E8^-E8^OOQS1G0U1G0UO9wQtO,5:wOOQS-E8Z-E8ZOOQO<<Ho<<HoOOQPAN>OAN>OO:xQdO,5:uOOQO-E8X-E8XOOQO<<Hw<<HwOOQO,5:{,5:{OOQO-E8_-E8_OOQS1G0f1G0f",stateData:";[~O#ZOS#[QQ~OUYOXYO]VO^VOqXOxWO![aO!]ZO!i[O!k]O!m^O!p_O!v`O#XRO#bTO~OQfOUYOXYO]VO^VOqXOxWO![aO!]ZO!i[O!k]O!m^O!p_O!v`O#XeO#bTO~O#U#gP~P!ZO#[jO~O#XlO~O]qO^qOqsOtoOxrO!OtO!RvO#VuO#bnO~O!TwO~P#pO`}O#WzO#XyO~O#X!OO~O#X!QO~OQ![Ob!TOf![Oh![On!YOq!ZO#W!WO#X!SO#e!UO~Ob!^O!d!`O!g!aO#X!]O!T#hP~Oh!fOn!YO#X!eO~Oh!hO#X!hO~Ob!^O!d!`O!g!aO#X!]O~O!Y#hP~P%jO]WX]!WX^WXqWXtWXxWX!OWX!RWX!TWX#VWX#bWX~O]!mO~O!Y!nO#U#gX!S#gX~O#U#gX!S#gX~P!ZO#]!qO#^!qO#_!sO~OUYOXYO]VO^VOqXOxWO#XRO#bTO~OtoO!TwO~O`!zO#WzO#XyO~O!S#gP~P!ZOb#RO~Ob#SO~Op#TO|#UO~OP#WObgXjgX!YgX!dgX!ggX#XgXagXQgXfgXhgXngXqgXtgX!XgX#UgX#WgX#egXpgX!SgX~Ob!^Oj#XO!d!`O!g!aO#X!]O!Y#hP~Ob#[O~Op#`O#X#]O~Ob!^O!d!`O!g!aO#X#aO~Ot#eO!b#dO!T#hX!Y#hX~Ob#hO~Oj#XO!Y#jO~O!Y#kO~Oh#lOn!YO~O!T#mO~O!TwO!b#dO~O!TwO!Y#pO~O!Y#QX#U#QX!S#QX~P!ZO!Y!nO#U#ga!S#ga~O#]!qO#^!qO#_#wO~O]qO^qOqsOxrO!OtO!RvO#VuO#bnO~Ot#Oa!T#Oaa#Oa~P.`Op#yO|#zO~O]qO^qOqsOxrO#bnO~Ot}i!O}i!R}i!T}i#V}ia}i~P/aOt!Pi!O!Pi!R!Pi!T!Pi#V!Pia!Pi~P/aOt!Qi!O!Qi!R!Qi!T!Qi#V!Qia!Qi~P/aO!S#{O~Oa#fP~P(aOa#cP~P${Oa$SOj#XO~O!Y$UO~Oh$VOo$VO~Op$XO#X#]O~O]!`Xa!^X!b!^X~O]$YO~Oa$ZO!b#dO~Ot#eO!T#ha!Y#ha~O!b#dOt!ca!T!ca!Y!caa!ca~O!Y$`O~O!S$gO#X$bO#e$aO~Oj#XOt$iO!X$kO!Y!Vi#U!Vi!S!Vi~P${O!Y#Qa#U#Qa!S#Qa~P!ZO!Y!nO#U#gi!S#gi~Oa#fX~P#pOa$oO~Oj#XOQ!{Xa!{Xb!{Xf!{Xh!{Xn!{Xq!{Xt!{X#W!{X#X!{X#e!{X~Ot$qOa#cX~P${Oa$sO~Oj#XOp$tO~Oa$uO~O!b#dOt#Ra!T#Ra!Y#Ra~Oa$wO~P.`OP#WOtgX!TgX~O#e$aOt!sX!T!sX~Ot$yO!TwO~O!S$}O#X$bO#e$aO~Oj#XOQ#PXb#PXf#PXh#PXn#PXq#PXt#PX!X#PX!Y#PX#U#PX#W#PX#X#PX#e#PX!S#PX~Ot$iO!X%QO!Y!Vq#U!Vq!S!Vq~P${Oj#XOp%RO~OtoOa#fa~Ot$qOa#ca~Oa%UO~P${Oj#XOQ#Pab#Paf#Pah#Pan#Paq#Pat#Pa!X#Pa!Y#Pa#U#Pa#W#Pa#X#Pa#e#Pa!S#Pa~Oa!}at!}a~P${O#Zo#[#ej!R#e~",goto:"-g#jPPP#kP#nP#w$WP#w$g#wPP$mPPP$s$|$|P%`P$|P$|%z&^PPPP$|&vP&z'Q#wP'W#w'^P#wP#w#wPPP'd'y(WPP#nPP(_(_(i(_P(_P(_(_P#nP#nP#nP(l#nP(o(r(u(|#nP#nP)R)X)h)v)|*S*^*d*n*t*zPPPPPPPPPP+Q+ZP+v+yP,o,r,x-RRkQ_bOPdhw!n#skYOPdhotuvw!n#R#h#skSOPdhotuvw!n#R#h#sQmTR!tnQ{VR!xqQ!x}Q#Z!XR#x!zq![Z]!T!m#S#U#X#q#z$P$Y$i$j$q$v%Sp![Z]!T!m#S#U#X#q#z$P$Y$i$j$q$v%SU$d#m$f$yR$x$cq!XZ]!T!m#S#U#X#q#z$P$Y$i$j$q$v%Sp![Z]!T!m#S#U#X#q#z$P$Y$i$j$q$v%SQ!f^R#l!gT#^!Z#_Q|VR!yqQ!x|R#x!yQ!PWR!{rQ!RXR!|sQxUQ!wpQ#i!cQ#o!jQ#p!kQ${$eR%X$zSgPwQ!phQ#r!nR$l#sZfPhw!n#sa!b[`a!V!^!`#d#eR#b!^R!g^R!i_R#n!iS$e#m$fR%V$yV$c#m$f$yQ!rjR#v!rQdOShPwU!ldh#sR#s!nQ$P#SU$p$P$v%SQ$v$YR%S$qQ#_!ZR$W#_Q$r$PR%T$rQpUS!vp$nR$n#|Q$j#qR%P$jQ!ogS#t!o#uR#u!pQ#f!_R$^#fQ$f#mR$|$fQ$z$eR%W$z_cOPdhw!n#s^UOPdhw!n#sQ!uoQ!}tQ#OuQ#PvQ#|#RR$_#hR$Q#SQ!VZQ!d]Q#V!TQ#q!m[$O#S$P$Y$q$v%SQ$R#UQ$T#XS$h#q$jQ$m#zR%O$iR#}#RQiPR#QwQ!c[Q!kaR#Y!VU!_[a!VQ!j`Q#c!^Q#g!`Q$[#dR$]#e",nodeNames:"⚠ Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent ] [ LineNames LineName , PseudoClassName ArgList IdSelector # IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports AtRule Styles",maxTerm:117,nodeProps:[["isolate",-2,3,24,""],["openedBy",17,"(",32,"[",50,"{"],["closedBy",18,")",33,"]",51,"}"]],propSources:[vD],skippedNodes:[0,3,87],repeatNodeCount:11,tokenData:"J^~R!^OX$}X^%u^p$}pq%uqr)Xrs.Rst/utu6duv$}vw7^wx7oxy9^yz9oz{9t{|:_|}?Q}!O?c!O!P@Q!P!Q@i!Q![Ab![!]B]!]!^CX!^!_$}!_!`Cj!`!aC{!a!b$}!b!cDw!c!}$}!}#OFa#O#P$}#P#QFr#Q#R6d#R#T$}#T#UGT#U#c$}#c#dHf#d#o$}#o#pH{#p#q6d#q#rI^#r#sIo#s#y$}#y#z%u#z$f$}$f$g%u$g#BY$}#BY#BZ%u#BZ$IS$}$IS$I_%u$I_$I|$}$I|$JO%u$JO$JT$}$JT$JU%u$JU$KV$}$KV$KW%u$KW&FU$}&FU&FV%u&FV;'S$};'S;=`JW<%lO$}`%QSOy%^z;'S%^;'S;=`%o<%lO%^`%cSo`Oy%^z;'S%^;'S;=`%o<%lO%^`%rP;=`<%l%^~%zh#Z~OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^~'mh#Z~o`OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^l)[UOy%^z#]%^#]#^)n#^;'S%^;'S;=`%o<%lO%^l)sUo`Oy%^z#a%^#a#b*V#b;'S%^;'S;=`%o<%lO%^l*[Uo`Oy%^z#d%^#d#e*n#e;'S%^;'S;=`%o<%lO%^l*sUo`Oy%^z#c%^#c#d+V#d;'S%^;'S;=`%o<%lO%^l+[Uo`Oy%^z#f%^#f#g+n#g;'S%^;'S;=`%o<%lO%^l+sUo`Oy%^z#h%^#h#i,V#i;'S%^;'S;=`%o<%lO%^l,[Uo`Oy%^z#T%^#T#U,n#U;'S%^;'S;=`%o<%lO%^l,sUo`Oy%^z#b%^#b#c-V#c;'S%^;'S;=`%o<%lO%^l-[Uo`Oy%^z#h%^#h#i-n#i;'S%^;'S;=`%o<%lO%^l-uS!X[o`Oy%^z;'S%^;'S;=`%o<%lO%^~.UWOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o<%lO.R~.sOh~~.vRO;'S.R;'S;=`/P;=`O.R~/SXOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o;=`<%l.R<%lO.R~/rP;=`<%l.Rn/zYxQOy%^z!Q%^!Q![0j![!c%^!c!i0j!i#T%^#T#Z0j#Z;'S%^;'S;=`%o<%lO%^l0oYo`Oy%^z!Q%^!Q![1_![!c%^!c!i1_!i#T%^#T#Z1_#Z;'S%^;'S;=`%o<%lO%^l1dYo`Oy%^z!Q%^!Q![2S![!c%^!c!i2S!i#T%^#T#Z2S#Z;'S%^;'S;=`%o<%lO%^l2ZYf[o`Oy%^z!Q%^!Q![2y![!c%^!c!i2y!i#T%^#T#Z2y#Z;'S%^;'S;=`%o<%lO%^l3QYf[o`Oy%^z!Q%^!Q![3p![!c%^!c!i3p!i#T%^#T#Z3p#Z;'S%^;'S;=`%o<%lO%^l3uYo`Oy%^z!Q%^!Q![4e![!c%^!c!i4e!i#T%^#T#Z4e#Z;'S%^;'S;=`%o<%lO%^l4lYf[o`Oy%^z!Q%^!Q![5[![!c%^!c!i5[!i#T%^#T#Z5[#Z;'S%^;'S;=`%o<%lO%^l5aYo`Oy%^z!Q%^!Q![6P![!c%^!c!i6P!i#T%^#T#Z6P#Z;'S%^;'S;=`%o<%lO%^l6WSf[o`Oy%^z;'S%^;'S;=`%o<%lO%^d6gUOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^d7QS|So`Oy%^z;'S%^;'S;=`%o<%lO%^b7cSXQOy%^z;'S%^;'S;=`%o<%lO%^~7rWOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W<%lO7o~8_RO;'S7o;'S;=`8h;=`O7o~8kXOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W;=`<%l7o<%lO7o~9ZP;=`<%l7on9cSb^Oy%^z;'S%^;'S;=`%o<%lO%^~9tOa~n9{UUQjWOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^n:fWjW!RQOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^l;TUo`Oy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^l;nYo`#e[Oy%^z!Q%^!Q![;g![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^l<cYo`Oy%^z{%^{|=R|}%^}!O=R!O!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=WUo`Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=qUo`#e[Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l>[[o`#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^n?VSt^Oy%^z;'S%^;'S;=`%o<%lO%^l?hWjWOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^n@VU#bQOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^~@nTjWOy%^z{@}{;'S%^;'S;=`%o<%lO%^~AUSo`#[~Oy%^z;'S%^;'S;=`%o<%lO%^lAg[#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^bBbU]QOy%^z![%^![!]Bt!];'S%^;'S;=`%o<%lO%^bB{S^Qo`Oy%^z;'S%^;'S;=`%o<%lO%^nC^S!Y^Oy%^z;'S%^;'S;=`%o<%lO%^dCoS|SOy%^z;'S%^;'S;=`%o<%lO%^bDQU!OQOy%^z!`%^!`!aDd!a;'S%^;'S;=`%o<%lO%^bDkS!OQo`Oy%^z;'S%^;'S;=`%o<%lO%^bDzWOy%^z!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^bEk[![Qo`Oy%^z}%^}!OEd!O!Q%^!Q![Ed![!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^nFfSq^Oy%^z;'S%^;'S;=`%o<%lO%^nFwSp^Oy%^z;'S%^;'S;=`%o<%lO%^bGWUOy%^z#b%^#b#cGj#c;'S%^;'S;=`%o<%lO%^bGoUo`Oy%^z#W%^#W#XHR#X;'S%^;'S;=`%o<%lO%^bHYS!bQo`Oy%^z;'S%^;'S;=`%o<%lO%^bHiUOy%^z#f%^#f#gHR#g;'S%^;'S;=`%o<%lO%^fIQS!TUOy%^z;'S%^;'S;=`%o<%lO%^nIcS!S^Oy%^z;'S%^;'S;=`%o<%lO%^fItU!RQOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^`JZP;=`<%l$}",tokenizers:[bD,yD,OD,1,2,3,4,new vc("m~RRYZ[z{a~~g~aO#^~~dP!P!Qg~lO#_~~",28,105)],topRules:{StyleSheet:[0,4],Styles:[1,86]},specialized:[{term:100,get:t=>_D[t]||-1},{term:58,get:t=>wD[t]||-1},{term:101,get:t=>xD[t]||-1}],tokenPrec:1200});let nf=null;function rf(){if(!nf&&typeof document=="object"&&document.body){let{style:t}=document.body,e=[],n=new Set;for(let i in t)i!="cssText"&&i!="cssFloat"&&typeof t[i]=="string"&&(/[A-Z]/.test(i)&&(i=i.replace(/[A-Z]/g,r=>"-"+r.toLowerCase())),n.has(i)||(e.push(i),n.add(i)));nf=e.sort().map(i=>({type:"property",label:i}))}return nf||[]}const X1=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(t=>({type:"class",label:t})),W1=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(t=>({type:"keyword",label:t})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(t=>({type:"constant",label:t}))),SD=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(t=>({type:"type",label:t})),$i=/^(\w[\w-]*|-\w[\w-]*|)$/,TD=/^-(-[\w-]*)?$/;function PD(t,e){var n;if((t.name=="("||t.type.isError)&&(t=t.parent||t),t.name!="ArgList")return!1;let i=(n=t.parent)===null||n===void 0?void 0:n.firstChild;return i?.name!="Callee"?!1:e.sliceString(i.from,i.to)=="var"}const U1=new Ew,AD=["Declaration"];function ED(t){for(let e=t;;){if(e.type.isTop)return e;if(!(e=e.parent))return t}}function Sk(t,e,n){if(e.to-e.from>4096){let i=U1.get(e);if(i)return i;let r=[],s=new Set,o=e.cursor(Qe.IncludeAnonymous);if(o.firstChild())do for(let a of Sk(t,o.node,n))s.has(a.label)||(s.add(a.label),r.push(a));while(o.nextSibling());return U1.set(e,r),r}else{let i=[],r=new Set;return e.cursor().iterate(s=>{var o;if(n(s)&&s.matchContext(AD)&&((o=s.node.nextSibling)===null||o===void 0?void 0:o.name)==":"){let a=t.sliceString(s.from,s.to);r.has(a)||(r.add(a),i.push({label:a,type:"variable"}))}}),i}}const Tk=t=>e=>{let{state:n,pos:i}=e,r=Xe(n).resolveInner(i,-1),s=r.type.isError&&r.from==r.to-1&&n.doc.sliceString(r.from,r.to)=="-";if(r.name=="PropertyName"||(s||r.name=="TagName")&&/^(Block|Styles)$/.test(r.resolve(r.to).name))return{from:r.from,options:rf(),validFor:$i};if(r.name=="ValueName")return{from:r.from,options:W1,validFor:$i};if(r.name=="PseudoClassName")return{from:r.from,options:X1,validFor:$i};if(t(r)||(e.explicit||s)&&PD(r,n.doc))return{from:t(r)||s?r.from:i,options:Sk(n.doc,ED(r),t),validFor:TD};if(r.name=="TagName"){for(let{parent:l}=r;l;l=l.parent)if(l.name=="Block")return{from:r.from,options:rf(),validFor:$i};return{from:r.from,options:SD,validFor:$i}}if(!e.explicit)return null;let o=r.resolve(i),a=o.childBefore(i);return a&&a.name==":"&&o.name=="PseudoClassSelector"?{from:i,options:X1,validFor:$i}:a&&a.name==":"&&o.name=="Declaration"||o.name=="ArgList"?{from:i,options:W1,validFor:$i}:o.name=="Block"||o.name=="Styles"?{from:i,options:rf(),validFor:$i}:null},Pk=Tk(t=>t.name=="VariableName"),Za=Bs.define({name:"css",parser:kD.configure({props:[sl.add({Declaration:Pu()}),ol.add({"Block KeyframeList":Lw})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function Ak(){return new Ws(Za,Za.data.of({autocomplete:Pk}))}const CD=Object.freeze(Object.defineProperty({__proto__:null,css:Ak,cssCompletionSource:Pk,cssLanguage:Za,defineCSSCompletionSource:Tk},Symbol.toStringTag,{value:"Module"})),$D=312,Y1=1,RD=2,ID=3,QD=4,DD=313,VD=315,MD=316,LD=5,FD=6,ND=0,Nd=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],Ek=125,ZD=59,Zd=47,zD=42,qD=43,BD=45,jD=60,XD=44,WD=63,UD=46,YD=new ck({start:!1,shift(t,e){return e==LD||e==FD||e==VD?t:e==MD},strict:!1}),GD=new En((t,e)=>{let{next:n}=t;(n==Ek||n==-1||e.context)&&t.acceptToken(DD)},{contextual:!0,fallback:!0}),HD=new En((t,e)=>{let{next:n}=t,i;Nd.indexOf(n)>-1||n==Zd&&((i=t.peek(1))==Zd||i==zD)||n!=Ek&&n!=ZD&&n!=-1&&!e.context&&t.acceptToken($D)},{contextual:!0}),KD=new En((t,e)=>{let{next:n}=t;if(n==qD||n==BD){if(t.advance(),n==t.next){t.advance();let i=!e.context&&e.canShift(Y1);t.acceptToken(i?Y1:RD)}}else n==WD&&t.peek(1)==UD&&(t.advance(),t.advance(),(t.next<48||t.next>57)&&t.acceptToken(ID))},{contextual:!0});function sf(t,e){return t>=65&&t<=90||t>=97&&t<=122||t==95||t>=192||!e&&t>=48&&t<=57}const JD=new En((t,e)=>{if(t.next!=jD||!e.dialectEnabled(ND)||(t.advance(),t.next==Zd))return;let n=0;for(;Nd.indexOf(t.next)>-1;)t.advance(),n++;if(sf(t.next,!0)){for(t.advance(),n++;sf(t.next,!1);)t.advance(),n++;for(;Nd.indexOf(t.next)>-1;)t.advance(),n++;if(t.next==XD)return;for(let i=0;;i++){if(i==7){if(!sf(t.next,!0))return;break}if(t.next!="extends".charCodeAt(i))break;t.advance(),n++}}t.acceptToken(QD,-n)}),e9=so({"get set async static":x.modifier,"for while do if else switch try catch finally return throw break continue default case":x.controlKeyword,"in of await yield void typeof delete instanceof":x.operatorKeyword,"let var const using function class extends":x.definitionKeyword,"import export from":x.moduleKeyword,"with debugger as new":x.keyword,TemplateString:x.special(x.string),super:x.atom,BooleanLiteral:x.bool,this:x.self,null:x.null,Star:x.modifier,VariableName:x.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":x.function(x.variableName),VariableDefinition:x.definition(x.variableName),Label:x.labelName,PropertyName:x.propertyName,PrivatePropertyName:x.special(x.propertyName),"CallExpression/MemberExpression/PropertyName":x.function(x.propertyName),"FunctionDeclaration/VariableDefinition":x.function(x.definition(x.variableName)),"ClassDeclaration/VariableDefinition":x.definition(x.className),PropertyDefinition:x.definition(x.propertyName),PrivatePropertyDefinition:x.definition(x.special(x.propertyName)),UpdateOp:x.updateOperator,"LineComment Hashbang":x.lineComment,BlockComment:x.blockComment,Number:x.number,String:x.string,Escape:x.escape,ArithOp:x.arithmeticOperator,LogicOp:x.logicOperator,BitOp:x.bitwiseOperator,CompareOp:x.compareOperator,RegExp:x.regexp,Equals:x.definitionOperator,Arrow:x.function(x.punctuation),": Spread":x.punctuation,"( )":x.paren,"[ ]":x.squareBracket,"{ }":x.brace,"InterpolationStart InterpolationEnd":x.special(x.brace),".":x.derefOperator,", ;":x.separator,"@":x.meta,TypeName:x.typeName,TypeDefinition:x.definition(x.typeName),"type enum interface implements namespace module declare":x.definitionKeyword,"abstract global Privacy readonly override":x.modifier,"is keyof unique infer":x.operatorKeyword,JSXAttributeValue:x.attributeValue,JSXText:x.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":x.angleBracket,"JSXIdentifier JSXNameSpacedName":x.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":x.attributeName,"JSXBuiltin/JSXIdentifier":x.standard(x.tagName)}),t9={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,extends:54,this:58,true:66,false:66,null:78,void:82,typeof:86,super:102,new:136,delete:148,yield:157,await:161,class:166,public:229,private:229,protected:229,readonly:231,instanceof:250,satisfies:253,in:254,const:256,import:290,keyof:345,unique:349,infer:355,is:391,abstract:411,implements:413,type:415,let:418,var:420,using:423,interface:429,enum:433,namespace:439,module:441,declare:445,global:449,for:468,of:477,while:480,with:484,do:488,if:492,else:494,switch:498,case:504,try:510,catch:514,finally:518,return:522,throw:526,break:530,continue:534,debugger:538},n9={__proto__:null,async:123,get:125,set:127,declare:189,public:191,private:191,protected:191,static:193,abstract:195,override:197,readonly:203,accessor:205,new:395},i9={__proto__:null,"<":187},r9=Ys.deserialize({version:14,states:"$=dO%TQ^OOO%[Q^OOO'_Q`OOP(lOWOOO*zQ?NdO'#CiO+RO!bO'#CjO+aO#tO'#CjO+oO!0LbO'#D^O.QQ^O'#DdO.bQ^O'#DoO%[Q^O'#DwO0fQ^O'#EPOOQ?Mr'#EX'#EXO1PQWO'#EUOOQO'#Em'#EmOOQO'#Ih'#IhO1XQWO'#GpO1dQWO'#ElO1iQWO'#ElO3hQ?NdO'#JmO6[Q?NdO'#JnO6uQWO'#F[O6zQ&jO'#FsOOQ?Mr'#Fe'#FeO7VO,YO'#FeO7eQ7[O'#FzO9RQWO'#FyOOQ?Mr'#Jn'#JnOOQ?Mp'#Jm'#JmO9WQWO'#GtOOQU'#KZ'#KZO9cQWO'#IUO9hQ?MxO'#IVOOQU'#JZ'#JZOOQU'#IZ'#IZQ`Q^OOO`Q^OOO9pQMnO'#DsO9wQ^O'#D{O:OQ^O'#D}O9^QWO'#GpO:VQ7[O'#CoO:eQWO'#EkO:pQWO'#EvO:uQ7[O'#FdO;dQWO'#GpOOQO'#K['#K[O;iQWO'#K[O;wQWO'#GxO;wQWO'#GyO;wQWO'#G{O9^QWO'#HOO<nQWO'#HRO>VQWO'#CeO>gQWO'#H_O>oQWO'#HeO>oQWO'#HgO`Q^O'#HiO>oQWO'#HkO>oQWO'#HnO>tQWO'#HtO>yQ?MyO'#HzO%[Q^O'#H|O?UQ?MyO'#IOO?aQ?MyO'#IQO9hQ?MxO'#ISO?lQ?NdO'#CiO@nQ`O'#DiQOQWOOO%[Q^O'#D}OAUQWO'#EQO:VQ7[O'#EkOAaQWO'#EkOAlQpO'#FdOOQU'#Cg'#CgOOQ?Mp'#Dn'#DnOOQ?Mp'#Jq'#JqO%[Q^O'#JqOOQO'#Jt'#JtOOQO'#Id'#IdOBlQ`O'#EdOOQ?Mp'#Ec'#EcOOQ?Mp'#Jx'#JxOChQ?NQO'#EdOCrQ`O'#ETOOQO'#Js'#JsODWQ`O'#JtOEeQ`O'#ETOCrQ`O'#EdPErO#@ItO'#CbPOOO)CDx)CDxOOOO'#I['#I[OE}O!bO,59UOOQ?Mr,59U,59UOOOO'#I]'#I]OF]O#tO,59UO%[Q^O'#D`OOOO'#I_'#I_OFkO!0LbO,59xOOQ?Mr,59x,59xOFyQ^O'#I`OG^QWO'#JoOI]QrO'#JoO+}Q^O'#JoOIdQWO,5:OOIzQWO'#EmOJXQWO'#KOOJdQWO'#J}OJdQWO'#J}OJlQWO,5;ZOJqQWO'#J|OOQ?Mv,5:Z,5:ZOJxQ^O,5:ZOLvQ?NdO,5:cOMgQWO,5:kONQQ?MxO'#J{ONXQWO'#JzO9WQWO'#JzONmQWO'#JzONuQWO,5;YONzQWO'#JzO!#PQrO'#JnOOQ?Mr'#Ci'#CiO%[Q^O'#EPO!#oQrO,5:pOOQQ'#Ju'#JuOOQO-E<f-E<fO9^QWO,5=[O!$VQWO,5=[O!$[Q^O,5;WO!&_Q7[O'#EhO!'xQWO,5;WO!'}Q^O'#DvO!(XQ`O,5;aO!(aQ`O,5;aO%[Q^O,5;aOOQU'#FS'#FSOOQU'#FU'#FUO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bOOQU'#FY'#FYO!(oQ^O,5;sOOQ?Mr,5;x,5;xOOQ?Mr,5;y,5;yOOQ?Mr,5;{,5;{O%[Q^O'#IlO!*rQ?MxO,5<gO!&_Q7[O,5;bO!+aQ7[O,5;bO!-RQ7[O'#EZO%[Q^O,5;vOOQ?Mr,5;z,5;zO!-YQ&jO'#FiO!.VQ&jO'#KSO!-qQ&jO'#KSO!.^Q&jO'#KSOOQO'#KS'#KSO!.rQ&jO,5<ROOOS,5<_,5<_O!/TQ^O'#FuOOOS'#Ik'#IkO7VO,YO,5<PO!/[Q&jO'#FwOOQ?Mr,5<P,5<PO!/{Q!LQO'#CvOOQ?Mr'#Cz'#CzO!0`QWO'#CzO!0eO!0LbO'#DOO!1RQ7[O,5<dO!1YQWO,5<fO!2uQ$ISO'#GVO!3SQWO'#GWO!3XQWO'#GWO!4wQ$ISO'#G[O!5sQ`O'#G`OOQO'#Gk'#GkO!+hQ7[O'#GjOOQO'#Gm'#GmO!+hQ7[O'#GlO!6fQ!LQO'#JgOOQ?Mr'#Jg'#JgO!6pQWO'#JfO!7OQWO'#JeO!7WQWO'#CuOOQ?Mr'#Cx'#CxOOQ?Mr'#DS'#DSOOQ?Mr'#DU'#DUO1SQWO'#DWO!+hQ7[O'#F}O!+hQ7[O'#GPO!7`QWO'#GRO!7eQWO'#GSO!3XQWO'#GYO!+hQ7[O'#G_O!7jQWO'#EnO!8XQWO,5<eOOQ?Mp'#Cr'#CrO!8aQWO'#EoO!9ZQ`O'#EpOOQ?Mp'#J|'#J|O!9bQ?MxO'#K]O9hQ?MxO,5=`O`Q^O,5>pOOQU'#Jc'#JcOOQU,5>q,5>qOOQU-E<X-E<XO!;aQ?NdO,5:_O!9UQ`O,5:]O!=zQ?NdO,5:gO%[Q^O,5:gO!@bQ?NdO,5:iOOQO,5@v,5@vO!ARQ7[O,5=[O!AaQ?MxO'#JdO9RQWO'#JdO!ArQ?MxO,59ZO!A}Q`O,59ZO!BVQ7[O,59ZO:VQ7[O,59ZO!BbQWO,5;WO!BjQWO'#H^O!COQWO'#K`O%[Q^O,5;|O!9UQ`O,5<OO!CWQWO,5=wO!C]QWO,5=wO!CbQWO,5=wO9hQ?MxO,5=wO;wQWO,5=gOOQO'#Cv'#CvO!CpQ`O,5=dO!CxQ7[O,5=eO!DTQWO,5=gO!DYQpO,5=jO!DbQWO'#K[O>tQWO'#HTO9^QWO'#HVO!DgQWO'#HVO:VQ7[O'#HXO!DlQWO'#HXOOQU,5=m,5=mO!DqQWO'#HYO!ESQWO'#CoO!EXQWO,59PO!EcQWO,59PO!GhQ^O,59POOQU,59P,59PO!GxQ?MxO,59PO%[Q^O,59PO!JTQ^O'#HaOOQU'#Hb'#HbOOQU'#Hc'#HcO`Q^O,5=yO!JkQWO,5=yO`Q^O,5>PO`Q^O,5>RO!JpQWO,5>TO`Q^O,5>VO!JuQWO,5>YO!JzQ^O,5>`OOQU,5>f,5>fO%[Q^O,5>fO9hQ?MxO,5>hOOQU,5>j,5>jO# UQWO,5>jOOQU,5>l,5>lO# UQWO,5>lOOQU,5>n,5>nO# rQ`O'#D[O%[Q^O'#JqO# |Q`O'#JqO#!kQ`O'#DjO#!|Q`O'#DjO#%_Q^O'#DjO#%fQWO'#JpO#%nQWO,5:TO#%sQWO'#EqO#&RQWO'#KPO#&ZQWO,5;[O#&`Q`O'#DjO#&mQ`O'#ESOOQ?Mr,5:l,5:lO%[Q^O,5:lO#&tQWO,5:lO>tQWO,5;VO!A}Q`O,5;VO!BVQ7[O,5;VO:VQ7[O,5;VO#&|QWO,5@]O#'RQ(CYO,5:pOOQO-E<b-E<bO#(XQ?NQO,5;OOCrQ`O,5:oO#(cQ`O,5:oOCrQ`O,5;OO!ArQ?MxO,5:oOOQ?Mp'#Eg'#EgOOQO,5;O,5;OO%[Q^O,5;OO#(pQ?MxO,5;OO#({Q?MxO,5;OO!A}Q`O,5:oOOQO,5;U,5;UO#)ZQ?MxO,5;OPOOO'#IY'#IYP#)oO#@ItO,58|POOO,58|,58|OOOO-E<Y-E<YOOQ?Mr1G.p1G.pOOOO-E<Z-E<ZO#)zQpO,59zOOOO-E<]-E<]OOQ?Mr1G/d1G/dO#*PQrO,5>zO+}Q^O,5>zOOQO,5?Q,5?QO#*ZQ^O'#I`OOQO-E<^-E<^O#*hQWO,5@ZO#*pQrO,5@ZO#*wQWO,5@iOOQ?Mr1G/j1G/jO%[Q^O,5@jO#+PQWO'#IfOOQO-E<d-E<dO#*wQWO,5@iOOQ?Mp1G0u1G0uOOQ?Mv1G/u1G/uOOQ?Mv1G0V1G0VO%[Q^O,5@gO#+eQ?MxO,5@gO#+vQ?MxO,5@gO#+}QWO,5@fO9WQWO,5@fO#,VQWO,5@fO#,eQWO'#IiO#+}QWO,5@fOOQ?Mp1G0t1G0tO!(XQ`O,5:rO!(dQ`O,5:rOOQQ,5:t,5:tO#-VQYO,5:tO#-_Q7[O1G2vO9^QWO1G2vOOQ?Mr1G0r1G0rO#-mQ?NdO1G0rO#.rQ?NbO,5;SOOQ?Mr'#GU'#GUO#/`Q?NdO'#JgO!$[Q^O1G0rO#1hQrO'#JrO%[Q^O'#JrO#1rQWO,5:bOOQ?Mr'#D['#D[OOQ?Mr1G0{1G0{O%[Q^O1G0{OOQ?Mr1G1e1G1eO#1wQWO1G0{O#4]Q?NdO1G0|O#4dQ?NdO1G0|O#6zQ?NdO1G0|O#7RQ?NdO1G0|O#9YQ?NdO1G0|O#9pQ?NdO1G0|O#<gQ?NdO1G0|O#<nQ?NdO1G0|O#?OQ?NdO1G0|O#?]Q?NdO1G0|O#AWQ?NdO1G0|O#DWQ07bO'#CiO#FRQ07bO1G1_O#FYQ07bO'#JnO#FmQ?NdO,5?WOOQ?Mp-E<j-E<jO#GaQ?NdO1G0|OOQ?Mr1G0|1G0|O#IiQ7[O'#JwO#IsQWO,5:uO#IxQ?NdO1G1bO#JlQ&jO,5<VO#JtQ&jO,5<WO#J|Q&jO'#FnO#KeQWO'#FmOOQO'#KT'#KTOOQO'#Ij'#IjO#KjQ&jO1G1mOOQ?Mr1G1m1G1mOOOS1G1x1G1xO#K{Q07bO'#JmO#LVQWO,5<aO!(oQ^O,5<aOOOS-E<i-E<iOOQ?Mr1G1k1G1kO#L[Q`O'#KSOOQ?Mr,5<c,5<cO#LdQ`O,5<cOOQ?Mr,59f,59fO!&_Q7[O'#DQOOOO'#I^'#I^O#LiO!0LbO,59jOOQ?Mr,59j,59jO%[Q^O1G2OO!7eQWO'#InO#LtQ7[O,5<xOOQ?Mr,5<u,5<uO!+hQ7[O'#IqO#MdQ7[O,5=UO!+hQ7[O'#IsO#NVQ7[O,5=WO!&_Q7[O,5=YOOQO1G2Q1G2QO#NaQpO'#CrO#NtQ$ISO'#EoO$ sQ`O'#G`O$!aQpO,5<qO$!hQWO'#KWO9WQWO'#KWO$!vQWO,5<sO!+hQ7[O,5<rO$!{QWO'#GXO$#^QWO,5<rO$#cQpO'#GUO$#pQpO'#KXO$#zQWO'#KXO!&_Q7[O'#KXO$$PQWO,5<vO$$UQ`O'#GaO!5nQ`O'#GaO$$gQWO'#GcO$$lQWO'#GeO!3XQWO'#GhO$$qQ?MxO'#IpO$$|Q`O,5<zOOQ?Mv,5<z,5<zO$%TQ`O'#GaO$%cQ`O'#GbO$%kQ`O'#GbO$%pQ7[O,5=UO$&QQ7[O,5=WOOQ?Mr,5=Z,5=ZO!+hQ7[O,5@QO!+hQ7[O,5@QO$&bQWO'#IuO$&mQWO,5@PO$&uQWO,59aO$'iQ!LSO,59rOOQ?Mr'#Jk'#JkO$([Q7[O,5<iO$(}Q7[O,5<kO@fQWO,5<mOOQ?Mr,5<n,5<nO$)XQWO,5<tO$)^Q7[O,5<yO$)nQWO'#JzO!$[Q^O1G2PO$)sQWO1G2PO9WQWO'#J}O9WQWO'#EqO%[Q^O'#EqO9WQWO'#IwO$)xQ?MxO,5@wOOQU1G2z1G2zOOQU1G4[1G4[OOQ?Mr1G/y1G/yOOQ?Mr1G/w1G/wO$+zQ?NdO1G0ROOQU1G2v1G2vO!&_Q7[O1G2vO%[Q^O1G2vO#-bQWO1G2vO$.OQ7[O'#EhOOQ?Mp,5@O,5@OO$.YQ?MxO,5@OOOQU1G.u1G.uO!ArQ?MxO1G.uO!A}Q`O1G.uO!BVQ7[O1G.uO$.kQWO1G0rO$.pQWO'#CiO$.{QWO'#KaO$/TQWO,5=xO$/YQWO'#KaO$/_QWO'#KaO$/mQWO'#I}O$/{QWO,5@zO$0TQrO1G1hOOQ?Mr1G1j1G1jO9^QWO1G3cO@fQWO1G3cO$0[QWO1G3cO$0aQWO1G3cOOQU1G3c1G3cO!DTQWO1G3RO!&_Q7[O1G3OO$0fQWO1G3OOOQU1G3P1G3PO!&_Q7[O1G3PO$0kQWO1G3PO$0sQ`O'#G}OOQU1G3R1G3RO!5nQ`O'#IyO!DYQpO1G3UOOQU1G3U1G3UOOQU,5=o,5=oO$0{Q7[O,5=qO9^QWO,5=qO$$lQWO,5=sO9RQWO,5=sO!A}Q`O,5=sO!BVQ7[O,5=sO:VQ7[O,5=sO$1ZQWO'#K_O$1fQWO,5=tOOQU1G.k1G.kO$1kQ?MxO1G.kO@fQWO1G.kO$1vQWO1G.kO9hQ?MxO1G.kO$4OQrO,5@|O$4]QWO,5@|O9WQWO,5@|O$4hQ^O,5={O$4oQWO,5={OOQU1G3e1G3eO`Q^O1G3eOOQU1G3k1G3kOOQU1G3m1G3mO>oQWO1G3oO$4tQ^O1G3qO$8xQ^O'#HpOOQU1G3t1G3tO$9VQWO'#HvO>tQWO'#HxOOQU1G3z1G3zO$9_Q^O1G3zO9hQ?MxO1G4QOOQU1G4S1G4SOOQ?Mp'#G]'#G]O9hQ?MxO1G4UO9hQ?MxO1G4WO$=fQWO,5@]O!(oQ^O,5;]O9WQWO,5;]O>tQWO,5:UO!(oQ^O,5:UO!A}Q`O,5:UO$=kQ07bO,5:UOOQO,5;],5;]O$=uQ`O'#IaO$>]QWO,5@[OOQ?Mr1G/o1G/oO$>eQ`O'#IgO$>oQWO,5@kOOQ?Mp1G0v1G0vO#!|Q`O,5:UOOQO'#Ic'#IcO$>wQ`O,5:nOOQ?Mv,5:n,5:nO#&wQWO1G0WOOQ?Mr1G0W1G0WO%[Q^O1G0WOOQ?Mr1G0q1G0qO>tQWO1G0qO!A}Q`O1G0qO!BVQ7[O1G0qOOQ?Mp1G5w1G5wO!ArQ?MxO1G0ZOOQO1G0j1G0jO%[Q^O1G0jO$?OQ?MxO1G0jO$?ZQ?MxO1G0jO!A}Q`O1G0ZOCrQ`O1G0ZO$?iQ?MxO1G0jOOQO1G0Z1G0ZO$?}Q?NdO1G0jPOOO-E<W-E<WPOOO1G.h1G.hOOOO1G/f1G/fO$@XQpO,5<gO$@aQrO1G4fOOQO1G4l1G4lO%[Q^O,5>zO$@kQWO1G5uO$@sQWO1G6TO$@{QrO1G6UO9WQWO,5?QO$AVQ?NdO1G6RO%[Q^O1G6RO$AgQ?MxO1G6RO$AxQWO1G6QO$AxQWO1G6QO9WQWO1G6QO$BQQWO,5?TO9WQWO,5?TOOQO,5?T,5?TO$BfQWO,5?TO$)nQWO,5?TOOQO-E<g-E<gOOQQ1G0^1G0^OOQQ1G0`1G0`O#-YQWO1G0`OOQU7+(b7+(bO!&_Q7[O7+(bO%[Q^O7+(bO$BtQWO7+(bO$CPQ7[O7+(bO$C_Q?NdO,5=UO$EgQ?NdO,5=WO$GoQ?NdO,5=UO$I}Q?NdO,5=WO$L]Q?NdO,59rO$NbQ?NdO,5<iO%!jQ?NdO,5<kO%$rQ?NdO,5<yOOQ?Mr7+&^7+&^O%'QQ?NdO7+&^O%'tQ^O'#IbO%(RQWO,5@^O%(ZQrO,5@^OOQ?Mr1G/|1G/|O%(eQWO7+&gOOQ?Mr7+&g7+&gO%(jQ07bO,5:cO%[Q^O7+&yO%(tQ07bO,5:_O%)RQ07bO,5:gO%)]Q07bO,5:iO%)gQ7[O'#IeO%)qQWO,5@cOOQ?Mr1G0a1G0aOOQO1G1q1G1qOOQO1G1r1G1rO%)yQtO,5<YO!(oQ^O,5<XOOQO-E<h-E<hOOQ?Mr7+'X7+'XOOOS7+'d7+'dOOOS1G1{1G1{O%*UQWO1G1{OOQ?Mr1G1}1G1}O%*ZQpO,59lOOOO-E<[-E<[OOQ?Mr1G/U1G/UO%*bQ?NdO7+'jOOQ?Mr,5?Y,5?YO%+UQpO,5?YOOQ?Mr1G2d1G2dP!&_Q7[O'#InPOQ?Mr-E<l-E<lO%+tQ7[O,5?]OOQ?Mr-E<o-E<oO%,gQ7[O,5?_OOQ?Mr-E<q-E<qO%,qQpO1G2tO%,xQpO'#CrO%-`Q7[O'#J}O%-gQ^O'#EqOOQ?Mr1G2]1G2]O%-qQWO'#ImO%.VQWO,5@rO%.VQWO,5@rO%._QWO,5@rO%.jQWO,5@rOOQO1G2_1G2_O%.xQ7[O1G2^O!+hQ7[O1G2^O%/YQ$ISO'#IoO%/gQWO,5@sO!&_Q7[O,5@sO%/oQpO,5@sOOQ?Mr1G2b1G2bOOQ?Mp,5<{,5<{OOQ?Mp,5<|,5<|O$)nQWO,5<|OCcQWO,5<|O!A}Q`O,5<{OOQO'#Gd'#GdO%/yQWO,5<}OOQ?Mp,5=P,5=PO$)nQWO,5=SOOQO,5?[,5?[OOQO-E<n-E<nOOQ?Mv1G2f1G2fO!5nQ`O,5<{O%0RQWO,5<|O$$gQWO,5<}O!5nQ`O,5<|O!+hQ7[O'#IqO%0uQ7[O1G2pO!+hQ7[O'#IsO%1hQ7[O1G2rO%1rQ7[O1G5lO%1|Q7[O1G5lOOQO,5?a,5?aOOQO-E<s-E<sOOQO1G.{1G.{O!9UQ`O,59tO%[Q^O,59tOOQ?Mr,5<h,5<hO%2ZQWO1G2XO!+hQ7[O1G2`O%2`Q?NdO7+'kOOQ?Mr7+'k7+'kO!$[Q^O7+'kO%3SQWO,5;]OOQ?Mp,5?c,5?cOOQ?Mp-E<u-E<uO%3XQpO'#KYO#&wQWO7+(bO4UQrO7+(bO$BwQWO7+(bO%3cQ?NbO'#CiO%3vQ?NbO,5=QO%4hQWO,5=QOOQ?Mp1G5j1G5jOOQU7+$a7+$aO!ArQ?MxO7+$aO!A}Q`O7+$aO!$[Q^O7+&^O%4mQWO'#I|O%5UQWO,5@{OOQO1G3d1G3dO9^QWO,5@{O%5UQWO,5@{O%5^QWO,5@{OOQO,5?i,5?iOOQO-E<{-E<{OOQ?Mr7+'S7+'SO%5cQWO7+(}O9hQ?MxO7+(}O9^QWO7+(}O@fQWO7+(}OOQU7+(m7+(mO%5hQ?NbO7+(jO!&_Q7[O7+(jO%5rQpO7+(kOOQU7+(k7+(kO!&_Q7[O7+(kO%5yQWO'#K^O%6UQWO,5=iOOQO,5?e,5?eOOQO-E<w-E<wOOQU7+(p7+(pO%7eQ`O'#HWOOQU1G3]1G3]O!&_Q7[O1G3]O%[Q^O1G3]O%7lQWO1G3]O%7wQ7[O1G3]O9hQ?MxO1G3_O$$lQWO1G3_O9RQWO1G3_O!A}Q`O1G3_O!BVQ7[O1G3_O%8VQWO'#I{O%8kQWO,5@yO%8sQ`O,5@yOOQ?Mp1G3`1G3`OOQU7+$V7+$VO@fQWO7+$VO9hQ?MxO7+$VO%9OQWO7+$VO%[Q^O1G6hO%[Q^O1G6iO%9TQ?MxO1G6hO%9_Q^O1G3gO%9fQWO1G3gO%9kQ^O1G3gOOQU7+)P7+)PO9hQ?MxO7+)ZO`Q^O7+)]OOQU'#Kd'#KdOOQU'#JO'#JOO%9rQ^O,5>[OOQU,5>[,5>[O%[Q^O'#HqO%:PQWO'#HsOOQU,5>b,5>bO9WQWO,5>bOOQU,5>d,5>dOOQU7+)f7+)fOOQU7+)l7+)lOOQU7+)p7+)pOOQU7+)r7+)rO%:UQ`O1G5wO%:jQ07bO1G0wO%:tQWO1G0wOOQO1G/p1G/pO%;PQ07bO1G/pO>tQWO1G/pO!(oQ^O'#DjOOQO,5>{,5>{OOQO-E<_-E<_OOQO,5?R,5?ROOQO-E<e-E<eO!A}Q`O1G/pOOQO-E<a-E<aOOQ?Mv1G0Y1G0YOOQ?Mr7+%r7+%rO#&wQWO7+%rOOQ?Mr7+&]7+&]O>tQWO7+&]O!A}Q`O7+&]OOQO7+%u7+%uO$?}Q?NdO7+&UOOQO7+&U7+&UO%[Q^O7+&UO%;ZQ?MxO7+&UO!ArQ?MxO7+%uO!A}Q`O7+%uO%;fQ?MxO7+&UO%;tQ?NdO7++mO%[Q^O7++mO%<UQWO7++lO%<UQWO7++lOOQO1G4o1G4oO9WQWO1G4oO%<^QWO1G4oOOQQ7+%z7+%zO#&wQWO<<K|O4UQrO<<K|O%<lQWO<<K|OOQU<<K|<<K|O!&_Q7[O<<K|O%[Q^O<<K|O%<tQWO<<K|O%=PQ?NdO,5?]O%?XQ?NdO,5?_O%AaQ?NdO1G2^O%CoQ?NdO1G2pO%EwQ?NdO1G2rO%HPQrO,5>|O%[Q^O,5>|OOQO-E<`-E<`O%HZQWO1G5xOOQ?Mr<<JR<<JRO%HcQ07bO1G0rO%JjQ07bO1G0|O%JqQ07bO1G0|O%LrQ07bO1G0|O%LyQ07bO1G0|O%NkQ07bO1G0|O& RQ07bO1G0|O&#cQ07bO1G0|O&#jQ07bO1G0|O&%eQ07bO1G0|O&%rQ07bO1G0|O&'mQ07bO1G0|O&(QQ?NdO<<JeO&)VQ07bO1G0|O&*xQ07bO'#JgO&,{Q07bO1G1bO&-YQ07bO1G0RO&-dQ7[O,5?POOQO-E<c-E<cO!(oQ^O'#FpOOQO'#KU'#KUOOQO1G1t1G1tO&-nQWO1G1sO&-sQ07bO,5?WOOOS7+'g7+'gOOOO1G/W1G/WOOQ?Mr1G4t1G4tO!+hQ7[O7+(`O&0TQrO'#CiO&0_QWO,5?XO9WQWO,5?XOOQO-E<k-E<kO&0mQWO1G6^O&0mQWO1G6^O&0uQWO1G6^O&1QQ7[O7+'xO&1bQpO,5?ZO&1lQWO,5?ZO!&_Q7[O,5?ZOOQO-E<m-E<mO&1qQpO1G6_O&1{QWO1G6_OOQ?Mp1G2h1G2hO$)nQWO1G2hOOQ?Mp1G2g1G2gO&2TQWO1G2iO!&_Q7[O1G2iOOQ?Mp1G2n1G2nO!A}Q`O1G2gOCcQWO1G2hO&2YQWO1G2iO&2bQWO1G2hO&3UQ7[O,5?]OOQ?Mr-E<p-E<pO&3wQ7[O,5?_OOQ?Mr-E<r-E<rO!+hQ7[O7++WOOQ?Mr1G/`1G/`O&4RQWO1G/`OOQ?Mr7+'s7+'sO&4WQ7[O7+'zO&4hQ?NdO<<KVOOQ?Mr<<KV<<KVO&5[QWO1G0wO!&_Q7[O'#IvO&5aQWO,5@tO&7cQrO<<K|O!&_Q7[O1G2lOOQU<<G{<<G{O!ArQ?MxO<<G{O&7jQ?NdO<<IxOOQ?Mr<<Ix<<IxOOQO,5?h,5?hO&8^QWO,5?hO&8cQWO,5?hOOQO-E<z-E<zO&8qQWO1G6gO&8qQWO1G6gO9^QWO1G6gO@fQWO<<LiOOQU<<Li<<LiO&8yQWO<<LiO9hQ?MxO<<LiOOQU<<LU<<LUO%5hQ?NbO<<LUOOQU<<LV<<LVO%5rQpO<<LVO&9OQ`O'#IxO&9ZQWO,5@xO!(oQ^O,5@xOOQU1G3T1G3TO%-gQ^O'#JqOOQO'#Iz'#IzO9hQ?MxO'#IzO&9cQ`O,5=rOOQU,5=r,5=rO&9jQ`O'#EdO&:OQWO7+(wO&:TQWO7+(wOOQU7+(w7+(wO!&_Q7[O7+(wO%[Q^O7+(wO&:]QWO7+(wOOQU7+(y7+(yO9hQ?MxO7+(yO$$lQWO7+(yO9RQWO7+(yO!A}Q`O7+(yO&:hQWO,5?gOOQO-E<y-E<yOOQO'#HZ'#HZO&:sQWO1G6eO9hQ?MxO<<GqOOQU<<Gq<<GqO@fQWO<<GqO&:{QWO7+,SO&;QQWO7+,TO%[Q^O7+,SO%[Q^O7+,TOOQU7+)R7+)RO&;VQWO7+)RO&;[Q^O7+)RO&;cQWO7+)ROOQU<<Lu<<LuOOQU<<Lw<<LwOOQU-E<|-E<|OOQU1G3v1G3vO&;hQWO,5>]OOQU,5>_,5>_O&;mQWO1G3|O9WQWO7+&cO!(oQ^O7+&cOOQO7+%[7+%[O&;rQ07bO1G6UO>tQWO7+%[OOQ?Mr<<I^<<I^OOQ?Mr<<Iw<<IwO>tQWO<<IwOOQO<<Ip<<IpO$?}Q?NdO<<IpO%[Q^O<<IpOOQO<<Ia<<IaO!ArQ?MxO<<IaO&;|Q?MxO<<IpO&<XQ?NdO<= XO&<iQWO<= WOOQO7+*Z7+*ZO9WQWO7+*ZOOQUANAhANAhO&<qQrOANAhO!&_Q7[OANAhO#&wQWOANAhO4UQrOANAhO&<xQWOANAhO%[Q^OANAhO&=QQ?NdO7+'xO&?`Q?NdO,5?]O&AhQ?NdO,5?_O&CpQ?NdO7+'zO&FOQrO1G4hO&FYQ07bO7+&^O&HZQ07bO,5=UO&J_Q07bO,5=WO&JoQ07bO,5=UO&KPQ07bO,5=WO&KaQ07bO,59rO&MdQ07bO,5<iO' dQ07bO,5<kO'#dQ07bO,5<yO'%VQ07bO7+'jO'%dQ07bO7+'kO'%qQWO,5<[OOQO7+'_7+'_O'%vQ7[O<<KzOOQO1G4s1G4sO'%}QWO1G4sO'&YQWO1G4sO'&hQWO7++xO'&hQWO7++xO!&_Q7[O1G4uO'&pQpO1G4uO'&zQWO7++yOOQ?Mp7+(S7+(SO$)nQWO7+(TO''SQpO7+(TOOQ?Mp7+(R7+(RO$)nQWO7+(SO''ZQWO7+(TO!&_Q7[O7+(TOCcQWO7+(SO''`Q7[O<<NrOOQ?Mr7+$z7+$zO''jQpO,5?bOOQO-E<t-E<tO''tQ?NbO7+(WOOQUAN=gAN=gO9^QWO1G5SOOQO1G5S1G5SO'(UQWO1G5SO'(ZQWO7+,RO'(ZQWO7+,RO9hQ?MxOANBTO@fQWOANBTOOQUANBTANBTOOQUANApANApOOQUANAqANAqO'(cQWO,5?dOOQO-E<v-E<vO'(nQ07bO1G6dOOQO,5?f,5?fOOQO-E<x-E<xOOQU1G3^1G3^O%-gQ^O,5<}OOQU<<Lc<<LcO!&_Q7[O<<LcO&:OQWO<<LcO'(xQWO<<LcO%[Q^O<<LcOOQU<<Le<<LeO9hQ?MxO<<LeO$$lQWO<<LeO9RQWO<<LeO')QQ`O1G5RO')]QWO7+,POOQUAN=]AN=]O9hQ?MxOAN=]OOQU<= n<= nOOQU<= o<= oO')eQWO<= nO')jQWO<= oOOQU<<Lm<<LmO')oQWO<<LmO')tQ^O<<LmOOQU1G3w1G3wO>tQWO7+)hO'){QWO<<I}O'*WQ07bO<<I}OOQO<<Hv<<HvOOQ?MrAN?cAN?cOOQOAN?[AN?[O$?}Q?NdOAN?[OOQOAN>{AN>{O%[Q^OAN?[OOQO<<Mu<<MuOOQUG27SG27SO!&_Q7[OG27SO#&wQWOG27SO'*bQrOG27SO4UQrOG27SO'*iQWOG27SO'*qQ07bO<<JeO'+OQ07bO1G2^O',qQ07bO,5?]O'.qQ07bO,5?_O'0qQ07bO1G2pO'2qQ07bO1G2rO'4qQ07bO<<KVO'5OQ07bO<<IxOOQO1G1v1G1vO!+hQ7[OANAfOOQO7+*_7+*_O'5]QWO7+*_O'5hQWO<= dO'5pQpO7+*aOOQ?Mp<<Ko<<KoO$)nQWO<<KoOOQ?Mp<<Kn<<KnO'5zQpO<<KoO$)nQWO<<KnOOQO7+*n7+*nO9^QWO7+*nO'6RQWO<= mOOQUG27oG27oO9hQ?MxOG27oO!(oQ^O1G5OO'6ZQWO7+,OO&:OQWOANA}OOQUANA}ANA}O!&_Q7[OANA}O'6cQWOANA}OOQUANBPANBPO9hQ?MxOANBPO$$lQWOANBPOOQO'#H['#H[OOQO7+*m7+*mOOQUG22wG22wOOQUANEYANEYOOQUANEZANEZOOQUANBXANBXO'6kQWOANBXOOQU<<MS<<MSO!(oQ^OAN?iOOQOG24vG24vO$?}Q?NdOG24vO#&wQWOLD,nOOQULD,nLD,nO!&_Q7[OLD,nO'6pQrOLD,nO'6wQ07bO7+'xO'8jQ07bO,5?]O':jQ07bO,5?_O'<jQ07bO7+'zO'>]Q7[OG27QOOQO<<My<<MyOOQ?MpANAZANAZO$)nQWOANAZOOQ?MpANAYANAYOOQO<<NY<<NYOOQULD-ZLD-ZO'>mQ07bO7+*jOOQUG27iG27iO&:OQWOG27iO!&_Q7[OG27iOOQUG27kG27kO9hQ?MxOG27kOOQUG27sG27sO'>wQ07bOG25TOOQOLD*bLD*bOOQU!$(!Y!$(!YO#&wQWO!$(!YO!&_Q7[O!$(!YO'?RQ?NdOG27QOOQ?MpG26uG26uOOQULD-TLD-TO&:OQWOLD-TOOQULD-VLD-VOOQU!)9Et!)9EtO#&wQWO!)9EtOOQU!$(!o!$(!oOOQU!.K;`!.K;`O'AaQ07bOG27QO!(oQ^O'#DwO1PQWO'#EUO'CSQrO'#JmO'CZQMnO'#DsO'CbQ^O'#D{O'CiQrO'#CiO'FPQrO'#CiO!(oQ^O'#D}O'FaQ^O,5;WO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O'#IlO'HdQWO,5<gO'HlQ7[O,5;bO'JVQ7[O,5;bO!(oQ^O,5;vO!&_Q7[O'#GjO'HlQ7[O'#GjO!&_Q7[O'#GlO'HlQ7[O'#GlO1SQWO'#DWO1SQWO'#DWO!&_Q7[O'#F}O'HlQ7[O'#F}O!&_Q7[O'#GPO'HlQ7[O'#GPO!&_Q7[O'#G_O'HlQ7[O'#G_O!(oQ^O,5:gO'J^Q`O'#D[O!(oQ^O,5@jO'FaQ^O1G0rO'JhQ07bO'#CiO!(oQ^O1G2OO!&_Q7[O'#IqO'HlQ7[O'#IqO!&_Q7[O'#IsO'HlQ7[O'#IsO'JrQpO'#CrO!&_Q7[O,5<rO'HlQ7[O,5<rO'FaQ^O1G2PO!(oQ^O7+&yO!&_Q7[O1G2^O'HlQ7[O1G2^O!&_Q7[O'#IqO'HlQ7[O'#IqO!&_Q7[O'#IsO'HlQ7[O'#IsO!&_Q7[O1G2`O'HlQ7[O1G2`O'FaQ^O7+'kO'FaQ^O7+&^O!&_Q7[OANAfO'HlQ7[OANAfO'KVQWO'#ElO'K[QWO'#ElO'KdQWO'#F[O'KiQWO'#EvO'KnQWO'#KOO'KyQWO'#J|O'LUQWO,5;WO'LZQ7[O,5<dO'LbQWO'#GWO'LgQWO'#GWO'LlQWO,5<eO'LtQWO,5;WO'L|Q07bO1G1_O'MTQWO,5<rO'MYQWO,5<rO'M_QWO,5<tO'MdQWO,5<tO'MiQWO1G2PO'MnQWO1G0rO'MsQ7[O<<KzO'MzQ7[O<<KzO7eQ7[O'#FzO9RQWO'#FyOAaQWO'#EkO!(oQ^O,5;sO!3XQWO'#GWO!3XQWO'#GWO!3XQWO'#GYO!3XQWO'#GYO!+hQ7[O7+(`O!+hQ7[O7+(`O%,qQpO1G2tO%,qQpO1G2tO!&_Q7[O,5=YO!&_Q7[O,5=Y",stateData:"( O~O'wOS'xOSTOS'yRQ~OPYOQYOSfOY!VOaqOdzOeyOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![XO!fuO!iZO!lYO!mYO!nYO!pvO!rwO!uxO!y]O#t!PO$V|O%e}O%g!QO%i!OO%j!OO%k!OO%n!RO%p!SO%s!TO%t!TO%v!UO&S!WO&Y!XO&[!YO&^!ZO&`![O&c!]O&i!^O&o!_O&q!`O&s!aO&u!bO&w!cO(OSO(QTO(TUO([VO(j[O(yiO~OWtO~P`OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(O!dO(QTO(TUO([VO(j[O(yiO~Oa!wOp!nO!P!oO!_!yO!`!vO!a!vO!y:lO#Q!pO#R!pO#S!xO#T!pO#U!pO#X!zO#Y!zO(P!lO(QTO(TUO(`!mO(j!sO~O'y!{O~OP]XR]X[]Xa]Xo]X}]X!P]X!Y]X!i]X!m]X#O]X#P]X#]]X#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X'u]X([]X(m]X(t]X(u]X~O!d%PX~P(qO_!}O(Q#PO(R!}O(S#PO~O_#QO(S#PO(T#PO(U#QO~Ou#SO!R#TO(]#TO(^#VO~OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(O:pO(QTO(TUO([VO(j[O(yiO~O!X#ZO!Y#WO!V(cP!V(qP~P+}O!Z#cO~P`OPYOQYOSfOd!jOe!iOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(QTO(TUO([VO(j[O(yiO~Om#mO!X#iO!y]O#f#lO#g#iO(O:qO!h(nP~P.iO!i#oO(O#nO~O!u#sO!y]O%e#tO~O#h#uO~O!d#vO#h#uO~OP$]OR#zO[$cOo$QO}#yO!P#{O!Y$`O!i#xO!m$]O#O$SO#k$OO#l$PO#m$PO#n$PO#o$RO#p$SO#q$SO#r$bO#s$SO#u$TO#w$VO#y$XO#z$YO([VO(m$ZO(t#|O(u#}O~Oa(aX'u(aX's(aX!h(aX!V(aX![(aX%f(aX!d(aX~P1qO#P$dO#]$eO$P$eOP(bXR(bX[(bXo(bX}(bX!P(bX!Y(bX!i(bX!m(bX#O(bX#k(bX#l(bX#m(bX#n(bX#o(bX#p(bX#q(bX#r(bX#s(bX#u(bX#w(bX#y(bX#z(bX([(bX(m(bX(t(bX(u(bX![(bX%f(bX~Oa(bX'u(bX's(bX!V(bX!h(bXs(bX!d(bX~P4UO#]$eO~O$[$hO$^$gO$e$mO~OSfO![$nO$h$oO$j$qO~Oh%WOm%XOo$uOp$tOq$tOw%YOy%ZO{%[O!P$|O![$}O!f%aO!i$yO#g%bO$V%_O$r%]O$t%^O$w%`O(O$sO(QTO(TUO([$vO(t%OO(u%QOg(XP~O!i%cO~O!P%fO![%gO(O%eO~O!d%kO~Oa%lO'u%lO~O}%pO~P%[O(P!lO~P%[O%k%tO~P%[Oh%WO!i%cO(O%eO(P!lO~Oe%{O!i%cO(O%eO~O#s$SO~O}&QO![%}O!i&PO%g&TO(O%eO(P!lO(QTO(TUO`)SP~O!u#sO~O%p&VO!P)OX![)OX(O)OX~O(O&WO~O!r&]O#t!PO%g!QO%i!OO%j!OO%k!OO%n!RO%p!SO%s!TO%t!TO~Od&bOe&aO!u&_O%e&`O%x&^O~P;|Od&eOeyO![&dO!r&]O!uxO!y]O#t!PO%e}O%i!OO%j!OO%k!OO%n!RO%p!SO%s!TO%t!TO%v!UO~Ob&hO#]&kO%g&fO(P!lO~P=RO!i&lO!r&pO~O!i#oO~O![XO~Oa%lO't&xO'u%lO~Oa%lO't&{O'u%lO~Oa%lO't&}O'u%lO~O's]X!V]Xs]X!h]X&W]X![]X%f]X!d]X~P(qO!_'[O!`'TO!a'TO(P!lO(QTO(TUO~Op'RO!P'QO!X'UO(`'PO!Z(dP!Z(sP~P@YOk'_O![']O(O%eO~Oe'dO!i%cO(O%eO~O}&QO!i&PO~Op!nO!P!oO!y:lO#Q!pO#R!pO#T!pO#U!pO(P!lO(QTO(TUO(`!mO(j!sO~O!_'jO!`'iO!a'iO#S!pO#X'kO#Y'kO~PAtOa%lOh%WO!d#vO!i%cO'u%lO(m'mO~O!m'qO#]'oO~PCSOp!nO!P!oO(QTO(TUO(`!mO(j!sO~O![XOp(hX!P(hX!_(hX!`(hX!a(hX!y(hX#Q(hX#R(hX#S(hX#T(hX#U(hX#X(hX#Y(hX(P(hX(Q(hX(T(hX(`(hX(j(hX~O!`'iO!a'iO(P!lO~PCrO'z'uO'{'uO'|'wO~O_!}O(Q'yO(R!}O(S'yO~O_#QO(S'yO(T'yO(U#QO~Ou#SO!R#TO(]#TO(^'}O~O!X(PO!V'SX!V'YX!Y'SX!Y'YX~P+}O!Y(RO!V(cX~OP$]OR#zO[$cOo$QO}#yO!P#{O!Y(RO!i#xO!m$]O#O$SO#k$OO#l$PO#m$PO#n$PO#o$RO#p$SO#q$SO#r$bO#s$SO#u$TO#w$VO#y$XO#z$YO([VO(m$ZO(t#|O(u#}O~O!V(cX~PGfO!V(WO~O!V(pX!Y(pX!d(pX!h(pX(m(pX~O#](pX#h#aX!Z(pX~PIiO#](XO!V(rX!Y(rX~O!Y(YO!V(qX~O!V(]O~O#]$eO~PIiO!Z(^O~P`OR#zO}#yO!P#{O!i#xO([VOP!ka[!kao!ka!Y!ka!m!ka#O!ka#k!ka#l!ka#m!ka#n!ka#o!ka#p!ka#q!ka#r!ka#s!ka#u!ka#w!ka#y!ka#z!ka(m!ka(t!ka(u!ka~Oa!ka'u!ka's!ka!V!ka!h!kas!ka![!ka%f!ka!d!ka~PKPO!h(_O~O!d#vO#](`O(m'mO!Y(oXa(oX'u(oX~O!h(oX~PMlO!P%fO![%gO!y]O#f(eO#g(dO(O%eO~O!Y(fO!h(nX~O!h(hO~O!P%fO![%gO#g(dO(O%eO~OP(bXR(bX[(bXo(bX}(bX!P(bX!Y(bX!i(bX!m(bX#O(bX#k(bX#l(bX#m(bX#n(bX#o(bX#p(bX#q(bX#r(bX#s(bX#u(bX#w(bX#y(bX#z(bX([(bX(m(bX(t(bX(u(bX~O!d#vO!h(bX~P! YOR(jO}(iO!i#xO#P$dO!y!xa!P!xa~O!u!xa%e!xa![!xa#f!xa#g!xa(O!xa~P!#ZO!u(nO~OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![XO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(O!dO(QTO(TUO([VO(j[O(yiO~Oh%WOm%XOo$uOp$tOq$tOw%YOy%ZO{;YO!P$|O![$}O!f<jO!i$yO#g;`O$V%_O$r;[O$t;^O$w%`O(O(rO(QTO(TUO([$vO(t%OO(u%QO~O#h(tO~O!X(vO!h(fP~P%[O(`(xO(j[O~O!P(zO!i#xO(`(xO(j[O~OP:kOQ:kOSfOd<fOe!iOmkOo:kOpkOqkOwkOy:kO{:kO!PWO!TkO!UkO![!eO!f:nO!iZO!l:kO!m:kO!n:kO!p:oO!r:rO!u!hO$V!kO(O)YO(QTO(TUO([VO(j[O(y<dO~O!Y$`Oa$oa'u$oa's$oa!h$oa!V$oa![$oa%f$oa!d$oa~O#t)`O~P!&_Oh%WOm%XOo$uOp$tOq$tOw%YOy%ZO{%[O!P$|O![$}O!f%aO!i$yO#g%bO$V%_O$r%]O$t%^O$w%`O(O(rO(QTO(TUO([$vO(t%OO(u%QO~Og(kP~P!+hO})eO!d)dO![$]X$Y$]X$[$]X$^$]X$e$]X~O!d)dO![(vX$Y(vX$[(vX$^(vX$e(vX~O})eO~P!-qO})eO![(vX$Y(vX$[(vX$^(vX$e(vX~O![)gO$Y)kO$[)fO$^)fO$e)lO~O!X)oO~P!(oO$[$hO$^$gO$e)sO~Ok$xX}$xX!P$xX#P$xX(t$xX(u$xX~OgjXg$xXkjX!YjX#]jX~P!/gOp)uO~Ou)vO(])wO(^)yO~Ok*SO}){O!P)|O(t%OO(u%QO~Og)zO~P!0pOg*TO~Oh%WOm%XOo$uOp$tOq$tOw%YOy%ZO{;YO!P*VO![*WO!f<jO!i$yO#g;`O$V%_O$r;[O$t;^O$w%`O(QTO(TUO([$vO(t%OO(u%QO~O!X*ZO(O*UO!h(zP~P!1_O#h*]O~O!i*^O~Oh%WOm%XOo$uOp$tOq$tOw%YOy%ZO{;YO!P$|O![$}O!f<jO!i$yO#g;`O$V%_O$r;[O$t;^O$w%`O(O*`O(QTO(TUO([$vO(t%OO(u%QO~O!X*cO!V({P~P!3^Oo*oO!P*gO!_*mO!`*fO!a*fO!i*^O#X*nO%]*iO(P!lO(`!mO~O!Z*lO~P!5RO#P$dOk(ZX}(ZX!P(ZX(t(ZX(u(ZX!Y(ZX#](ZX~Og(ZX#}(ZX~P!5zOk*tO#]*sOg(YX!Y(YX~O!Y*uOg(XX~O(O&WOg(XP~O!i*|O~O(O(rO~Om+QO!P%fO!X#iO![%gO!y]O#f#lO#g#iO(O%eO!h(nP~O!d#vO#h+RO~O!P%fO!X+TO!Y(YO![%gO(O%eO!V(qP~Op'XO!P+VO!X+UO(QTO(TUO(`(xO~O!Z(sP~P!8uO!Y+WOa)PX'u)PX~OP$]OR#zO[$cOo$QO}#yO!P#{O!i#xO!m$]O#O$SO#k$OO#l$PO#m$PO#n$PO#o$RO#p$SO#q$SO#r$bO#s$SO#u$TO#w$VO#y$XO#z$YO([VO(m$ZO(t#|O(u#}O~Oa!ga!Y!ga'u!ga's!ga!V!ga!h!gas!ga![!ga%f!ga!d!ga~P!9mOR#zO}#yO!P#{O!i#xO([VOP!oa[!oao!oa!Y!oa!m!oa#O!oa#k!oa#l!oa#m!oa#n!oa#o!oa#p!oa#q!oa#r!oa#s!oa#u!oa#w!oa#y!oa#z!oa(m!oa(t!oa(u!oa~Oa!oa'u!oa's!oa!V!oa!h!oas!oa![!oa%f!oa!d!oa~P!<TOR#zO}#yO!P#{O!i#xO([VOP!qa[!qao!qa!Y!qa!m!qa#O!qa#k!qa#l!qa#m!qa#n!qa#o!qa#p!qa#q!qa#r!qa#s!qa#u!qa#w!qa#y!qa#z!qa(m!qa(t!qa(u!qa~Oa!qa'u!qa's!qa!V!qa!h!qas!qa![!qa%f!qa!d!qa~P!>kOh%WOk+aO![']O%f+`O~O!d+cOa(WX![(WX'u(WX!Y(WX~Oa%lO![XO'u%lO~Oh%WO!i%cO~Oh%WO!i%cO(O%eO~O!d#vO#h(tO~Ob+nO%g+oO(O+kO(QTO(TUO!Z)TP~O!Y+pO`)SX~O[+tO~O`+uO~O![%}O(O%eO(P!lO`)SP~Oh%WO#]+zO~Oh%WOk+}O![$}O~O![,PO~O},RO![XO~O%k%tO~O!u,WO~Oe,]O~Ob,^O(O#nO(QTO(TUO!Z)RP~Oe%{O~O%g!QO(O&WO~P=RO[,cO`,bO~OPYOQYOSfOdzOeyOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO!fuO!iZO!lYO!mYO!nYO!pvO!uxO!y]O%e}O(QTO(TUO([VO(j[O(yiO~O![!eO!r!gO$V!kO(O!dO~P!EkO`,bOa%lO'u%lO~OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!u!hO$V!kO(O!dO(QTO(TUO([VO(j[O(yiO~Oa,hO!rwO#t!OO%i!OO%j!OO%k!OO~P!HTO!i&lO~O&Y,nO~O![,pO~O&k,rO&m,sOP&haQ&haS&haY&haa&had&hae&ham&hao&hap&haq&haw&hay&ha{&ha!P&ha!T&ha!U&ha![&ha!f&ha!i&ha!l&ha!m&ha!n&ha!p&ha!r&ha!u&ha!y&ha#t&ha$V&ha%e&ha%g&ha%i&ha%j&ha%k&ha%n&ha%p&ha%s&ha%t&ha%v&ha&S&ha&Y&ha&[&ha&^&ha&`&ha&c&ha&i&ha&o&ha&q&ha&s&ha&u&ha&w&ha's&ha(O&ha(Q&ha(T&ha([&ha(j&ha(y&ha!Z&ha&a&hab&ha&f&ha~O(O,xO~Oh!bX!Y!OX!Z!OX!d!OX!d!bX!i!bX#]!OX~O!Y!bX!Z!bX~P# ZO!d,}O#],|Oh(eX!Y#eX!Y(eX!Z#eX!Z(eX!d(eX!i(eX~Oh%WO!d-PO!i%cO!Y!^X!Z!^X~Op!nO!P!oO(QTO(TUO(`!mO~OP:kOQ:kOSfOd<fOe!iOmkOo:kOpkOqkOwkOy:kO{:kO!PWO!TkO!UkO![!eO!f:nO!iZO!l:kO!m:kO!n:kO!p:oO!r:rO!u!hO$V!kO(QTO(TUO([VO(j[O(y<dO~O(O;fO~P##_O!Y-TO!Z(dX~O!Z-VO~O!d,}O#],|O!Y#eX!Z#eX~O!Y-WO!Z(sX~O!Z-YO~O!`-ZO!a-ZO(P!lO~P#!|O!Z-^O~P'_Ok-aO![']O~O!V-fO~Op!xa!_!xa!`!xa!a!xa#Q!xa#R!xa#S!xa#T!xa#U!xa#X!xa#Y!xa(P!xa(Q!xa(T!xa(`!xa(j!xa~P!#ZO!m-kO#]-iO~PCSO!`-mO!a-mO(P!lO~PCrOa%lO#]-iO'u%lO~Oa%lO!d#vO#]-iO'u%lO~Oa%lO!d#vO!m-kO#]-iO'u%lO(m'mO~O'z'uO'{'uO'|-rO~Os-sO~O!V'Sa!Y'Sa~P!9mO!X-wO!V'SX!Y'SX~P%[O!Y(RO!V(ca~O!V(ca~PGfO!Y(YO!V(qa~O!P%fO!X-{O![%gO(O%eO!V'YX!Y'YX~O#]-}O!Y(oa!h(oaa(oa'u(oa~O!d#vO~P#+eO!Y(fO!h(na~O!P%fO![%gO#g.RO(O%eO~Om.WO!P%fO!X.TO![%gO!y]O#f.VO#g.TO(O%eO!Y']X!h']X~OR.[O!i#xO~Oh%WOk._O![']O%f.^O~Oa#`i!Y#`i'u#`i's#`i!V#`i!h#`is#`i![#`i%f#`i!d#`i~P!9mOk<pO}){O!P)|O(t%OO(u%QO~O#h#[aa#[a#]#[a'u#[a!Y#[a!h#[a![#[a!V#[a~P#.aO#h(ZXP(ZXR(ZX[(ZXa(ZXo(ZX!i(ZX!m(ZX#O(ZX#k(ZX#l(ZX#m(ZX#n(ZX#o(ZX#p(ZX#q(ZX#r(ZX#s(ZX#u(ZX#w(ZX#y(ZX#z(ZX'u(ZX([(ZX(m(ZX!h(ZX!V(ZX's(ZXs(ZX![(ZX%f(ZX!d(ZX~P!5zO!Y.lO!h(fX~P!9mO!h.oO~O!V.qO~OP$]OR#zO}#yO!P#{O!i#xO!m$]O([VO[#jia#jio#ji!Y#ji#O#ji#l#ji#m#ji#n#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'u#ji(m#ji(t#ji(u#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#k#ji~P#1|O#k$OO~P#1|OP$]OR#zO}#yO!P#{O!i#xO!m$]O#k$OO#l$PO#m$PO#n$PO([VO[#jia#ji!Y#ji#O#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'u#ji(m#ji(t#ji(u#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~Oo#ji~P#4kOo$QO~P#4kOP$]OR#zOo$QO}#yO!P#{O!i#xO!m$]O#k$OO#l$PO#m$PO#n$PO#o$RO([VOa#ji!Y#ji#u#ji#w#ji#y#ji#z#ji'u#ji(m#ji(t#ji(u#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O[#ji#O#ji#p#ji#q#ji#r#ji#s#ji~P#7YO[$cO#O$SO#p$SO#q$SO#r$bO#s$SO~P#7YOP$]OR#zO[$cOo$QO}#yO!P#{O!i#xO!m$]O#O$SO#k$OO#l$PO#m$PO#n$PO#o$RO#p$SO#q$SO#r$bO#s$SO#u$TO([VO(u#}Oa#ji!Y#ji#y#ji#z#ji'u#ji(m#ji(t#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#w$VO~P#:WO#w#ji~P#:WOP$]OR#zO[$cOo$QO}#yO!P#{O!i#xO!m$]O#O$SO#k$OO#l$PO#m$PO#n$PO#o$RO#p$SO#q$SO#r$bO#s$SO#u$TO([VOa#ji!Y#ji#y#ji#z#ji'u#ji(m#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#w#ji(t#ji(u#ji~P#<uO#w$VO(t#|O(u#}O~P#<uOP$]OR#zO[$cOo$QO}#yO!P#{O!i#xO!m$]O#O$SO#k$OO#l$PO#m$PO#n$PO#o$RO#p$SO#q$SO#r$bO#s$SO#u$TO#w$VO#y$XO([VO(t#|O(u#}O~Oa#ji!Y#ji#z#ji'u#ji(m#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~P#?jOP]XR]X[]Xo]X}]X!P]X!i]X!m]X#O]X#P]X#]]X#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X([]X(m]X(t]X(u]X!Y]X!Z]X~O#}]X~P#BQOP$]OR#zO[;SOo:vO}#yO!P#{O!i#xO!m$]O#O:xO#k:tO#l:uO#m:uO#n:uO#o:wO#p:xO#q:xO#r;RO#s:xO#u:yO#w:{O#y:}O#z;OO([VO(m$ZO(t#|O(u#}O~O#}.sO~P#D_O#P$dO#];TO$P;TO#}(bX!Z(bX~P! YOa'`a!Y'`a'u'`a's'`a!h'`a!V'`as'`a!['`a%f'`a!d'`a~P!9mOP#jiR#ji[#jia#jio#ji!Y#ji!i#ji!m#ji#O#ji#k#ji#l#ji#m#ji#n#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'u#ji([#ji(m#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~P#.aO!Y.wOg(kX~P!0pOg.yO~Oa$Oi!Y$Oi'u$Oi's$Oi!V$Oi!h$Ois$Oi![$Oi%f$Oi!d$Oi~P!9mO$[.zO$^.zO~O$[.{O$^.{O~O!d)dO#].|O![$bX$Y$bX$[$bX$^$bX$e$bX~O!X.}O~O![)gO$Y/PO$[)fO$^)fO$e/QO~O!Y;PO!Z(aX~P#D_O!Z/RO~O!d)dO$e(vX~O$e/TO~Ou)vO(])wO(^/WO~O!V/[O~P!&_O(t%OOk%^a}%^a!P%^a(u%^a!Y%^a#]%^a~Og%^a#}%^a~P#L{O(u%QOk%`a}%`a!P%`a(t%`a!Y%`a#]%`a~Og%`a#}%`a~P#MnO!YfX!dfX!hfX!h$xX(mfX~P!/gO!X/eO!Y(YO(O/dO!V(qP!V({P~P!1_Oo*oO!_*mO!`*fO!a*fO!i*^O#X*nO%]*iO(P!lO~Op'XO!P/fO!X+UO!Z*lO(QTO(TUO(`;cO!Z(sP~P$ XO!h/gO~P#.aO!Y/hO!d#vO(m'mO!h(zX~O!h/mO~O!P%fO!X*ZO![%gO(O%eO!h(zP~O#h/oO~O!V$xX!Y$xX!d%PX~P!/gO!Y/pO!V({X~P#.aO!d/rO~O!V/tO~Oh%WOo/xO!d#vO!i%cO(m'mO~O(O/zO~O!d+cO~Oa%lO!Y0OO'u%lO~O!Z0QO~P!5RO!`0RO!a0RO(P!lO(`!mO~O!P0TO(`!mO~O#X0UO~Og%^a!Y%^a#]%^a#}%^a~P!0pOg%`a!Y%`a#]%`a#}%`a~P!0pO(O&WOg'iX!Y'iX~O!Y*uOg(Xa~Og0_O~OR0`O}0`O!P0aO#P$dOkza(tza(uza!Yza#]za~Ogza#}za~P$&zO}){O!P)|Ok$qa(t$qa(u$qa!Y$qa#]$qa~Og$qa#}$qa~P$'sO}){O!P)|Ok$sa(t$sa(u$sa!Y$sa#]$sa~Og$sa#}$sa~P$(fO#h0dO~Og%Ra!Y%Ra#]%Ra#}%Ra~P!0pO!d#vO~O#h0gO~O!Y+WOa)Pa'u)Pa~OR#zO}#yO!P#{O!i#xO([VOP!oi[!oio!oi!Y!oi!m!oi#O!oi#k!oi#l!oi#m!oi#n!oi#o!oi#p!oi#q!oi#r!oi#s!oi#u!oi#w!oi#y!oi#z!oi(m!oi(t!oi(u!oi~Oa!oi'u!oi's!oi!V!oi!h!ois!oi![!oi%f!oi!d!oi~P$*TOh%WOo$uOp$tOq$tOw%YOy%ZO{;YO!P$|O![$}O!f<jO!i$yO#g;`O$V%_O$r;[O$t;^O$w%`O(QTO(TUO([$vO(t%OO(u%QO~Om0pO(O0oO~P$,kO!d+cOa(Wa![(Wa'u(Wa!Y(Wa~O#h0vO~O[]X!YfX!ZfX~O!Y0wO!Z)TX~O!Z0yO~O[0zO~Ob0|O(O+kO(QTO(TUO~O![%}O(O%eO`'qX!Y'qX~O!Y+pO`)Sa~O!h1PO~P!9mO[1SO~O`1TO~O#]1WO~Ok1ZO![$}O~O(`(xO!Z)QP~Oh%WOk1dO![1aO%f1cO~O[1nO!Y1lO!Z)RX~O!Z1oO~O`1qOa%lO'u%lO~O(O#nO(QTO(TUO~O#P$dO#]$eO$P$eOP(bXR(bX[(bXo(bX}(bX!P(bX!Y(bX!i(bX!m(bX#O(bX#k(bX#l(bX#m(bX#n(bX#o(bX#p(bX#q(bX#r(bX#u(bX#w(bX#y(bX#z(bX([(bX(m(bX(t(bX(u(bX~O#s1tO&W1uOa(bX~P$2RO#]$eO#s1tO&W1uO~Oa1wO~P%[Oa1yO~O&a1|OP&_iQ&_iS&_iY&_ia&_id&_ie&_im&_io&_ip&_iq&_iw&_iy&_i{&_i!P&_i!T&_i!U&_i![&_i!f&_i!i&_i!l&_i!m&_i!n&_i!p&_i!r&_i!u&_i!y&_i#t&_i$V&_i%e&_i%g&_i%i&_i%j&_i%k&_i%n&_i%p&_i%s&_i%t&_i%v&_i&S&_i&Y&_i&[&_i&^&_i&`&_i&c&_i&i&_i&o&_i&q&_i&s&_i&u&_i&w&_i's&_i(O&_i(Q&_i(T&_i([&_i(j&_i(y&_i!Z&_ib&_i&f&_i~Ob2SO!Z2QO&f2RO~P`O![XO!i2UO~O&m,sOP&hiQ&hiS&hiY&hia&hid&hie&him&hio&hip&hiq&hiw&hiy&hi{&hi!P&hi!T&hi!U&hi![&hi!f&hi!i&hi!l&hi!m&hi!n&hi!p&hi!r&hi!u&hi!y&hi#t&hi$V&hi%e&hi%g&hi%i&hi%j&hi%k&hi%n&hi%p&hi%s&hi%t&hi%v&hi&S&hi&Y&hi&[&hi&^&hi&`&hi&c&hi&i&hi&o&hi&q&hi&s&hi&u&hi&w&hi's&hi(O&hi(Q&hi(T&hi([&hi(j&hi(y&hi!Z&hi&a&hib&hi&f&hi~O!V2[O~O!Y!^a!Z!^a~P#D_Op!nO!P!oO!X2bO(`!mO!Y'TX!Z'TX~P@YO!Y-TO!Z(da~O!Y'ZX!Z'ZX~P!8uO!Y-WO!Z(sa~O!Z2iO~P'_Oa%lO#]2rO'u%lO~Oa%lO!d#vO#]2rO'u%lO~Oa%lO!d#vO!m2vO#]2rO'u%lO(m'mO~Oa%lO'u%lO~P!9mO!Y$`Os$oa~O!V'Si!Y'Si~P!9mO!Y(RO!V(ci~O!Y(YO!V(qi~O!V(ri!Y(ri~P!9mO!Y(oi!h(oia(oi'u(oi~P!9mO#]2xO!Y(oi!h(oia(oi'u(oi~O!Y(fO!h(ni~O!P%fO![%gO!y]O#f2}O#g2|O(O%eO~O!P%fO![%gO#g2|O(O%eO~Ok3UO![']O%f3TO~Oh%WOk3UO![']O%f3TO~O#h%^aP%^aR%^a[%^aa%^ao%^a!i%^a!m%^a#O%^a#k%^a#l%^a#m%^a#n%^a#o%^a#p%^a#q%^a#r%^a#s%^a#u%^a#w%^a#y%^a#z%^a'u%^a([%^a(m%^a!h%^a!V%^a's%^as%^a![%^a%f%^a!d%^a~P#L{O#h%`aP%`aR%`a[%`aa%`ao%`a!i%`a!m%`a#O%`a#k%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#u%`a#w%`a#y%`a#z%`a'u%`a([%`a(m%`a!h%`a!V%`a's%`as%`a![%`a%f%`a!d%`a~P#MnO#h%^aP%^aR%^a[%^aa%^ao%^a!Y%^a!i%^a!m%^a#O%^a#k%^a#l%^a#m%^a#n%^a#o%^a#p%^a#q%^a#r%^a#s%^a#u%^a#w%^a#y%^a#z%^a'u%^a([%^a(m%^a!h%^a!V%^a's%^a#]%^as%^a![%^a%f%^a!d%^a~P#.aO#h%`aP%`aR%`a[%`aa%`ao%`a!Y%`a!i%`a!m%`a#O%`a#k%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#u%`a#w%`a#y%`a#z%`a'u%`a([%`a(m%`a!h%`a!V%`a's%`a#]%`as%`a![%`a%f%`a!d%`a~P#.aO#hzaPza[zaazaoza!iza!mza#Oza#kza#lza#mza#nza#oza#pza#qza#rza#sza#uza#wza#yza#zza'uza([za(mza!hza!Vza'szasza![za%fza!dza~P$&zO#h$qaP$qaR$qa[$qaa$qao$qa!i$qa!m$qa#O$qa#k$qa#l$qa#m$qa#n$qa#o$qa#p$qa#q$qa#r$qa#s$qa#u$qa#w$qa#y$qa#z$qa'u$qa([$qa(m$qa!h$qa!V$qa's$qas$qa![$qa%f$qa!d$qa~P$'sO#h$saP$saR$sa[$saa$sao$sa!i$sa!m$sa#O$sa#k$sa#l$sa#m$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#u$sa#w$sa#y$sa#z$sa'u$sa([$sa(m$sa!h$sa!V$sa's$sas$sa![$sa%f$sa!d$sa~P$(fO#h%RaP%RaR%Ra[%Raa%Rao%Ra!Y%Ra!i%Ra!m%Ra#O%Ra#k%Ra#l%Ra#m%Ra#n%Ra#o%Ra#p%Ra#q%Ra#r%Ra#s%Ra#u%Ra#w%Ra#y%Ra#z%Ra'u%Ra([%Ra(m%Ra!h%Ra!V%Ra's%Ra#]%Ras%Ra![%Ra%f%Ra!d%Ra~P#.aOa#`q!Y#`q'u#`q's#`q!V#`q!h#`qs#`q![#`q%f#`q!d#`q~P!9mO!X3^O!Y'UX!h'UX~P%[O!Y.lO!h(fa~O!Y.lO!h(fa~P!9mO!V3aO~O#}!ka!Z!ka~PKPO#}!ga!Y!ga!Z!ga~P#D_O#}!oa!Z!oa~P!<TO#}!qa!Z!qa~P!>kOg'XX!Y'XX~P!+hO!Y.wOg(ka~OSfO![3uO$c3vO~O!Z3zO~Os3{O~P#.aOa$lq!Y$lq'u$lq's$lq!V$lq!h$lqs$lq![$lq%f$lq!d$lq~P!9mO!V3|O~P#.aO}){O!P)|O(u%QOk'ea(t'ea!Y'ea#]'ea~Og'ea#}'ea~P%+]O}){O!P)|Ok'ga(t'ga(u'ga!Y'ga#]'ga~Og'ga#}'ga~P%,OO(m$ZO~P#.aO!VfX!V$xX!YfX!Y$xX!d%PX#]fX~P!/gO(O;lO~P!1_OmkO(O4OO~P.iO!P%fO!X4QO![%gO(O%eO!Y'aX!h'aX~O!Y/hO!h(za~O!Y/hO!d#vO!h(za~O!Y/hO!d#vO(m'mO!h(za~Og$zi!Y$zi#]$zi#}$zi~P!0pO!X4YO!V'cX!Y'cX~P!3^O!Y/pO!V({a~O!Y/pO!V({a~P#.aO!d#vO#s4bO~Oo4eO!d#vO(m'mO~O(t%OOk%^i}%^i!P%^i(u%^i!Y%^i#]%^i~Og%^i#}%^i~P%0^O(u%QOk%`i}%`i!P%`i(t%`i!Y%`i#]%`i~Og%`i#}%`i~P%1POg(Yi!Y(Yi~P!0pO#]4lOg(Yi!Y(Yi~P!0pO!h4oO~Oa$mq!Y$mq'u$mq's$mq!V$mq!h$mqs$mq![$mq%f$mq!d$mq~P!9mO!V4sO~O!Y4tO![(|X~P#.aOa$xX![$xX%Z]X'u$xX!Y$xX~P!/gO%Z4wOalXklX}lX!PlX![lX'ulX(tlX(ulX!YlX~O%Z4wO~Ob4}O%g5OO(O+kO(QTO(TUO!Y'pX!Z'pX~O!Y0wO!Z)Ta~O[5SO~O`5TO~Oa%lO'u%lO~P#.aO![$}O~P#.aO!Y5]O#]5_O!Z)QX~O!Z5`O~Op!nO!P5aO!_!yO!`!vO!a!vO!y:lO#Q!pO#R!pO#S!pO#T!pO#U!pO#X5fO#Y!zO(P!lO(QTO(TUO(`!mO(j!sO~O!Z5eO~P%6ZOk5kO![1aO%f5jO~Oh%WOk5kO![1aO%f5jO~Ob5rO(O#nO(QTO(TUO!Y'oX!Z'oX~O!Y1lO!Z)Ra~O(QTO(TUO(`5tO~O`5xO~O#s5{O&W5|O~PMlO!h5}O~P%[Oa6PO~Oa6PO~P%[Ob2SO!Z6UO&f2RO~P`O!d6WO~O!d6YOh(ei!Y(ei!Z(ei!d(ei!i(ei~O!Y#ei!Z#ei~P#D_O#]6ZO!Y#ei!Z#ei~O!Y!^i!Z!^i~P#D_Oa%lO#]6dO'u%lO~Oa%lO!d#vO#]6dO'u%lO~O!Y(oq!h(oqa(oq'u(oq~P!9mO!Y(fO!h(nq~O!P%fO![%gO#g6kO(O%eO~O![']O%f6nO~Ok6rO![']O%f6nO~O#h'eaP'eaR'ea['eaa'eao'ea!i'ea!m'ea#O'ea#k'ea#l'ea#m'ea#n'ea#o'ea#p'ea#q'ea#r'ea#s'ea#u'ea#w'ea#y'ea#z'ea'u'ea(['ea(m'ea!h'ea!V'ea's'eas'ea!['ea%f'ea!d'ea~P%+]O#h'gaP'gaR'ga['gaa'gao'ga!i'ga!m'ga#O'ga#k'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#u'ga#w'ga#y'ga#z'ga'u'ga(['ga(m'ga!h'ga!V'ga's'gas'ga!['ga%f'ga!d'ga~P%,OO#h$ziP$ziR$zi[$zia$zio$zi!Y$zi!i$zi!m$zi#O$zi#k$zi#l$zi#m$zi#n$zi#o$zi#p$zi#q$zi#r$zi#s$zi#u$zi#w$zi#y$zi#z$zi'u$zi([$zi(m$zi!h$zi!V$zi's$zi#]$zis$zi![$zi%f$zi!d$zi~P#.aO#h%^iP%^iR%^i[%^ia%^io%^i!i%^i!m%^i#O%^i#k%^i#l%^i#m%^i#n%^i#o%^i#p%^i#q%^i#r%^i#s%^i#u%^i#w%^i#y%^i#z%^i'u%^i([%^i(m%^i!h%^i!V%^i's%^is%^i![%^i%f%^i!d%^i~P%0^O#h%`iP%`iR%`i[%`ia%`io%`i!i%`i!m%`i#O%`i#k%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#u%`i#w%`i#y%`i#z%`i'u%`i([%`i(m%`i!h%`i!V%`i's%`is%`i![%`i%f%`i!d%`i~P%1PO!Y'Ua!h'Ua~P!9mO!Y.lO!h(fi~O#}#`i!Y#`i!Z#`i~P#D_OP$]OR#zO}#yO!P#{O!i#xO!m$]O([VO[#jio#ji#O#ji#l#ji#m#ji#n#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji(m#ji(t#ji(u#ji!Y#ji!Z#ji~O#k#ji~P%HpO#k:tO~P%HpOP$]OR#zO}#yO!P#{O!i#xO!m$]O#k:tO#l:uO#m:uO#n:uO([VO[#ji#O#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji(m#ji(t#ji(u#ji!Y#ji!Z#ji~Oo#ji~P%JxOo:vO~P%JxOP$]OR#zOo:vO}#yO!P#{O!i#xO!m$]O#k:tO#l:uO#m:uO#n:uO#o:wO([VO#u#ji#w#ji#y#ji#z#ji#}#ji(m#ji(t#ji(u#ji!Y#ji!Z#ji~O[#ji#O#ji#p#ji#q#ji#r#ji#s#ji~P%MQO[;SO#O:xO#p:xO#q:xO#r;RO#s:xO~P%MQOP$]OR#zO[;SOo:vO}#yO!P#{O!i#xO!m$]O#O:xO#k:tO#l:uO#m:uO#n:uO#o:wO#p:xO#q:xO#r;RO#s:xO#u:yO([VO(u#}O#y#ji#z#ji#}#ji(m#ji(t#ji!Y#ji!Z#ji~O#w:{O~P& iO#w#ji~P& iOP$]OR#zO[;SOo:vO}#yO!P#{O!i#xO!m$]O#O:xO#k:tO#l:uO#m:uO#n:uO#o:wO#p:xO#q:xO#r;RO#s:xO#u:yO([VO#y#ji#z#ji#}#ji(m#ji!Y#ji!Z#ji~O#w#ji(t#ji(u#ji~P&#qO#w:{O(t#|O(u#}O~P&#qOP$]OR#zO[;SOo:vO}#yO!P#{O!i#xO!m$]O#O:xO#k:tO#l:uO#m:uO#n:uO#o:wO#p:xO#q:xO#r;RO#s:xO#u:yO#w:{O#y:}O([VO(t#|O(u#}O~O#z#ji#}#ji(m#ji!Y#ji!Z#ji~P&&POa#{y!Y#{y'u#{y's#{y!V#{y!h#{ys#{y![#{y%f#{y!d#{y~P!9mOk<qO}){O!P)|O(t%OO(u%QO~OP#jiR#ji[#jio#ji!i#ji!m#ji#O#ji#k#ji#l#ji#m#ji#n#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji([#ji(m#ji!Y#ji!Z#ji~P&(tO#P$dOP(ZXR(ZX[(ZXk(ZXo(ZX}(ZX!P(ZX!i(ZX!m(ZX#O(ZX#k(ZX#l(ZX#m(ZX#n(ZX#o(ZX#p(ZX#q(ZX#r(ZX#s(ZX#u(ZX#w(ZX#y(ZX#z(ZX#}(ZX([(ZX(m(ZX(t(ZX(u(ZX!Y(ZX!Z(ZX~O#}$Oi!Y$Oi!Z$Oi~P#D_O#}!oi!Z!oi~P$*TOg'Xa!Y'Xa~P!0pO!Z7UO~O!Y'`a!Z'`a~P#D_OP]XR]X[]Xo]X}]X!P]X!V]X!Y]X!i]X!m]X#O]X#P]X#]]X#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X([]X(m]X(t]X(u]X~O!d%WX#s%WX~P&-}O!d#vO(m'mO!Y'aa!h'aa~O!Y/hO!h(zi~O!Y/hO!d#vO!h(zi~Og$zq!Y$zq#]$zq#}$zq~P!0pO!V'ca!Y'ca~P#.aO!d7]O~O!Y/pO!V({i~P#.aO!Y/pO!V({i~O!V7aO~O!d#vO#s7fO~Oo7gO!d#vO(m'mO~O}){O!P)|O(u%QOk'fa(t'fa!Y'fa#]'fa~Og'fa#}'fa~P&2mO}){O!P)|Ok'ha(t'ha(u'ha!Y'ha#]'ha~Og'ha#}'ha~P&3`O!V7iO~Og$|q!Y$|q#]$|q#}$|q~P!0pOa$my!Y$my'u$my's$my!V$my!h$mys$my![$my%f$my!d$my~P!9mO!d6YO~O!Y4tO![(|a~O![']OP$SaR$Sa[$Sao$Sa}$Sa!P$Sa!Y$Sa!i$Sa!m$Sa#O$Sa#k$Sa#l$Sa#m$Sa#n$Sa#o$Sa#p$Sa#q$Sa#r$Sa#s$Sa#u$Sa#w$Sa#y$Sa#z$Sa([$Sa(m$Sa(t$Sa(u$Sa~O%f6nO~P&5iOa#`y!Y#`y'u#`y's#`y!V#`y!h#`ys#`y![#`y%f#`y!d#`y~P!9mO[7nO~Ob7pO(O+kO(QTO(TUO~O!Y0wO!Z)Ti~O`7tO~O(`(xO!Y'lX!Z'lX~O!Y5]O!Z)Qa~O!Z7}O~P%6ZOp!nO!P8OO(QTO(TUO(`!mO(j!sO~O![1aO~O![1aO%f8QO~Ok8TO![1aO%f8QO~O[8YO!Y'oa!Z'oa~O!Y1lO!Z)Ri~O!h8^O~O!h8_O~O!h8bO~O!h8bO~P%[Oa8dO~O!d8eO~O!h8fO~O!Y(ri!Z(ri~P#D_Oa%lO#]8nO'u%lO~O!Y(oy!h(oya(oy'u(oy~P!9mO!Y(fO!h(ny~O%f8qO~P&5iO![']O%f8qO~O#h$zqP$zqR$zq[$zqa$zqo$zq!Y$zq!i$zq!m$zq#O$zq#k$zq#l$zq#m$zq#n$zq#o$zq#p$zq#q$zq#r$zq#s$zq#u$zq#w$zq#y$zq#z$zq'u$zq([$zq(m$zq!h$zq!V$zq's$zq#]$zqs$zq![$zq%f$zq!d$zq~P#.aO#h'faP'faR'fa['faa'fao'fa!i'fa!m'fa#O'fa#k'fa#l'fa#m'fa#n'fa#o'fa#p'fa#q'fa#r'fa#s'fa#u'fa#w'fa#y'fa#z'fa'u'fa(['fa(m'fa!h'fa!V'fa's'fas'fa!['fa%f'fa!d'fa~P&2mO#h'haP'haR'ha['haa'hao'ha!i'ha!m'ha#O'ha#k'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#u'ha#w'ha#y'ha#z'ha'u'ha(['ha(m'ha!h'ha!V'ha's'has'ha!['ha%f'ha!d'ha~P&3`O#h$|qP$|qR$|q[$|qa$|qo$|q!Y$|q!i$|q!m$|q#O$|q#k$|q#l$|q#m$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#u$|q#w$|q#y$|q#z$|q'u$|q([$|q(m$|q!h$|q!V$|q's$|q#]$|qs$|q![$|q%f$|q!d$|q~P#.aO!Y'Ui!h'Ui~P!9mO#}#`q!Y#`q!Z#`q~P#D_O(t%OOP%^aR%^a[%^ao%^a!i%^a!m%^a#O%^a#k%^a#l%^a#m%^a#n%^a#o%^a#p%^a#q%^a#r%^a#s%^a#u%^a#w%^a#y%^a#z%^a#}%^a([%^a(m%^a!Y%^a!Z%^a~Ok%^a}%^a!P%^a(u%^a~P&FgO(u%QOP%`aR%`a[%`ao%`a!i%`a!m%`a#O%`a#k%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#u%`a#w%`a#y%`a#z%`a#}%`a([%`a(m%`a!Y%`a!Z%`a~Ok%`a}%`a!P%`a(t%`a~P&HkOk<qO}){O!P)|O(u%QO~P&FgOk<qO}){O!P)|O(t%OO~P&HkOR0`O}0`O!P0aO#P$dOPza[zakzaoza!iza!mza#Oza#kza#lza#mza#nza#oza#pza#qza#rza#sza#uza#wza#yza#zza#}za([za(mza(tza(uza!Yza!Zza~O}){O!P)|OP$qaR$qa[$qak$qao$qa!i$qa!m$qa#O$qa#k$qa#l$qa#m$qa#n$qa#o$qa#p$qa#q$qa#r$qa#s$qa#u$qa#w$qa#y$qa#z$qa#}$qa([$qa(m$qa(t$qa(u$qa!Y$qa!Z$qa~O}){O!P)|OP$saR$sa[$sak$sao$sa!i$sa!m$sa#O$sa#k$sa#l$sa#m$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#u$sa#w$sa#y$sa#z$sa#}$sa([$sa(m$sa(t$sa(u$sa!Y$sa!Z$sa~OP%RaR%Ra[%Rao%Ra!i%Ra!m%Ra#O%Ra#k%Ra#l%Ra#m%Ra#n%Ra#o%Ra#p%Ra#q%Ra#r%Ra#s%Ra#u%Ra#w%Ra#y%Ra#z%Ra#}%Ra([%Ra(m%Ra!Y%Ra!Z%Ra~P&(tO#}$lq!Y$lq!Z$lq~P#D_O#}$mq!Y$mq!Z$mq~P#D_O!Z9OO~O#}9PO~P!0pO!d#vO!Y'ai!h'ai~O!d#vO(m'mO!Y'ai!h'ai~O!Y/hO!h(zq~O!V'ci!Y'ci~P#.aO!Y/pO!V({q~O!V9VO~P#.aO!V9VO~Og(Yy!Y(Yy~P!0pO!Y'ja!['ja~P#.aOa%Yq![%Yq'u%Yq!Y%Yq~P#.aO[9[O~O!Y0wO!Z)Tq~O#]9`O!Y'la!Z'la~O!Y5]O!Z)Qi~P#D_O![1aO%f9dO~O(QTO(TUO(`9iO~O!Y1lO!Z)Rq~O!h9lO~O!h9mO~O!h9nO~O!h9nO~P%[O#]9qO!Y#ey!Z#ey~O!Y#ey!Z#ey~P#D_O%f9vO~P&5iO![']O%f9vO~O#}#{y!Y#{y!Z#{y~P#D_OP$ziR$zi[$zio$zi!i$zi!m$zi#O$zi#k$zi#l$zi#m$zi#n$zi#o$zi#p$zi#q$zi#r$zi#s$zi#u$zi#w$zi#y$zi#z$zi#}$zi([$zi(m$zi!Y$zi!Z$zi~P&(tO}){O!P)|O(u%QOP'eaR'ea['eak'eao'ea!i'ea!m'ea#O'ea#k'ea#l'ea#m'ea#n'ea#o'ea#p'ea#q'ea#r'ea#s'ea#u'ea#w'ea#y'ea#z'ea#}'ea(['ea(m'ea(t'ea!Y'ea!Z'ea~O}){O!P)|OP'gaR'ga['gak'gao'ga!i'ga!m'ga#O'ga#k'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#u'ga#w'ga#y'ga#z'ga#}'ga(['ga(m'ga(t'ga(u'ga!Y'ga!Z'ga~O(t%OOP%^iR%^i[%^ik%^io%^i}%^i!P%^i!i%^i!m%^i#O%^i#k%^i#l%^i#m%^i#n%^i#o%^i#p%^i#q%^i#r%^i#s%^i#u%^i#w%^i#y%^i#z%^i#}%^i([%^i(m%^i(u%^i!Y%^i!Z%^i~O(u%QOP%`iR%`i[%`ik%`io%`i}%`i!P%`i!i%`i!m%`i#O%`i#k%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#u%`i#w%`i#y%`i#z%`i#}%`i([%`i(m%`i(t%`i!Y%`i!Z%`i~O#}$my!Y$my!Z$my~P#D_O#}#`y!Y#`y!Z#`y~P#D_O!d#vO!Y'aq!h'aq~O!Y/hO!h(zy~O!V'cq!Y'cq~P#.aO!V:PO~P#.aO!Y0wO!Z)Ty~O!Y5]O!Z)Qq~O![1aO%f:WO~O!h:ZO~O%f:`O~P&5iOP$zqR$zq[$zqo$zq!i$zq!m$zq#O$zq#k$zq#l$zq#m$zq#n$zq#o$zq#p$zq#q$zq#r$zq#s$zq#u$zq#w$zq#y$zq#z$zq#}$zq([$zq(m$zq!Y$zq!Z$zq~P&(tO}){O!P)|O(u%QOP'faR'fa['fak'fao'fa!i'fa!m'fa#O'fa#k'fa#l'fa#m'fa#n'fa#o'fa#p'fa#q'fa#r'fa#s'fa#u'fa#w'fa#y'fa#z'fa#}'fa(['fa(m'fa(t'fa!Y'fa!Z'fa~O}){O!P)|OP'haR'ha['hak'hao'ha!i'ha!m'ha#O'ha#k'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#u'ha#w'ha#y'ha#z'ha#}'ha(['ha(m'ha(t'ha(u'ha!Y'ha!Z'ha~OP$|qR$|q[$|qo$|q!i$|q!m$|q#O$|q#k$|q#l$|q#m$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#u$|q#w$|q#y$|q#z$|q#}$|q([$|q(m$|q!Y$|q!Z$|q~P&(tOg%b!Z!Y%b!Z#]%b!Z#}%b!Z~P!0pO!Y'lq!Z'lq~P#D_O!Y#e!Z!Z#e!Z~P#D_O#h%b!ZP%b!ZR%b!Z[%b!Za%b!Zo%b!Z!Y%b!Z!i%b!Z!m%b!Z#O%b!Z#k%b!Z#l%b!Z#m%b!Z#n%b!Z#o%b!Z#p%b!Z#q%b!Z#r%b!Z#s%b!Z#u%b!Z#w%b!Z#y%b!Z#z%b!Z'u%b!Z([%b!Z(m%b!Z!h%b!Z!V%b!Z's%b!Z#]%b!Zs%b!Z![%b!Z%f%b!Z!d%b!Z~P#.aOP%b!ZR%b!Z[%b!Zo%b!Z!i%b!Z!m%b!Z#O%b!Z#k%b!Z#l%b!Z#m%b!Z#n%b!Z#o%b!Z#p%b!Z#q%b!Z#r%b!Z#s%b!Z#u%b!Z#w%b!Z#y%b!Z#z%b!Z#}%b!Z([%b!Z(m%b!Z!Y%b!Z!Z%b!Z~P&(tOs(aX~P1qO}%pO~P!(oO(P!lO~P!(oO!VfX!YfX#]fX~P&-}OP]XR]X[]Xo]X}]X!P]X!Y]X!YfX!i]X!m]X#O]X#P]X#]]X#]fX#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X([]X(m]X(t]X(u]X~O!dfX!h]X!hfX(mfX~P'CvOP:kOQ:kOSfOd<fOe!iOmkOo:kOpkOqkOwkOy:kO{:kO!PWO!TkO!UkO![XO!f:nO!iZO!l:kO!m:kO!n:kO!p:oO!r:rO!u!hO$V!kO(O)YO(QTO(TUO([VO(j[O(y<dO~O!Y;PO!Z$oa~Oh%WOm%XOo$uOp$tOq$tOw%YOy%ZO{;ZO!P$|O![$}O!f<kO!i$yO#g;aO$V%_O$r;]O$t;_O$w%`O(O(rO(QTO(TUO([$vO(t%OO(u%QO~O#t)`O~P'HlOo!bX(m!bX~P# ZO!Z]X!ZfX~P'CvO!VfX!V$xX!YfX!Y$xX#]fX~P!/gO#h:sO~O!d#vO#h:sO~O#];TO~O#s:xO~O#];dO!Y(rX!Z(rX~O#];TO!Y(pX!Z(pX~O#h;eO~Og;gO~P!0pO#h;mO~O#h;nO~O!d#vO#h;oO~O!d#vO#h;eO~O#};pO~P#D_O#h;qO~O#h;rO~O#h;wO~O#h;xO~O#h;yO~O#h;zO~O#};{O~P!0pO#};|O~P!0pO#P#Q#R#T#U#X#f#g#r(y$r$t$w%Z%e%f%g%n%p%s%t%v%x~'yT#l!U'w(P#mp#k#no}'x$['x(O$^(`~",goto:"$2y)XPPPPPP)YPP)]P)nP+O/PPPPP5wPP6_PP<U?kP@OP@OPPP@OPBOP@OP@OP@OPBSPBXPBvPGoPPPGsPPPPGsJuPPPJ{KwPGsPGsPPNVGsPPPGsPGsP!!^GsP!%s!&x!'RP!'u!'y!'u!+VPPPPPPP!+v!&xPP!,W!-QP!/tGsGs!/y!3U!7l!7l!;jPPP!;rGsPPPPPPPPPPP!?QP!@_PPGs!ApPGsPGsGsGsGsGsPGs!CSP!F]P!IbP!If!Ip!It!ItP!FYP!Ix!IxP!L}P!MRGsGs!MX#!]BS@OP@OP@O@OP##i@O@O#%s@O#(c@O#*g@O@O#+V#-c#-c#-h#-q#-c#-zP#-cP@O#.d@O#2T@O@O5wPPP#5zPPP#6e#6eP#6eP#6{#6ePP#7RP#6xP#6x#7f#6x#8Q#8W5t)]#8Z)]P#8b#8b#8bP)]P)]P)]P)]PP)]P#8h#8kP#8k)]P#8oP#8rP)]P)]P)]P)]P)]P)])]PP#8x#9O#9Z#9a#9g#9m#9s#:R#:X#:c#:i#:s#:y#;Z#;a#<R#<e#<k#<q#=P#=f#?T#?c#?j#AO#A^#Bx#CW#C^#Cd#Cj#Ct#Cz#DQ#D[#Dn#DtPPPPPPPPPP#DzPPPPPPP#Eo#Hv#JV#J^#JfPPP$ lP$ u$$m$+V$+Y$+]$+x$+{$,S$,[P$,b$,eP$-R$-V$-}$/]$/b$/xPP$/}$0T$0XP$0[$0`$0d$1Y$1q$2Y$2^$2a$2d$2j$2m$2q$2uR!|RoqOXst!Z#d%k&o&q&r&t,k,p1|2PY!vQ']-]1a5dQ%rvQ%zyQ&R|Q&g!VS'T!e-TQ'c!iS'i!r!yU*f$}*W*kQ+i%{Q+v&TQ,[&aQ-Z'[Q-e'dQ-m'jQ0R*mQ1k,]R;b:o%QdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$`$e%k%r&P&h&k&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)z+R+V,h,k,p-a-i-w-}.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3^5a5k5{5|6P6d8O8T8d8nS#q]:l!r)[$[$n'U)o,|-P.}2b3u5_6Z9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gU*y%[;Y;ZQ+n%}Q,^&dQ,e&lQ0m+aQ0q+cQ0|+oQ1s,cQ3Q._Q4}0wQ5r1lQ6p3UQ7p5OR8t6r'OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gt!nQ!r!v!y!z'T'[']'i'j'k-T-Z-]-m1a5d5f$z$ti#v$b$c$d$y$|%P%R%]%^%b)v)|*O*Q*S*V*]*c*s*t+`+c+z+}.^.w/]/e/o/p/r0V0X0d1W1Z1c3T3}4Y4b4l4t4w5j6n7]7f8Q8q9P9d9v:W:`;R;S;U;V;W;X;[;];^;_;`;a;h;i;j;k;m;n;q;r;s;t;u;v;w;x;{;|<d<l<m<p<qQ&U|Q'R!eU'X%g*W-WQ+n%}Q,^&dQ0c*|Q0|+oQ1R+uQ1r,bQ1s,cQ4}0wQ5W1TQ5r1lQ5u1nQ5v1qQ7p5OQ7s5TQ8]5xQ9_7tR9j8YrnOXst!V!Z#d%k&f&o&q&r&t,k,p1|2PR,`&h&x^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<f<g[#]WZ#W#Z'U(P!b%hm#h#i#l$y%c%f(Y(d(e(f*V*Z*^+T+U+W,g,}-{.R.S.T.V/e/h2U2|2}4Q6Y6kQ%uxQ%yyS&O|&TQ&[!TQ'`!hQ'b!iQ(m#sS+h%z%{Q+l%}Q,V&_Q,Z&aS-d'c'dQ.a(nQ0u+iQ0{+oQ0}+pQ1Q+tQ1f,WS1j,[,]Q2n-eQ4|0wQ5Q0zQ5V1SQ5q1kQ7o5OQ7r5SQ9Z7nR:R9[!O${i$d%P%R%]%^%b*O*Q*]*s*t.w/o0V0X0d3}4l9P<d<l<m!S%wy!i!u%y%z%{'S'b'c'd'h'r*e+h+i-Q-d-e-l/y0u2g2n2u4dQ+b%uQ+{&XQ,O&YQ,Y&aQ.`(mQ1e,VU1i,Z,[,]Q3V.aQ5l1fS5p1j1kQ8X5q#[<h#v$b$c$y$|)v)|*S*V*c+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4t4w5j6n7]7f8Q8q9d9v:W:`;U;W;[;^;`;h;j;m;q;s;u;w;{<p<qo<i;R;S;V;X;];_;a;i;k;n;r;t;v;x;|W%Ui%W*u<dS&X!Q&fQ&Y!RQ&Z!SR+y&V${%Ti#v$b$c$d$y$|%P%R%]%^%b)v)|*O*Q*S*V*]*c*s*t+`+c+z+}.^.w/]/e/o/p/r0V0X0d1W1Z1c3T3}4Y4b4l4t4w5j6n7]7f8Q8q9P9d9v:W:`;R;S;U;V;W;X;[;];^;_;`;a;h;i;j;k;m;n;q;r;s;t;u;v;w;x;{;|<d<l<m<p<qT)w$v)xV*y%[;Y;ZW'X!e%g*W-WS(y#y#zQ+]%pQ+s&QS.Y(i(jQ1[,PQ4m0`R7x5]'OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<g$i$_c#Y#e%o%q%s(O(U(p(u(})O)P)Q)R)S)T)U)V)W)X)Z)])c)m+^+r-R-p-u-z-|.k.n.r.t.u.v/X0e2]2`2p2w3]3b3c3d3e3f3g3h3i3j3k3l3m3n3q3r3y4q4z6]6c6h6w6x7R7S7z8h8l8v8|8}9s:T:[:m<ZT#TV#U'PkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gQ'V!eR2c-Tv!nQ!e!r!v!y!z'T'[']'i'j'k-T-Z-]-m1a5d5fU*e$}*W*kS/y*f*mQ0S*nQ1^,RQ4d0RR4g0UnqOXst!Z#d%k&o&q&r&t,k,p1|2PQ&v!^Q's!xS(o#u:sQ+f%xQ,T&[Q,U&^Q-b'aQ-o'lS.j(t;eS0f+R;oQ0s+gQ1`,SQ2T,rQ2V,sQ2_-OQ2l-cQ2o-gS4r0g;yQ4x0tS4{0v;zQ6[2aQ6`2mQ6e2tQ7m4yQ8i6^Q8j6aQ8m6fR9p8f$d$^c#Y#e%q%s(O(U(p(u(})O)P)Q)R)S)T)U)V)W)X)Z)])c)m+^+r-R-p-u-z-|.k.n.r.u.v/X0e2]2`2p2w3]3b3c3d3e3f3g3h3i3j3k3l3m3n3q3r3y4q4z6]6c6h6w6x7R7S7z8h8l8v8|8}9s:T:[:m<ZS(k#p'fQ({#zS+[%o.tS.Z(j(lR3O.['OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gS#q]:lQ&q!XQ&r!YQ&t![Q&u!]R1{,nQ'^!hQ+_%uQ-`'`S.](m+bQ2j-_W3S.`.a0l0nQ6_2kW6l3P3R3V4vU8p6m6o6qU9u8r8s8uS:^9t9wQ:f:_R:i:gU!wQ']-]T5b1a5d!Q_OXZ`st!V!Z#d#h%c%k&f&h&o&q&r&t(f,k,p.S1|2P]!pQ!r']-]1a5dT#q]:l%[{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$`$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)z+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5a5k5{5|6P6d6r8O8T8d8nS(y#y#zS.Y(i(j!s<Q$[$n'U)o,|-P.}2b3u5_6Z9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gU$fd)[,eS(l#p'fU*r%S(s3pU0b*x.f6}Q4v0mQ6m3QQ8s6pR9w8tm!tQ!r!v!y!z']'i'j'k-]-m1a5d5fQ'q!uS(b#g1vS-k'h'tQ/k*YQ/w*eQ2v-nQ4U/lS4_/x0SQ7X4PS7d4e4gQ9R7YR9Y7gQ#wbQ'p!uS(a#g1vS(c#m+QQ+S%dQ+d%vQ+j%|U-j'h'q'tQ.O(bQ/j*YQ/v*eQ/|*hQ0r+eQ1g,XS2s-k-nQ2{.WS4T/k/lS4^/w0SQ4a/{Q4c/}Q5n1hQ6g2vQ7W4PQ7[4US7`4_4gQ7e4fQ8V5oS9Q7X7YQ9U7aQ9W7dQ9g8WQ9}9RQ:O9VQ:Q9YQ:Y9hQ:b:PQ<T<OQ<`<XR<a<YV!wQ']-]%[aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$`$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)z+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5a5k5{5|6P6d6r8O8T8d8nS#wz!j!r;}$[$n'U)o,|-P.}2b3u5_6Z9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gR<T<f%[bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$`$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)z+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5a5k5{5|6P6d6r8O8T8d8nQ%dj!S%vy!i!u%y%z%{'S'b'c'd'h'r*e+h+i-Q-d-e-l/y0u2g2n2u4dS%|z!jQ+e%wQ,X&aW1h,Y,Z,[,]U5o1i1j1kS8W5p5qQ9h8X!r<O$[$n'U)o,|-P.}2b3u5_6Z9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gQ<X<eR<Y<f%OeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$`$e%k%r&P&h&k&o&q&r&t&x'Q'_'o(R(X(`(t(v(z)z+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5a5k5{5|6P6d6r8O8T8d8nY#bWZ#W#Z(P!b%hm#h#i#l$y%c%f(Y(d(e(f*V*Z*^+T+U+W,g,}-{.R.S.T.V/e/h2U2|2}4Q6Y6kQ,f&l!p<P$[$n)o,|-P.}2b3u5_6Z9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gR<S'UU'Y!e%g*WR2e-W%QdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$`$e%k%r&P&h&k&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)z+R+V,h,k,p-a-i-w-}.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3^5a5k5{5|6P6d8O8T8d8n!r)[$[$n'U)o,|-P.}2b3u5_6Z9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gQ,e&lQ0m+aQ3Q._Q6p3UR8t6r!b$Uc#Y%o(O(U(p(u)W)X)])c+r-p-u-z-|.k.n/X0e2p2w3]3n4q4z6c6h6w8l9s:m!P:z)Z)m-R.t2]2`3b3l3m3q3y6]6x7R7S7z8h8v8|8}:T:[<Z!f$Wc#Y%o(O(U(p(u)T)U)W)X)])c+r-p-u-z-|.k.n/X0e2p2w3]3n4q4z6c6h6w8l9s:m!T:|)Z)m-R.t2]2`3b3i3j3l3m3q3y6]6x7R7S7z8h8v8|8}:T:[<Z!^$[c#Y%o(O(U(p(u)])c+r-p-u-z-|.k.n/X0e2p2w3]3n4q4z6c6h6w8l9s:mQ3}/cz<g)Z)m-R.t2]2`3b3q3y6]6x7R7S7z8h8v8|8}:T:[<ZQ<l<nR<m<o'OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gS$oh$pR3v.|'VgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n$p%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.|.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gT$kf$qQ$ifS)f$l)jR)r$qT$jf$qT)h$l)j'VhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$`$e$n$p%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)z+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.|.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5_5a5k5{5|6P6Z6d6r8O8T8d8n9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<gT$oh$pQ$rhR)q$p%[jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Y$`$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)z+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5a5k5{5|6P6d6r8O8T8d8n!s<e$[$n'U)o,|-P.}2b3u5_6Z9`9q:k:n:o:r:s:t:u:v:w:x:y:z:{:|:};O;P;T;b;d;e;g;o;p;y;z<g#elOPXZst!Z!`!o#S#d#o#{$n%k&h&k&l&o&q&r&t&x'Q'_(z)o+V+a,h,k,p-a._.}/f0a1d1t1u1w1y1|2P2R3U3u5a5k5{5|6P6r8O8T8d!O%Si$d%P%R%]%^%b*O*Q*]*s*t.w/o0V0X0d3}4l9P<d<l<m#[(s#v$b$c$y$|)v)|*S*V*c+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4t4w5j6n7]7f8Q8q9d9v:W:`;U;W;[;^;`;h;j;m;q;s;u;w;{<p<qQ*}%`Q/Y){o3p;R;S;V;X;];_;a;i;k;n;r;t;v;x;|!O$zi$d%P%R%]%^%b*O*Q*]*s*t.w/o0V0X0d3}4l9P<d<l<mQ*_${U*h$}*W*kQ+O%aQ/}*i#[<V#v$b$c$y$|)v)|*S*V*c+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4t4w5j6n7]7f8Q8q9d9v:W:`;U;W;[;^;`;h;j;m;q;s;u;w;{<p<qn<W;R;S;V;X;];_;a;i;k;n;r;t;v;x;|Q<[<hQ<]<iQ<^<jR<_<k!O%Si$d%P%R%]%^%b*O*Q*]*s*t.w/o0V0X0d3}4l9P<d<l<m#[(s#v$b$c$y$|)v)|*S*V*c+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4t4w5j6n7]7f8Q8q9d9v:W:`;U;W;[;^;`;h;j;m;q;s;u;w;{<p<qo3p;R;S;V;X;];_;a;i;k;n;r;t;v;x;|noOXst!Z#d%k&o&q&r&t,k,p1|2PS*b$|*VQ,y&{Q,z&}R4X/p$z%Ti#v$b$c$d$y$|%P%R%]%^%b)v)|*O*Q*S*V*]*c*s*t+`+c+z+}.^.w/]/e/o/p/r0V0X0d1W1Z1c3T3}4Y4b4l4t4w5j6n7]7f8Q8q9P9d9v:W:`;R;S;U;V;W;X;[;];^;_;`;a;h;i;j;k;m;n;q;r;s;t;u;v;w;x;{;|<d<l<m<p<qQ+|&YQ1Y,OQ5Z1XR7w5[V*j$}*W*kU*j$}*W*kT5c1a5dU/{*g/f5aT4f0T8OQ+d%vQ/|*hQ0r+eQ1g,XQ5n1hQ8V5oQ9g8WR:Y9h!O%Pi$d%P%R%]%^%b*O*Q*]*s*t.w/o0V0X0d3}4l9P<d<l<mr*O$w)a*P*q+P/n0Z0[3s4V4p7V7h9|<U<b<cS0V*p0W#[;U#v$b$c$y$|)v)|*S*V*c+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4t4w5j6n7]7f8Q8q9d9v:W:`;U;W;[;^;`;h;j;m;q;s;u;w;{<p<qn;V;R;S;V;X;];_;a;i;k;n;r;t;v;x;|!^;h(q)_*X*a.b.e.i/U/Z/c/s0k1V1X3Y4W4[5Y5[6s6v7^7b7j7l9T9X:a<n<o`;i3o6y6|7Q8w9x9{:jS;s.d3ZT;t6{8z!O%Ri$d%P%R%]%^%b*O*Q*]*s*t.w/o0V0X0d3}4l9P<d<l<mv*Q$w)a*R*p+P/_/n0Z0[3s4V4h4p7V7h9|<U<b<cS0X*q0Y#[;W#v$b$c$y$|)v)|*S*V*c+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4t4w5j6n7]7f8Q8q9d9v:W:`;U;W;[;^;`;h;j;m;q;s;u;w;{<p<qn;X;R;S;V;X;];_;a;i;k;n;r;t;v;x;|!b;j(q)_*X*a.c.d.i/U/Z/c/s0k1V1X3W3Y4W4[5Y5[6s6t6v7^7b7j7l9T9X:a<n<od;k3o6z6{7Q8w8x9x9y9{:jS;u.e3[T;v6|8{rnOXst!V!Z#d%k&f&o&q&r&t,k,p1|2PQ&c!UR,h&lrnOXst!V!Z#d%k&f&o&q&r&t,k,p1|2PR&c!UQ,Q&ZR1U+ysnOXst!V!Z#d%k&f&o&q&r&t,k,p1|2PQ1b,VS5i1e1fU8P5g5h5lS9c8R8SS:U9b9eQ:c:VR:h:dQ&j!VR,a&fR5u1nS&O|&TR0}+pQ&o!WR,k&pR,q&uT1},p2PR,u&vQ,t&vR2W,uQ'v!{R-q'vSsOtQ#dXT%ns#dQ#OTR'x#OQ#RUR'z#RQ)x$vR/V)xQ#UVR'|#UQ#XWU(S#X(T-xQ(T#YR-x(UQ-U'VR2d-UQ.m(uS3_.m3`R3`.nQ-]']R2h-]Y!rQ']-]1a5dR'g!rQ.x)aR3t.xU#_W%f*VU(Z#_([-yQ([#`R-y(VQ-X'YR2f-Xt`OXst!V!Z#d%k&f&h&o&q&r&t,k,p1|2PS#hZ%cU#r`#h.SR.S(fQ(g#jQ.P(cW.X(g.P2y6iQ2y.QR6i2zQ)j$lR/O)jQ$phR)p$pQ$acU)^$a-t;QQ-t:mR;Q)mQ/i*YW4R/i4S7Z9SU4S/j/k/lS7Z4T4UR9S7[$X)}$w(q)_)a*X*a*p*q*z*{+P.d.e.g.h.i/U/Z/_/a/c/n/s0Z0[0k1V1X3W3X3Y3o3s4V4W4[4h4j4p5Y5[6s6t6u6v6{6|7O7P7Q7V7^7b7h7j7l8w8x8y9T9X9x9y9z9{9|:a:j<U<b<c<n<oQ/q*aU4Z/q4]7_Q4]/sR7_4[S*k$}*WR0P*kr*P$w)a*p*q+P/n0Z0[3s4V4p7V7h9|<U<b<c!^.b(q)_*X*a.d.e.i/U/Z/c/s0k1V1X3Y4W4[5Y5[6s6v7^7b7j7l9T9X:a<n<oU/`*P.b6ya6y3o6{6|7Q8w9x9{:jQ0W*pQ3Z.dU4i0W3Z8zR8z6{v*R$w)a*p*q+P/_/n0Z0[3s4V4h4p7V7h9|<U<b<c!b.c(q)_*X*a.d.e.i/U/Z/c/s0k1V1X3W3Y4W4[5Y5[6s6t6v7^7b7j7l9T9X:a<n<oU/b*R.c6ze6z3o6{6|7Q8w8x9x9y9{:jQ0Y*qQ3[.eU4k0Y3[8{R8{6|Q*v%VR0^*vQ4u0kR7k4uQ+X%iR0j+XQ5^1[S7y5^9aR9a7zQ,S&[R1_,SQ5d1aR7|5dQ1m,^S5s1m8ZR8Z5uQ0x+lW5P0x5R7q9]Q5R0{Q7q5QR9]7rQ+q&OR1O+qQ2P,pR6T2PYrOXst#dQ&s!ZQ+Z%kQ,j&oQ,l&qQ,m&rQ,o&tQ1z,kS1},p2PR6S1|Q%mpQ&w!_Q&z!aQ&|!bQ'O!cQ'n!uQ+Y%jQ+f%xQ+x&UQ,`&jQ,w&yW-h'h'p'q'tQ-o'lQ0O*jQ0s+gS1p,a,dQ2X,vQ2Y,yQ2Z,zQ2o-gW2q-j-k-n-pQ4x0tQ5U1RQ5X1VQ5m1gQ5w1rQ6R1{U6b2p2s2vQ6e2tQ7m4yQ7u5WQ7v5YQ7{5cQ8U5nQ8[5vS8k6c6gQ8m6fQ9^7sQ9f8VQ9k8]Q9r8lQ:S9_Q:X9gQ:]9sR:e:YQ%xyQ'a!iQ'l!uU+g%y%z%{Q-O'SU-c'b'c'dS-g'h'rQ/u*eS0t+h+iQ2a-QS2m-d-eQ2t-lQ4`/yQ4y0uQ6^2gQ6a2nQ6f2uR7c4dS$xi<dR*w%WU%Vi%W<dR0]*uQ$wiS(q#v+cS)_$b$cQ)a$dQ*X$yS*a$|*VQ*p%PQ*q%RQ*z%]Q*{%^Q+P%bQ.d;UQ.e;WQ.g;[Q.h;^Q.i;`Q/U)vS/Z)|/]Q/_*OQ/a*QQ/c*SQ/n*]S/s*c/eQ0Z*sQ0[*th0k+`.^1c3T5j6n8Q8q9d9v:W:`Q1V+zQ1X+}Q3W;hQ3X;jQ3Y;mS3o;R;SQ3s.wQ4V/oQ4W/pQ4[/rQ4h0VQ4j0XQ4p0dQ5Y1WQ5[1ZQ6s;qQ6t;sQ6u;uQ6v;wQ6{;VQ6|;XQ7O;]Q7P;_Q7Q;aQ7V3}Q7^4YQ7b4bQ7h4lQ7j4tQ7l4wQ8w;nQ8x;iQ8y;kQ9T7]Q9X7fQ9x;rQ9y;tQ9z;vQ9{;xQ9|9PQ:a;{Q:j;|Q<U<dQ<b<lQ<c<mQ<n<pR<o<qQ*x%[Q.f;YR6};ZnpOXst!Z#d%k&o&q&r&t,k,p1|2PQ!fPS#fZ#oQ&y!`U'e!o5a8OQ'{#SQ(|#{Q)n$nS,d&h&kQ,i&lQ,v&xQ,{'QQ-_'_Q.p(zQ/S)oS0h+V/fQ0n+aQ1x,hQ2k-aQ3R._Q3x.}Q4n0aQ5h1dQ5y1tQ5z1uQ6O1wQ6Q1yQ6V2RQ6q3UQ7T3uQ8S5kQ8`5{Q8a5|Q8c6PQ8u6rQ9e8TR9o8d#YcOPXZst!Z!`!o#d#o#{%k&h&k&l&o&q&r&t&x'Q'_(z+V+a,h,k,p-a._/f0a1d1t1u1w1y1|2P2R3U5a5k5{5|6P6r8O8T8dQ#YWQ#eYQ%ouQ%qvS%sw!gS(O#W(RQ(U#ZQ(p#uQ(u#xQ(}$OQ)O$PQ)P$QQ)Q$RQ)R$SQ)S$TQ)T$UQ)U$VQ)V$WQ)W$XQ)X$YQ)Z$[Q)]$`Q)c$eW)m$n)o.}3uQ+^%rQ+r&PS-R'U2bQ-p'oS-u(P-wQ-z(XQ-|(`Q.k(tQ.n(vQ.r:kQ.t:nQ.u:oQ.v:rQ/X)zQ0e+RQ2],|Q2`-PQ2p-iQ2w-}Q3].lQ3b:sQ3c:tQ3d:uQ3e:vQ3f:wQ3g:xQ3h:yQ3i:zQ3j:{Q3k:|Q3l:}Q3m;OQ3n.sQ3q;TQ3r;bQ3y;PQ4q0gQ4z0vQ6];dQ6c2rQ6h2xQ6w3^Q6x;eQ7R;gQ7S;oQ7z5_Q8h6ZQ8l6dQ8v;pQ8|;yQ8};zQ9s8nQ:T9`Q:[9qQ:m#SR<Z<gR#[WR'W!el!tQ!r!v!y!z']'i'j'k-]-m1a5d5fS'S!e-TS-Q'T'[R2g-ZR(w#xQ!fQT-[']-]]!qQ!r']-]1a5dQ#p]R'f:lR)b$dY!uQ']-]1a5dQ'h!rS'r!v!yS't!z5fS-l'i'jQ-n'kR2u-mT#kZ%cS#jZ%cS%im,gU(c#h#i#lS.Q(d(eQ.U(fQ0i+WQ2z.RU2{.S.T.VS6j2|2}R8o6kd#^W#W#Z%f(P(Y*V+T-{/er#gZm#h#i#l%c(d(e(f+W.R.S.T.V2|2}6kS*Y$y*^Q/l*ZQ1v,gQ2^,}Q4P/hQ6X2UQ7Y4QQ8g6YT<R'U+UV#aW%f*VU#`W%f*VS(Q#W(YU(V#Z+T/eS-S'U+UT-v(P-{V'Z!e%g*WQ$lfR)t$qT)i$l)jR3w.|T*[$y*^T*d$|*VQ0l+`Q3P.^Q5g1cQ6o3TQ8R5jQ8r6nQ9b8QQ9t8qQ:V9dQ:_9vQ:d:WR:g:`nqOXst!Z#d%k&o&q&r&t,k,p1|2PQ&i!VR,`&ftmOXst!U!V!Z#d%k&f&o&q&r&t,k,p1|2PR,g&lT%jm,gR1],PR,_&dQ&S|R+w&TR+m%}T&m!W&pT&n!W&pT2O,p2P",nodeNames:"⚠ ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:376,context:YD,nodeProps:[["isolate",-8,5,6,14,34,36,48,50,52,""],["group",-26,9,17,19,65,204,208,212,213,215,218,221,231,233,239,241,243,245,248,254,260,262,264,266,268,270,271,"Statement",-34,13,14,29,32,33,39,48,51,52,54,59,67,69,73,77,79,81,82,107,108,117,118,135,138,140,141,142,143,144,146,147,166,167,169,"Expression",-23,28,30,34,38,40,42,171,173,175,176,178,179,180,182,183,184,186,187,188,198,200,202,203,"Type",-3,85,100,106,"ClassItem"],["openedBy",23,"<",35,"InterpolationStart",53,"[",57,"{",70,"(",159,"JSXStartCloseTag"],["closedBy",24,">",37,"InterpolationEnd",47,"]",58,"}",71,")",164,"JSXEndTag"]],propSources:[e9],skippedNodes:[0,5,6,274],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$h&j(U!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(U!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$h&j(RpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(RpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$h&j(Rp(U!b'w0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(S#S$h&j'x0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$h&j(Rp(U!b'x0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$h&j!m),Q(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#u(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#u(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(Q':f$h&j(U!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$h&j(U!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$h&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$c`$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$c``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$c`$h&j(U!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(U!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$c`(U!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$h&j(Rp(U!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$h&j(Rp(U!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$h&j(U!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$h&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(U!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$h&j(RpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(RpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Rp(U!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$h&j(j%1l(Rp(U!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$h&j(Rp(U!b$[#t(O,2j(`$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$h&j(Rp(U!b$[#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$h&j(Rp(U!b#m(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$h&j$P(Ch(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(u+JY$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$h&j#y(Ch(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(T';W$h&j(RpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$h&j(RpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$h&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$c`$h&j(RpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(RpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$c`(RpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!i/.^$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!h!Lf$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$h&j(Rp(U!b(P%&f#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$h&j(Rp(U!b#k(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$h&j(Rp(U!bo+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!Y+Jf$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$h&j(Rp(U!b}.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_!X!L^$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$h&j(Rp(U!b#l(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$h&j(Rp(U!b!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$h&j(U!b!U7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$h&j!U7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$h&j!U7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!U7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!U7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$h&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$h&j(U!b!U7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(U!b!U7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(U!b!U7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(U!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$h&j(U!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$h&j(Rp!U7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$h&j(Rp!U7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Rp!U7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Rp!U7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(RpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$h&j(RpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$h&j(Rp(U!b!U7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Rp(U!b!U7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Rp(U!b!U7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Rp(U!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$h&j(Rp(U!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$h&j(Rp(U!b'y0/l!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$h&j(Rp(U!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$h&j(U!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$h&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(U!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$h&j(RpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(RpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Rp(U!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$h&j$P(Ch(Rp(U!b!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Y#t$h&j(Rp(U!b!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!d$b$h&j#})Lv(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#O-<U(Rp(U!b(y7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$j&j(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#o(Ch(Rp(U!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$P(Ch(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#p(Ch(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#]*!Y$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#h(Cl$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#p(Ch$e#|$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#p(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#o(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#o(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(m(Ct$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$h&j#z(Ch(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!y$Ip$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!P0,v$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$h&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$h&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$h&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$h&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$h&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!V#)l$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#w(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$h&j(Rp(U!b([+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$h&j(Rp(U!b(O,2j$^#t(`$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$h&j(Rp(U!b$^#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X![#Hb(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(t+JY$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z(Kd$?V_!Z(Cds`$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!n7`$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$h&j(Rp(U!b'w0/l$[#t(O,2j(`$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$h&j(Rp(U!b'x0/l$[#t(O,2j(`$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[HD,KD,JD,2,3,4,5,6,7,8,9,10,11,12,13,14,GD,new vc("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOu~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!R~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(^~~",141,335),new vc("j~RQYZXz{^~^O'{~~aP!P!Qd~iO'|~~",25,318)],topRules:{Script:[0,7],SingleExpression:[1,272],SingleClassItem:[2,273]},dialects:{jsx:0,ts:14769},dynamicPrecedences:{77:1,79:1,91:1,167:1,196:1},specialized:[{term:322,get:t=>t9[t]||-1},{term:338,get:t=>n9[t]||-1},{term:92,get:t=>i9[t]||-1}],tokenPrec:14793}),vm=[Ft("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),Ft("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),Ft("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),Ft("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),Ft("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),Ft(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),Ft("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),Ft(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),Ft(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),Ft('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),Ft('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],Ck=vm.concat([Ft("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),Ft("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),Ft("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),G1=new Ew,$k=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function qo(t){return(e,n)=>{let i=e.node.getChild("VariableDefinition");return i&&n(i,t),!0}}const s9=["FunctionDeclaration"],o9={FunctionDeclaration:qo("function"),ClassDeclaration:qo("class"),ClassExpression:()=>!0,EnumDeclaration:qo("constant"),TypeAliasDeclaration:qo("type"),NamespaceDeclaration:qo("namespace"),VariableDefinition(t,e){t.matchContext(s9)||e(t,"variable")},TypeDefinition(t,e){e(t,"type")},__proto__:null};function Rk(t,e){let n=G1.get(e);if(n)return n;let i=[],r=!0;function s(o,a){let l=t.sliceString(o.from,o.to);i.push({label:l,type:a})}return e.cursor(Qe.IncludeAnonymous).iterate(o=>{if(r)r=!1;else if(o.name){let a=o9[o.name];if(a&&a(o,s)||$k.has(o.name))return!1}else if(o.to-o.from>8192){for(let a of Rk(t,o.node))i.push(a);return!1}}),G1.set(e,i),i}const xc=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,_m=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName",".","?."];function Ik(t){let e=Xe(t.state).resolveInner(t.pos,-1);if(_m.indexOf(e.name)>-1)return null;let n=e.name=="VariableName"||e.to-e.from<20&&xc.test(t.state.sliceDoc(e.from,e.to));if(!n&&!t.explicit)return null;let i=[];for(let r=e;r;r=r.parent)$k.has(r.name)&&(i=i.concat(Rk(t.state.doc,r)));return{options:i,from:n?e.from:t.pos,validFor:xc}}function of(t,e,n){var i;let r=[];for(;;){let s=e.firstChild,o;if(s?.name=="VariableName")return r.push(t(s)),{path:r.reverse(),name:n};if(s?.name=="MemberExpression"&&((i=o=s.lastChild)===null||i===void 0?void 0:i.name)=="PropertyName")r.push(t(o)),e=s;else return null}}function Qk(t){let e=i=>t.state.doc.sliceString(i.from,i.to),n=Xe(t.state).resolveInner(t.pos,-1);return n.name=="PropertyName"?of(e,n.parent,e(n)):(n.name=="."||n.name=="?.")&&n.parent.name=="MemberExpression"?of(e,n.parent,""):_m.indexOf(n.name)>-1?null:n.name=="VariableName"||n.to-n.from<20&&xc.test(e(n))?{path:[],name:e(n)}:n.name=="MemberExpression"?of(e,n,""):t.explicit?{path:[],name:""}:null}function a9(t,e){let n=[],i=new Set;for(let r=0;;r++){for(let o of(Object.getOwnPropertyNames||Object.keys)(t)){if(!/^[a-zA-Z_$\xaa-\uffdc][\w$\xaa-\uffdc]*$/.test(o)||i.has(o))continue;i.add(o);let a;try{a=t[o]}catch{continue}n.push({label:o,type:typeof a=="function"?/^[A-Z]/.test(o)?"class":e?"function":"method":e?"variable":"property",boost:-r})}let s=Object.getPrototypeOf(t);if(!s)return n;t=s}}function l9(t){let e=new Map;return n=>{let i=Qk(n);if(!i)return null;let r=t;for(let o of i.path)if(r=r[o],!r)return null;let s=e.get(r);return s||e.set(r,s=a9(r,!i.path.length)),{from:n.pos-i.name.length,options:s,validFor:xc}}}const dn=Bs.define({name:"javascript",parser:r9.configure({props:[sl.add({IfStatement:Pu({except:/^\s*({|else\b)/}),TryStatement:Pu({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:a5,SwitchBody:t=>{let e=t.textAfter,n=/^\s*\}/.test(e),i=/^\s*(case|default)\b/.test(e);return t.baseIndent+(n?0:i?1:2)*t.unit},Block:o5({closing:"}"}),ArrowFunction:t=>t.baseIndent+t.unit,"TemplateString BlockComment":()=>null,"Statement Property":Pu({except:/^{/}),JSXElement(t){let e=/^\s*<\//.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},JSXEscape(t){let e=/\s*\}/.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},"JSXOpenTag JSXSelfClosingTag"(t){return t.column(t.node.from)+t.unit}}),ol.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":Lw,BlockComment(t){return{from:t.from+2,to:t.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),Dk={test:t=>/^JSX/.test(t.name),facet:Yc({commentTokens:{block:{open:"{/*",close:"*/}"}}})},wm=dn.configure({dialect:"ts"},"typescript"),xm=dn.configure({dialect:"jsx",props:[Gp.add(t=>t.isTop?[Dk]:void 0)]}),km=dn.configure({dialect:"jsx ts",props:[Gp.add(t=>t.isTop?[Dk]:void 0)]},"typescript");let Vk=t=>({label:t,type:"keyword"});const Mk="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(Vk),u9=Mk.concat(["declare","implements","private","protected","public"].map(Vk));function Lk(t={}){let e=t.jsx?t.typescript?km:xm:t.typescript?wm:dn,n=t.typescript?Ck.concat(u9):vm.concat(Mk);return new Ws(e,[dn.data.of({autocomplete:J4(_m,Dx(n))}),dn.data.of({autocomplete:Ik}),t.jsx?Fk:[]])}function c9(t){for(;;){if(t.name=="JSXOpenTag"||t.name=="JSXSelfClosingTag"||t.name=="JSXFragmentTag")return t;if(t.name=="JSXEscape"||!t.parent)return null;t=t.parent}}function H1(t,e,n=t.length){for(let i=e?.firstChild;i;i=i.nextSibling)if(i.name=="JSXIdentifier"||i.name=="JSXBuiltin"||i.name=="JSXNamespacedName"||i.name=="JSXMemberExpression")return t.sliceString(i.from,Math.min(i.to,n));return""}const h9=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Fk=J.inputHandler.of((t,e,n,i,r)=>{if((h9?t.composing:t.compositionStarted)||t.state.readOnly||e!=n||i!=">"&&i!="/"||!dn.isActiveAt(t.state,e,-1))return!1;let s=r(),{state:o}=s,a=o.changeByRange(l=>{var u;let{head:c}=l,f=Xe(o).resolveInner(c-1,-1),d;if(f.name=="JSXStartTag"&&(f=f.parent),!(o.doc.sliceString(c-1,c)!=i||f.name=="JSXAttributeValue"&&f.to>c)){if(i==">"&&f.name=="JSXFragmentTag")return{range:l,changes:{from:c,insert:"</>"}};if(i=="/"&&f.name=="JSXStartCloseTag"){let p=f.parent,m=p.parent;if(m&&p.from==c-2&&((d=H1(o.doc,m.firstChild,c))||((u=m.firstChild)===null||u===void 0?void 0:u.name)=="JSXFragmentTag")){let O=`${d}>`;return{range:Z.cursor(c+O.length,-1),changes:{from:c,insert:O}}}}else if(i==">"){let p=c9(f);if(p&&p.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(o.doc.sliceString(c,c+2))&&(d=H1(o.doc,p,c)))return{range:l,changes:{from:c,insert:`</${d}>`}}}}return{range:l}});return a.changes.empty?!1:(t.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)});function f9(t,e){return e||(e={parserOptions:{ecmaVersion:2019,sourceType:"module"},env:{browser:!0,node:!0,es6:!0,es2015:!0,es2017:!0,es2020:!0},rules:{}},t.getRules().forEach((n,i)=>{n.meta.docs.recommended&&(e.rules[i]=2)})),n=>{let{state:i}=n,r=[];for(let{from:s,to:o}of dn.findRegions(i)){let a=i.doc.lineAt(s),l={line:a.number-1,col:s-a.from,pos:s};for(let u of t.verify(i.sliceDoc(s,o),e))r.push(d9(u,i.doc,l))}return r}}function K1(t,e,n,i){return n.line(t+i.line).from+e+(t==1?i.col-1:-1)}function d9(t,e,n){let i=K1(t.line,t.column,e,n),r={from:i,to:t.endLine!=null&&t.endColumn!=1?K1(t.endLine,t.endColumn,e,n):i,message:t.message,source:t.ruleId?"eslint:"+t.ruleId:"eslint",severity:t.severity==1?"warning":"error"};if(t.fix){let{range:s,text:o}=t.fix,a=s[0]+n.pos-i,l=s[1]+n.pos-i;r.actions=[{name:"fix",apply(u,c){u.dispatch({changes:{from:c+a,to:c+l,insert:o},scrollIntoView:!0})}}]}return r}const ru=Object.freeze(Object.defineProperty({__proto__:null,autoCloseTags:Fk,completionPath:Qk,esLint:f9,javascript:Lk,javascriptLanguage:dn,jsxLanguage:xm,localCompletionSource:Ik,scopeCompletionSource:l9,snippets:vm,tsxLanguage:km,typescriptLanguage:wm,typescriptSnippets:Ck},Symbol.toStringTag,{value:"Module"})),Bo=["_blank","_self","_top","_parent"],af=["ascii","utf-8","utf-16","latin1","latin1"],lf=["get","post","put","delete"],uf=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],Ht=["true","false"],te={},p9={a:{attrs:{href:null,ping:null,type:null,media:null,target:Bo,hreflang:null}},abbr:te,address:te,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:te,aside:te,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:te,base:{attrs:{href:null,target:Bo}},bdi:te,bdo:te,blockquote:{attrs:{cite:null}},body:te,br:te,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:uf,formmethod:lf,formnovalidate:["novalidate"],formtarget:Bo,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:te,center:te,cite:te,code:te,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:te,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:te,div:te,dl:te,dt:te,em:te,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:te,figure:te,footer:te,form:{attrs:{action:null,name:null,"accept-charset":af,autocomplete:["on","off"],enctype:uf,method:lf,novalidate:["novalidate"],target:Bo}},h1:te,h2:te,h3:te,h4:te,h5:te,h6:te,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:te,hgroup:te,hr:te,html:{attrs:{manifest:null}},i:te,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:uf,formmethod:lf,formnovalidate:["novalidate"],formtarget:Bo,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:te,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:te,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:te,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:af,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:te,noscript:te,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:te,param:{attrs:{name:null,value:null}},pre:te,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:te,rt:te,ruby:te,samp:te,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:af}},section:te,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:te,source:{attrs:{src:null,type:null,media:null}},span:te,strong:te,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:te,summary:te,sup:te,table:te,tbody:te,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:te,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:te,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:te,time:{attrs:{datetime:null}},title:te,tr:te,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:te,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:te},Nk={accesskey:null,class:null,contenteditable:Ht,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:Ht,autocorrect:Ht,autocapitalize:Ht,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":Ht,"aria-autocomplete":["inline","list","both","none"],"aria-busy":Ht,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":Ht,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":Ht,"aria-hidden":Ht,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":Ht,"aria-multiselectable":Ht,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":Ht,"aria-relevant":null,"aria-required":Ht,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},Zk="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(t=>"on"+t);for(let t of Zk)Nk[t]=null;class za{constructor(e,n){this.tags=Object.assign(Object.assign({},p9),e),this.globalAttrs=Object.assign(Object.assign({},Nk),n),this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}za.default=new za;function Gs(t,e,n=t.length){if(!e)return"";let i=e.firstChild,r=i&&i.getChild("TagName");return r?t.sliceString(r.from,Math.min(r.to,n)):""}function Hs(t,e=!1){for(;t;t=t.parent)if(t.name=="Element")if(e)e=!1;else return t;return null}function zk(t,e,n){let i=n.tags[Gs(t,Hs(e))];return i?.children||n.allTags}function Sm(t,e){let n=[];for(let i=Hs(e);i&&!i.type.isTop;i=Hs(i.parent)){let r=Gs(t,i);if(r&&i.lastChild.name=="CloseTag")break;r&&n.indexOf(r)<0&&(e.name=="EndTag"||e.from>=i.firstChild.to)&&n.push(r)}return n}const qk=/^[:\-\.\w\u00b7-\uffff]*$/;function J1(t,e,n,i,r){let s=/\s*>/.test(t.sliceDoc(r,r+5))?"":">",o=Hs(n,!0);return{from:i,to:r,options:zk(t.doc,o,e).map(a=>({label:a,type:"type"})).concat(Sm(t.doc,n).map((a,l)=>({label:"/"+a,apply:"/"+a+s,type:"type",boost:99-l}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function eb(t,e,n,i){let r=/\s*>/.test(t.sliceDoc(i,i+5))?"":">";return{from:n,to:i,options:Sm(t.doc,e).map((s,o)=>({label:s,apply:s+r,type:"type",boost:99-o})),validFor:qk}}function m9(t,e,n,i){let r=[],s=0;for(let o of zk(t.doc,n,e))r.push({label:"<"+o,type:"type"});for(let o of Sm(t.doc,n))r.push({label:"</"+o+">",type:"type",boost:99-s++});return{from:i,to:i,options:r,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function g9(t,e,n,i,r){let s=Hs(n),o=s?e.tags[Gs(t.doc,s)]:null,a=o&&o.attrs?Object.keys(o.attrs):[],l=o&&o.globalAttrs===!1?a:a.length?a.concat(e.globalAttrNames):e.globalAttrNames;return{from:i,to:r,options:l.map(u=>({label:u,type:"property"})),validFor:qk}}function O9(t,e,n,i,r){var s;let o=(s=n.parent)===null||s===void 0?void 0:s.getChild("AttributeName"),a=[],l;if(o){let u=t.sliceDoc(o.from,o.to),c=e.globalAttrs[u];if(!c){let f=Hs(n),d=f?e.tags[Gs(t.doc,f)]:null;c=d?.attrs&&d.attrs[u]}if(c){let f=t.sliceDoc(i,r).toLowerCase(),d='"',p='"';/^['"]/.test(f)?(l=f[0]=='"'?/^[^"]*$/:/^[^']*$/,d="",p=t.sliceDoc(r,r+1)==f[0]?"":f[0],f=f.slice(1),i++):l=/^[^\s<>='"]*$/;for(let m of c)a.push({label:m,apply:d+m+p,type:"constant"})}}return{from:i,to:r,options:a,validFor:l}}function Bk(t,e){let{state:n,pos:i}=e,r=Xe(n).resolveInner(i,-1),s=r.resolve(i);for(let o=i,a;s==r&&(a=r.childBefore(o));){let l=a.lastChild;if(!l||!l.type.isError||l.from<l.to)break;s=r=a,o=l.from}return r.name=="TagName"?r.parent&&/CloseTag$/.test(r.parent.name)?eb(n,r,r.from,i):J1(n,t,r,r.from,i):r.name=="StartTag"?J1(n,t,r,i,i):r.name=="StartCloseTag"||r.name=="IncompleteCloseTag"?eb(n,r,i,i):r.name=="OpenTag"||r.name=="SelfClosingTag"||r.name=="AttributeName"?g9(n,t,r,r.name=="AttributeName"?r.from:i,i):r.name=="Is"||r.name=="AttributeValue"||r.name=="UnquotedAttributeValue"?O9(n,t,r,r.name=="Is"?i:r.from,i):e.explicit&&(s.name=="Element"||s.name=="Text"||s.name=="Document")?m9(n,t,r,i):null}function jk(t){return Bk(za.default,t)}function Xk(t){let{extraTags:e,extraGlobalAttributes:n}=t,i=n||e?new za(e,n):za.default;return r=>Bk(i,r)}const b9=dn.parser.configure({top:"SingleExpression"}),Wk=[{tag:"script",attrs:t=>t.type=="text/typescript"||t.lang=="ts",parser:wm.parser},{tag:"script",attrs:t=>t.type=="text/babel"||t.type=="text/jsx",parser:xm.parser},{tag:"script",attrs:t=>t.type=="text/typescript-jsx",parser:km.parser},{tag:"script",attrs(t){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(t.type)},parser:b9},{tag:"script",attrs(t){return!t.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(t.type)},parser:dn.parser},{tag:"style",attrs(t){return(!t.lang||t.lang=="css")&&(!t.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(t.type))},parser:Za.parser}],Uk=[{name:"style",parser:Za.parser.configure({top:"Styles"})}].concat(Zk.map(t=>({name:t,parser:dn.parser}))),Tm=Bs.define({name:"html",parser:rD.configure({props:[sl.add({Element(t){let e=/^(\s*)(<\/)?/.exec(t.textAfter);return t.node.to<=t.pos+e[0].length?t.continue():t.lineIndent(t.node.from)+(e[2]?0:t.unit)},"OpenTag CloseTag SelfClosingTag"(t){return t.column(t.node.from)+t.unit},Document(t){if(t.pos+/\s*/.exec(t.textAfter)[0].length<t.node.to)return t.continue();let e=null,n;for(let i=t.node;;){let r=i.lastChild;if(!r||r.name!="Element"||r.to!=i.to)break;e=i=r}return e&&!((n=e.lastChild)&&(n.name=="CloseTag"||n.name=="SelfClosingTag"))?t.lineIndent(e.from)+t.unit:null}}),ol.add({Element(t){let e=t.firstChild,n=t.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:n.name=="CloseTag"?n.from:t.to}}}),Nw.add({"OpenTag CloseTag":t=>t.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}}),ma=Tm.configure({wrap:_k(Wk,Uk)});function Yk(t={}){let e="",n;t.matchClosingTags===!1&&(e="noMatch"),t.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(t.nestedLanguages&&t.nestedLanguages.length||t.nestedAttributes&&t.nestedAttributes.length)&&(n=_k((t.nestedLanguages||[]).concat(Wk),(t.nestedAttributes||[]).concat(Uk)));let i=n?Tm.configure({wrap:n,dialect:e}):e?ma.configure({dialect:e}):ma;return new Ws(i,[ma.data.of({autocomplete:Xk(t)}),t.autoCloseTags!==!1?Gk:[],Lk().support,Ak().support])}const tb=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),Gk=J.inputHandler.of((t,e,n,i,r)=>{if(t.composing||t.state.readOnly||e!=n||i!=">"&&i!="/"||!ma.isActiveAt(t.state,e,-1))return!1;let s=r(),{state:o}=s,a=o.changeByRange(l=>{var u,c,f;let d=o.doc.sliceString(l.from-1,l.to)==i,{head:p}=l,m=Xe(o).resolveInner(p,-1),O;if(d&&i==">"&&m.name=="EndTag"){let y=m.parent;if(((c=(u=y.parent)===null||u===void 0?void 0:u.lastChild)===null||c===void 0?void 0:c.name)!="CloseTag"&&(O=Gs(o.doc,y.parent,p))&&!tb.has(O)){let _=p+(o.doc.sliceString(p,p+1)===">"?1:0),S=`</${O}>`;return{range:l,changes:{from:p,to:_,insert:S}}}}else if(d&&i=="/"&&m.name=="IncompleteCloseTag"){let y=m.parent;if(m.from==p-2&&((f=y.lastChild)===null||f===void 0?void 0:f.name)!="CloseTag"&&(O=Gs(o.doc,y,p))&&!tb.has(O)){let _=p+(o.doc.sliceString(p,p+1)===">"?1:0),S=`${O}>`;return{range:Z.cursor(p+S.length,-1),changes:{from:p,to:_,insert:S}}}}return{range:l}});return a.changes.empty?!1:(t.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),y9=Object.freeze(Object.defineProperty({__proto__:null,autoCloseTags:Gk,html:Yk,htmlCompletionSource:jk,htmlCompletionSourceWith:Xk,htmlLanguage:ma,htmlPlain:Tm},Symbol.toStringTag,{value:"Module"})),Hk=Yc({commentTokens:{block:{open:"<!--",close:"-->"}}}),Kk=new se,Jk=KI.configure({props:[ol.add(t=>!t.is("Block")||t.is("Document")||zd(t)!=null||v9(t)?void 0:(e,n)=>({from:n.doc.lineAt(e.from).to,to:e.to})),Kk.add(zd),sl.add({Document:()=>null}),Bi.add({Document:Hk})]});function zd(t){let e=/^(?:ATX|Setext)Heading(\d)$/.exec(t.name);return e?+e[1]:void 0}function v9(t){return t.name=="OrderedList"||t.name=="BulletList"}function _9(t,e){let n=t;for(;;){let i=n.nextSibling,r;if(!i||(r=zd(i.type))!=null&&r<=e)break;n=i}return n.to}const w9=l5.of((t,e,n)=>{for(let i=Xe(t).resolveInner(n,-1);i&&!(i.from<e);i=i.parent){let r=i.type.prop(Kk);if(r==null)continue;let s=_9(i,r);if(s>n)return{from:n,to:s}}return null});function Pm(t){return new tn(Hk,t,[w9],"markdown")}const e2=Pm(Jk),x9=Jk.configure([uQ,hQ,cQ,fQ,{props:[ol.add({Table:(t,e)=>({from:e.doc.lineAt(t.from).to,to:t.to})})]}]),Am=Pm(x9);function k9(t,e){return n=>{if(n&&t){let i=null;if(n=/\S*/.exec(n)[0],typeof t=="function"?i=t(n):i=M.matchLanguageName(t,n,!0),i instanceof M)return i.support?i.support.language.parser:Fr.getSkippingParser(i.load());if(i)return i.parser}return e?e.parser:null}}class su{constructor(e,n,i,r,s,o,a){this.node=e,this.from=n,this.to=i,this.spaceBefore=r,this.spaceAfter=s,this.type=o,this.item=a}blank(e,n=!0){let i=this.spaceBefore+(this.node.name=="Blockquote"?">":"");if(e!=null){for(;i.length<e;)i+=" ";return i}else{for(let r=this.to-this.from-i.length-this.spaceAfter.length;r>0;r--)i+=" ";return i+(n?this.spaceAfter:"")}}marker(e,n){let i=this.node.name=="OrderedList"?String(+n2(this.item,e)[2]+n):"";return this.spaceBefore+i+this.type+this.spaceAfter}}function t2(t,e){let n=[];for(let r=t;r&&r.name!="Document";r=r.parent)(r.name=="ListItem"||r.name=="Blockquote"||r.name=="FencedCode")&&n.push(r);let i=[];for(let r=n.length-1;r>=0;r--){let s=n[r],o,a=e.lineAt(s.from),l=s.from-a.from;if(s.name=="FencedCode")i.push(new su(s,l,l,"","","",null));else if(s.name=="Blockquote"&&(o=/^ *>( ?)/.exec(a.text.slice(l))))i.push(new su(s,l,l+o[0].length,"",o[1],">",null));else if(s.name=="ListItem"&&s.parent.name=="OrderedList"&&(o=/^( *)\d+([.)])( *)/.exec(a.text.slice(l)))){let u=o[3],c=o[0].length;u.length>=4&&(u=u.slice(0,u.length-4),c-=4),i.push(new su(s.parent,l,l+c,o[1],u,o[2],s))}else if(s.name=="ListItem"&&s.parent.name=="BulletList"&&(o=/^( *)([-+*])( {1,4}\[[ xX]\])?( +)/.exec(a.text.slice(l)))){let u=o[4],c=o[0].length;u.length>4&&(u=u.slice(0,u.length-4),c-=4);let f=o[2];o[3]&&(f+=o[3].replace(/[xX]/," ")),i.push(new su(s.parent,l,l+c,o[1],u,f,s))}}return i}function n2(t,e){return/^(\s*)(\d+)(?=[.)])/.exec(e.sliceString(t.from,t.from+10))}function cf(t,e,n,i=0){for(let r=-1,s=t;;){if(s.name=="ListItem"){let a=n2(s,e),l=+a[2];if(r>=0){if(l!=r+1)return;n.push({from:s.from+a[1].length,to:s.from+a[0].length,insert:String(r+2+i)})}r=l}let o=s.nextSibling;if(!o)break;s=o}}function Em(t,e){let n=/^[ \t]*/.exec(t)[0].length;if(!n||e.facet(oo)!="	")return t;let i=Oi(t,4,n),r="";for(let s=i;s>0;)s>=4?(r+="	",s-=4):(r+=" ",s--);return r+t.slice(n)}const i2=({state:t,dispatch:e})=>{let n=Xe(t),{doc:i}=t,r=null,s=t.changeByRange(o=>{if(!o.empty||!Am.isActiveAt(t,o.from))return r={range:o};let a=o.from,l=i.lineAt(a),u=t2(n.resolveInner(a,-1),i);for(;u.length&&u[u.length-1].from>a-l.from;)u.pop();if(!u.length)return r={range:o};let c=u[u.length-1];if(c.to-c.spaceAfter.length>a-l.from)return r={range:o};let f=a>=c.to-c.spaceAfter.length&&!/\S/.test(l.text.slice(c.to));if(c.item&&f){let y=c.node.firstChild,_=c.node.getChild("ListItem","ListItem");if(y.to>=a||_&&_.to<a||l.from>0&&!/[^\s>]/.test(i.lineAt(l.from-1).text)){let S=u.length>1?u[u.length-2]:null,$,R="";S&&S.item?($=l.from+S.from,R=S.marker(i,1)):$=l.from+(S?S.to:0);let D=[{from:$,to:a,insert:R}];return c.node.name=="OrderedList"&&cf(c.item,i,D,-2),S&&S.node.name=="OrderedList"&&cf(S.item,i,D),{range:Z.cursor($+R.length),changes:D}}else{let S=ib(u,t,l);return{range:Z.cursor(a+S.length+1),changes:{from:l.from,insert:S+t.lineBreak}}}}if(c.node.name=="Blockquote"&&f&&l.from){let y=i.lineAt(l.from-1),_=/>\s*$/.exec(y.text);if(_&&_.index==c.from){let S=t.changes([{from:y.from+_.index,to:y.to},{from:l.from+c.from,to:l.to}]);return{range:o.map(S),changes:S}}}let d=[];c.node.name=="OrderedList"&&cf(c.item,i,d);let p=c.item&&c.item.from<l.from,m="";if(!p||/^[\s\d.)\-+*>]*/.exec(l.text)[0].length>=c.to)for(let y=0,_=u.length-1;y<=_;y++)m+=y==_&&!p?u[y].marker(i,1):u[y].blank(y<_?Oi(l.text,4,u[y+1].from)-m.length:null);let O=a;for(;O>l.from&&/\s/.test(l.text.charAt(O-l.from-1));)O--;return m=Em(m,t),S9(c.node,t.doc)&&(m=ib(u,t,l)+t.lineBreak+m),d.push({from:O,to:a,insert:t.lineBreak+m}),{range:Z.cursor(O+m.length+1),changes:d}});return r?!1:(e(t.update(s,{scrollIntoView:!0,userEvent:"input"})),!0)};function nb(t){return t.name=="QuoteMark"||t.name=="ListMark"}function S9(t,e){if(t.name!="OrderedList"&&t.name!="BulletList")return!1;let n=t.firstChild,i=t.getChild("ListItem","ListItem");if(!i)return!1;let r=e.lineAt(n.to),s=e.lineAt(i.from),o=/^[\s>]*$/.test(r.text);return r.number+(o?0:1)<s.number}function ib(t,e,n){let i="";for(let r=0,s=t.length-2;r<=s;r++)i+=t[r].blank(r<s?Oi(n.text,4,t[r+1].from)-i.length:null,r<s);return Em(i,e)}function T9(t,e){let n=t.resolveInner(e,-1),i=e;nb(n)&&(i=n.from,n=n.parent);for(let r;r=n.childBefore(i);)if(nb(r))i=r.from;else if(r.name=="OrderedList"||r.name=="BulletList")n=r.lastChild,i=n.to;else break;return n}const r2=({state:t,dispatch:e})=>{let n=Xe(t),i=null,r=t.changeByRange(s=>{let o=s.from,{doc:a}=t;if(s.empty&&Am.isActiveAt(t,s.from)){let l=a.lineAt(o),u=t2(T9(n,o),a);if(u.length){let c=u[u.length-1],f=c.to-c.spaceAfter.length+(c.spaceAfter?1:0);if(o-l.from>f&&!/\S/.test(l.text.slice(f,o-l.from)))return{range:Z.cursor(l.from+f),changes:{from:l.from+f,to:o}};if(o-l.from==f&&(!c.item||l.from<=c.item.from||!/\S/.test(l.text.slice(0,c.to)))){let d=l.from+c.from;if(c.item&&c.node.from<c.item.from&&/\S/.test(l.text.slice(c.from,c.to))){let p=c.blank(Oi(l.text,4,c.to)-Oi(l.text,4,c.from));return d==l.from&&(p=Em(p,t)),{range:Z.cursor(d+p.length),changes:{from:d,to:l.from+c.to,insert:p}}}if(d<o)return{range:Z.cursor(d),changes:{from:d,to:o}}}}}return i={range:s}});return i?!1:(e(t.update(r,{scrollIntoView:!0,userEvent:"delete"})),!0)},s2=[{key:"Enter",run:i2},{key:"Backspace",run:r2}],qd=Yk({matchClosingTags:!1});function o2(t={}){let{codeLanguages:e,defaultCodeLanguage:n,addKeymap:i=!0,base:{parser:r}=e2,completeHTMLTags:s=!0}=t;if(!(r instanceof th))throw new RangeError("Base parser provided to `markdown` should be a Markdown parser");let o=t.extensions?[t.extensions]:[],a=[qd.support],l;n instanceof Ws?(a.push(n.support),l=n.language):n&&(l=n);let u=e||l?k9(e,l):void 0;o.push(eQ({codeParser:u,htmlParser:qd.language.parser})),i&&a.push(lr.high(rl.of(s2)));let c=Pm(r.configure(o));return s&&a.push(c.data.of({autocomplete:P9})),new Ws(c,a)}function P9(t){let{state:e,pos:n}=t,i=/<[:\-\.\w\u00b7-\uffff]*$/.exec(e.sliceDoc(n-25,n));if(!i)return null;let r=Xe(e).resolveInner(n,-1);for(;r&&!r.type.isTop;){if(r.name=="CodeBlock"||r.name=="FencedCode"||r.name=="ProcessingInstructionBlock"||r.name=="CommentBlock"||r.name=="Link"||r.name=="Image")return null;r=r.parent}return{from:n-i[0].length,to:n,options:A9(),validFor:/^<[:\-\.\w\u00b7-\uffff]*$/}}let hf=null;function A9(){if(hf)return hf;let t=jk(new um(_e.create({extensions:qd}),0,!0));return hf=t?t.options:[]}const E9=Object.freeze(Object.defineProperty({__proto__:null,commonmarkLanguage:e2,deleteMarkupBackward:r2,insertNewlineContinueMarkup:i2,markdown:o2,markdownKeymap:s2,markdownLanguage:Am},Symbol.toStringTag,{value:"Module"}));/*! medium-zoom 1.1.0 | MIT License | https://github.com/francoischalifour/medium-zoom */var _r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ou=function(e){return e.tagName==="IMG"},C9=function(e){return NodeList.prototype.isPrototypeOf(e)},Cu=function(e){return e&&e.nodeType===1},rb=function(e){var n=e.currentSrc||e.src;return n.substr(-4).toLowerCase()===".svg"},sb=function(e){try{return Array.isArray(e)?e.filter(ou):C9(e)?[].slice.call(e).filter(ou):Cu(e)?[e].filter(ou):typeof e=="string"?[].slice.call(document.querySelectorAll(e)).filter(ou):[]}catch{throw new TypeError(`The provided selector is invalid.
Expects a CSS selector, a Node element, a NodeList or an array.
See: https://github.com/francoischalifour/medium-zoom`)}},$9=function(e){var n=document.createElement("div");return n.classList.add("medium-zoom-overlay"),n.style.background=e,n},R9=function(e){var n=e.getBoundingClientRect(),i=n.top,r=n.left,s=n.width,o=n.height,a=e.cloneNode(),l=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,u=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return a.removeAttribute("id"),a.style.position="absolute",a.style.top=i+l+"px",a.style.left=r+u+"px",a.style.width=s+"px",a.style.height=o+"px",a.style.transform="",a},ss=function(e,n){var i=_r({bubbles:!1,cancelable:!1,detail:void 0},n);if(typeof window.CustomEvent=="function")return new CustomEvent(e,i);var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,i.bubbles,i.cancelable,i.detail),r},I9=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=window.Promise||function(C){function P(){}C(P,P)},r=function(C){var P=C.target;if(P===T){m();return}$.indexOf(P)!==-1&&O({target:P})},s=function(){if(!(D||!v.original)){var C=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(L-C)>w.scrollOffset&&setTimeout(m,150)}},o=function(C){var P=C.key||C.keyCode;(P==="Escape"||P==="Esc"||P===27)&&m()},a=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=C;if(C.background&&(T.style.background=C.background),C.container&&C.container instanceof Object&&(P.container=_r({},w.container,C.container)),C.template){var Y=Cu(C.template)?C.template:document.querySelector(C.template);P.template=Y}return w=_r({},w,P),$.forEach(function(G){G.dispatchEvent(ss("medium-zoom:update",{detail:{zoom:A}}))}),A},l=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t(_r({},w,C))},u=function(){for(var C=arguments.length,P=Array(C),Y=0;Y<C;Y++)P[Y]=arguments[Y];var G=P.reduce(function(ee,he){return[].concat(ee,sb(he))},[]);return G.filter(function(ee){return $.indexOf(ee)===-1}).forEach(function(ee){$.push(ee),ee.classList.add("medium-zoom-image")}),R.forEach(function(ee){var he=ee.type,de=ee.listener,qe=ee.options;G.forEach(function(fe){fe.addEventListener(he,de,qe)})}),A},c=function(){for(var C=arguments.length,P=Array(C),Y=0;Y<C;Y++)P[Y]=arguments[Y];v.zoomed&&m();var G=P.length>0?P.reduce(function(ee,he){return[].concat(ee,sb(he))},[]):$;return G.forEach(function(ee){ee.classList.remove("medium-zoom-image"),ee.dispatchEvent(ss("medium-zoom:detach",{detail:{zoom:A}}))}),$=$.filter(function(ee){return G.indexOf(ee)===-1}),A},f=function(C,P){var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return $.forEach(function(G){G.addEventListener("medium-zoom:"+C,P,Y)}),R.push({type:"medium-zoom:"+C,listener:P,options:Y}),A},d=function(C,P){var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return $.forEach(function(G){G.removeEventListener("medium-zoom:"+C,P,Y)}),R=R.filter(function(G){return!(G.type==="medium-zoom:"+C&&G.listener.toString()===P.toString())}),A},p=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=C.target,Y=function(){var ee={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},he=void 0,de=void 0;if(w.container)if(w.container instanceof Object)ee=_r({},ee,w.container),he=ee.width-ee.left-ee.right-w.margin*2,de=ee.height-ee.top-ee.bottom-w.margin*2;else{var qe=Cu(w.container)?w.container:document.querySelector(w.container),fe=qe.getBoundingClientRect(),ge=fe.width,Le=fe.height,Ee=fe.left,Wt=fe.top;ee=_r({},ee,{width:ge,height:Le,left:Ee,top:Wt})}he=he||ee.width-w.margin*2,de=de||ee.height-w.margin*2;var rt=v.zoomedHd||v.original,ti=rb(rt)?he:rt.naturalWidth||he,ni=rb(rt)?de:rt.naturalHeight||de,ii=rt.getBoundingClientRect(),jr=ii.top,ri=ii.left,vn=ii.width,$n=ii.height,_i=Math.min(Math.max(vn,ti),he)/vn,wi=Math.min(Math.max($n,ni),de)/$n,Rn=Math.min(_i,wi),cr=(-ri+(he-vn)/2+w.margin+ee.left)/Rn,Xr=(-jr+(de-$n)/2+w.margin+ee.top)/Rn,hr="scale("+Rn+") translate3d("+cr+"px, "+Xr+"px, 0)";v.zoomed.style.transform=hr,v.zoomedHd&&(v.zoomedHd.style.transform=hr)};return new i(function(G){if(P&&$.indexOf(P)===-1){G(A);return}var ee=function ge(){D=!1,v.zoomed.removeEventListener("transitionend",ge),v.original.dispatchEvent(ss("medium-zoom:opened",{detail:{zoom:A}})),G(A)};if(v.zoomed){G(A);return}if(P)v.original=P;else if($.length>0){var he=$;v.original=he[0]}else{G(A);return}if(v.original.dispatchEvent(ss("medium-zoom:open",{detail:{zoom:A}})),L=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,D=!0,v.zoomed=R9(v.original),document.body.appendChild(T),w.template){var de=Cu(w.template)?w.template:document.querySelector(w.template);v.template=document.createElement("div"),v.template.appendChild(de.content.cloneNode(!0)),document.body.appendChild(v.template)}if(v.original.parentElement&&v.original.parentElement.tagName==="PICTURE"&&v.original.currentSrc&&(v.zoomed.src=v.original.currentSrc),document.body.appendChild(v.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("medium-zoom--opened")}),v.original.classList.add("medium-zoom-image--hidden"),v.zoomed.classList.add("medium-zoom-image--opened"),v.zoomed.addEventListener("click",m),v.zoomed.addEventListener("transitionend",ee),v.original.getAttribute("data-zoom-src")){v.zoomedHd=v.zoomed.cloneNode(),v.zoomedHd.removeAttribute("srcset"),v.zoomedHd.removeAttribute("sizes"),v.zoomedHd.removeAttribute("loading"),v.zoomedHd.src=v.zoomed.getAttribute("data-zoom-src"),v.zoomedHd.onerror=function(){clearInterval(qe),console.warn("Unable to reach the zoom image target "+v.zoomedHd.src),v.zoomedHd=null,Y()};var qe=setInterval(function(){v.zoomedHd.complete&&(clearInterval(qe),v.zoomedHd.classList.add("medium-zoom-image--opened"),v.zoomedHd.addEventListener("click",m),document.body.appendChild(v.zoomedHd),Y())},10)}else if(v.original.hasAttribute("srcset")){v.zoomedHd=v.zoomed.cloneNode(),v.zoomedHd.removeAttribute("sizes"),v.zoomedHd.removeAttribute("loading");var fe=v.zoomedHd.addEventListener("load",function(){v.zoomedHd.removeEventListener("load",fe),v.zoomedHd.classList.add("medium-zoom-image--opened"),v.zoomedHd.addEventListener("click",m),document.body.appendChild(v.zoomedHd),Y()})}else Y()})},m=function(){return new i(function(C){if(D||!v.original){C(A);return}var P=function Y(){v.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(v.zoomed),v.zoomedHd&&document.body.removeChild(v.zoomedHd),document.body.removeChild(T),v.zoomed.classList.remove("medium-zoom-image--opened"),v.template&&document.body.removeChild(v.template),D=!1,v.zoomed.removeEventListener("transitionend",Y),v.original.dispatchEvent(ss("medium-zoom:closed",{detail:{zoom:A}})),v.original=null,v.zoomed=null,v.zoomedHd=null,v.template=null,C(A)};D=!0,document.body.classList.remove("medium-zoom--opened"),v.zoomed.style.transform="",v.zoomedHd&&(v.zoomedHd.style.transform=""),v.template&&(v.template.style.transition="opacity 150ms",v.template.style.opacity=0),v.original.dispatchEvent(ss("medium-zoom:close",{detail:{zoom:A}})),v.zoomed.addEventListener("transitionend",P)})},O=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=C.target;return v.original?m():p({target:P})},y=function(){return w},_=function(){return $},S=function(){return v.original},$=[],R=[],D=!1,L=0,w=n,v={original:null,zoomed:null,zoomedHd:null,template:null};Object.prototype.toString.call(e)==="[object Object]"?w=e:(e||typeof e=="string")&&u(e),w=_r({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},w);var T=$9(w.background);document.addEventListener("click",r),document.addEventListener("keyup",o),document.addEventListener("scroll",s),window.addEventListener("resize",m);var A={open:p,close:m,toggle:O,update:a,clone:l,attach:u,detach:c,on:f,off:d,getOptions:y,getImages:_,getZoomedImage:S};return A};function Q9(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}var D9=".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}";Q9(D9);function a2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var V9=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,n=[],i=0;i<t.rangeCount;i++)n.push(t.getRangeAt(i));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||n.forEach(function(r){t.addRange(r)}),e&&e.focus()}},M9=V9,ob={"text/plain":"Text","text/html":"Url",default:"Text"},L9="Copy to clipboard: #{key}, Enter";function F9(t){var e=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function N9(t,e){var n,i,r,s,o,a,l=!1;e||(e={}),n=e.debug||!1;try{r=M9(),s=document.createRange(),o=document.getSelection(),a=document.createElement("span"),a.textContent=t,a.ariaHidden="true",a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(c){if(c.stopPropagation(),e.format)if(c.preventDefault(),typeof c.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var f=ob[e.format]||ob.default;window.clipboardData.setData(f,t)}else c.clipboardData.clearData(),c.clipboardData.setData(e.format,t);e.onCopy&&(c.preventDefault(),e.onCopy(c.clipboardData))}),document.body.appendChild(a),s.selectNodeContents(a),o.addRange(s);var u=document.execCommand("copy");if(!u)throw new Error("copy command was unsuccessful");l=!0}catch(c){n&&console.error("unable to copy using execCommand: ",c),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),l=!0}catch(f){n&&console.error("unable to copy using clipboardData: ",f),n&&console.error("falling back to prompt"),i=F9("message"in e?e.message:L9),window.prompt(i,t)}}finally{o&&(typeof o.removeRange=="function"?o.removeRange(s):o.removeAllRanges()),a&&document.body.removeChild(a),r()}return l}var Z9=N9;const z9=a2(Z9),ab={};function q9(t){let e=ab[t];if(e)return e;e=ab[t]=[];for(let n=0;n<128;n++){const i=String.fromCharCode(n);e.push(i)}for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);e[i]="%"+("0"+i.toString(16).toUpperCase()).slice(-2)}return e}function Ks(t,e){typeof e!="string"&&(e=Ks.defaultChars);const n=q9(e);return t.replace(/(%[a-f0-9]{2})+/gi,function(i){let r="";for(let s=0,o=i.length;s<o;s+=3){const a=parseInt(i.slice(s+1,s+3),16);if(a<128){r+=n[a];continue}if((a&224)===192&&s+3<o){const l=parseInt(i.slice(s+4,s+6),16);if((l&192)===128){const u=a<<6&1984|l&63;u<128?r+="��":r+=String.fromCharCode(u),s+=3;continue}}if((a&240)===224&&s+6<o){const l=parseInt(i.slice(s+4,s+6),16),u=parseInt(i.slice(s+7,s+9),16);if((l&192)===128&&(u&192)===128){const c=a<<12&61440|l<<6&4032|u&63;c<2048||c>=55296&&c<=57343?r+="���":r+=String.fromCharCode(c),s+=6;continue}}if((a&248)===240&&s+9<o){const l=parseInt(i.slice(s+4,s+6),16),u=parseInt(i.slice(s+7,s+9),16),c=parseInt(i.slice(s+10,s+12),16);if((l&192)===128&&(u&192)===128&&(c&192)===128){let f=a<<18&1835008|l<<12&258048|u<<6&4032|c&63;f<65536||f>1114111?r+="����":(f-=65536,r+=String.fromCharCode(55296+(f>>10),56320+(f&1023))),s+=9;continue}}r+="�"}return r})}Ks.defaultChars=";/?:@&=+$,#";Ks.componentChars="";const lb={};function B9(t){let e=lb[t];if(e)return e;e=lb[t]=[];for(let n=0;n<128;n++){const i=String.fromCharCode(n);/^[0-9a-z]$/i.test(i)?e.push(i):e.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<t.length;n++)e[t.charCodeAt(n)]=t[n];return e}function cl(t,e,n){typeof e!="string"&&(n=e,e=cl.defaultChars),typeof n>"u"&&(n=!0);const i=B9(e);let r="";for(let s=0,o=t.length;s<o;s++){const a=t.charCodeAt(s);if(n&&a===37&&s+2<o&&/^[0-9a-f]{2}$/i.test(t.slice(s+1,s+3))){r+=t.slice(s,s+3),s+=2;continue}if(a<128){r+=i[a];continue}if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&s+1<o){const l=t.charCodeAt(s+1);if(l>=56320&&l<=57343){r+=encodeURIComponent(t[s]+t[s+1]),s++;continue}}r+="%EF%BF%BD";continue}r+=encodeURIComponent(t[s])}return r}cl.defaultChars=";/?:@&=+$,-_.!~*'()#";cl.componentChars="-_.!~*'()";function Cm(t){let e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&t.hostname.indexOf(":")!==-1?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||"",e}function kc(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const j9=/^([a-z0-9.+-]+:)/i,X9=/:[0-9]*$/,W9=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,U9=["<",">",'"',"`"," ","\r",`
`,"	"],Y9=["{","}","|","\\","^","`"].concat(U9),G9=["'"].concat(Y9),ub=["%","/","?",";","#"].concat(G9),cb=["/","?","#"],H9=255,hb=/^[+a-z0-9A-Z_-]{0,63}$/,K9=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,fb={javascript:!0,"javascript:":!0},db={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function $m(t,e){if(t&&t instanceof kc)return t;const n=new kc;return n.parse(t,e),n}kc.prototype.parse=function(t,e){let n,i,r,s=t;if(s=s.trim(),!e&&t.split("#").length===1){const u=W9.exec(s);if(u)return this.pathname=u[1],u[2]&&(this.search=u[2]),this}let o=j9.exec(s);if(o&&(o=o[0],n=o.toLowerCase(),this.protocol=o,s=s.substr(o.length)),(e||o||s.match(/^\/\/[^@\/]+@[^@\/]+/))&&(r=s.substr(0,2)==="//",r&&!(o&&fb[o])&&(s=s.substr(2),this.slashes=!0)),!fb[o]&&(r||o&&!db[o])){let u=-1;for(let m=0;m<cb.length;m++)i=s.indexOf(cb[m]),i!==-1&&(u===-1||i<u)&&(u=i);let c,f;u===-1?f=s.lastIndexOf("@"):f=s.lastIndexOf("@",u),f!==-1&&(c=s.slice(0,f),s=s.slice(f+1),this.auth=c),u=-1;for(let m=0;m<ub.length;m++)i=s.indexOf(ub[m]),i!==-1&&(u===-1||i<u)&&(u=i);u===-1&&(u=s.length),s[u-1]===":"&&u--;const d=s.slice(0,u);s=s.slice(u),this.parseHost(d),this.hostname=this.hostname||"";const p=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!p){const m=this.hostname.split(/\./);for(let O=0,y=m.length;O<y;O++){const _=m[O];if(_&&!_.match(hb)){let S="";for(let $=0,R=_.length;$<R;$++)_.charCodeAt($)>127?S+="x":S+=_[$];if(!S.match(hb)){const $=m.slice(0,O),R=m.slice(O+1),D=_.match(K9);D&&($.push(D[1]),R.unshift(D[2])),R.length&&(s=R.join(".")+s),this.hostname=$.join(".");break}}}}this.hostname.length>H9&&(this.hostname=""),p&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const a=s.indexOf("#");a!==-1&&(this.hash=s.substr(a),s=s.slice(0,a));const l=s.indexOf("?");return l!==-1&&(this.search=s.substr(l),s=s.slice(0,l)),s&&(this.pathname=s),db[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this};kc.prototype.parseHost=function(t){let e=X9.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const J9=Object.freeze(Object.defineProperty({__proto__:null,decode:Ks,encode:cl,format:Cm,parse:$m},Symbol.toStringTag,{value:"Module"})),l2=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,u2=/[\0-\x1F\x7F-\x9F]/,e8=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,Rm=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,c2=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,h2=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,t8=Object.freeze(Object.defineProperty({__proto__:null,Any:l2,Cc:u2,Cf:e8,P:Rm,S:c2,Z:h2},Symbol.toStringTag,{value:"Module"})),n8=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(t=>t.charCodeAt(0))),i8=new Uint16Array("Ȁaglq	\x1Bɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map(t=>t.charCodeAt(0)));var ff;const r8=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),s8=(ff=String.fromCodePoint)!==null&&ff!==void 0?ff:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function o8(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=r8.get(t))!==null&&e!==void 0?e:t}var pt;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(pt||(pt={}));const a8=32;var ji;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(ji||(ji={}));function Bd(t){return t>=pt.ZERO&&t<=pt.NINE}function l8(t){return t>=pt.UPPER_A&&t<=pt.UPPER_F||t>=pt.LOWER_A&&t<=pt.LOWER_F}function u8(t){return t>=pt.UPPER_A&&t<=pt.UPPER_Z||t>=pt.LOWER_A&&t<=pt.LOWER_Z||Bd(t)}function c8(t){return t===pt.EQUALS||u8(t)}var ft;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(ft||(ft={}));var Fi;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(Fi||(Fi={}));class h8{constructor(e,n,i){this.decodeTree=e,this.emitCodePoint=n,this.errors=i,this.state=ft.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Fi.Strict}startEntity(e){this.decodeMode=e,this.state=ft.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case ft.EntityStart:return e.charCodeAt(n)===pt.NUM?(this.state=ft.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=ft.NamedEntity,this.stateNamedEntity(e,n));case ft.NumericStart:return this.stateNumericStart(e,n);case ft.NumericDecimal:return this.stateNumericDecimal(e,n);case ft.NumericHex:return this.stateNumericHex(e,n);case ft.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|a8)===pt.LOWER_X?(this.state=ft.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=ft.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,i,r){if(n!==i){const s=i-n;this.result=this.result*Math.pow(r,s)+parseInt(e.substr(n,s),r),this.consumed+=s}}stateNumericHex(e,n){const i=n;for(;n<e.length;){const r=e.charCodeAt(n);if(Bd(r)||l8(r))n+=1;else return this.addToNumericResult(e,i,n,16),this.emitNumericEntity(r,3)}return this.addToNumericResult(e,i,n,16),-1}stateNumericDecimal(e,n){const i=n;for(;n<e.length;){const r=e.charCodeAt(n);if(Bd(r))n+=1;else return this.addToNumericResult(e,i,n,10),this.emitNumericEntity(r,2)}return this.addToNumericResult(e,i,n,10),-1}emitNumericEntity(e,n){var i;if(this.consumed<=n)return(i=this.errors)===null||i===void 0||i.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===pt.SEMI)this.consumed+=1;else if(this.decodeMode===Fi.Strict)return 0;return this.emitCodePoint(o8(this.result),this.consumed),this.errors&&(e!==pt.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:i}=this;let r=i[this.treeIndex],s=(r&ji.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const o=e.charCodeAt(n);if(this.treeIndex=f8(i,r,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===Fi.Attribute&&(s===0||c8(o))?0:this.emitNotTerminatedNamedEntity();if(r=i[this.treeIndex],s=(r&ji.VALUE_LENGTH)>>14,s!==0){if(o===pt.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==Fi.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:i}=this,r=(i[n]&ji.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,r,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,i){const{decodeTree:r}=this;return this.emitCodePoint(n===1?r[e]&~ji.VALUE_LENGTH:r[e+1],i),n===3&&this.emitCodePoint(r[e+2],i),i}end(){var e;switch(this.state){case ft.NamedEntity:return this.result!==0&&(this.decodeMode!==Fi.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case ft.NumericDecimal:return this.emitNumericEntity(0,2);case ft.NumericHex:return this.emitNumericEntity(0,3);case ft.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case ft.EntityStart:return 0}}}function f2(t){let e="";const n=new h8(t,i=>e+=s8(i));return function(r,s){let o=0,a=0;for(;(a=r.indexOf("&",a))>=0;){e+=r.slice(o,a),n.startEntity(s);const u=n.write(r,a+1);if(u<0){o=a+n.end();break}o=a+u,a=u===0?o+1:o}const l=e+r.slice(o);return e="",l}}function f8(t,e,n,i){const r=(e&ji.BRANCH_LENGTH)>>7,s=e&ji.JUMP_TABLE;if(r===0)return s!==0&&i===s?n:-1;if(s){const l=i-s;return l<0||l>=r?-1:t[n+l]-1}let o=n,a=o+r-1;for(;o<=a;){const l=o+a>>>1,u=t[l];if(u<i)o=l+1;else if(u>i)a=l-1;else return t[l+r]}return-1}const d8=f2(n8);f2(i8);function d2(t,e=Fi.Legacy){return d8(t,e)}function p8(t){return Object.prototype.toString.call(t)}function Im(t){return p8(t)==="[object String]"}const m8=Object.prototype.hasOwnProperty;function g8(t,e){return m8.call(t,e)}function nh(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){if(n){if(typeof n!="object")throw new TypeError(n+"must be object");Object.keys(n).forEach(function(i){t[i]=n[i]})}}),t}function p2(t,e,n){return[].concat(t.slice(0,e),n,t.slice(e+1))}function Qm(t){return!(t>=55296&&t<=57343||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534||t>=0&&t<=8||t===11||t>=14&&t<=31||t>=127&&t<=159||t>1114111)}function Sc(t){if(t>65535){t-=65536;const e=55296+(t>>10),n=56320+(t&1023);return String.fromCharCode(e,n)}return String.fromCharCode(t)}const m2=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,O8=/&([a-z#][a-z0-9]{1,31});/gi,b8=new RegExp(m2.source+"|"+O8.source,"gi"),y8=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function v8(t,e){if(e.charCodeAt(0)===35&&y8.test(e)){const i=e[1].toLowerCase()==="x"?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return Qm(i)?Sc(i):t}const n=d2(t);return n!==t?n:t}function _8(t){return t.indexOf("\\")<0?t:t.replace(m2,"$1")}function Js(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(b8,function(e,n,i){return n||v8(e,i)})}const w8=/[&<>"]/,x8=/[&<>"]/g,k8={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function S8(t){return k8[t]}function or(t){return w8.test(t)?t.replace(x8,S8):t}const T8=/[.?*+^$[\]\\(){}|-]/g;function P8(t){return t.replace(T8,"\\$&")}function Ve(t){switch(t){case 9:case 32:return!0}return!1}function qa(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function Ba(t){return Rm.test(t)||c2.test(t)}function ja(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function ih(t){return t=t.trim().replace(/\s+/g," "),"ẞ".toLowerCase()==="Ṿ"&&(t=t.replace(/ẞ/g,"ß")),t.toLowerCase().toUpperCase()}const A8={mdurl:J9,ucmicro:t8},E8=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:p2,assign:nh,escapeHtml:or,escapeRE:P8,fromCodePoint:Sc,has:g8,isMdAsciiPunct:ja,isPunctChar:Ba,isSpace:Ve,isString:Im,isValidEntityCode:Qm,isWhiteSpace:qa,lib:A8,normalizeReference:ih,unescapeAll:Js,unescapeMd:_8},Symbol.toStringTag,{value:"Module"}));function C8(t,e,n){let i,r,s,o;const a=t.posMax,l=t.pos;for(t.pos=e+1,i=1;t.pos<a;){if(s=t.src.charCodeAt(t.pos),s===93&&(i--,i===0)){r=!0;break}if(o=t.pos,t.md.inline.skipToken(t),s===91){if(o===t.pos-1)i++;else if(n)return t.pos=l,-1}}let u=-1;return r&&(u=t.pos),t.pos=l,u}function $8(t,e,n){let i,r=e;const s={ok:!1,pos:0,str:""};if(t.charCodeAt(r)===60){for(r++;r<n;){if(i=t.charCodeAt(r),i===10||i===60)return s;if(i===62)return s.pos=r+1,s.str=Js(t.slice(e+1,r)),s.ok=!0,s;if(i===92&&r+1<n){r+=2;continue}r++}return s}let o=0;for(;r<n&&(i=t.charCodeAt(r),!(i===32||i<32||i===127));){if(i===92&&r+1<n){if(t.charCodeAt(r+1)===32)break;r+=2;continue}if(i===40&&(o++,o>32))return s;if(i===41){if(o===0)break;o--}r++}return e===r||o!==0||(s.str=Js(t.slice(e,r)),s.pos=r,s.ok=!0),s}function R8(t,e,n,i){let r,s=e;const o={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(i)o.str=i.str,o.marker=i.marker;else{if(s>=n)return o;let a=t.charCodeAt(s);if(a!==34&&a!==39&&a!==40)return o;e++,s++,a===40&&(a=41),o.marker=a}for(;s<n;){if(r=t.charCodeAt(s),r===o.marker)return o.pos=s+1,o.str+=Js(t.slice(e,s)),o.ok=!0,o;if(r===40&&o.marker===41)return o;r===92&&s+1<n&&s++,s++}return o.can_continue=!0,o.str+=Js(t.slice(e,s)),o}const I8=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:$8,parseLinkLabel:C8,parseLinkTitle:R8},Symbol.toStringTag,{value:"Module"})),Jn={};Jn.code_inline=function(t,e,n,i,r){const s=t[e];return"<code"+r.renderAttrs(s)+">"+or(s.content)+"</code>"};Jn.code_block=function(t,e,n,i,r){const s=t[e];return"<pre"+r.renderAttrs(s)+"><code>"+or(t[e].content)+`</code></pre>
`};Jn.fence=function(t,e,n,i,r){const s=t[e],o=s.info?Js(s.info).trim():"";let a="",l="";if(o){const c=o.split(/(\s+)/g);a=c[0],l=c.slice(2).join("")}let u;if(n.highlight?u=n.highlight(s.content,a,l)||or(s.content):u=or(s.content),u.indexOf("<pre")===0)return u+`
`;if(o){const c=s.attrIndex("class"),f=s.attrs?s.attrs.slice():[];c<0?f.push(["class",n.langPrefix+a]):(f[c]=f[c].slice(),f[c][1]+=" "+n.langPrefix+a);const d={attrs:f};return`<pre><code${r.renderAttrs(d)}>${u}</code></pre>
`}return`<pre><code${r.renderAttrs(s)}>${u}</code></pre>
`};Jn.image=function(t,e,n,i,r){const s=t[e];return s.attrs[s.attrIndex("alt")][1]=r.renderInlineAsText(s.children,n,i),r.renderToken(t,e,n)};Jn.hardbreak=function(t,e,n){return n.xhtmlOut?`<br />
`:`<br>
`};Jn.softbreak=function(t,e,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};Jn.text=function(t,e){return or(t[e].content)};Jn.html_block=function(t,e){return t[e].content};Jn.html_inline=function(t,e){return t[e].content};function ho(){this.rules=nh({},Jn)}ho.prototype.renderAttrs=function(e){let n,i,r;if(!e.attrs)return"";for(r="",n=0,i=e.attrs.length;n<i;n++)r+=" "+or(e.attrs[n][0])+'="'+or(e.attrs[n][1])+'"';return r};ho.prototype.renderToken=function(e,n,i){const r=e[n];let s="";if(r.hidden)return"";r.block&&r.nesting!==-1&&n&&e[n-1].hidden&&(s+=`
`),s+=(r.nesting===-1?"</":"<")+r.tag,s+=this.renderAttrs(r),r.nesting===0&&i.xhtmlOut&&(s+=" /");let o=!1;if(r.block&&(o=!0,r.nesting===1&&n+1<e.length)){const a=e[n+1];(a.type==="inline"||a.hidden||a.nesting===-1&&a.tag===r.tag)&&(o=!1)}return s+=o?`>
`:">",s};ho.prototype.renderInline=function(t,e,n){let i="";const r=this.rules;for(let s=0,o=t.length;s<o;s++){const a=t[s].type;typeof r[a]<"u"?i+=r[a](t,s,e,n,this):i+=this.renderToken(t,s,e)}return i};ho.prototype.renderInlineAsText=function(t,e,n){let i="";for(let r=0,s=t.length;r<s;r++)switch(t[r].type){case"text":i+=t[r].content;break;case"image":i+=this.renderInlineAsText(t[r].children,e,n);break;case"html_inline":case"html_block":i+=t[r].content;break;case"softbreak":case"hardbreak":i+=`
`;break}return i};ho.prototype.render=function(t,e,n){let i="";const r=this.rules;for(let s=0,o=t.length;s<o;s++){const a=t[s].type;a==="inline"?i+=this.renderInline(t[s].children,e,n):typeof r[a]<"u"?i+=r[a](t,s,e,n,this):i+=this.renderToken(t,s,e,n)}return i};function Xt(){this.__rules__=[],this.__cache__=null}Xt.prototype.__find__=function(t){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1};Xt.prototype.__compile__=function(){const t=this,e=[""];t.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(i){e.indexOf(i)<0&&e.push(i)})}),t.__cache__={},e.forEach(function(n){t.__cache__[n]=[],t.__rules__.forEach(function(i){i.enabled&&(n&&i.alt.indexOf(n)<0||t.__cache__[n].push(i.fn))})})};Xt.prototype.at=function(t,e,n){const i=this.__find__(t),r=n||{};if(i===-1)throw new Error("Parser rule not found: "+t);this.__rules__[i].fn=e,this.__rules__[i].alt=r.alt||[],this.__cache__=null};Xt.prototype.before=function(t,e,n,i){const r=this.__find__(t),s=i||{};if(r===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(r,0,{name:e,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};Xt.prototype.after=function(t,e,n,i){const r=this.__find__(t),s=i||{};if(r===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(r+1,0,{name:e,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};Xt.prototype.push=function(t,e,n){const i=n||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:i.alt||[]}),this.__cache__=null};Xt.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach(function(i){const r=this.__find__(i);if(r<0){if(e)return;throw new Error("Rules manager: invalid rule name "+i)}this.__rules__[r].enabled=!0,n.push(i)},this),this.__cache__=null,n};Xt.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(t,e)};Xt.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach(function(i){const r=this.__find__(i);if(r<0){if(e)return;throw new Error("Rules manager: invalid rule name "+i)}this.__rules__[r].enabled=!1,n.push(i)},this),this.__cache__=null,n};Xt.prototype.getRules=function(t){return this.__cache__===null&&this.__compile__(),this.__cache__[t]||[]};function Cn(t,e,n){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Cn.prototype.attrIndex=function(e){if(!this.attrs)return-1;const n=this.attrs;for(let i=0,r=n.length;i<r;i++)if(n[i][0]===e)return i;return-1};Cn.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]};Cn.prototype.attrSet=function(e,n){const i=this.attrIndex(e),r=[e,n];i<0?this.attrPush(r):this.attrs[i]=r};Cn.prototype.attrGet=function(e){const n=this.attrIndex(e);let i=null;return n>=0&&(i=this.attrs[n][1]),i};Cn.prototype.attrJoin=function(e,n){const i=this.attrIndex(e);i<0?this.attrPush([e,n]):this.attrs[i][1]=this.attrs[i][1]+" "+n};function g2(t,e,n){this.src=t,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=e}g2.prototype.Token=Cn;const Q8=/\r\n?|\n/g,D8=/\0/g;function V8(t){let e;e=t.src.replace(Q8,`
`),e=e.replace(D8,"�"),t.src=e}function M8(t){let e;t.inlineMode?(e=new t.Token("inline","",0),e.content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}function L8(t){const e=t.tokens;for(let n=0,i=e.length;n<i;n++){const r=e[n];r.type==="inline"&&t.md.inline.parse(r.content,t.md,t.env,r.children)}}function F8(t){return/^<a[>\s]/i.test(t)}function N8(t){return/^<\/a\s*>/i.test(t)}function Z8(t){const e=t.tokens;if(t.md.options.linkify)for(let n=0,i=e.length;n<i;n++){if(e[n].type!=="inline"||!t.md.linkify.pretest(e[n].content))continue;let r=e[n].children,s=0;for(let o=r.length-1;o>=0;o--){const a=r[o];if(a.type==="link_close"){for(o--;r[o].level!==a.level&&r[o].type!=="link_open";)o--;continue}if(a.type==="html_inline"&&(F8(a.content)&&s>0&&s--,N8(a.content)&&s++),!(s>0)&&a.type==="text"&&t.md.linkify.test(a.content)){const l=a.content;let u=t.md.linkify.match(l);const c=[];let f=a.level,d=0;u.length>0&&u[0].index===0&&o>0&&r[o-1].type==="text_special"&&(u=u.slice(1));for(let p=0;p<u.length;p++){const m=u[p].url,O=t.md.normalizeLink(m);if(!t.md.validateLink(O))continue;let y=u[p].text;u[p].schema?u[p].schema==="mailto:"&&!/^mailto:/i.test(y)?y=t.md.normalizeLinkText("mailto:"+y).replace(/^mailto:/,""):y=t.md.normalizeLinkText(y):y=t.md.normalizeLinkText("http://"+y).replace(/^http:\/\//,"");const _=u[p].index;if(_>d){const D=new t.Token("text","",0);D.content=l.slice(d,_),D.level=f,c.push(D)}const S=new t.Token("link_open","a",1);S.attrs=[["href",O]],S.level=f++,S.markup="linkify",S.info="auto",c.push(S);const $=new t.Token("text","",0);$.content=y,$.level=f,c.push($);const R=new t.Token("link_close","a",-1);R.level=--f,R.markup="linkify",R.info="auto",c.push(R),d=u[p].lastIndex}if(d<l.length){const p=new t.Token("text","",0);p.content=l.slice(d),p.level=f,c.push(p)}e[n].children=r=p2(r,o,c)}}}}const O2=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,z8=/\((c|tm|r)\)/i,q8=/\((c|tm|r)\)/ig,B8={c:"©",r:"®",tm:"™"};function j8(t,e){return B8[e.toLowerCase()]}function X8(t){let e=0;for(let n=t.length-1;n>=0;n--){const i=t[n];i.type==="text"&&!e&&(i.content=i.content.replace(q8,j8)),i.type==="link_open"&&i.info==="auto"&&e--,i.type==="link_close"&&i.info==="auto"&&e++}}function W8(t){let e=0;for(let n=t.length-1;n>=0;n--){const i=t[n];i.type==="text"&&!e&&O2.test(i.content)&&(i.content=i.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1—").replace(/(^|\s)--(?=\s|$)/mg,"$1–").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1–")),i.type==="link_open"&&i.info==="auto"&&e--,i.type==="link_close"&&i.info==="auto"&&e++}}function U8(t){let e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)t.tokens[e].type==="inline"&&(z8.test(t.tokens[e].content)&&X8(t.tokens[e].children),O2.test(t.tokens[e].content)&&W8(t.tokens[e].children))}const Y8=/['"]/,pb=/['"]/g,mb="’";function au(t,e,n){return t.slice(0,e)+n+t.slice(e+1)}function G8(t,e){let n;const i=[];for(let r=0;r<t.length;r++){const s=t[r],o=t[r].level;for(n=i.length-1;n>=0&&!(i[n].level<=o);n--);if(i.length=n+1,s.type!=="text")continue;let a=s.content,l=0,u=a.length;e:for(;l<u;){pb.lastIndex=l;const c=pb.exec(a);if(!c)break;let f=!0,d=!0;l=c.index+1;const p=c[0]==="'";let m=32;if(c.index-1>=0)m=a.charCodeAt(c.index-1);else for(n=r-1;n>=0&&!(t[n].type==="softbreak"||t[n].type==="hardbreak");n--)if(t[n].content){m=t[n].content.charCodeAt(t[n].content.length-1);break}let O=32;if(l<u)O=a.charCodeAt(l);else for(n=r+1;n<t.length&&!(t[n].type==="softbreak"||t[n].type==="hardbreak");n++)if(t[n].content){O=t[n].content.charCodeAt(0);break}const y=ja(m)||Ba(String.fromCharCode(m)),_=ja(O)||Ba(String.fromCharCode(O)),S=qa(m),$=qa(O);if($?f=!1:_&&(S||y||(f=!1)),S?d=!1:y&&($||_||(d=!1)),O===34&&c[0]==='"'&&m>=48&&m<=57&&(d=f=!1),f&&d&&(f=y,d=_),!f&&!d){p&&(s.content=au(s.content,c.index,mb));continue}if(d)for(n=i.length-1;n>=0;n--){let R=i[n];if(i[n].level<o)break;if(R.single===p&&i[n].level===o){R=i[n];let D,L;p?(D=e.md.options.quotes[2],L=e.md.options.quotes[3]):(D=e.md.options.quotes[0],L=e.md.options.quotes[1]),s.content=au(s.content,c.index,L),t[R.token].content=au(t[R.token].content,R.pos,D),l+=L.length-1,R.token===r&&(l+=D.length-1),a=s.content,u=a.length,i.length=n;continue e}}f?i.push({token:r,pos:c.index,single:p,level:o}):d&&p&&(s.content=au(s.content,c.index,mb))}}}function H8(t){if(t.md.options.typographer)for(let e=t.tokens.length-1;e>=0;e--)t.tokens[e].type!=="inline"||!Y8.test(t.tokens[e].content)||G8(t.tokens[e].children,t)}function K8(t){let e,n;const i=t.tokens,r=i.length;for(let s=0;s<r;s++){if(i[s].type!=="inline")continue;const o=i[s].children,a=o.length;for(e=0;e<a;e++)o[e].type==="text_special"&&(o[e].type="text");for(e=n=0;e<a;e++)o[e].type==="text"&&e+1<a&&o[e+1].type==="text"?o[e+1].content=o[e].content+o[e+1].content:(e!==n&&(o[n]=o[e]),n++);e!==n&&(o.length=n)}}const df=[["normalize",V8],["block",M8],["inline",L8],["linkify",Z8],["replacements",U8],["smartquotes",H8],["text_join",K8]];function Dm(){this.ruler=new Xt;for(let t=0;t<df.length;t++)this.ruler.push(df[t][0],df[t][1])}Dm.prototype.process=function(t){const e=this.ruler.getRules("");for(let n=0,i=e.length;n<i;n++)e[n](t)};Dm.prototype.State=g2;function ei(t,e,n,i){this.src=t,this.md=e,this.env=n,this.tokens=i,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const r=this.src;for(let s=0,o=0,a=0,l=0,u=r.length,c=!1;o<u;o++){const f=r.charCodeAt(o);if(!c)if(Ve(f)){a++,f===9?l+=4-l%4:l++;continue}else c=!0;(f===10||o===u-1)&&(f!==10&&o++,this.bMarks.push(s),this.eMarks.push(o),this.tShift.push(a),this.sCount.push(l),this.bsCount.push(0),c=!1,a=0,l=0,s=o+1)}this.bMarks.push(r.length),this.eMarks.push(r.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}ei.prototype.push=function(t,e,n){const i=new Cn(t,e,n);return i.block=!0,n<0&&this.level--,i.level=this.level,n>0&&this.level++,this.tokens.push(i),i};ei.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]};ei.prototype.skipEmptyLines=function(e){for(let n=this.lineMax;e<n&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e};ei.prototype.skipSpaces=function(e){for(let n=this.src.length;e<n;e++){const i=this.src.charCodeAt(e);if(!Ve(i))break}return e};ei.prototype.skipSpacesBack=function(e,n){if(e<=n)return e;for(;e>n;)if(!Ve(this.src.charCodeAt(--e)))return e+1;return e};ei.prototype.skipChars=function(e,n){for(let i=this.src.length;e<i&&this.src.charCodeAt(e)===n;e++);return e};ei.prototype.skipCharsBack=function(e,n,i){if(e<=i)return e;for(;e>i;)if(n!==this.src.charCodeAt(--e))return e+1;return e};ei.prototype.getLines=function(e,n,i,r){if(e>=n)return"";const s=new Array(n-e);for(let o=0,a=e;a<n;a++,o++){let l=0;const u=this.bMarks[a];let c=u,f;for(a+1<n||r?f=this.eMarks[a]+1:f=this.eMarks[a];c<f&&l<i;){const d=this.src.charCodeAt(c);if(Ve(d))d===9?l+=4-(l+this.bsCount[a])%4:l++;else if(c-u<this.tShift[a])l++;else break;c++}l>i?s[o]=new Array(l-i+1).join(" ")+this.src.slice(c,f):s[o]=this.src.slice(c,f)}return s.join("")};ei.prototype.Token=Cn;const J8=65536;function pf(t,e){const n=t.bMarks[e]+t.tShift[e],i=t.eMarks[e];return t.src.slice(n,i)}function gb(t){const e=[],n=t.length;let i=0,r=t.charCodeAt(i),s=!1,o=0,a="";for(;i<n;)r===124&&(s?(a+=t.substring(o,i-1),o=i):(e.push(a+t.substring(o,i)),a="",o=i+1)),s=r===92,i++,r=t.charCodeAt(i);return e.push(a+t.substring(o)),e}function e7(t,e,n,i){if(e+2>n)return!1;let r=e+1;if(t.sCount[r]<t.blkIndent||t.sCount[r]-t.blkIndent>=4)return!1;let s=t.bMarks[r]+t.tShift[r];if(s>=t.eMarks[r])return!1;const o=t.src.charCodeAt(s++);if(o!==124&&o!==45&&o!==58||s>=t.eMarks[r])return!1;const a=t.src.charCodeAt(s++);if(a!==124&&a!==45&&a!==58&&!Ve(a)||o===45&&Ve(a))return!1;for(;s<t.eMarks[r];){const R=t.src.charCodeAt(s);if(R!==124&&R!==45&&R!==58&&!Ve(R))return!1;s++}let l=pf(t,e+1),u=l.split("|");const c=[];for(let R=0;R<u.length;R++){const D=u[R].trim();if(!D){if(R===0||R===u.length-1)continue;return!1}if(!/^:?-+:?$/.test(D))return!1;D.charCodeAt(D.length-1)===58?c.push(D.charCodeAt(0)===58?"center":"right"):D.charCodeAt(0)===58?c.push("left"):c.push("")}if(l=pf(t,e).trim(),l.indexOf("|")===-1||t.sCount[e]-t.blkIndent>=4)return!1;u=gb(l),u.length&&u[0]===""&&u.shift(),u.length&&u[u.length-1]===""&&u.pop();const f=u.length;if(f===0||f!==c.length)return!1;if(i)return!0;const d=t.parentType;t.parentType="table";const p=t.md.block.ruler.getRules("blockquote"),m=t.push("table_open","table",1),O=[e,0];m.map=O;const y=t.push("thead_open","thead",1);y.map=[e,e+1];const _=t.push("tr_open","tr",1);_.map=[e,e+1];for(let R=0;R<u.length;R++){const D=t.push("th_open","th",1);c[R]&&(D.attrs=[["style","text-align:"+c[R]]]);const L=t.push("inline","",0);L.content=u[R].trim(),L.children=[],t.push("th_close","th",-1)}t.push("tr_close","tr",-1),t.push("thead_close","thead",-1);let S,$=0;for(r=e+2;r<n&&!(t.sCount[r]<t.blkIndent);r++){let R=!1;for(let L=0,w=p.length;L<w;L++)if(p[L](t,r,n,!0)){R=!0;break}if(R||(l=pf(t,r).trim(),!l)||t.sCount[r]-t.blkIndent>=4||(u=gb(l),u.length&&u[0]===""&&u.shift(),u.length&&u[u.length-1]===""&&u.pop(),$+=f-u.length,$>J8))break;if(r===e+2){const L=t.push("tbody_open","tbody",1);L.map=S=[e+2,0]}const D=t.push("tr_open","tr",1);D.map=[r,r+1];for(let L=0;L<f;L++){const w=t.push("td_open","td",1);c[L]&&(w.attrs=[["style","text-align:"+c[L]]]);const v=t.push("inline","",0);v.content=u[L]?u[L].trim():"",v.children=[],t.push("td_close","td",-1)}t.push("tr_close","tr",-1)}return S&&(t.push("tbody_close","tbody",-1),S[1]=r),t.push("table_close","table",-1),O[1]=r,t.parentType=d,t.line=r,!0}function t7(t,e,n){if(t.sCount[e]-t.blkIndent<4)return!1;let i=e+1,r=i;for(;i<n;){if(t.isEmpty(i)){i++;continue}if(t.sCount[i]-t.blkIndent>=4){i++,r=i;continue}break}t.line=r;const s=t.push("code_block","code",0);return s.content=t.getLines(e,r,4+t.blkIndent,!1)+`
`,s.map=[e,t.line],!0}function n7(t,e,n,i){let r=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||r+3>s)return!1;const o=t.src.charCodeAt(r);if(o!==126&&o!==96)return!1;let a=r;r=t.skipChars(r,o);let l=r-a;if(l<3)return!1;const u=t.src.slice(a,r),c=t.src.slice(r,s);if(o===96&&c.indexOf(String.fromCharCode(o))>=0)return!1;if(i)return!0;let f=e,d=!1;for(;f++,!(f>=n||(r=a=t.bMarks[f]+t.tShift[f],s=t.eMarks[f],r<s&&t.sCount[f]<t.blkIndent));)if(t.src.charCodeAt(r)===o&&!(t.sCount[f]-t.blkIndent>=4)&&(r=t.skipChars(r,o),!(r-a<l)&&(r=t.skipSpaces(r),!(r<s)))){d=!0;break}l=t.sCount[e],t.line=f+(d?1:0);const p=t.push("fence","code",0);return p.info=c,p.content=t.getLines(e+1,f,l,!0),p.markup=u,p.map=[e,t.line],!0}function i7(t,e,n,i){let r=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];const o=t.lineMax;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(r)!==62)return!1;if(i)return!0;const a=[],l=[],u=[],c=[],f=t.md.block.ruler.getRules("blockquote"),d=t.parentType;t.parentType="blockquote";let p=!1,m;for(m=e;m<n;m++){const $=t.sCount[m]<t.blkIndent;if(r=t.bMarks[m]+t.tShift[m],s=t.eMarks[m],r>=s)break;if(t.src.charCodeAt(r++)===62&&!$){let D=t.sCount[m]+1,L,w;t.src.charCodeAt(r)===32?(r++,D++,w=!1,L=!0):t.src.charCodeAt(r)===9?(L=!0,(t.bsCount[m]+D)%4===3?(r++,D++,w=!1):w=!0):L=!1;let v=D;for(a.push(t.bMarks[m]),t.bMarks[m]=r;r<s;){const T=t.src.charCodeAt(r);if(Ve(T))T===9?v+=4-(v+t.bsCount[m]+(w?1:0))%4:v++;else break;r++}p=r>=s,l.push(t.bsCount[m]),t.bsCount[m]=t.sCount[m]+1+(L?1:0),u.push(t.sCount[m]),t.sCount[m]=v-D,c.push(t.tShift[m]),t.tShift[m]=r-t.bMarks[m];continue}if(p)break;let R=!1;for(let D=0,L=f.length;D<L;D++)if(f[D](t,m,n,!0)){R=!0;break}if(R){t.lineMax=m,t.blkIndent!==0&&(a.push(t.bMarks[m]),l.push(t.bsCount[m]),c.push(t.tShift[m]),u.push(t.sCount[m]),t.sCount[m]-=t.blkIndent);break}a.push(t.bMarks[m]),l.push(t.bsCount[m]),c.push(t.tShift[m]),u.push(t.sCount[m]),t.sCount[m]=-1}const O=t.blkIndent;t.blkIndent=0;const y=t.push("blockquote_open","blockquote",1);y.markup=">";const _=[e,0];y.map=_,t.md.block.tokenize(t,e,m);const S=t.push("blockquote_close","blockquote",-1);S.markup=">",t.lineMax=o,t.parentType=d,_[1]=t.line;for(let $=0;$<c.length;$++)t.bMarks[$+e]=a[$],t.tShift[$+e]=c[$],t.sCount[$+e]=u[$],t.bsCount[$+e]=l[$];return t.blkIndent=O,!0}function r7(t,e,n,i){const r=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let s=t.bMarks[e]+t.tShift[e];const o=t.src.charCodeAt(s++);if(o!==42&&o!==45&&o!==95)return!1;let a=1;for(;s<r;){const u=t.src.charCodeAt(s++);if(u!==o&&!Ve(u))return!1;u===o&&a++}if(a<3)return!1;if(i)return!0;t.line=e+1;const l=t.push("hr","hr",0);return l.map=[e,t.line],l.markup=Array(a+1).join(String.fromCharCode(o)),!0}function Ob(t,e){const n=t.eMarks[e];let i=t.bMarks[e]+t.tShift[e];const r=t.src.charCodeAt(i++);if(r!==42&&r!==45&&r!==43)return-1;if(i<n){const s=t.src.charCodeAt(i);if(!Ve(s))return-1}return i}function bb(t,e){const n=t.bMarks[e]+t.tShift[e],i=t.eMarks[e];let r=n;if(r+1>=i)return-1;let s=t.src.charCodeAt(r++);if(s<48||s>57)return-1;for(;;){if(r>=i)return-1;if(s=t.src.charCodeAt(r++),s>=48&&s<=57){if(r-n>=10)return-1;continue}if(s===41||s===46)break;return-1}return r<i&&(s=t.src.charCodeAt(r),!Ve(s))?-1:r}function s7(t,e){const n=t.level+2;for(let i=e+2,r=t.tokens.length-2;i<r;i++)t.tokens[i].level===n&&t.tokens[i].type==="paragraph_open"&&(t.tokens[i+2].hidden=!0,t.tokens[i].hidden=!0,i+=2)}function o7(t,e,n,i){let r,s,o,a,l=e,u=!0;if(t.sCount[l]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[l]-t.listIndent>=4&&t.sCount[l]<t.blkIndent)return!1;let c=!1;i&&t.parentType==="paragraph"&&t.sCount[l]>=t.blkIndent&&(c=!0);let f,d,p;if((p=bb(t,l))>=0){if(f=!0,o=t.bMarks[l]+t.tShift[l],d=Number(t.src.slice(o,p-1)),c&&d!==1)return!1}else if((p=Ob(t,l))>=0)f=!1;else return!1;if(c&&t.skipSpaces(p)>=t.eMarks[l])return!1;if(i)return!0;const m=t.src.charCodeAt(p-1),O=t.tokens.length;f?(a=t.push("ordered_list_open","ol",1),d!==1&&(a.attrs=[["start",d]])):a=t.push("bullet_list_open","ul",1);const y=[l,0];a.map=y,a.markup=String.fromCharCode(m);let _=!1;const S=t.md.block.ruler.getRules("list"),$=t.parentType;for(t.parentType="list";l<n;){s=p,r=t.eMarks[l];const R=t.sCount[l]+p-(t.bMarks[l]+t.tShift[l]);let D=R;for(;s<r;){const G=t.src.charCodeAt(s);if(G===9)D+=4-(D+t.bsCount[l])%4;else if(G===32)D++;else break;s++}const L=s;let w;L>=r?w=1:w=D-R,w>4&&(w=1);const v=R+w;a=t.push("list_item_open","li",1),a.markup=String.fromCharCode(m);const T=[l,0];a.map=T,f&&(a.info=t.src.slice(o,p-1));const A=t.tight,E=t.tShift[l],C=t.sCount[l],P=t.listIndent;if(t.listIndent=t.blkIndent,t.blkIndent=v,t.tight=!0,t.tShift[l]=L-t.bMarks[l],t.sCount[l]=D,L>=r&&t.isEmpty(l+1)?t.line=Math.min(t.line+2,n):t.md.block.tokenize(t,l,n,!0),(!t.tight||_)&&(u=!1),_=t.line-l>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=P,t.tShift[l]=E,t.sCount[l]=C,t.tight=A,a=t.push("list_item_close","li",-1),a.markup=String.fromCharCode(m),l=t.line,T[1]=l,l>=n||t.sCount[l]<t.blkIndent||t.sCount[l]-t.blkIndent>=4)break;let Y=!1;for(let G=0,ee=S.length;G<ee;G++)if(S[G](t,l,n,!0)){Y=!0;break}if(Y)break;if(f){if(p=bb(t,l),p<0)break;o=t.bMarks[l]+t.tShift[l]}else if(p=Ob(t,l),p<0)break;if(m!==t.src.charCodeAt(p-1))break}return f?a=t.push("ordered_list_close","ol",-1):a=t.push("bullet_list_close","ul",-1),a.markup=String.fromCharCode(m),y[1]=l,t.line=l,t.parentType=$,u&&s7(t,O),!0}function a7(t,e,n,i){let r=t.bMarks[e]+t.tShift[e],s=t.eMarks[e],o=e+1;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(r)!==91)return!1;function a(S){const $=t.lineMax;if(S>=$||t.isEmpty(S))return null;let R=!1;if(t.sCount[S]-t.blkIndent>3&&(R=!0),t.sCount[S]<0&&(R=!0),!R){const w=t.md.block.ruler.getRules("reference"),v=t.parentType;t.parentType="reference";let T=!1;for(let A=0,E=w.length;A<E;A++)if(w[A](t,S,$,!0)){T=!0;break}if(t.parentType=v,T)return null}const D=t.bMarks[S]+t.tShift[S],L=t.eMarks[S];return t.src.slice(D,L+1)}let l=t.src.slice(r,s+1);s=l.length;let u=-1;for(r=1;r<s;r++){const S=l.charCodeAt(r);if(S===91)return!1;if(S===93){u=r;break}else if(S===10){const $=a(o);$!==null&&(l+=$,s=l.length,o++)}else if(S===92&&(r++,r<s&&l.charCodeAt(r)===10)){const $=a(o);$!==null&&(l+=$,s=l.length,o++)}}if(u<0||l.charCodeAt(u+1)!==58)return!1;for(r=u+2;r<s;r++){const S=l.charCodeAt(r);if(S===10){const $=a(o);$!==null&&(l+=$,s=l.length,o++)}else if(!Ve(S))break}const c=t.md.helpers.parseLinkDestination(l,r,s);if(!c.ok)return!1;const f=t.md.normalizeLink(c.str);if(!t.md.validateLink(f))return!1;r=c.pos;const d=r,p=o,m=r;for(;r<s;r++){const S=l.charCodeAt(r);if(S===10){const $=a(o);$!==null&&(l+=$,s=l.length,o++)}else if(!Ve(S))break}let O=t.md.helpers.parseLinkTitle(l,r,s);for(;O.can_continue;){const S=a(o);if(S===null)break;l+=S,r=s,s=l.length,o++,O=t.md.helpers.parseLinkTitle(l,r,s,O)}let y;for(r<s&&m!==r&&O.ok?(y=O.str,r=O.pos):(y="",r=d,o=p);r<s;){const S=l.charCodeAt(r);if(!Ve(S))break;r++}if(r<s&&l.charCodeAt(r)!==10&&y)for(y="",r=d,o=p;r<s;){const S=l.charCodeAt(r);if(!Ve(S))break;r++}if(r<s&&l.charCodeAt(r)!==10)return!1;const _=ih(l.slice(1,u));return _?(i||(typeof t.env.references>"u"&&(t.env.references={}),typeof t.env.references[_]>"u"&&(t.env.references[_]={title:y,href:f}),t.line=o),!0):!1}const l7=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],u7="[a-zA-Z_:][a-zA-Z0-9:._-]*",c7="[^\"'=<>`\\x00-\\x20]+",h7="'[^']*'",f7='"[^"]*"',d7="(?:"+c7+"|"+h7+"|"+f7+")",p7="(?:\\s+"+u7+"(?:\\s*=\\s*"+d7+")?)",b2="<[A-Za-z][A-Za-z0-9\\-]*"+p7+"*\\s*\\/?>",y2="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",m7="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",g7="<[?][\\s\\S]*?[?]>",O7="<![A-Za-z][^>]*>",b7="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",y7=new RegExp("^(?:"+b2+"|"+y2+"|"+m7+"|"+g7+"|"+O7+"|"+b7+")"),v7=new RegExp("^(?:"+b2+"|"+y2+")"),os=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+l7.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(v7.source+"\\s*$"),/^$/,!1]];function _7(t,e,n,i){let r=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(r)!==60)return!1;let o=t.src.slice(r,s),a=0;for(;a<os.length&&!os[a][0].test(o);a++);if(a===os.length)return!1;if(i)return os[a][2];let l=e+1;if(!os[a][1].test(o)){for(;l<n&&!(t.sCount[l]<t.blkIndent);l++)if(r=t.bMarks[l]+t.tShift[l],s=t.eMarks[l],o=t.src.slice(r,s),os[a][1].test(o)){o.length!==0&&l++;break}}t.line=l;const u=t.push("html_block","",0);return u.map=[e,l],u.content=t.getLines(e,l,t.blkIndent,!0),!0}function w7(t,e,n,i){let r=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let o=t.src.charCodeAt(r);if(o!==35||r>=s)return!1;let a=1;for(o=t.src.charCodeAt(++r);o===35&&r<s&&a<=6;)a++,o=t.src.charCodeAt(++r);if(a>6||r<s&&!Ve(o))return!1;if(i)return!0;s=t.skipSpacesBack(s,r);const l=t.skipCharsBack(s,35,r);l>r&&Ve(t.src.charCodeAt(l-1))&&(s=l),t.line=e+1;const u=t.push("heading_open","h"+String(a),1);u.markup="########".slice(0,a),u.map=[e,t.line];const c=t.push("inline","",0);c.content=t.src.slice(r,s).trim(),c.map=[e,t.line],c.children=[];const f=t.push("heading_close","h"+String(a),-1);return f.markup="########".slice(0,a),!0}function x7(t,e,n){const i=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;const r=t.parentType;t.parentType="paragraph";let s=0,o,a=e+1;for(;a<n&&!t.isEmpty(a);a++){if(t.sCount[a]-t.blkIndent>3)continue;if(t.sCount[a]>=t.blkIndent){let p=t.bMarks[a]+t.tShift[a];const m=t.eMarks[a];if(p<m&&(o=t.src.charCodeAt(p),(o===45||o===61)&&(p=t.skipChars(p,o),p=t.skipSpaces(p),p>=m))){s=o===61?1:2;break}}if(t.sCount[a]<0)continue;let d=!1;for(let p=0,m=i.length;p<m;p++)if(i[p](t,a,n,!0)){d=!0;break}if(d)break}if(!s)return!1;const l=t.getLines(e,a,t.blkIndent,!1).trim();t.line=a+1;const u=t.push("heading_open","h"+String(s),1);u.markup=String.fromCharCode(o),u.map=[e,t.line];const c=t.push("inline","",0);c.content=l,c.map=[e,t.line-1],c.children=[];const f=t.push("heading_close","h"+String(s),-1);return f.markup=String.fromCharCode(o),t.parentType=r,!0}function k7(t,e,n){const i=t.md.block.ruler.getRules("paragraph"),r=t.parentType;let s=e+1;for(t.parentType="paragraph";s<n&&!t.isEmpty(s);s++){if(t.sCount[s]-t.blkIndent>3||t.sCount[s]<0)continue;let u=!1;for(let c=0,f=i.length;c<f;c++)if(i[c](t,s,n,!0)){u=!0;break}if(u)break}const o=t.getLines(e,s,t.blkIndent,!1).trim();t.line=s;const a=t.push("paragraph_open","p",1);a.map=[e,t.line];const l=t.push("inline","",0);return l.content=o,l.map=[e,t.line],l.children=[],t.push("paragraph_close","p",-1),t.parentType=r,!0}const lu=[["table",e7,["paragraph","reference"]],["code",t7],["fence",n7,["paragraph","reference","blockquote","list"]],["blockquote",i7,["paragraph","reference","blockquote","list"]],["hr",r7,["paragraph","reference","blockquote","list"]],["list",o7,["paragraph","reference","blockquote"]],["reference",a7],["html_block",_7,["paragraph","reference","blockquote"]],["heading",w7,["paragraph","reference","blockquote"]],["lheading",x7],["paragraph",k7]];function rh(){this.ruler=new Xt;for(let t=0;t<lu.length;t++)this.ruler.push(lu[t][0],lu[t][1],{alt:(lu[t][2]||[]).slice()})}rh.prototype.tokenize=function(t,e,n){const i=this.ruler.getRules(""),r=i.length,s=t.md.options.maxNesting;let o=e,a=!1;for(;o<n&&(t.line=o=t.skipEmptyLines(o),!(o>=n||t.sCount[o]<t.blkIndent));){if(t.level>=s){t.line=n;break}const l=t.line;let u=!1;for(let c=0;c<r;c++)if(u=i[c](t,o,n,!1),u){if(l>=t.line)throw new Error("block rule didn't increment state.line");break}if(!u)throw new Error("none of the block rules matched");t.tight=!a,t.isEmpty(t.line-1)&&(a=!0),o=t.line,o<n&&t.isEmpty(o)&&(a=!0,o++,t.line=o)}};rh.prototype.parse=function(t,e,n,i){if(!t)return;const r=new this.State(t,e,n,i);this.tokenize(r,r.line,r.lineMax)};rh.prototype.State=ei;function hl(t,e,n,i){this.src=t,this.env=n,this.md=e,this.tokens=i,this.tokens_meta=Array(i.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}hl.prototype.pushPending=function(){const t=new Cn("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t};hl.prototype.push=function(t,e,n){this.pending&&this.pushPending();const i=new Cn(t,e,n);let r=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),i.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],r={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(i),this.tokens_meta.push(r),i};hl.prototype.scanDelims=function(t,e){const n=this.posMax,i=this.src.charCodeAt(t),r=t>0?this.src.charCodeAt(t-1):32;let s=t;for(;s<n&&this.src.charCodeAt(s)===i;)s++;const o=s-t,a=s<n?this.src.charCodeAt(s):32,l=ja(r)||Ba(String.fromCharCode(r)),u=ja(a)||Ba(String.fromCharCode(a)),c=qa(r),f=qa(a),d=!f&&(!u||c||l),p=!c&&(!l||f||u);return{can_open:d&&(e||!p||l),can_close:p&&(e||!d||u),length:o}};hl.prototype.Token=Cn;function S7(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function T7(t,e){let n=t.pos;for(;n<t.posMax&&!S7(t.src.charCodeAt(n));)n++;return n===t.pos?!1:(e||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}const P7=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function A7(t,e){if(!t.md.options.linkify||t.linkLevel>0)return!1;const n=t.pos,i=t.posMax;if(n+3>i||t.src.charCodeAt(n)!==58||t.src.charCodeAt(n+1)!==47||t.src.charCodeAt(n+2)!==47)return!1;const r=t.pending.match(P7);if(!r)return!1;const s=r[1],o=t.md.linkify.matchAtStart(t.src.slice(n-s.length));if(!o)return!1;let a=o.url;if(a.length<=s.length)return!1;a=a.replace(/\*+$/,"");const l=t.md.normalizeLink(a);if(!t.md.validateLink(l))return!1;if(!e){t.pending=t.pending.slice(0,-s.length);const u=t.push("link_open","a",1);u.attrs=[["href",l]],u.markup="linkify",u.info="auto";const c=t.push("text","",0);c.content=t.md.normalizeLinkText(a);const f=t.push("link_close","a",-1);f.markup="linkify",f.info="auto"}return t.pos+=a.length-s.length,!0}function E7(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==10)return!1;const i=t.pending.length-1,r=t.posMax;if(!e)if(i>=0&&t.pending.charCodeAt(i)===32)if(i>=1&&t.pending.charCodeAt(i-1)===32){let s=i-1;for(;s>=1&&t.pending.charCodeAt(s-1)===32;)s--;t.pending=t.pending.slice(0,s),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(n++;n<r&&Ve(t.src.charCodeAt(n));)n++;return t.pos=n,!0}const Vm=[];for(let t=0;t<256;t++)Vm.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t){Vm[t.charCodeAt(0)]=1});function C7(t,e){let n=t.pos;const i=t.posMax;if(t.src.charCodeAt(n)!==92||(n++,n>=i))return!1;let r=t.src.charCodeAt(n);if(r===10){for(e||t.push("hardbreak","br",0),n++;n<i&&(r=t.src.charCodeAt(n),!!Ve(r));)n++;return t.pos=n,!0}let s=t.src[n];if(r>=55296&&r<=56319&&n+1<i){const a=t.src.charCodeAt(n+1);a>=56320&&a<=57343&&(s+=t.src[n+1],n++)}const o="\\"+s;if(!e){const a=t.push("text_special","",0);r<256&&Vm[r]!==0?a.content=s:a.content=o,a.markup=o,a.info="escape"}return t.pos=n+1,!0}function $7(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==96)return!1;const r=n;n++;const s=t.posMax;for(;n<s&&t.src.charCodeAt(n)===96;)n++;const o=t.src.slice(r,n),a=o.length;if(t.backticksScanned&&(t.backticks[a]||0)<=r)return e||(t.pending+=o),t.pos+=a,!0;let l=n,u;for(;(u=t.src.indexOf("`",l))!==-1;){for(l=u+1;l<s&&t.src.charCodeAt(l)===96;)l++;const c=l-u;if(c===a){if(!e){const f=t.push("code_inline","code",0);f.markup=o,f.content=t.src.slice(n,u).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return t.pos=l,!0}t.backticks[c]=u}return t.backticksScanned=!0,e||(t.pending+=o),t.pos+=a,!0}function R7(t,e){const n=t.pos,i=t.src.charCodeAt(n);if(e||i!==126)return!1;const r=t.scanDelims(t.pos,!0);let s=r.length;const o=String.fromCharCode(i);if(s<2)return!1;let a;s%2&&(a=t.push("text","",0),a.content=o,s--);for(let l=0;l<s;l+=2)a=t.push("text","",0),a.content=o+o,t.delimiters.push({marker:i,length:0,token:t.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return t.pos+=r.length,!0}function yb(t,e){let n;const i=[],r=e.length;for(let s=0;s<r;s++){const o=e[s];if(o.marker!==126||o.end===-1)continue;const a=e[o.end];n=t.tokens[o.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=t.tokens[a.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="",t.tokens[a.token-1].type==="text"&&t.tokens[a.token-1].content==="~"&&i.push(a.token-1)}for(;i.length;){const s=i.pop();let o=s+1;for(;o<t.tokens.length&&t.tokens[o].type==="s_close";)o++;o--,s!==o&&(n=t.tokens[o],t.tokens[o]=t.tokens[s],t.tokens[s]=n)}}function I7(t){const e=t.tokens_meta,n=t.tokens_meta.length;yb(t,t.delimiters);for(let i=0;i<n;i++)e[i]&&e[i].delimiters&&yb(t,e[i].delimiters)}const v2={tokenize:R7,postProcess:I7};function Q7(t,e){const n=t.pos,i=t.src.charCodeAt(n);if(e||i!==95&&i!==42)return!1;const r=t.scanDelims(t.pos,i===42);for(let s=0;s<r.length;s++){const o=t.push("text","",0);o.content=String.fromCharCode(i),t.delimiters.push({marker:i,length:r.length,token:t.tokens.length-1,end:-1,open:r.can_open,close:r.can_close})}return t.pos+=r.length,!0}function vb(t,e){const n=e.length;for(let i=n-1;i>=0;i--){const r=e[i];if(r.marker!==95&&r.marker!==42||r.end===-1)continue;const s=e[r.end],o=i>0&&e[i-1].end===r.end+1&&e[i-1].marker===r.marker&&e[i-1].token===r.token-1&&e[r.end+1].token===s.token+1,a=String.fromCharCode(r.marker),l=t.tokens[r.token];l.type=o?"strong_open":"em_open",l.tag=o?"strong":"em",l.nesting=1,l.markup=o?a+a:a,l.content="";const u=t.tokens[s.token];u.type=o?"strong_close":"em_close",u.tag=o?"strong":"em",u.nesting=-1,u.markup=o?a+a:a,u.content="",o&&(t.tokens[e[i-1].token].content="",t.tokens[e[r.end+1].token].content="",i--)}}function D7(t){const e=t.tokens_meta,n=t.tokens_meta.length;vb(t,t.delimiters);for(let i=0;i<n;i++)e[i]&&e[i].delimiters&&vb(t,e[i].delimiters)}const _2={tokenize:Q7,postProcess:D7};function V7(t,e){let n,i,r,s,o="",a="",l=t.pos,u=!0;if(t.src.charCodeAt(t.pos)!==91)return!1;const c=t.pos,f=t.posMax,d=t.pos+1,p=t.md.helpers.parseLinkLabel(t,t.pos,!0);if(p<0)return!1;let m=p+1;if(m<f&&t.src.charCodeAt(m)===40){for(u=!1,m++;m<f&&(n=t.src.charCodeAt(m),!(!Ve(n)&&n!==10));m++);if(m>=f)return!1;if(l=m,r=t.md.helpers.parseLinkDestination(t.src,m,t.posMax),r.ok){for(o=t.md.normalizeLink(r.str),t.md.validateLink(o)?m=r.pos:o="",l=m;m<f&&(n=t.src.charCodeAt(m),!(!Ve(n)&&n!==10));m++);if(r=t.md.helpers.parseLinkTitle(t.src,m,t.posMax),m<f&&l!==m&&r.ok)for(a=r.str,m=r.pos;m<f&&(n=t.src.charCodeAt(m),!(!Ve(n)&&n!==10));m++);}(m>=f||t.src.charCodeAt(m)!==41)&&(u=!0),m++}if(u){if(typeof t.env.references>"u")return!1;if(m<f&&t.src.charCodeAt(m)===91?(l=m+1,m=t.md.helpers.parseLinkLabel(t,m),m>=0?i=t.src.slice(l,m++):m=p+1):m=p+1,i||(i=t.src.slice(d,p)),s=t.env.references[ih(i)],!s)return t.pos=c,!1;o=s.href,a=s.title}if(!e){t.pos=d,t.posMax=p;const O=t.push("link_open","a",1),y=[["href",o]];O.attrs=y,a&&y.push(["title",a]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,t.push("link_close","a",-1)}return t.pos=m,t.posMax=f,!0}function M7(t,e){let n,i,r,s,o,a,l,u,c="";const f=t.pos,d=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91)return!1;const p=t.pos+2,m=t.md.helpers.parseLinkLabel(t,t.pos+1,!1);if(m<0)return!1;if(s=m+1,s<d&&t.src.charCodeAt(s)===40){for(s++;s<d&&(n=t.src.charCodeAt(s),!(!Ve(n)&&n!==10));s++);if(s>=d)return!1;for(u=s,a=t.md.helpers.parseLinkDestination(t.src,s,t.posMax),a.ok&&(c=t.md.normalizeLink(a.str),t.md.validateLink(c)?s=a.pos:c=""),u=s;s<d&&(n=t.src.charCodeAt(s),!(!Ve(n)&&n!==10));s++);if(a=t.md.helpers.parseLinkTitle(t.src,s,t.posMax),s<d&&u!==s&&a.ok)for(l=a.str,s=a.pos;s<d&&(n=t.src.charCodeAt(s),!(!Ve(n)&&n!==10));s++);else l="";if(s>=d||t.src.charCodeAt(s)!==41)return t.pos=f,!1;s++}else{if(typeof t.env.references>"u")return!1;if(s<d&&t.src.charCodeAt(s)===91?(u=s+1,s=t.md.helpers.parseLinkLabel(t,s),s>=0?r=t.src.slice(u,s++):s=m+1):s=m+1,r||(r=t.src.slice(p,m)),o=t.env.references[ih(r)],!o)return t.pos=f,!1;c=o.href,l=o.title}if(!e){i=t.src.slice(p,m);const O=[];t.md.inline.parse(i,t.md,t.env,O);const y=t.push("image","img",0),_=[["src",c],["alt",""]];y.attrs=_,y.children=O,y.content=i,l&&_.push(["title",l])}return t.pos=s,t.posMax=d,!0}const L7=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,F7=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function N7(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==60)return!1;const i=t.pos,r=t.posMax;for(;;){if(++n>=r)return!1;const o=t.src.charCodeAt(n);if(o===60)return!1;if(o===62)break}const s=t.src.slice(i+1,n);if(F7.test(s)){const o=t.md.normalizeLink(s);if(!t.md.validateLink(o))return!1;if(!e){const a=t.push("link_open","a",1);a.attrs=[["href",o]],a.markup="autolink",a.info="auto";const l=t.push("text","",0);l.content=t.md.normalizeLinkText(s);const u=t.push("link_close","a",-1);u.markup="autolink",u.info="auto"}return t.pos+=s.length+2,!0}if(L7.test(s)){const o=t.md.normalizeLink("mailto:"+s);if(!t.md.validateLink(o))return!1;if(!e){const a=t.push("link_open","a",1);a.attrs=[["href",o]],a.markup="autolink",a.info="auto";const l=t.push("text","",0);l.content=t.md.normalizeLinkText(s);const u=t.push("link_close","a",-1);u.markup="autolink",u.info="auto"}return t.pos+=s.length+2,!0}return!1}function Z7(t){return/^<a[>\s]/i.test(t)}function z7(t){return/^<\/a\s*>/i.test(t)}function q7(t){const e=t|32;return e>=97&&e<=122}function B7(t,e){if(!t.md.options.html)return!1;const n=t.posMax,i=t.pos;if(t.src.charCodeAt(i)!==60||i+2>=n)return!1;const r=t.src.charCodeAt(i+1);if(r!==33&&r!==63&&r!==47&&!q7(r))return!1;const s=t.src.slice(i).match(y7);if(!s)return!1;if(!e){const o=t.push("html_inline","",0);o.content=s[0],Z7(o.content)&&t.linkLevel++,z7(o.content)&&t.linkLevel--}return t.pos+=s[0].length,!0}const j7=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,X7=/^&([a-z][a-z0-9]{1,31});/i;function W7(t,e){const n=t.pos,i=t.posMax;if(t.src.charCodeAt(n)!==38||n+1>=i)return!1;if(t.src.charCodeAt(n+1)===35){const s=t.src.slice(n).match(j7);if(s){if(!e){const o=s[1][0].toLowerCase()==="x"?parseInt(s[1].slice(1),16):parseInt(s[1],10),a=t.push("text_special","",0);a.content=Qm(o)?Sc(o):Sc(65533),a.markup=s[0],a.info="entity"}return t.pos+=s[0].length,!0}}else{const s=t.src.slice(n).match(X7);if(s){const o=d2(s[0]);if(o!==s[0]){if(!e){const a=t.push("text_special","",0);a.content=o,a.markup=s[0],a.info="entity"}return t.pos+=s[0].length,!0}}}return!1}function _b(t){const e={},n=t.length;if(!n)return;let i=0,r=-2;const s=[];for(let o=0;o<n;o++){const a=t[o];if(s.push(0),(t[i].marker!==a.marker||r!==a.token-1)&&(i=o),r=a.token,a.length=a.length||0,!a.close)continue;e.hasOwnProperty(a.marker)||(e[a.marker]=[-1,-1,-1,-1,-1,-1]);const l=e[a.marker][(a.open?3:0)+a.length%3];let u=i-s[i]-1,c=u;for(;u>l;u-=s[u]+1){const f=t[u];if(f.marker===a.marker&&f.open&&f.end<0){let d=!1;if((f.close||a.open)&&(f.length+a.length)%3===0&&(f.length%3!==0||a.length%3!==0)&&(d=!0),!d){const p=u>0&&!t[u-1].open?s[u-1]+1:0;s[o]=o-u+p,s[u]=p,a.open=!1,f.end=o,f.close=!1,c=-1,r=-2;break}}}c!==-1&&(e[a.marker][(a.open?3:0)+(a.length||0)%3]=c)}}function U7(t){const e=t.tokens_meta,n=t.tokens_meta.length;_b(t.delimiters);for(let i=0;i<n;i++)e[i]&&e[i].delimiters&&_b(e[i].delimiters)}function Y7(t){let e,n,i=0;const r=t.tokens,s=t.tokens.length;for(e=n=0;e<s;e++)r[e].nesting<0&&i--,r[e].level=i,r[e].nesting>0&&i++,r[e].type==="text"&&e+1<s&&r[e+1].type==="text"?r[e+1].content=r[e].content+r[e+1].content:(e!==n&&(r[n]=r[e]),n++);e!==n&&(r.length=n)}const mf=[["text",T7],["linkify",A7],["newline",E7],["escape",C7],["backticks",$7],["strikethrough",v2.tokenize],["emphasis",_2.tokenize],["link",V7],["image",M7],["autolink",N7],["html_inline",B7],["entity",W7]],gf=[["balance_pairs",U7],["strikethrough",v2.postProcess],["emphasis",_2.postProcess],["fragments_join",Y7]];function fl(){this.ruler=new Xt;for(let t=0;t<mf.length;t++)this.ruler.push(mf[t][0],mf[t][1]);this.ruler2=new Xt;for(let t=0;t<gf.length;t++)this.ruler2.push(gf[t][0],gf[t][1])}fl.prototype.skipToken=function(t){const e=t.pos,n=this.ruler.getRules(""),i=n.length,r=t.md.options.maxNesting,s=t.cache;if(typeof s[e]<"u"){t.pos=s[e];return}let o=!1;if(t.level<r){for(let a=0;a<i;a++)if(t.level++,o=n[a](t,!0),t.level--,o){if(e>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}else t.pos=t.posMax;o||t.pos++,s[e]=t.pos};fl.prototype.tokenize=function(t){const e=this.ruler.getRules(""),n=e.length,i=t.posMax,r=t.md.options.maxNesting;for(;t.pos<i;){const s=t.pos;let o=!1;if(t.level<r){for(let a=0;a<n;a++)if(o=e[a](t,!1),o){if(s>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}if(o){if(t.pos>=i)break;continue}t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()};fl.prototype.parse=function(t,e,n,i){const r=new this.State(t,e,n,i);this.tokenize(r);const s=this.ruler2.getRules(""),o=s.length;for(let a=0;a<o;a++)s[a](r)};fl.prototype.State=hl;function G7(t){const e={};t=t||{},e.src_Any=l2.source,e.src_Cc=u2.source,e.src_Z=h2.source,e.src_P=Rm.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const n="[><｜]";return e.src_pseudo_letter="(?:(?!"+n+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+n+"|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+e.src_ZPCc+"))((?![$+<=>^`|｜])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+e.src_ZPCc+"))((?![$+<=>^`|｜])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}function jd(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(i){t[i]=n[i]})}),t}function sh(t){return Object.prototype.toString.call(t)}function H7(t){return sh(t)==="[object String]"}function K7(t){return sh(t)==="[object Object]"}function J7(t){return sh(t)==="[object RegExp]"}function wb(t){return sh(t)==="[object Function]"}function eV(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const w2={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function tV(t){return Object.keys(t||{}).reduce(function(e,n){return e||w2.hasOwnProperty(n)},!1)}const nV={"http:":{validate:function(t,e,n){const i=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(i)?i.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){const i=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(i)?e>=3&&t[e-3]===":"||e>=3&&t[e-3]==="/"?0:i.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){const i=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(i)?i.match(n.re.mailto)[0].length:0}}},iV="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",rV="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function sV(t){t.__index__=-1,t.__text_cache__=""}function oV(t){return function(e,n){const i=e.slice(n);return t.test(i)?i.match(t)[0].length:0}}function xb(){return function(t,e){e.normalize(t)}}function Tc(t){const e=t.re=G7(t.__opts__),n=t.__tlds__.slice();t.onCompile(),t.__tlds_replaced__||n.push(iV),n.push(e.src_xn),e.src_tlds=n.join("|");function i(a){return a.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(i(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(i(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(i(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(i(e.tpl_host_fuzzy_test),"i");const r=[];t.__compiled__={};function s(a,l){throw new Error('(LinkifyIt) Invalid schema "'+a+'": '+l)}Object.keys(t.__schemas__).forEach(function(a){const l=t.__schemas__[a];if(l===null)return;const u={validate:null,link:null};if(t.__compiled__[a]=u,K7(l)){J7(l.validate)?u.validate=oV(l.validate):wb(l.validate)?u.validate=l.validate:s(a,l),wb(l.normalize)?u.normalize=l.normalize:l.normalize?s(a,l):u.normalize=xb();return}if(H7(l)){r.push(a);return}s(a,l)}),r.forEach(function(a){t.__compiled__[t.__schemas__[a]]&&(t.__compiled__[a].validate=t.__compiled__[t.__schemas__[a]].validate,t.__compiled__[a].normalize=t.__compiled__[t.__schemas__[a]].normalize)}),t.__compiled__[""]={validate:null,normalize:xb()};const o=Object.keys(t.__compiled__).filter(function(a){return a.length>0&&t.__compiled__[a]}).map(eV).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+e.src_ZPCc+"))("+o+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+e.src_ZPCc+"))("+o+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),sV(t)}function aV(t,e){const n=t.__index__,i=t.__last_index__,r=t.__text_cache__.slice(n,i);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=i+e,this.raw=r,this.text=r,this.url=r}function Xd(t,e){const n=new aV(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function rn(t,e){if(!(this instanceof rn))return new rn(t,e);e||tV(t)&&(e=t,t={}),this.__opts__=jd({},w2,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=jd({},nV,t),this.__compiled__={},this.__tlds__=rV,this.__tlds_replaced__=!1,this.re={},Tc(this)}rn.prototype.add=function(e,n){return this.__schemas__[e]=n,Tc(this),this};rn.prototype.set=function(e){return this.__opts__=jd(this.__opts__,e),this};rn.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let n,i,r,s,o,a,l,u,c;if(this.re.schema_test.test(e)){for(l=this.re.schema_search,l.lastIndex=0;(n=l.exec(e))!==null;)if(s=this.testSchemaAt(e,n[2],l.lastIndex),s){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+s;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(u=e.search(this.re.host_fuzzy_test),u>=0&&(this.__index__<0||u<this.__index__)&&(i=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(o=i.index+i[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=i.index+i[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(c=e.indexOf("@"),c>=0&&(r=e.match(this.re.email_fuzzy))!==null&&(o=r.index+r[1].length,a=r.index+r[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=a))),this.__index__>=0};rn.prototype.pretest=function(e){return this.re.pretest.test(e)};rn.prototype.testSchemaAt=function(e,n,i){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(e,i,this):0};rn.prototype.match=function(e){const n=[];let i=0;this.__index__>=0&&this.__text_cache__===e&&(n.push(Xd(this,i)),i=this.__last_index__);let r=i?e.slice(i):e;for(;this.test(r);)n.push(Xd(this,i)),r=r.slice(this.__last_index__),i+=this.__last_index__;return n.length?n:null};rn.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const n=this.re.schema_at_start.exec(e);if(!n)return null;const i=this.testSchemaAt(e,n[2],n[0].length);return i?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+i,Xd(this,0)):null};rn.prototype.tlds=function(e,n){return e=Array.isArray(e)?e:[e],n?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(i,r,s){return i!==s[r-1]}).reverse(),Tc(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,Tc(this),this)};rn.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};rn.prototype.onCompile=function(){};const As=2147483647,qn=36,Mm=1,Xa=26,lV=38,uV=700,x2=72,k2=128,S2="-",cV=/^xn--/,hV=/[^\0-\x7F]/,fV=/[\x2E\u3002\uFF0E\uFF61]/g,dV={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Of=qn-Mm,Bn=Math.floor,bf=String.fromCharCode;function Vi(t){throw new RangeError(dV[t])}function pV(t,e){const n=[];let i=t.length;for(;i--;)n[i]=e(t[i]);return n}function T2(t,e){const n=t.split("@");let i="";n.length>1&&(i=n[0]+"@",t=n[1]),t=t.replace(fV,".");const r=t.split("."),s=pV(r,e).join(".");return i+s}function P2(t){const e=[];let n=0;const i=t.length;for(;n<i;){const r=t.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){const s=t.charCodeAt(n++);(s&64512)==56320?e.push(((r&1023)<<10)+(s&1023)+65536):(e.push(r),n--)}else e.push(r)}return e}const mV=t=>String.fromCodePoint(...t),gV=function(t){return t>=48&&t<58?26+(t-48):t>=65&&t<91?t-65:t>=97&&t<123?t-97:qn},kb=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},A2=function(t,e,n){let i=0;for(t=n?Bn(t/uV):t>>1,t+=Bn(t/e);t>Of*Xa>>1;i+=qn)t=Bn(t/Of);return Bn(i+(Of+1)*t/(t+lV))},E2=function(t){const e=[],n=t.length;let i=0,r=k2,s=x2,o=t.lastIndexOf(S2);o<0&&(o=0);for(let a=0;a<o;++a)t.charCodeAt(a)>=128&&Vi("not-basic"),e.push(t.charCodeAt(a));for(let a=o>0?o+1:0;a<n;){const l=i;for(let c=1,f=qn;;f+=qn){a>=n&&Vi("invalid-input");const d=gV(t.charCodeAt(a++));d>=qn&&Vi("invalid-input"),d>Bn((As-i)/c)&&Vi("overflow"),i+=d*c;const p=f<=s?Mm:f>=s+Xa?Xa:f-s;if(d<p)break;const m=qn-p;c>Bn(As/m)&&Vi("overflow"),c*=m}const u=e.length+1;s=A2(i-l,u,l==0),Bn(i/u)>As-r&&Vi("overflow"),r+=Bn(i/u),i%=u,e.splice(i++,0,r)}return String.fromCodePoint(...e)},C2=function(t){const e=[];t=P2(t);const n=t.length;let i=k2,r=0,s=x2;for(const l of t)l<128&&e.push(bf(l));const o=e.length;let a=o;for(o&&e.push(S2);a<n;){let l=As;for(const c of t)c>=i&&c<l&&(l=c);const u=a+1;l-i>Bn((As-r)/u)&&Vi("overflow"),r+=(l-i)*u,i=l;for(const c of t)if(c<i&&++r>As&&Vi("overflow"),c===i){let f=r;for(let d=qn;;d+=qn){const p=d<=s?Mm:d>=s+Xa?Xa:d-s;if(f<p)break;const m=f-p,O=qn-p;e.push(bf(kb(p+m%O,0))),f=Bn(m/O)}e.push(bf(kb(f,0))),s=A2(r,u,a===o),r=0,++a}++r,++i}return e.join("")},OV=function(t){return T2(t,function(e){return cV.test(e)?E2(e.slice(4).toLowerCase()):e})},bV=function(t){return T2(t,function(e){return hV.test(e)?"xn--"+C2(e):e})},$2={version:"2.3.1",ucs2:{decode:P2,encode:mV},decode:E2,encode:C2,toASCII:bV,toUnicode:OV},yV={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},vV={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},_V={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},wV={default:yV,zero:vV,commonmark:_V},xV=/^(vbscript|javascript|file|data):/,kV=/^data:image\/(gif|png|jpeg|webp);/;function SV(t){const e=t.trim().toLowerCase();return xV.test(e)?kV.test(e):!0}const R2=["http:","https:","mailto:"];function TV(t){const e=$m(t,!0);if(e.hostname&&(!e.protocol||R2.indexOf(e.protocol)>=0))try{e.hostname=$2.toASCII(e.hostname)}catch{}return cl(Cm(e))}function PV(t){const e=$m(t,!0);if(e.hostname&&(!e.protocol||R2.indexOf(e.protocol)>=0))try{e.hostname=$2.toUnicode(e.hostname)}catch{}return Ks(Cm(e),Ks.defaultChars+"%")}function gn(t,e){if(!(this instanceof gn))return new gn(t,e);e||Im(t)||(e=t||{},t="default"),this.inline=new fl,this.block=new rh,this.core=new Dm,this.renderer=new ho,this.linkify=new rn,this.validateLink=SV,this.normalizeLink=TV,this.normalizeLinkText=PV,this.utils=E8,this.helpers=nh({},I8),this.options={},this.configure(t),e&&this.set(e)}gn.prototype.set=function(t){return nh(this.options,t),this};gn.prototype.configure=function(t){const e=this;if(Im(t)){const n=t;if(t=wV[n],!t)throw new Error('Wrong `markdown-it` preset "'+n+'", check name')}if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach(function(n){t.components[n].rules&&e[n].ruler.enableOnly(t.components[n].rules),t.components[n].rules2&&e[n].ruler2.enableOnly(t.components[n].rules2)}),this};gn.prototype.enable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(r){n=n.concat(this[r].ruler.enable(t,!0))},this),n=n.concat(this.inline.ruler2.enable(t,!0));const i=t.filter(function(r){return n.indexOf(r)<0});if(i.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+i);return this};gn.prototype.disable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(r){n=n.concat(this[r].ruler.disable(t,!0))},this),n=n.concat(this.inline.ruler2.disable(t,!0));const i=t.filter(function(r){return n.indexOf(r)<0});if(i.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+i);return this};gn.prototype.use=function(t){const e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this};gn.prototype.parse=function(t,e){if(typeof t!="string")throw new Error("Input data should be a String");const n=new this.core.State(t,this,e);return this.core.process(n),n.tokens};gn.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)};gn.prototype.parseInline=function(t,e){const n=new this.core.State(t,this,e);return n.inlineMode=!0,this.core.process(n),n.tokens};gn.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};const Sb=new Set([!0,!1,"alt","title"]);function I2(t,e){return(Array.isArray(t)?t:[]).filter(([n])=>n!==e)}function Q2(t,e){t&&t.attrs&&(t.attrs=I2(t.attrs,e))}function AV(t,e){if(!Sb.has(t))throw new TypeError(`figcaption must be one of: ${[...Sb]}.`);if(t==="alt")return e.content;const n=e.attrs.find(([i])=>i==="title");return Array.isArray(n)&&n[1]?(Q2(e,"title"),n[1]):void 0}function EV(t,e){e=e||{},t.core.ruler.before("linkify","image_figures",function(n){let i=1;for(let r=1,s=n.tokens.length;r<s-1;++r){const o=n.tokens[r];if(o.type!=="inline"||!o.children||o.children.length!==1&&o.children.length!==3||o.children.length===1&&o.children[0].type!=="image")continue;if(o.children.length===3){const[u,c,f]=o.children;if(u.type!=="link_open"||c.type!=="image"||f.type!=="link_close")continue}if(r!==0&&n.tokens[r-1].type!=="paragraph_open"||r!==s-1&&n.tokens[r+1].type!=="paragraph_close")continue;const a=n.tokens[r-1];let l;if(a.type="figure_open",a.tag="figure",n.tokens[r+1].type="figure_close",n.tokens[r+1].tag="figure",e.dataType&&n.tokens[r-1].attrPush(["data-type","image"]),e.link&&o.children.length===1){[l]=o.children;const u=new n.Token("link_open","a",1);u.attrPush(["href",l.attrGet("src")]),o.children.unshift(u),o.children.push(new n.Token("link_close","a",-1))}if(l=o.children.length===1?o.children[0]:o.children[1],e.figcaption){const u=AV(e.figcaption,l);if(u){const[c]=t.parseInline(u,n.env);o.children.push(new n.Token("figcaption_open","figcaption",1)),o.children.push(...c.children),o.children.push(new n.Token("figcaption_close","figcaption",-1)),l.attrs&&(l.attrs=I2(l.attrs,"title"))}}if(e.copyAttrs&&l.attrs){const u=e.copyAttrs===!0?"":e.copyAttrs;a.attrs=l.attrs.filter(([c])=>c.match(u)).map(c=>Array.from(c))}if(e.tabindex&&(n.tokens[r-1].attrPush(["tabindex",i]),i++),e.lazy&&(l.attrs.some(([u])=>u==="loading")||l.attrs.push(["loading","lazy"])),e.async&&(l.attrs.some(([u])=>u==="decoding")||l.attrs.push(["decoding","async"])),e.classes&&typeof e.classes=="string"){let u=!1;for(let c=0,f=l.attrs.length;c<f&&!u;c++){const d=l.attrs[c];d[0]==="class"&&(d[1]=`${d[1]} ${e.classes}`,u=!0)}u||l.attrs.push(["class",e.classes])}if(e.removeSrc){const u=l.attrs.find(([c])=>c==="src");l.attrs.push(["data-src",u[1]]),Q2(l,"src")}}})}var Wd=!0,D2=!1,V2=!1,CV=function(t,e){e&&(Wd=!e.enabled,D2=!!e.label,V2=!!e.labelAfter),t.core.ruler.after("inline","github-task-lists",function(n){for(var i=n.tokens,r=2;r<i.length;r++)RV(i,r)&&(IV(i[r],n.Token),Tb(i[r-2],"class","task-list-item"+(Wd?"":" enabled")),Tb(i[$V(i,r-2)],"class","contains-task-list"))})};function Tb(t,e,n){var i=t.attrIndex(e),r=[e,n];i<0?t.attrPush(r):t.attrs[i]=r}function $V(t,e){for(var n=t[e].level-1,i=e-1;i>=0;i--)if(t[i].level===n)return i;return-1}function RV(t,e){return LV(t[e])&&FV(t[e-1])&&NV(t[e-2])&&ZV(t[e])}function IV(t,e){if(t.children.unshift(QV(t,e)),t.children[1].content=t.children[1].content.slice(3),t.content=t.content.slice(3),D2)if(V2){t.children.pop();var n="task-item-"+Math.ceil(Math.random()*(1e4*1e3)-1e3);t.children[0].content=t.children[0].content.slice(0,-1)+' id="'+n+'">',t.children.push(MV(t.content,n,e))}else t.children.unshift(DV(e)),t.children.push(VV(e))}function QV(t,e){var n=new e("html_inline","",0),i=Wd?' disabled="" ':"";return t.content.indexOf("[ ] ")===0?n.content='<input class="task-list-item-checkbox"'+i+'type="checkbox">':(t.content.indexOf("[x] ")===0||t.content.indexOf("[X] ")===0)&&(n.content='<input class="task-list-item-checkbox" checked=""'+i+'type="checkbox">'),n}function DV(t){var e=new t("html_inline","",0);return e.content="<label>",e}function VV(t){var e=new t("html_inline","",0);return e.content="</label>",e}function MV(t,e,n){var i=new n("html_inline","",0);return i.content='<label class="task-list-item-label" for="'+e+'">'+t+"</label>",i.attrs=[{for:e}],i}function LV(t){return t.type==="inline"}function FV(t){return t.type==="paragraph_open"}function NV(t){return t.type==="list_item_open"}function ZV(t){return t.content.indexOf("[ ] ")===0||t.content.indexOf("[x] ")===0||t.content.indexOf("[X] ")===0}const zV=a2(CV),as=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,M2=new Set,Ud=typeof process=="object"&&process?process:{},L2=(t,e,n,i)=>{typeof Ud.emitWarning=="function"?Ud.emitWarning(t,e,n,i):console.error(`[${n}] ${e}: ${t}`)};let Pc=globalThis.AbortController,Pb=globalThis.AbortSignal;if(typeof Pc>"u"){Pb=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(i,r){this._onabort.push(r)}},Pc=class{constructor(){e()}signal=new Pb;abort(i){if(!this.signal.aborted){this.signal.reason=i,this.signal.aborted=!0;for(const r of this.signal._onabort)r(i);this.signal.onabort?.(i)}}};let t=Ud.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1";const e=()=>{t&&(t=!1,L2("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}const qV=t=>!M2.has(t),Ii=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),F2=t=>Ii(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?$u:null:null;class $u extends Array{constructor(e){super(e),this.fill(0)}}class bs{heap;length;static#l=!1;static create(e){const n=F2(e);if(!n)return[];bs.#l=!0;const i=new bs(e,n);return bs.#l=!1,i}constructor(e,n){if(!bs.#l)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new n(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}class Lm{#l;#h;#m;#g;#E;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#r;#O;#i;#n;#e;#u;#f;#a;#s;#b;#o;#y;#v;#d;#_;#S;#c;static unsafeExposeInternals(e){return{starts:e.#v,ttls:e.#d,sizes:e.#y,keyMap:e.#i,keyList:e.#n,valList:e.#e,next:e.#u,prev:e.#f,get head(){return e.#a},get tail(){return e.#s},free:e.#b,isBackgroundFetch:n=>e.#t(n),backgroundFetch:(n,i,r,s)=>e.#R(n,i,r,s),moveToTail:n=>e.#A(n),indexes:n=>e.#w(n),rindexes:n=>e.#x(n),isStale:n=>e.#p(n)}}get max(){return this.#l}get maxSize(){return this.#h}get calculatedSize(){return this.#O}get size(){return this.#r}get fetchMethod(){return this.#E}get dispose(){return this.#m}get disposeAfter(){return this.#g}constructor(e){const{max:n=0,ttl:i,ttlResolution:r=1,ttlAutopurge:s,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:l,dispose:u,disposeAfter:c,noDisposeOnSet:f,noUpdateTTL:d,maxSize:p=0,maxEntrySize:m=0,sizeCalculation:O,fetchMethod:y,noDeleteOnFetchRejection:_,noDeleteOnStaleGet:S,allowStaleOnFetchRejection:$,allowStaleOnFetchAbort:R,ignoreFetchAbort:D}=e;if(n!==0&&!Ii(n))throw new TypeError("max option must be a nonnegative integer");const L=n?F2(n):Array;if(!L)throw new Error("invalid max value: "+n);if(this.#l=n,this.#h=p,this.maxEntrySize=m||this.#h,this.sizeCalculation=O,this.sizeCalculation){if(!this.#h&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(y!==void 0&&typeof y!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#E=y,this.#S=!!y,this.#i=new Map,this.#n=new Array(n).fill(void 0),this.#e=new Array(n).fill(void 0),this.#u=new L(n),this.#f=new L(n),this.#a=0,this.#s=0,this.#b=bs.create(n),this.#r=0,this.#O=0,typeof u=="function"&&(this.#m=u),typeof c=="function"?(this.#g=c,this.#o=[]):(this.#g=void 0,this.#o=void 0),this.#_=!!this.#m,this.#c=!!this.#g,this.noDisposeOnSet=!!f,this.noUpdateTTL=!!d,this.noDeleteOnFetchRejection=!!_,this.allowStaleOnFetchRejection=!!$,this.allowStaleOnFetchAbort=!!R,this.ignoreFetchAbort=!!D,this.maxEntrySize!==0){if(this.#h!==0&&!Ii(this.#h))throw new TypeError("maxSize must be a positive integer if specified");if(!Ii(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#L()}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!S,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!a,this.ttlResolution=Ii(r)||r===0?r:1,this.ttlAutopurge=!!s,this.ttl=i||0,this.ttl){if(!Ii(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#I()}if(this.#l===0&&this.ttl===0&&this.#h===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#l&&!this.#h){const w="LRU_CACHE_UNBOUNDED";qV(w)&&(M2.add(w),L2("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",w,Lm))}}getRemainingTTL(e){return this.#i.has(e)?1/0:0}#I(){const e=new $u(this.#l),n=new $u(this.#l);this.#d=e,this.#v=n,this.#Q=(s,o,a=as.now())=>{if(n[s]=o!==0?a:0,e[s]=o,o!==0&&this.ttlAutopurge){const l=setTimeout(()=>{this.#p(s)&&this.delete(this.#n[s])},o+1);l.unref&&l.unref()}},this.#T=s=>{n[s]=e[s]!==0?as.now():0},this.#k=(s,o)=>{if(e[o]){const a=e[o],l=n[o];if(!a||!l)return;s.ttl=a,s.start=l,s.now=i||r();const u=s.now-l;s.remainingTTL=a-u}};let i=0;const r=()=>{const s=as.now();if(this.ttlResolution>0){i=s;const o=setTimeout(()=>i=0,this.ttlResolution);o.unref&&o.unref()}return s};this.getRemainingTTL=s=>{const o=this.#i.get(s);if(o===void 0)return 0;const a=e[o],l=n[o];if(!a||!l)return 1/0;const u=(i||r())-l;return a-u},this.#p=s=>{const o=n[s],a=e[s];return!!a&&!!o&&(i||r())-o>a}}#T=()=>{};#k=()=>{};#Q=()=>{};#p=()=>!1;#L(){const e=new $u(this.#l);this.#O=0,this.#y=e,this.#P=n=>{this.#O-=e[n],e[n]=0},this.#D=(n,i,r,s)=>{if(this.#t(i))return 0;if(!Ii(r))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(r=s(i,n),!Ii(r))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return r},this.#C=(n,i,r)=>{if(e[n]=i,this.#h){const s=this.#h-e[n];for(;this.#O>s;)this.#$(!0)}this.#O+=e[n],r&&(r.entrySize=i,r.totalCalculatedSize=this.#O)}}#P=e=>{};#C=(e,n,i)=>{};#D=(e,n,i,r)=>{if(i||r)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#w({allowStale:e=this.allowStale}={}){if(this.#r)for(let n=this.#s;!(!this.#V(n)||((e||!this.#p(n))&&(yield n),n===this.#a));)n=this.#f[n]}*#x({allowStale:e=this.allowStale}={}){if(this.#r)for(let n=this.#a;!(!this.#V(n)||((e||!this.#p(n))&&(yield n),n===this.#s));)n=this.#u[n]}#V(e){return e!==void 0&&this.#i.get(this.#n[e])===e}*entries(){for(const e of this.#w())this.#e[e]!==void 0&&this.#n[e]!==void 0&&!this.#t(this.#e[e])&&(yield[this.#n[e],this.#e[e]])}*rentries(){for(const e of this.#x())this.#e[e]!==void 0&&this.#n[e]!==void 0&&!this.#t(this.#e[e])&&(yield[this.#n[e],this.#e[e]])}*keys(){for(const e of this.#w()){const n=this.#n[e];n!==void 0&&!this.#t(this.#e[e])&&(yield n)}}*rkeys(){for(const e of this.#x()){const n=this.#n[e];n!==void 0&&!this.#t(this.#e[e])&&(yield n)}}*values(){for(const e of this.#w())this.#e[e]!==void 0&&!this.#t(this.#e[e])&&(yield this.#e[e])}*rvalues(){for(const e of this.#x())this.#e[e]!==void 0&&!this.#t(this.#e[e])&&(yield this.#e[e])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(e,n={}){for(const i of this.#w()){const r=this.#e[i],s=this.#t(r)?r.__staleWhileFetching:r;if(s!==void 0&&e(s,this.#n[i],this))return this.get(this.#n[i],n)}}forEach(e,n=this){for(const i of this.#w()){const r=this.#e[i],s=this.#t(r)?r.__staleWhileFetching:r;s!==void 0&&e.call(n,s,this.#n[i],this)}}rforEach(e,n=this){for(const i of this.#x()){const r=this.#e[i],s=this.#t(r)?r.__staleWhileFetching:r;s!==void 0&&e.call(n,s,this.#n[i],this)}}purgeStale(){let e=!1;for(const n of this.#x({allowStale:!0}))this.#p(n)&&(this.delete(this.#n[n]),e=!0);return e}info(e){const n=this.#i.get(e);if(n===void 0)return;const i=this.#e[n],r=this.#t(i)?i.__staleWhileFetching:i;if(r===void 0)return;const s={value:r};if(this.#d&&this.#v){const o=this.#d[n],a=this.#v[n];if(o&&a){const l=o-(as.now()-a);s.ttl=l,s.start=Date.now()}}return this.#y&&(s.size=this.#y[n]),s}dump(){const e=[];for(const n of this.#w({allowStale:!0})){const i=this.#n[n],r=this.#e[n],s=this.#t(r)?r.__staleWhileFetching:r;if(s===void 0||i===void 0)continue;const o={value:s};if(this.#d&&this.#v){o.ttl=this.#d[n];const a=as.now()-this.#v[n];o.start=Math.floor(Date.now()-a)}this.#y&&(o.size=this.#y[n]),e.unshift([i,o])}return e}load(e){this.clear();for(const[n,i]of e){if(i.start){const r=Date.now()-i.start;i.start=as.now()-r}this.set(n,i.value,i)}}set(e,n,i={}){if(n===void 0)return this.delete(e),this;const{ttl:r=this.ttl,start:s,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:l}=i;let{noUpdateTTL:u=this.noUpdateTTL}=i;const c=this.#D(e,n,i.size||0,a);if(this.maxEntrySize&&c>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),this.delete(e),this;let f=this.#r===0?void 0:this.#i.get(e);if(f===void 0)f=this.#r===0?this.#s:this.#b.length!==0?this.#b.pop():this.#r===this.#l?this.#$(!1):this.#r,this.#n[f]=e,this.#e[f]=n,this.#i.set(e,f),this.#u[this.#s]=f,this.#f[f]=this.#s,this.#s=f,this.#r++,this.#C(f,c,l),l&&(l.set="add"),u=!1;else{this.#A(f);const d=this.#e[f];if(n!==d){if(this.#S&&this.#t(d)){d.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:p}=d;p!==void 0&&!o&&(this.#_&&this.#m?.(p,e,"set"),this.#c&&this.#o?.push([p,e,"set"]))}else o||(this.#_&&this.#m?.(d,e,"set"),this.#c&&this.#o?.push([d,e,"set"]));if(this.#P(f),this.#C(f,c,l),this.#e[f]=n,l){l.set="replace";const p=d&&this.#t(d)?d.__staleWhileFetching:d;p!==void 0&&(l.oldValue=p)}}else l&&(l.set="update")}if(r!==0&&!this.#d&&this.#I(),this.#d&&(u||this.#Q(f,r,s),l&&this.#k(l,f)),!o&&this.#c&&this.#o){const d=this.#o;let p;for(;p=d?.shift();)this.#g?.(...p)}return this}pop(){try{for(;this.#r;){const e=this.#e[this.#a];if(this.#$(!0),this.#t(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(e!==void 0)return e}}finally{if(this.#c&&this.#o){const e=this.#o;let n;for(;n=e?.shift();)this.#g?.(...n)}}}#$(e){const n=this.#a,i=this.#n[n],r=this.#e[n];return this.#S&&this.#t(r)?r.__abortController.abort(new Error("evicted")):(this.#_||this.#c)&&(this.#_&&this.#m?.(r,i,"evict"),this.#c&&this.#o?.push([r,i,"evict"])),this.#P(n),e&&(this.#n[n]=void 0,this.#e[n]=void 0,this.#b.push(n)),this.#r===1?(this.#a=this.#s=0,this.#b.length=0):this.#a=this.#u[n],this.#i.delete(i),this.#r--,n}has(e,n={}){const{updateAgeOnHas:i=this.updateAgeOnHas,status:r}=n,s=this.#i.get(e);if(s!==void 0){const o=this.#e[s];if(this.#t(o)&&o.__staleWhileFetching===void 0)return!1;if(this.#p(s))r&&(r.has="stale",this.#k(r,s));else return i&&this.#T(s),r&&(r.has="hit",this.#k(r,s)),!0}else r&&(r.has="miss");return!1}peek(e,n={}){const{allowStale:i=this.allowStale}=n,r=this.#i.get(e);if(r===void 0||!i&&this.#p(r))return;const s=this.#e[r];return this.#t(s)?s.__staleWhileFetching:s}#R(e,n,i,r){const s=n===void 0?void 0:this.#e[n];if(this.#t(s))return s;const o=new Pc,{signal:a}=i;a?.addEventListener("abort",()=>o.abort(a.reason),{signal:o.signal});const l={signal:o.signal,options:i,context:r},u=(O,y=!1)=>{const{aborted:_}=o.signal,S=i.ignoreFetchAbort&&O!==void 0;if(i.status&&(_&&!y?(i.status.fetchAborted=!0,i.status.fetchError=o.signal.reason,S&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),_&&!S&&!y)return f(o.signal.reason);const $=p;return this.#e[n]===p&&(O===void 0?$.__staleWhileFetching?this.#e[n]=$.__staleWhileFetching:this.delete(e):(i.status&&(i.status.fetchUpdated=!0),this.set(e,O,l.options))),O},c=O=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=O),f(O)),f=O=>{const{aborted:y}=o.signal,_=y&&i.allowStaleOnFetchAbort,S=_||i.allowStaleOnFetchRejection,$=S||i.noDeleteOnFetchRejection,R=p;if(this.#e[n]===p&&(!$||R.__staleWhileFetching===void 0?this.delete(e):_||(this.#e[n]=R.__staleWhileFetching)),S)return i.status&&R.__staleWhileFetching!==void 0&&(i.status.returnedStale=!0),R.__staleWhileFetching;if(R.__returned===R)throw O},d=(O,y)=>{const _=this.#E?.(e,s,l);_&&_ instanceof Promise&&_.then(S=>O(S===void 0?void 0:S),y),o.signal.addEventListener("abort",()=>{(!i.ignoreFetchAbort||i.allowStaleOnFetchAbort)&&(O(void 0),i.allowStaleOnFetchAbort&&(O=S=>u(S,!0)))})};i.status&&(i.status.fetchDispatched=!0);const p=new Promise(d).then(u,c),m=Object.assign(p,{__abortController:o,__staleWhileFetching:s,__returned:void 0});return n===void 0?(this.set(e,m,{...l.options,status:void 0}),n=this.#i.get(e)):this.#e[n]=m,m}#t(e){if(!this.#S)return!1;const n=e;return!!n&&n instanceof Promise&&n.hasOwnProperty("__staleWhileFetching")&&n.__abortController instanceof Pc}async fetch(e,n={}){const{allowStale:i=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:u=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL,noDeleteOnFetchRejection:f=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:d=this.allowStaleOnFetchRejection,ignoreFetchAbort:p=this.ignoreFetchAbort,allowStaleOnFetchAbort:m=this.allowStaleOnFetchAbort,context:O,forceRefresh:y=!1,status:_,signal:S}=n;if(!this.#S)return _&&(_.fetch="get"),this.get(e,{allowStale:i,updateAgeOnGet:r,noDeleteOnStaleGet:s,status:_});const $={allowStale:i,updateAgeOnGet:r,noDeleteOnStaleGet:s,ttl:o,noDisposeOnSet:a,size:l,sizeCalculation:u,noUpdateTTL:c,noDeleteOnFetchRejection:f,allowStaleOnFetchRejection:d,allowStaleOnFetchAbort:m,ignoreFetchAbort:p,status:_,signal:S};let R=this.#i.get(e);if(R===void 0){_&&(_.fetch="miss");const D=this.#R(e,R,$,O);return D.__returned=D}else{const D=this.#e[R];if(this.#t(D)){const A=i&&D.__staleWhileFetching!==void 0;return _&&(_.fetch="inflight",A&&(_.returnedStale=!0)),A?D.__staleWhileFetching:D.__returned=D}const L=this.#p(R);if(!y&&!L)return _&&(_.fetch="hit"),this.#A(R),r&&this.#T(R),_&&this.#k(_,R),D;const w=this.#R(e,R,$,O),T=w.__staleWhileFetching!==void 0&&i;return _&&(_.fetch=L?"stale":"refresh",T&&L&&(_.returnedStale=!0)),T?w.__staleWhileFetching:w.__returned=w}}get(e,n={}){const{allowStale:i=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:o}=n,a=this.#i.get(e);if(a!==void 0){const l=this.#e[a],u=this.#t(l);return o&&this.#k(o,a),this.#p(a)?(o&&(o.get="stale"),u?(o&&i&&l.__staleWhileFetching!==void 0&&(o.returnedStale=!0),i?l.__staleWhileFetching:void 0):(s||this.delete(e),o&&i&&(o.returnedStale=!0),i?l:void 0)):(o&&(o.get="hit"),u?l.__staleWhileFetching:(this.#A(a),r&&this.#T(a),l))}else o&&(o.get="miss")}#M(e,n){this.#f[n]=e,this.#u[e]=n}#A(e){e!==this.#s&&(e===this.#a?this.#a=this.#u[e]:this.#M(this.#f[e],this.#u[e]),this.#M(this.#s,e),this.#s=e)}delete(e){let n=!1;if(this.#r!==0){const i=this.#i.get(e);if(i!==void 0)if(n=!0,this.#r===1)this.clear();else{this.#P(i);const r=this.#e[i];if(this.#t(r)?r.__abortController.abort(new Error("deleted")):(this.#_||this.#c)&&(this.#_&&this.#m?.(r,e,"delete"),this.#c&&this.#o?.push([r,e,"delete"])),this.#i.delete(e),this.#n[i]=void 0,this.#e[i]=void 0,i===this.#s)this.#s=this.#f[i];else if(i===this.#a)this.#a=this.#u[i];else{const s=this.#f[i];this.#u[s]=this.#u[i];const o=this.#u[i];this.#f[o]=this.#f[i]}this.#r--,this.#b.push(i)}}if(this.#c&&this.#o?.length){const i=this.#o;let r;for(;r=i?.shift();)this.#g?.(...r)}return n}clear(){for(const e of this.#x({allowStale:!0})){const n=this.#e[e];if(this.#t(n))n.__abortController.abort(new Error("deleted"));else{const i=this.#n[e];this.#_&&this.#m?.(n,i,"delete"),this.#c&&this.#o?.push([n,i,"delete"])}}if(this.#i.clear(),this.#e.fill(void 0),this.#n.fill(void 0),this.#d&&this.#v&&(this.#d.fill(0),this.#v.fill(0)),this.#y&&this.#y.fill(0),this.#a=0,this.#s=0,this.#b.length=0,this.#O=0,this.#r=0,this.#c&&this.#o){const e=this.#o;let n;for(;n=e?.shift();)this.#g?.(...n)}}}function BV(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}const jV=(t,e)=>{const n=ke("editorId"),{noImgZoomIn:i}=t,r=Qp(()=>{const s=document.querySelectorAll(`#${n}-preview img:not(.not-zoom)`);s.length!==0&&I9(s,{background:"#00000073"})});He(()=>{r()}),ce([e,Ni(t.setting,"preview")],()=>{!i&&t.setting.preview&&r()})},XV=(t,e,n)=>{const i=ke("editorId"),r=ke("usedLanguageText"),s=()=>{document.querySelectorAll(`#${i} .${I}-preview .${I}-code`).forEach(l=>{let u=-1;const c=l.querySelector(`.${I}-copy-button`);c&&(c.onclick=f=>{f.preventDefault(),clearTimeout(u);const p=(l.querySelector("input:checked + pre code")||l.querySelector("pre code")).textContent,m=z9(t.formatCopiedText(p)),{text:O,successTips:y,failTips:_}=r.value.copyCode;c.innerHTML=m?y:_,u=window.setTimeout(()=>{c.innerHTML=O},1500)})})},o=()=>{Yn(s)},a=l=>{l&&Yn(s)};ce([e,n],o),ce(()=>t.setting.preview,a),ce(()=>t.setting.htmlPreview,a),ce(()=>r.value,s),He(s)},WV=t=>{const e=ke("highlight"),n=Ar(mt.editorExtensions.highlight.instance);return He(()=>{t.noHighlight||n.value||(zt("link",{...e.value.css,rel:"stylesheet",id:`${I}-hlCss`}),zt("script",{...e.value.js,id:`${I}-hljs`,onload(){n.value=window.hljs}},"hljs"))}),ce(()=>e.value.css,()=>{O$("link",{...e.value.css,rel:"stylesheet",id:`${I}-hlCss`})}),n},UV=t=>{const e=ke("theme"),{editorExtensions:n,editorExtensionsAttrs:i,mermaidConfig:r}=mt,s=Ar(n.mermaid.instance),o=Ar(-1),a=new Lm({max:1e3,ttl:6e5}),l=()=>{const c=s.value;!t.noMermaid&&c&&(c.initialize(r({startOnLoad:!1,theme:e.value==="dark"?"dark":"default"})),o.value=o.value+1)};return ce(()=>e.value,()=>{a.clear(),l()}),He(()=>{var c,f,d;if(t.noMermaid||(c=s.value)!=null&&c.instance)return;const p=n.mermaid.js;/\.mjs/.test(p)?(zt("link",{...(f=i.mermaid)==null?void 0:f.js,rel:"modulepreload",href:p,id:`${I}-mermaid-m`}),import(p).then(m=>{s.value=m.default,l()})):zt("script",{...(d=i.mermaid)==null?void 0:d.js,src:p,id:`${I}-mermaid`,onload(){s.value=window.mermaid,l()}},"mermaid")}),{mermaidRef:s,reRenderRef:o,replaceMermaid:()=>{Yn(()=>{if(!t.noMermaid&&s.value){const c=document.querySelectorAll(`div.${I}-mermaid`),f=document.createElement("div");f.style.width=document.body.offsetWidth+"px",f.style.height=document.body.offsetHeight+"px",f.style.position="fixed",f.style.zIndex="-10000",f.style.top="-10000";let d=c.length;d>0&&document.body.appendChild(f),c.forEach(async p=>{let m=a.get(p.innerText);if(!m){const y=zf(),_=s.value.renderAsync||s.value.render;let S="";try{S=await _(y,p.innerText,f)}catch{}m=await t.sanitizeMermaid(typeof S=="string"?S:S.svg),a.set(p.innerText,m)}const O=document.createElement("p");O.className=`${I}-mermaid`,O.setAttribute("data-processed",""),O.innerHTML=m,p.dataset.line!==void 0&&(O.dataset.line=p.dataset.line),p.replaceWith(O),--d===0&&f.remove()})}})}}},YV=t=>{const e=Ar(mt.editorExtensions.katex.instance);return He(()=>{if(t.noKatex||e.value)return;const{editorExtensions:n}=mt;zt("script",{src:n.katex.js,id:`${I}-katex`,onload(){e.value=window.katex}},"katex"),zt("link",{rel:"stylesheet",href:n.katex.css,id:`${I}-katexCss`})}),e},GV=(t,e)=>{const n=t.renderer.rules.fence.bind(t.renderer.rules);t.renderer.rules.fence=(i,r,s,o,a)=>{const l=i[r],u=l.content.trim();if(l.info==="mermaid"){let c;return i[r].map&&i[r].level===0&&(c=i[r].map[0],i[r].attrSet("data-line",String(c))),`<div class="${I}-mermaid" ${c!==void 0?"data-line="+c:""} data-mermaid-theme=${e.themeRef.value}>${u}</div>`}return n(i,r,s,o,a)}},HV=GV,Ac=(t,e)=>{const n=t.attrs?t.attrs.slice():[];return e.forEach(i=>{const r=t.attrIndex(i[0]);r<0?n.push(i):(n[r]=n[r].slice(),n[r][1]+=` ${i[1]}`)}),n},Ab=(t,e)=>{let n=!0,i=!0;const r=t.posMax,s=e>0?t.src.charCodeAt(e-1):-1,o=e+1<=r?t.src.charCodeAt(e+1):-1;return(s===32||s===9||o>=48&&o<=57)&&(i=!1),(o===32||o===9)&&(n=!1),{can_open:n,can_close:i}},KV=(t,e)=>{let n,i,r,s;if(t.src[t.pos]!=="$")return!1;if(r=Ab(t,t.pos),!r.can_open)return e||(t.pending+="$"),t.pos+=1,!0;const o=t.pos+1;for(n=o;(n=t.src.indexOf("$",n))!==-1;){for(s=n-1;t.src[s]==="\\";)s-=1;if((n-s)%2==1)break;n+=1}return n===-1?(e||(t.pending+="$"),t.pos=o,!0):n-o===0?(e||(t.pending+="$$"),t.pos=o+1,!0):(r=Ab(t,n),r.can_close?(e||(i=t.push("math_inline","math",0),i.markup="$",i.content=t.src.slice(o,n)),t.pos=n+1,!0):(e||(t.pending+="$"),t.pos=o,!0))},JV=(t,e,n,i)=>{let r,s,o,a,l=!1,u=t.bMarks[e]+t.tShift[e],c=t.eMarks[e];if(u+2>c||t.src.slice(u,u+2)!=="$$")return!1;if(u+=2,r=t.src.slice(u,c),i)return!0;for(r.trim().slice(-2)==="$$"&&(r=r.trim().slice(0,-2),l=!0),o=e;!l&&(o++,!(o>=n||(u=t.bMarks[o]+t.tShift[o],c=t.eMarks[o],u<c&&t.tShift[o]<t.blkIndent)));)t.src.slice(u,c).trim().slice(-2)==="$$"&&(a=t.src.slice(0,c).lastIndexOf("$$"),s=t.src.slice(u,a),l=!0);t.line=o+1;const f=t.push("math_block","math",0);return f.block=!0,f.content=(r&&r.trim()?r+`
`:"")+t.getLines(e+1,o,t.tShift[e],!0)+(s&&s.trim()?s:""),f.map=[e,t.line],f.markup="$$",!0},eM=(t,{katexRef:e})=>{const n=(r,s,o,a,l)=>{const u=r[s],c={attrs:Ac(u,[["class",`${I}-katex-inline`]])};if(e.value){const f=e.value.renderToString(u.content,{throwOnError:!1});return`<span ${l.renderAttrs(c)} data-processed>${f}</span>`}else return`<span ${l.renderAttrs(c)}>${u.content}</span>`},i=(r,s,o,a,l)=>{const u=r[s],c={attrs:Ac(u,[["class",`${I}-katex-block`]])};if(e.value){const f=e.value.renderToString(u.content,{throwOnError:!1,displayMode:!0});return`<p ${l.renderAttrs(c)} data-processed>${f}</p>`}else return`<p ${l.renderAttrs(c)}>${u.content}</p>`};t.inline.ruler.after("escape","math_inline",KV),t.block.ruler.after("blockquote","math_block",JV,{alt:["paragraph","reference","blockquote","list"]}),t.renderer.rules.math_inline=n,t.renderer.rules.math_block=i},tM=eM,nM=(t,e)=>{e=e||{};const n=3,i=e.marker||"!",r=i.charCodeAt(0),s=i.length;let o="",a="";const l=(c,f,d,p,m)=>{const O=c[f];return O.type==="admonition_open"?c[f].attrPush(["class",`${I}-admonition ${I}-admonition-${O.info}`]):O.type==="admonition_title_open"&&c[f].attrPush(["class",`${I}-admonition-title`]),m.renderToken(c,f,d)},u=c=>{const f=c.trim().split(" ",2);a="",o=f[0],f.length>1&&(a=c.substring(o.length+2))};t.block.ruler.before("code","admonition",(c,f,d,p)=>{let m,O,y,_=!1,S=c.bMarks[f]+c.tShift[f],$=c.eMarks[f];if(r!==c.src.charCodeAt(S))return!1;for(m=S+1;m<=$&&i[(m-S)%s]===c.src[m];m++);const R=Math.floor((m-S)/s);if(R!==n)return!1;m-=(m-S)%s;const D=c.src.slice(S,m),L=c.src.slice(m,$);if(u(L),p)return!0;for(O=f;O++,!(O>=d||(S=c.bMarks[O]+c.tShift[O],$=c.eMarks[O],S<$&&c.sCount[O]<c.blkIndent));)if(r===c.src.charCodeAt(S)&&!(c.sCount[O]-c.blkIndent>=4)){for(m=S+1;m<=$&&i[(m-S)%s]===c.src[m];m++);if(!(Math.floor((m-S)/s)<R)&&(m-=(m-S)%s,m=c.skipSpaces(m),!(m<$))){_=!0;break}}const w=c.parentType,v=c.lineMax;return c.parentType="root",c.lineMax=O,y=c.push("admonition_open","div",1),y.markup=D,y.block=!0,y.info=o,y.map=[f,O],a&&(y=c.push("admonition_title_open","p",1),y.markup=D+" "+o,y.map=[f,O],y=c.push("inline","",0),y.content=a,y.map=[f,c.line-1],y.children=[],y=c.push("admonition_title_close","p",-1),y.markup=D+" "+o),c.md.block.tokenize(c,f+1,O),y=c.push("admonition_close","div",-1),y.markup=c.src.slice(S,m),y.block=!0,c.parentType=w,c.lineMax=v,c.line=O+(_?1:0),!0},{alt:["paragraph","reference","blockquote","list"]}),t.renderer.rules.admonition_open=l,t.renderer.rules.admonition_title_open=l,t.renderer.rules.admonition_title_close=l,t.renderer.rules.admonition_close=l},iM=nM,rM=(t,e)=>{t.renderer.rules.heading_open=(n,i)=>{var r;const s=n[i],o=((r=n[i+1].children)==null?void 0:r.reduce((l,u)=>l+(["text","code_inline"].includes(u.type)&&u.content||""),""))||"",a=s.markup.length;return e.headsRef.value.push({text:o,level:a}),s.map&&s.level===0&&s.attrSet("id",e.mdHeadingId(o,a,e.headsRef.value.length)),t.renderer.renderToken(n,i,e)},t.renderer.rules.heading_close=(n,i,r,s,o)=>o.renderToken(n,i,r)},sM=rM,oM=(t,e)=>{const n=t.renderer.rules.fence,i=t.utils.unescapeAll,r=/\[(\w*)(?::([\w ]*))?\]/,s=/::close/,o=f=>f.info?i(f.info).trim():"",a=f=>{const d=o(f),[p=null,m=""]=(r.exec(d)||[]).slice(1);return[p,m]},l=f=>{const d=o(f);return d?d.split(/(\s+)/g)[0]:""},u=f=>{const d=s.test(f.info),p=!d&&f.content.trim().split(`
`).length<e.autoFoldThreshold,m=d||e.codeFoldable?"details":"div",O=d||e.codeFoldable?"summary":"div";return{open:p,tagContainer:m,tagHeader:O}},c=(f,d,p,m,O)=>{var y,_;if(f[d].hidden)return"";const[S]=a(f[d]);if(S===null){const{open:G,tagContainer:ee,tagHeader:he}=u(f[d]),de=[["class",`${I}-code`]];G&&de.push(["open",""]);const qe={attrs:Ac(f[d],de)};f[d].info=f[d].info.replace(s,"");const fe=n(f,d,p,m,O);return`<${ee} ${O.renderAttrs(qe)}>
    <${he} class="${I}-code-head">
      <div class="${I}-code-flag">
        <span></span>
        <span></span>
        <span></span>
      </div>
      <div>
        <span class="${I}-code-lang">${f[d].info.trim()}</span>
        <span class="${I}-copy-button">${(y=e.usedLanguageTextRef.value)==null?void 0:y.copyCode.text}</span>
      </div>
    </${he}>${fe}</${ee}>`}let $,R,D,L,w="",v="",T="";const{open:A,tagContainer:E,tagHeader:C}=u(f[d]),P=[["class",`${I}-code`]];A&&P.push(["open",""]);const Y={attrs:Ac(f[d],P)};for(let G=d;G<f.length&&($=f[G],[R,D]=a($),R===S);G++){$.info=$.info.replace(r,"").replace(s,""),$.hidden=!0;const ee=`${I}-codetab-${e.editorId}-${d}-${G-d}`;L=G-d>0?"":"checked",w+=`<li>
          <input type="radio" name="${I}-codetab-label-${e.editorId}-${d}" class="${ee}" ${L}>
          <label onclick="document.querySelectorAll('.${ee}').forEach(e => e.click())">${D||l($)}</label>
        </li>`,v+=`<input type="radio" name="${I}-codetab-pre-${e.editorId}-${d}" class="${ee}" ${L}>
      ${n(f,G,p,m,O)}`,T+=`<input type="radio" name="${I}-codetab-lang-${e.editorId}-${d}" class="${ee}" ${L}>
      <span class=${I}-code-lang>${l($)}</span>`}return`<${E} ${O.renderAttrs(Y)}>
    <${C} class="${I}-code-head">
      <div class="${I}-code-flag">
        <ul class="${I}-codetab-label">${w}</ul>
      </div>
      <div>
        <span class="${I}-codetab-lang">${T}</span>
        <span class="${I}-copy-button">${(_=e.usedLanguageTextRef.value)==null?void 0:_.copyCode.text}</span>
      </div>
    </${C}>${v}</${E}>`};t.renderer.rules.fence=c},aM=oM;function lM(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Yd={exports:{}},Be={},Gd={exports:{}},Br={};function N2(){var t={};return t["align-content"]=!1,t["align-items"]=!1,t["align-self"]=!1,t["alignment-adjust"]=!1,t["alignment-baseline"]=!1,t.all=!1,t["anchor-point"]=!1,t.animation=!1,t["animation-delay"]=!1,t["animation-direction"]=!1,t["animation-duration"]=!1,t["animation-fill-mode"]=!1,t["animation-iteration-count"]=!1,t["animation-name"]=!1,t["animation-play-state"]=!1,t["animation-timing-function"]=!1,t.azimuth=!1,t["backface-visibility"]=!1,t.background=!0,t["background-attachment"]=!0,t["background-clip"]=!0,t["background-color"]=!0,t["background-image"]=!0,t["background-origin"]=!0,t["background-position"]=!0,t["background-repeat"]=!0,t["background-size"]=!0,t["baseline-shift"]=!1,t.binding=!1,t.bleed=!1,t["bookmark-label"]=!1,t["bookmark-level"]=!1,t["bookmark-state"]=!1,t.border=!0,t["border-bottom"]=!0,t["border-bottom-color"]=!0,t["border-bottom-left-radius"]=!0,t["border-bottom-right-radius"]=!0,t["border-bottom-style"]=!0,t["border-bottom-width"]=!0,t["border-collapse"]=!0,t["border-color"]=!0,t["border-image"]=!0,t["border-image-outset"]=!0,t["border-image-repeat"]=!0,t["border-image-slice"]=!0,t["border-image-source"]=!0,t["border-image-width"]=!0,t["border-left"]=!0,t["border-left-color"]=!0,t["border-left-style"]=!0,t["border-left-width"]=!0,t["border-radius"]=!0,t["border-right"]=!0,t["border-right-color"]=!0,t["border-right-style"]=!0,t["border-right-width"]=!0,t["border-spacing"]=!0,t["border-style"]=!0,t["border-top"]=!0,t["border-top-color"]=!0,t["border-top-left-radius"]=!0,t["border-top-right-radius"]=!0,t["border-top-style"]=!0,t["border-top-width"]=!0,t["border-width"]=!0,t.bottom=!1,t["box-decoration-break"]=!0,t["box-shadow"]=!0,t["box-sizing"]=!0,t["box-snap"]=!0,t["box-suppress"]=!0,t["break-after"]=!0,t["break-before"]=!0,t["break-inside"]=!0,t["caption-side"]=!1,t.chains=!1,t.clear=!0,t.clip=!1,t["clip-path"]=!1,t["clip-rule"]=!1,t.color=!0,t["color-interpolation-filters"]=!0,t["column-count"]=!1,t["column-fill"]=!1,t["column-gap"]=!1,t["column-rule"]=!1,t["column-rule-color"]=!1,t["column-rule-style"]=!1,t["column-rule-width"]=!1,t["column-span"]=!1,t["column-width"]=!1,t.columns=!1,t.contain=!1,t.content=!1,t["counter-increment"]=!1,t["counter-reset"]=!1,t["counter-set"]=!1,t.crop=!1,t.cue=!1,t["cue-after"]=!1,t["cue-before"]=!1,t.cursor=!1,t.direction=!1,t.display=!0,t["display-inside"]=!0,t["display-list"]=!0,t["display-outside"]=!0,t["dominant-baseline"]=!1,t.elevation=!1,t["empty-cells"]=!1,t.filter=!1,t.flex=!1,t["flex-basis"]=!1,t["flex-direction"]=!1,t["flex-flow"]=!1,t["flex-grow"]=!1,t["flex-shrink"]=!1,t["flex-wrap"]=!1,t.float=!1,t["float-offset"]=!1,t["flood-color"]=!1,t["flood-opacity"]=!1,t["flow-from"]=!1,t["flow-into"]=!1,t.font=!0,t["font-family"]=!0,t["font-feature-settings"]=!0,t["font-kerning"]=!0,t["font-language-override"]=!0,t["font-size"]=!0,t["font-size-adjust"]=!0,t["font-stretch"]=!0,t["font-style"]=!0,t["font-synthesis"]=!0,t["font-variant"]=!0,t["font-variant-alternates"]=!0,t["font-variant-caps"]=!0,t["font-variant-east-asian"]=!0,t["font-variant-ligatures"]=!0,t["font-variant-numeric"]=!0,t["font-variant-position"]=!0,t["font-weight"]=!0,t.grid=!1,t["grid-area"]=!1,t["grid-auto-columns"]=!1,t["grid-auto-flow"]=!1,t["grid-auto-rows"]=!1,t["grid-column"]=!1,t["grid-column-end"]=!1,t["grid-column-start"]=!1,t["grid-row"]=!1,t["grid-row-end"]=!1,t["grid-row-start"]=!1,t["grid-template"]=!1,t["grid-template-areas"]=!1,t["grid-template-columns"]=!1,t["grid-template-rows"]=!1,t["hanging-punctuation"]=!1,t.height=!0,t.hyphens=!1,t.icon=!1,t["image-orientation"]=!1,t["image-resolution"]=!1,t["ime-mode"]=!1,t["initial-letters"]=!1,t["inline-box-align"]=!1,t["justify-content"]=!1,t["justify-items"]=!1,t["justify-self"]=!1,t.left=!1,t["letter-spacing"]=!0,t["lighting-color"]=!0,t["line-box-contain"]=!1,t["line-break"]=!1,t["line-grid"]=!1,t["line-height"]=!1,t["line-snap"]=!1,t["line-stacking"]=!1,t["line-stacking-ruby"]=!1,t["line-stacking-shift"]=!1,t["line-stacking-strategy"]=!1,t["list-style"]=!0,t["list-style-image"]=!0,t["list-style-position"]=!0,t["list-style-type"]=!0,t.margin=!0,t["margin-bottom"]=!0,t["margin-left"]=!0,t["margin-right"]=!0,t["margin-top"]=!0,t["marker-offset"]=!1,t["marker-side"]=!1,t.marks=!1,t.mask=!1,t["mask-box"]=!1,t["mask-box-outset"]=!1,t["mask-box-repeat"]=!1,t["mask-box-slice"]=!1,t["mask-box-source"]=!1,t["mask-box-width"]=!1,t["mask-clip"]=!1,t["mask-image"]=!1,t["mask-origin"]=!1,t["mask-position"]=!1,t["mask-repeat"]=!1,t["mask-size"]=!1,t["mask-source-type"]=!1,t["mask-type"]=!1,t["max-height"]=!0,t["max-lines"]=!1,t["max-width"]=!0,t["min-height"]=!0,t["min-width"]=!0,t["move-to"]=!1,t["nav-down"]=!1,t["nav-index"]=!1,t["nav-left"]=!1,t["nav-right"]=!1,t["nav-up"]=!1,t["object-fit"]=!1,t["object-position"]=!1,t.opacity=!1,t.order=!1,t.orphans=!1,t.outline=!1,t["outline-color"]=!1,t["outline-offset"]=!1,t["outline-style"]=!1,t["outline-width"]=!1,t.overflow=!1,t["overflow-wrap"]=!1,t["overflow-x"]=!1,t["overflow-y"]=!1,t.padding=!0,t["padding-bottom"]=!0,t["padding-left"]=!0,t["padding-right"]=!0,t["padding-top"]=!0,t.page=!1,t["page-break-after"]=!1,t["page-break-before"]=!1,t["page-break-inside"]=!1,t["page-policy"]=!1,t.pause=!1,t["pause-after"]=!1,t["pause-before"]=!1,t.perspective=!1,t["perspective-origin"]=!1,t.pitch=!1,t["pitch-range"]=!1,t["play-during"]=!1,t.position=!1,t["presentation-level"]=!1,t.quotes=!1,t["region-fragment"]=!1,t.resize=!1,t.rest=!1,t["rest-after"]=!1,t["rest-before"]=!1,t.richness=!1,t.right=!1,t.rotation=!1,t["rotation-point"]=!1,t["ruby-align"]=!1,t["ruby-merge"]=!1,t["ruby-position"]=!1,t["shape-image-threshold"]=!1,t["shape-outside"]=!1,t["shape-margin"]=!1,t.size=!1,t.speak=!1,t["speak-as"]=!1,t["speak-header"]=!1,t["speak-numeral"]=!1,t["speak-punctuation"]=!1,t["speech-rate"]=!1,t.stress=!1,t["string-set"]=!1,t["tab-size"]=!1,t["table-layout"]=!1,t["text-align"]=!0,t["text-align-last"]=!0,t["text-combine-upright"]=!0,t["text-decoration"]=!0,t["text-decoration-color"]=!0,t["text-decoration-line"]=!0,t["text-decoration-skip"]=!0,t["text-decoration-style"]=!0,t["text-emphasis"]=!0,t["text-emphasis-color"]=!0,t["text-emphasis-position"]=!0,t["text-emphasis-style"]=!0,t["text-height"]=!0,t["text-indent"]=!0,t["text-justify"]=!0,t["text-orientation"]=!0,t["text-overflow"]=!0,t["text-shadow"]=!0,t["text-space-collapse"]=!0,t["text-transform"]=!0,t["text-underline-position"]=!0,t["text-wrap"]=!0,t.top=!1,t.transform=!1,t["transform-origin"]=!1,t["transform-style"]=!1,t.transition=!1,t["transition-delay"]=!1,t["transition-duration"]=!1,t["transition-property"]=!1,t["transition-timing-function"]=!1,t["unicode-bidi"]=!1,t["vertical-align"]=!1,t.visibility=!1,t["voice-balance"]=!1,t["voice-duration"]=!1,t["voice-family"]=!1,t["voice-pitch"]=!1,t["voice-range"]=!1,t["voice-rate"]=!1,t["voice-stress"]=!1,t["voice-volume"]=!1,t.volume=!1,t["white-space"]=!1,t.widows=!1,t.width=!0,t["will-change"]=!1,t["word-break"]=!0,t["word-spacing"]=!0,t["word-wrap"]=!0,t["wrap-flow"]=!1,t["wrap-through"]=!1,t["writing-mode"]=!1,t["z-index"]=!1,t}function uM(t,e,n){}function cM(t,e,n){}var hM=/javascript\s*\:/img;function fM(t,e){return hM.test(e)?"":e}Br.whiteList=N2();Br.getDefaultWhiteList=N2;Br.onAttr=uM;Br.onIgnoreAttr=cM;Br.safeAttrValue=fM;var dM={indexOf:function(t,e){var n,i;if(Array.prototype.indexOf)return t.indexOf(e);for(n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},forEach:function(t,e,n){var i,r;if(Array.prototype.forEach)return t.forEach(e,n);for(i=0,r=t.length;i<r;i++)e.call(n,t[i],i,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(t){return String.prototype.trimRight?t.trimRight():t.replace(/(\s*$)/g,"")}},jo=dM;function pM(t,e){t=jo.trimRight(t),t[t.length-1]!==";"&&(t+=";");var n=t.length,i=!1,r=0,s=0,o="";function a(){if(!i){var c=jo.trim(t.slice(r,s)),f=c.indexOf(":");if(f!==-1){var d=jo.trim(c.slice(0,f)),p=jo.trim(c.slice(f+1));if(d){var m=e(r,o.length,d,p,c);m&&(o+=m+"; ")}}}r=s+1}for(;s<n;s++){var l=t[s];if(l==="/"&&t[s+1]==="*"){var u=t.indexOf("*/",s+2);if(u===-1)break;s=u+1,r=s+1,i=!1}else l==="("?i=!0:l===")"?i=!1:l===";"?i||a():l===`
`&&a()}return jo.trim(o)}var mM=pM,uu=Br,gM=mM;function Eb(t){return t==null}function OM(t){var e={};for(var n in t)e[n]=t[n];return e}function Z2(t){t=OM(t||{}),t.whiteList=t.whiteList||uu.whiteList,t.onAttr=t.onAttr||uu.onAttr,t.onIgnoreAttr=t.onIgnoreAttr||uu.onIgnoreAttr,t.safeAttrValue=t.safeAttrValue||uu.safeAttrValue,this.options=t}Z2.prototype.process=function(t){if(t=t||"",t=t.toString(),!t)return"";var e=this,n=e.options,i=n.whiteList,r=n.onAttr,s=n.onIgnoreAttr,o=n.safeAttrValue,a=gM(t,function(l,u,c,f,d){var p=i[c],m=!1;if(p===!0?m=p:typeof p=="function"?m=p(f):p instanceof RegExp&&(m=p.test(f)),m!==!0&&(m=!1),f=o(c,f),!!f){var O={position:u,sourcePosition:l,source:d,isWhite:m};if(m){var y=r(c,f,O);return Eb(y)?c+":"+f:y}else{var y=s(c,f,O);if(!Eb(y))return y}}});return a};var bM=Z2;(function(t,e){var n=Br,i=bM;function r(o,a){var l=new i(a);return l.process(o)}e=t.exports=r,e.FilterCSS=i;for(var s in n)e[s]=n[s];typeof window<"u"&&(window.filterCSS=t.exports)})(Gd,Gd.exports);var Fm=Gd.exports,Nm={indexOf:function(t,e){var n,i;if(Array.prototype.indexOf)return t.indexOf(e);for(n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},forEach:function(t,e,n){var i,r;if(Array.prototype.forEach)return t.forEach(e,n);for(i=0,r=t.length;i<r;i++)e.call(n,t[i],i,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(t){var e=/\s|\n|\t/,n=e.exec(t);return n?n.index:-1}},yM=Fm.FilterCSS,vM=Fm.getDefaultWhiteList,Ec=Nm;function z2(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var q2=new yM;function _M(t,e,n){}function wM(t,e,n){}function xM(t,e,n){}function kM(t,e,n){}function B2(t){return t.replace(TM,"&lt;").replace(PM,"&gt;")}function SM(t,e,n,i){if(n=G2(n),e==="href"||e==="src"){if(n=Ec.trim(n),n==="#")return"#";if(!(n.substr(0,7)==="http://"||n.substr(0,8)==="https://"||n.substr(0,7)==="mailto:"||n.substr(0,4)==="tel:"||n.substr(0,11)==="data:image/"||n.substr(0,6)==="ftp://"||n.substr(0,2)==="./"||n.substr(0,3)==="../"||n[0]==="#"||n[0]==="/"))return""}else if(e==="background"){if(cu.lastIndex=0,cu.test(n))return""}else if(e==="style"){if(Cb.lastIndex=0,Cb.test(n)||($b.lastIndex=0,$b.test(n)&&(cu.lastIndex=0,cu.test(n))))return"";i!==!1&&(i=i||q2,n=i.process(n))}return n=H2(n),n}var TM=/</g,PM=/>/g,AM=/"/g,EM=/&quot;/g,CM=/&#([a-zA-Z0-9]*);?/gim,$M=/&colon;?/gim,RM=/&newline;?/gim,cu=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,Cb=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,$b=/u\s*r\s*l\s*\(.*/gi;function j2(t){return t.replace(AM,"&quot;")}function X2(t){return t.replace(EM,'"')}function W2(t){return t.replace(CM,function(n,i){return i[0]==="x"||i[0]==="X"?String.fromCharCode(parseInt(i.substr(1),16)):String.fromCharCode(parseInt(i,10))})}function U2(t){return t.replace($M,":").replace(RM," ")}function Y2(t){for(var e="",n=0,i=t.length;n<i;n++)e+=t.charCodeAt(n)<32?" ":t.charAt(n);return Ec.trim(e)}function G2(t){return t=X2(t),t=W2(t),t=U2(t),t=Y2(t),t}function H2(t){return t=j2(t),t=B2(t),t}function IM(){return""}function QM(t,e){typeof e!="function"&&(e=function(){});var n=!Array.isArray(t);function i(o){return n?!0:Ec.indexOf(t,o)!==-1}var r=[],s=!1;return{onIgnoreTag:function(o,a,l){if(i(o))if(l.isClosing){var u="[/removed]",c=l.position+u.length;return r.push([s!==!1?s:l.position,c]),s=!1,u}else return s||(s=l.position),"[removed]";else return e(o,a,l)},remove:function(o){var a="",l=0;return Ec.forEach(r,function(u){a+=o.slice(l,u[0]),l=u[1]}),a+=o.slice(l),a}}}function DM(t){for(var e="",n=0;n<t.length;){var i=t.indexOf("<!--",n);if(i===-1){e+=t.slice(n);break}e+=t.slice(n,i);var r=t.indexOf("-->",i);if(r===-1)break;n=r+3}return e}function VM(t){var e=t.split("");return e=e.filter(function(n){var i=n.charCodeAt(0);return i===127?!1:i<=31?i===10||i===13:!0}),e.join("")}Be.whiteList=z2();Be.getDefaultWhiteList=z2;Be.onTag=_M;Be.onIgnoreTag=wM;Be.onTagAttr=xM;Be.onIgnoreTagAttr=kM;Be.safeAttrValue=SM;Be.escapeHtml=B2;Be.escapeQuote=j2;Be.unescapeQuote=X2;Be.escapeHtmlEntities=W2;Be.escapeDangerHtml5Entities=U2;Be.clearNonPrintableCharacter=Y2;Be.friendlyAttrValue=G2;Be.escapeAttrValue=H2;Be.onIgnoreTagStripAll=IM;Be.StripTagBody=QM;Be.stripCommentTag=DM;Be.stripBlankChar=VM;Be.attributeWrapSign='"';Be.cssFilter=q2;Be.getDefaultCSSWhiteList=vM;var oh={},Mi=Nm;function MM(t){var e=Mi.spaceIndex(t),n;return e===-1?n=t.slice(1,-1):n=t.slice(1,e+1),n=Mi.trim(n).toLowerCase(),n.slice(0,1)==="/"&&(n=n.slice(1)),n.slice(-1)==="/"&&(n=n.slice(0,-1)),n}function LM(t){return t.slice(0,2)==="</"}function FM(t,e,n){var i="",r=0,s=!1,o=!1,a=0,l=t.length,u="",c="";e:for(a=0;a<l;a++){var f=t.charAt(a);if(s===!1){if(f==="<"){s=a;continue}}else if(o===!1){if(f==="<"){i+=n(t.slice(r,a)),s=a,r=a;continue}if(f===">"||a===l-1){i+=n(t.slice(r,s)),c=t.slice(s,a+1),u=MM(c),i+=e(s,i.length,u,c,LM(c)),r=a+1,s=!1;continue}if(f==='"'||f==="'")for(var d=1,p=t.charAt(a-d);p.trim()===""||p==="=";){if(p==="="){o=f;continue e}p=t.charAt(a-++d)}}else if(f===o){o=!1;continue}}return r<l&&(i+=n(t.substr(r))),i}var NM=/[^a-zA-Z0-9\\_:.-]/gim;function ZM(t,e){var n=0,i=0,r=[],s=!1,o=t.length;function a(d,p){if(d=Mi.trim(d),d=d.replace(NM,"").toLowerCase(),!(d.length<1)){var m=e(d,p||"");m&&r.push(m)}}for(var l=0;l<o;l++){var u=t.charAt(l),c,f;if(s===!1&&u==="="){s=t.slice(n,l),n=l+1,i=t.charAt(n)==='"'||t.charAt(n)==="'"?n:qM(t,l+1);continue}if(s!==!1&&l===i){if(f=t.indexOf(u,l+1),f===-1)break;c=Mi.trim(t.slice(i+1,f)),a(s,c),s=!1,l=f,n=l+1;continue}if(/\s|\n|\t/.test(u))if(t=t.replace(/\s|\n|\t/g," "),s===!1)if(f=zM(t,l),f===-1){c=Mi.trim(t.slice(n,l)),a(c),s=!1,n=l+1;continue}else{l=f-1;continue}else if(f=BM(t,l-1),f===-1){c=Mi.trim(t.slice(n,l)),c=Rb(c),a(s,c),s=!1,n=l+1;continue}else continue}return n<t.length&&(s===!1?a(t.slice(n)):a(s,Rb(Mi.trim(t.slice(n))))),Mi.trim(r.join(" "))}function zM(t,e){for(;e<t.length;e++){var n=t[e];if(n!==" ")return n==="="?e:-1}}function qM(t,e){for(;e<t.length;e++){var n=t[e];if(n!==" ")return n==="'"||n==='"'?e:-1}}function BM(t,e){for(;e>0;e--){var n=t[e];if(n!==" ")return n==="="?e:-1}}function jM(t){return t[0]==='"'&&t[t.length-1]==='"'||t[0]==="'"&&t[t.length-1]==="'"}function Rb(t){return jM(t)?t.substr(1,t.length-2):t}oh.parseTag=FM;oh.parseAttr=ZM;var XM=Fm.FilterCSS,sn=Be,K2=oh,WM=K2.parseTag,UM=K2.parseAttr,Ru=Nm;function hu(t){return t==null}function YM(t){var e=Ru.spaceIndex(t);if(e===-1)return{html:"",closing:t[t.length-2]==="/"};t=Ru.trim(t.slice(e+1,-1));var n=t[t.length-1]==="/";return n&&(t=Ru.trim(t.slice(0,-1))),{html:t,closing:n}}function GM(t){var e={};for(var n in t)e[n]=t[n];return e}function HM(t){var e={};for(var n in t)Array.isArray(t[n])?e[n.toLowerCase()]=t[n].map(function(i){return i.toLowerCase()}):e[n.toLowerCase()]=t[n];return e}function J2(t){t=GM(t||{}),t.stripIgnoreTag&&(t.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=sn.onIgnoreTagStripAll),t.whiteList||t.allowList?t.whiteList=HM(t.whiteList||t.allowList):t.whiteList=sn.whiteList,this.attributeWrapSign=t.singleQuotedAttributeValue===!0?"'":sn.attributeWrapSign,t.onTag=t.onTag||sn.onTag,t.onTagAttr=t.onTagAttr||sn.onTagAttr,t.onIgnoreTag=t.onIgnoreTag||sn.onIgnoreTag,t.onIgnoreTagAttr=t.onIgnoreTagAttr||sn.onIgnoreTagAttr,t.safeAttrValue=t.safeAttrValue||sn.safeAttrValue,t.escapeHtml=t.escapeHtml||sn.escapeHtml,this.options=t,t.css===!1?this.cssFilter=!1:(t.css=t.css||{},this.cssFilter=new XM(t.css))}J2.prototype.process=function(t){if(t=t||"",t=t.toString(),!t)return"";var e=this,n=e.options,i=n.whiteList,r=n.onTag,s=n.onIgnoreTag,o=n.onTagAttr,a=n.onIgnoreTagAttr,l=n.safeAttrValue,u=n.escapeHtml,c=e.attributeWrapSign,f=e.cssFilter;n.stripBlankChar&&(t=sn.stripBlankChar(t)),n.allowCommentTag||(t=sn.stripCommentTag(t));var d=!1;n.stripIgnoreTagBody&&(d=sn.StripTagBody(n.stripIgnoreTagBody,s),s=d.onIgnoreTag);var p=WM(t,function(m,O,y,_,S){var $={sourcePosition:m,position:O,isClosing:S,isWhite:Object.prototype.hasOwnProperty.call(i,y)},R=r(y,_,$);if(!hu(R))return R;if($.isWhite){if($.isClosing)return"</"+y+">";var D=YM(_),L=i[y],w=UM(D.html,function(v,T){var A=Ru.indexOf(L,v)!==-1,E=o(y,v,T,A);return hu(E)?A?(T=l(y,v,T,f),T?v+"="+c+T+c:v):(E=a(y,v,T,A),hu(E)?void 0:E):E});return _="<"+y,w&&(_+=" "+w),D.closing&&(_+=" /"),_+=">",_}else return R=s(y,_,$),hu(R)?u(_):R},u);return d&&(p=d.remove(p)),p};var KM=J2;(function(t,e){var n=Be,i=oh,r=KM;function s(a,l){var u=new r(l);return u.process(a)}e=t.exports=s,e.filterXSS=s,e.FilterXSS=r,function(){for(var a in n)e[a]=n[a];for(var l in i)e[l]=i[l]}(),typeof window<"u"&&(window.filterXSS=t.exports);function o(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}o()&&(self.filterXSS=t.exports)})(Yd,Yd.exports);var ga=Yd.exports;const JM=lM(ga),eL=BV({__proto__:null,default:JM},[ga]),Ib={img:["class"],input:["class","disabled","type","checked"],iframe:["class","width","height","src","title","border","frameborder","framespacing","allow","allowfullscreen"]},tL=(t,e)=>{const{extendedWhiteList:n={},xss:i={}}=e;let r;if(typeof i=="function")r=new ga.FilterXSS(i(eL));else{const s=ga.getDefaultWhiteList();[...Object.keys(n),...Object.keys(Ib)].forEach(a=>{const l=s[a]||[],u=Ib[a]||[],c=n[a]||[];s[a]=[...new Set([...l,...u,...c])]}),r=new ga.FilterXSS({whiteList:s,...i})}t.core.ruler.after("linkify","xss",s=>{for(let o=0;o<s.tokens.length;o++){const a=s.tokens[o];switch(a.type){case"html_block":{a.content=r.process(a.content);break}case"inline":{(a.children||[]).forEach(u=>{u.type==="html_inline"&&(u.content=r.process(u.content))});break}}}})},nL=tL,iL=t=>{t.core.ruler.push("init-line-number",e=>(e.tokens.forEach(n=>{n.map&&(n.attrs||(n.attrs=[]),n.attrs.push(["data-line",n.map[0].toString()]))}),!0))},rL=(t,e)=>{const{editorConfig:n,markdownItConfig:i,markdownItPlugins:r}=mt,s=ke("editorId"),o=ke("usedLanguageText"),a=ke("showCodeRowNumber"),l=ke("theme"),u=xe([]),c=WV(t),f=YV(t),{reRenderRef:d,replaceMermaid:p}=UV(t),m=gn({html:!0,breaks:!0,linkify:!0});i(m,{editorId:s});const O=[{type:"image",plugin:EV,options:{figcaption:!0,classes:"md-zoom"}},{type:"admonition",plugin:iM,options:{}},{type:"taskList",plugin:zV,options:{}},{type:"heading",plugin:sM,options:{mdHeadingId:t.mdHeadingId,headsRef:u}},{type:"code",plugin:aM,options:{editorId:s,usedLanguageTextRef:o,codeFoldable:t.codeFoldable,autoFoldThreshold:t.autoFoldThreshold}},{type:"xss",plugin:nL,options:{}}];t.noKatex||O.push({type:"katex",plugin:tM,options:{katexRef:f}}),t.noMermaid||O.push({type:"mermaid",plugin:HV,options:{themeRef:l}}),r(O,{editorId:s}).forEach(L=>{m.use(L.plugin,L.options)});const y=m.options.highlight;m.set({highlight:(L,w,v)=>{if(y){const E=y(L,w,v);if(E)return E}let T;!t.noHighlight&&c.value?c.value.getLanguage(w)?T=c.value.highlight(L,{language:w,ignoreIllegals:!0}).value:T=c.value.highlightAuto(L).value:T=m.utils.escapeHtml(L);const A=a?v$(T.replace(/^\n+|\n+$/g,"")):`<span class="${I}-code-block">${T.replace(/^\n+|\n+$/g,"")}</span>`;return`<pre><code class="language-${w}" language=${w}>${A}</code></pre>`}}),iL(m);const _=xe(`_article-key_${zf()}`),S=xe(t.sanitize(m.render(t.modelValue))),$=()=>{X.emit(s,yu,S.value),t.onHtmlChanged(S.value),t.onGetCatalog(u.value),X.emit(s,vu,u.value),p()};He($);const R=()=>{u.value=[],S.value=t.sanitize(m.render(t.modelValue)),$()},D=Nt(()=>(t.noKatex||f.value)&&(t.noHighlight||c.value));return ce([Ni(t,"modelValue"),D,d],Qp(R,e?0:n.renderDelay)),ce(()=>t.setting.preview,()=>{t.setting.preview&&Yn(()=>{X.emit(s,vu,u.value)})}),He(()=>{X.on(s,{name:i_,callback(){X.emit(s,vu,u.value)}}),X.on(s,{name:Vp,callback:()=>{_.value=`_article-key_${zf()}`,R()}})}),{html:S,key:_}},sL=rL,eS={modelValue:{type:String,default:""},setting:{type:Object,default:()=>({preview:!0})},onHtmlChanged:{type:Function,default:()=>{}},onGetCatalog:{type:Function,default:()=>{}},mdHeadingId:{type:Function,default:()=>""},noMermaid:{type:Boolean,default:!1},sanitize:{type:Function,default:t=>t},noKatex:{type:Boolean,default:!1},formatCopiedText:{type:Function,default:t=>t},noHighlight:{type:Boolean,default:!1},previewOnly:{type:Boolean,default:!1},noImgZoomIn:{type:Boolean},sanitizeMermaid:{type:Function},codeFoldable:{type:Boolean},autoFoldThreshold:{type:Number}},oL={...eS,updateModelValue:{type:Function,default:()=>{}},onChange:{type:Function,default:()=>{}},placeholder:{type:String,default:""},scrollAuto:{type:Boolean},autofocus:{type:Boolean},disabled:{type:Boolean},readonly:{type:Boolean},maxlength:{type:Number},autoDetectCode:{type:Boolean},onBlur:{type:Function,default:()=>{}},onFocus:{type:Function,default:()=>{}},noPrettier:{type:Boolean},completions:{type:Array},catalogVisible:{type:Boolean},theme:{type:String,default:"light"},onInput:{type:Function},onDrop:{type:Function,default:()=>{}},inputBoxWitdh:{type:String},onInputBoxWitdhChange:{type:Function},transformImgUrl:{type:Function,default:t=>t}},tS=We({name:"ContentPreview",props:eS,setup(t){const e=ke("editorId"),n=ke("previewTheme"),i=ke("showCodeRowNumber"),{html:r,key:s}=sL(t,t.previewOnly);return XV(t,r,s),jV(t,r),()=>Q(Es,null,[t.setting.preview&&Q("div",{id:`${e}-preview-wrapper`,class:`${I}-preview-wrapper`,key:"content-preview-wrapper"},[Q("div",{key:s.value,id:`${e}-preview`,class:[`${I}-preview`,`${n?.value}-theme`,i&&`${I}-scrn`],innerHTML:r.value},null)]),!t.previewOnly&&t.setting.htmlPreview&&Q("div",{id:`${e}-html-wrapper`,class:`${I}-preview-wrapper`,key:"html-preview-wrapper"},[Q("div",{class:`${I}-html`},[r.value])])])}}),aL=(t,e)=>{const{editorId:n}=t,i=Bt({buildFinished:!1,html:""});ce(()=>t.modelValue,()=>{i.buildFinished=!1}),He(()=>{X.on(n,{name:yu,callback(r){i.buildFinished=!0,i.html=r}}),X.on(n,{name:qc,callback(){const r=new Promise(s=>{if(i.buildFinished)s(i.html);else{const o=a=>{s(a),X.remove(n,yu,o)};X.on(n,{name:yu,callback:o})}});t.onSave?t.onSave(t.modelValue,r):e.emit("onSave",t.modelValue,r)}})})},nS=t=>{const{editorId:e}=t,n=mt.editorExtensions.highlight,i=mt.editorExtensionsAttrs.highlight;li("editorId",e),li("theme",Nt(()=>t.theme)),li("language",Nt(()=>t.language)),li("highlight",Nt(()=>{const{js:s}=n,o={...qf,...n.css},{js:a,css:l={}}=i||{},u=t.codeStyleReverse&&t.codeStyleReverseList.includes(t.previewTheme)?"dark":t.theme,c=o[t.codeTheme]?o[t.codeTheme][u]:qf.atom[u],f=o[t.codeTheme]&&l[t.codeTheme]?l[t.codeTheme][u]:l.atom?l.atom[u]:{};return{js:{src:s,...a},css:{href:c,...f}}})),li("showCodeRowNumber",t.showCodeRowNumber);const r=Nt(()=>{const s={...Rg,...mt.editorConfig.languageUserDefined};return Hv(Go(Rg["en-US"]),s[t.language]||{})});li("usedLanguageText",r),li("previewTheme",Nt(()=>t.previewTheme)),li("customIcon",Nt(()=>t.customIcon))},lL=t=>{nS(t),li("tabWidth",t.tabWidth)},iS=t=>{He(()=>{const{editorExtensions:e,editorExtensionsAttrs:n,iconfontType:i}=mt;t.noIconfont||(i==="svg"?zt("script",{...n.iconfont,src:e.iconfont,id:`${I}-icon`}):zt("link",{...n.iconfontClass,rel:"stylesheet",href:e.iconfontClass,id:`${I}-icon-class`}))})},uL=t=>{const{noPrettier:e,noUploadImg:n}=t,{editorExtensions:i,editorExtensionsAttrs:r}=mt,s=e||i.prettier.prettierInstance,o=e||i.prettier.parserMarkdownInstance,a=n||i.cropper.instance;He(()=>{if(!a){const{js:l={},css:u={}}=r.cropper||{};zt("link",{...u,rel:"stylesheet",href:i.cropper.css,id:`${I}-cropperCss`}),zt("script",{...l,src:i.cropper.js,id:`${I}-cropper`})}if(!s){const{standaloneJs:l={}}=r.prettier||{};zt("script",{...l,src:i.prettier.standaloneJs,id:`${I}-prettier`})}if(!o){const{parserMarkdownJs:l={}}=r.prettier||{};zt("script",{...l,src:i.prettier.parserMarkdownJs,id:`${I}-prettierMD`})}}),iS(t)},cL=(t,e)=>{const{editorId:n}=t;He(()=>{X.on(n,{name:qr,callback:i=>{t.onError instanceof Function?t.onError(i):e.emit("onError",i)}})})},hL=(t,e)=>{const{editorId:n}=t,i=Bt({pageFullscreen:t.pageFullscreen,fullscreen:!1,preview:t.preview,htmlPreview:t.preview?!1:t.htmlPreview,previewOnly:!1}),r=(a,l)=>{i[a]=l===void 0?!i[a]:l,a==="preview"?(i.htmlPreview=!1,i.previewOnly=!1):a==="htmlPreview"?(i.preview=!1,i.previewOnly=!1):a==="previewOnly"&&!i.preview&&!i.htmlPreview&&(i.preview=!0)};let s="";const o=()=>{i.pageFullscreen||i.fullscreen?document.body.style.overflow="hidden":document.body.style.overflow=s};return ce(()=>[i.pageFullscreen,i.fullscreen],o),He(()=>{X.on(n,{name:Bc,callback(a,l){const u=c=>{X.emit(n,Ce,"image",{desc:"",urls:c}),l&&l()};t.onUploadImg?t.onUploadImg(a,u):e.emit("onUploadImg",a,u)}}),s=document.body.style.overflow,o()}),[i,r]},fL=t=>{const{editorId:e}=t,n=xe(!1);return He(()=>{X.on(e,{name:Dp,callback:r=>{r===void 0?n.value=!n.value:n.value=r}})}),Nt(()=>!t.toolbarsExclude.includes("catalog")&&t.toolbars.includes("catalog")&&n.value)},dL=(t,e,n,i,r,s)=>{const{editorId:o}=t;ce(()=>i.pageFullscreen,l=>{X.emit(o,Ig,l)}),ce(()=>i.fullscreen,l=>{X.emit(o,Qg,l)}),ce(()=>i.preview,l=>{X.emit(o,Dg,l)}),ce(()=>i.previewOnly,l=>{X.emit(o,Vg,l)}),ce(()=>i.htmlPreview,l=>{X.emit(o,Mg,l)}),ce(n,l=>{X.emit(o,Lg,l)});const a={on(l,u){switch(l){case"pageFullscreen":{X.on(o,{name:Ig,callback(c){u(c)}});break}case"fullscreen":{X.on(o,{name:Qg,callback(c){u(c)}});break}case"preview":{X.on(o,{name:Dg,callback(c){u(c)}});break}case"previewOnly":{X.on(o,{name:Vg,callback(c){u(c)}});break}case"htmlPreview":{X.on(o,{name:Mg,callback(c){u(c)}});break}case"catalog":{X.on(o,{name:Lg,callback(c){u(c)}});break}}},togglePageFullscreen(l){r("pageFullscreen",l)},toggleFullscreen(l){X.emit(o,e_,l)},togglePreview(l){r("preview",l)},togglePreviewOnly(l){r("previewOnly",l)},toggleHtmlPreview(l){r("htmlPreview",l)},toggleCatalog(l){X.emit(o,Dp,l)},triggerSave(){X.emit(o,qc)},insert(l){X.emit(o,Ce,"universal",{generate:l})},focus(l){var u;(u=s.value)==null||u.focus(l)},rerender(){X.emit(o,Vp)},getSelectedText(){var l;return(l=s.value)==null?void 0:l.getSelectedText()},resetHistory(){var l;(l=s.value)==null||l.resetHistory()},domEventHandlers(l){X.emit(o,r_,l)},execCommand(l){X.emit(o,Ce,l)}};e.expose(a)},pL=t=>t,rS={modelValue:{type:String,default:""},theme:{type:String,default:"light"},class:{type:String,default:""},language:{type:String,default:"zh-CN"},onHtmlChanged:{type:Function},onGetCatalog:{type:Function},editorId:{type:String,default:()=>w$("md-editor-v3_")},showCodeRowNumber:{type:Boolean,default:!0},previewTheme:{type:String,default:"default"},style:{type:Object,default:()=>({})},mdHeadingId:{type:Function,default:pL},sanitize:{type:Function,default:t=>t},noMermaid:{type:Boolean,default:!1},noKatex:{type:Boolean,default:!1},codeTheme:{type:String,default:"atom"},noIconfont:{type:Boolean},formatCopiedText:{type:Function,default:t=>t},codeStyleReverse:{type:Boolean,default:!0},codeStyleReverseList:{type:Array,default:["default","mk-cute"]},noHighlight:{type:Boolean,default:!1},noImgZoomIn:{type:Boolean,default:!1},customIcon:{type:Object,default:{}},sanitizeMermaid:{type:Function,default:t=>Promise.resolve(t)},codeFoldable:{type:Boolean,default:!0},autoFoldThreshold:{type:Number,default:30}},mL={...rS,onChange:{type:Function},onSave:{type:Function},onUploadImg:{type:Function},pageFullscreen:{type:Boolean,default:!1},preview:{type:Boolean,default:!0},htmlPreview:{type:Boolean,default:!1},toolbars:{type:Array,default:Kv},toolbarsExclude:{type:Array,default:[]},noPrettier:{type:Boolean,default:!1},tabWidth:{type:Number,default:2},tableShape:{type:Array},placeholder:{type:String,default:""},defToolbars:{type:[String,Object]},onError:{type:Function},footers:{type:Array,default:Jv},scrollAuto:{type:Boolean,default:!0},defFooters:{type:[String,Object]},noUploadImg:{type:Boolean},autoFocus:{type:Boolean},disabled:{type:Boolean},readOnly:{type:Boolean},maxLength:{type:Number},autoDetectCode:{type:Boolean},onBlur:{type:Function},onFocus:{type:Function},completions:{type:Array},showToolbarName:{type:Boolean,default:!1},onInput:{type:Function},onDrop:{type:Function},inputBoxWitdh:{type:String,default:"50%"},onInputBoxWitdhChange:{type:Function},transformImgUrl:{type:Function,default:t=>t}},sS=["onHtmlChanged","onGetCatalog"],gL=[...sS,"onChange","onSave","onUploadImg","onError","update:modelValue","onBlur","onFocus","onInput","onDrop","onInputBoxWitdhChange"],OL=(t,e)=>{const{editorId:n}=t,i={rerender(){X.emit(n,Vp)}};e.expose(i)},Iu=We({name:"MdPreview",props:rS,emits:sS,setup(t,e){const{editorId:n,noKatex:i,noMermaid:r,noHighlight:s}=t;return nS(t),iS(t),OL(t,e),Wa(()=>{X.clear(n)}),()=>Q("div",{id:n,class:[I,t.class,t.theme==="dark"&&`${I}-dark`,`${I}-previewOnly`],style:t.style},[Q(tS,{modelValue:t.modelValue,onHtmlChanged:o=>{t.onHtmlChanged?t.onHtmlChanged(o):e.emit("onHtmlChanged",o)},onGetCatalog:o=>{t.onGetCatalog?t.onGetCatalog(o):e.emit("onGetCatalog",o)},mdHeadingId:t.mdHeadingId,noMermaid:r,sanitize:t.sanitize,noKatex:i,formatCopiedText:t.formatCopiedText,noHighlight:s,noImgZoomIn:t.noImgZoomIn,previewOnly:!0,sanitizeMermaid:t.sanitizeMermaid,codeFoldable:t.codeFoldable,autoFoldThreshold:t.autoFoldThreshold},null)])}});Iu.install=t=>(t.component(Iu.name,Iu),t);const bL={tocItem:{type:Object,default:()=>({})},mdHeadingId:{type:Function,default:()=>{}},scrollElement:{type:[String,Object],default:""},onClick:{type:Function,default:()=>{}},scrollElementOffsetTop:{type:Number,default:0}},oS=We({props:bL,setup(t){return()=>{const{tocItem:e,mdHeadingId:n,scrollElement:i,onClick:r,scrollElementOffsetTop:s}=t;return Q("div",{class:[`${I}-catalog-link`,e.active&&`${I}-catalog-active`],onClick:o=>{r(o,e),o.stopPropagation();const a=n(e.text,e.level,e.index),l=document.getElementById(a),u=i instanceof Element?i:document.querySelector(i);if(l&&u){let c=l.offsetParent,f=l.offsetTop;if(u.contains(c))for(;c&&u!=c;)f+=c?.offsetTop,c=c?.offsetParent;u?.scrollTo({top:f-s,behavior:"smooth"})}}},[Q("span",{title:e.text},[e.text]),Q("div",{class:`${I}-catalog-wrapper`},[e.children&&e.children.map(o=>Q(oS,{mdHeadingId:n,key:`${e.text}-link-${o.level}-${o.text}`,tocItem:o,scrollElement:i,onClick:r,scrollElementOffsetTop:s},null))])])}}}),yL=oS,vL={editorId:{type:String},class:{type:String,default:""},mdHeadingId:{type:Function,default:t=>t},scrollElement:{type:[String,Object]},theme:{type:String,default:"light"},offsetTop:{type:Number,default:20},scrollElementOffsetTop:{type:Number,default:0},onClick:{type:Function},onActive:{type:Function}},Oa=We({name:"MdCatalog",props:vL,emits:["onClick","onActive"],setup(t,e){const n=t.editorId,i=Bt({list:[],show:!1,scrollElement:t.scrollElement||`#${n}-preview-wrapper`}),r=Ar(),s=Nt(()=>{const u=[];return i.list.forEach((c,f)=>{const{text:d,level:p}=c,m={level:p,text:d,index:f+1,active:r.value===c};if(u.length===0)u.push(m);else{let O=u[u.length-1];if(m.level>O.level)for(let y=O.level+1;y<=6;y++){const{children:_}=O;if(!_){O.children=[m];break}if(O=_[_.length-1],m.level<=O.level){_.push(m);break}}else u.push(m)}}),u}),o=()=>i.scrollElement instanceof HTMLElement?i.scrollElement:document.querySelector(i.scrollElement),a=u=>{if(u.length===0)return i.list=[],!1;const{activeHead:c}=u.reduce((f,d,p)=>{const m=document.getElementById(t.mdHeadingId(d.text,d.level,p+1));if(m instanceof HTMLElement){const O=o(),y=_$(m,O);if(y<t.offsetTop&&y>f.minTop)return{activeHead:d,minTop:y}}return f},{activeHead:u[0],minTop:Number.MIN_SAFE_INTEGER});r.value=c,i.list=u},l=()=>{a(i.list)};return ce(()=>r.value,u=>{const c=u?{...u}:void 0;t.onActive?t.onActive(c):e.emit("onActive",c)}),He(()=>{let u=window;const c=()=>{const f=o();u=f===document.documentElement?window:f};X.on(n,{name:vu,callback:f=>{u?.removeEventListener("scroll",l),a(f),c(),u?.addEventListener("scroll",l)}}),X.emit(n,i_),c(),u?.addEventListener("scroll",l)}),Wa(()=>{var u;const c=o();(u=c===document.documentElement?window:c)==null||u.removeEventListener("scroll",l)}),()=>Q("div",{class:`${I}-catalog${t.theme==="dark"?"-dark":""} ${t.class}`},[s.value.map(u=>Q(yL,{mdHeadingId:t.mdHeadingId,tocItem:u,key:`link-${u.level}-${u.text}`,scrollElement:i.scrollElement,onClick:(c,f)=>{t.onClick?t.onClick(c,f):e.emit("onClick",c,f)},scrollElementOffsetTop:t.scrollElementOffsetTop},null))])}});Oa.install=t=>(t.component(Oa.name,Oa),t);const _L={title:{type:String,default:""},trigger:{type:[String,Object]},onClick:{type:Function},insert:{type:Function},language:{type:String},theme:{type:String}},Qu=We({name:"NormalToolbar",props:_L,emits:["onClick"],setup(t,e){return()=>{const n=hn({props:t,ctx:e},"trigger");return Q("div",{class:`${I}-toolbar-item`,title:t.title,onClick:i=>{t.onClick instanceof Function?t.onClick(i):e.emit("onClick",i)}},[n])}}});Qu.install=t=>(t.component(Qu.name,Qu),t);function wL(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!LS(t)}const xL={title:{type:String,default:""},modalTitle:{type:String,default:""},visible:{type:Boolean},width:{type:String,default:"auto"},height:{type:String,default:"auto"},trigger:{type:[String,Object]},onClick:{type:Function},onClose:{type:Function},showAdjust:{type:Boolean,default:!1},isFullscreen:{type:Boolean,default:!1},onAdjust:{type:Function},insert:{type:Function},language:{type:String},theme:{type:String},previewTheme:{type:String}},Du=We({name:"ModalToolbar",props:xL,emits:["onClick","onClose","onAdjust"],setup(t,e){return()=>{const n=hn({props:t,ctx:e},"trigger"),i=hn({props:t,ctx:e},"default");return Q(Es,null,[Q("div",{class:`${I}-toolbar-item`,title:t.title,onClick:()=>{t.onClick instanceof Function?t.onClick():e.emit("onClick")}},[n]),Q(vs,{width:t.width,height:t.height,title:t.modalTitle,visible:t.visible,onClose:()=>{t.onClose instanceof Function?t.onClose():e.emit("onClose")},showAdjust:t.showAdjust,isFullscreen:t.isFullscreen,onAdjust:r=>{t.onAdjust instanceof Function?t.onAdjust(r):e.emit("onAdjust",r)}},wL(i)?i:{default:()=>[i]})])}}});Du.install=t=>(t.component(Du.name,Du),t);var kL=Object.defineProperty,SL=(t,e,n)=>e in t?kL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ri=(t,e,n)=>(SL(t,typeof e!="symbol"?e+"":e,n),n);const TL=We({setup(){return()=>Q("div",{class:`${I}-divider`},null)}}),PL={noPrettier:{type:Boolean},toolbars:{type:Array,default:()=>[]},toolbarsExclude:{type:Array,default:()=>[]},setting:{type:Object,default:()=>({})},screenfull:{type:Object,default:null},screenfullJs:{type:String,default:""},updateSetting:{type:Function,default:()=>{}},tableShape:{type:Array,default:()=>[6,4]},defToolbars:{type:Object},noUploadImg:{type:Boolean},showToolbarName:{type:Boolean}},AL=t=>{const e=ke("editorId"),{editorExtensions:n,editorExtensionsAttrs:i}=mt;let r=n.screenfull.instance;const s=xe(!1),o=u=>{if(!r){X.emit(e,qr,{name:"fullscreen",message:"fullscreen is undefined"});return}r.isEnabled?(s.value=!0,(u===void 0?!r.isFullscreen:u)?r.request():r.exit()):console.error("browser does not support screenfull!")},a=()=>{r&&r.isEnabled&&r.on("change",()=>{(s.value||t.setting.fullscreen)&&(s.value=!1,t.updateSetting("fullscreen"))})},l=()=>{r=window.screenfull,a()};return He(()=>{var u;a(),r||zt("script",{...(u=i.screenfull)==null?void 0:u.js,src:n.screenfull.js,id:`${I}-screenfull`,onload:l},"screenfull")}),He(()=>{X.on(e,{name:e_,callback:o})}),{fullscreenHandler:o}},EL={tableShape:{type:Array,default:()=>[6,4]},onSelected:{type:Function,default:()=>{}}},CL=We({name:"TableShape",props:EL,setup(t){const e=Bt({x:-1,y:-1}),n=()=>{const r=[...t.tableShape];return(!r[2]||r[2]<r[0])&&(r[2]=r[0]),(!r[3]||r[3]<r[3])&&(r[3]=r[1]),r},i=xe(n());return ce(()=>t.tableShape,()=>{i.value=n()}),()=>Q("div",{class:`${I}-table-shape`,onMouseleave:()=>{i.value=n(),e.x=-1,e.y=-1}},[new Array(i.value[1]).fill("").map((r,s)=>Q("div",{class:`${I}-table-shape-row`,key:`table-shape-row-${s}`},[new Array(i.value[0]).fill("").map((o,a)=>Q("div",{class:`${I}-table-shape-col`,key:`table-shape-col-${a}`,onMouseenter:()=>{e.x=s,e.y=a,a+1===i.value[0]&&a+1<i.value[2]?i.value[0]++:a+2<i.value[0]&&i.value[0]>t.tableShape[0]&&i.value[0]--,s+1===i.value[1]&&s+1<i.value[3]?i.value[1]++:s+2<i.value[1]&&i.value[1]>t.tableShape[1]&&i.value[1]--},onClick:()=>{t.onSelected(e)}},[Q("div",{class:[`${I}-table-shape-col-default`,s<=e.x&&a<=e.y&&`${I}-table-shape-col-include`]},null)]))]))])}}),$L=CL,RL={type:{type:String,default:"link"},visible:{type:Boolean,default:!1},onCancel:{type:Function,default:()=>{}},onOk:{type:Function,default:()=>{}}},IL=We({props:RL,setup(t){const e=ke("usedLanguageText"),n=ke("editorId"),i=Nt(()=>{var s,o;switch(t.type){case"link":return(s=e.value.linkModalTips)==null?void 0:s.linkTitle;case"image":return(o=e.value.linkModalTips)==null?void 0:o.imageTitle;default:return""}}),r=Bt({desc:"",url:""});return ce(()=>t.visible,s=>{s||setTimeout(()=>{r.desc="",r.url=""},200)}),()=>Q(vs,{title:i.value,visible:t.visible,onClose:t.onCancel},{default:()=>{var s,o,a,l,u;return[Q("div",{class:`${I}-form-item`},[Q("label",{class:`${I}-label`,for:`link-desc-${n}`},[(s=e.value.linkModalTips)==null?void 0:s.descLabel]),Q("input",{placeholder:(o=e.value.linkModalTips)==null?void 0:o.descLabelPlaceHolder,class:`${I}-input`,id:`link-desc-${n}`,type:"text",value:r.desc,onChange:c=>{r.desc=c.target.value},autocomplete:"off"},null)]),Q("div",{class:`${I}-form-item`},[Q("label",{class:`${I}-label`,for:`link-url-${n}`},[(a=e.value.linkModalTips)==null?void 0:a.urlLabel]),Q("input",{placeholder:(l=e.value.linkModalTips)==null?void 0:l.urlLabelPlaceHolder,class:`${I}-input`,id:`link-url-${n}`,type:"text",value:r.url,onChange:c=>{r.url=c.target.value},autocomplete:"off"},null)]),Q("div",{class:`${I}-form-item`},[Q("button",{class:[`${I}-btn`,`${I}-btn-row`],type:"button",onClick:()=>{t.onOk(r),r.desc="",r.url=""}},[(u=e.value.linkModalTips)==null?void 0:u.buttonOK])])]}})}}),QL={visible:{type:Boolean,default:!1},onCancel:{type:Function,default:()=>{}},onOk:{type:Function,default:()=>{}}},DL=We({props:QL,setup(t){const e=ke("usedLanguageText"),n=ke("editorId");let i=mt.editorExtensions.cropper.instance;const r=xe(),s=xe(),o=xe(),a=Bt({cropperInited:!1,imgSelected:!1,imgSrc:"",isFullscreen:!1});let l=null;ce(()=>t.visible,()=>{t.visible&&!a.cropperInited&&(i=i||window.Cropper,r.value.onchange=()=>{if(!i){X.emit(n,qr,{name:"Cropper",message:"Cropper is undefined"});return}const c=r.value.files||[];if(a.imgSelected=!0,c?.length>0){const f=new FileReader;f.onload=d=>{a.imgSrc=d.target.result,Yn(()=>{l=new i(s.value,{viewMode:2,preview:`.${I}-clip-preview-target`})})},f.readAsDataURL(c[0])}})}),ce(()=>[a.imgSelected],()=>{o.value.style=""}),ce(()=>a.isFullscreen,()=>{Yn(()=>{l?.destroy(),o.value.style="",s.value&&(l=new i(s.value,{viewMode:2,preview:`.${I}-clip-preview-target`}))})});const u=()=>{l.clear(),l.destroy(),l=null,r.value.value="",a.imgSelected=!1};return()=>{var c;return Q(vs,{class:`${I}-modal-clip`,title:(c=e.value.clipModalTips)==null?void 0:c.title,visible:t.visible,onClose:t.onCancel,showAdjust:!0,isFullscreen:a.isFullscreen,onAdjust:f=>{a.isFullscreen=f},width:"668px",height:"421px"},{default:()=>{var f,d;return[Q("div",{class:`${I}-form-item ${I}-clip`},[Q("div",{class:`${I}-clip-main`},[a.imgSelected?Q("div",{class:`${I}-clip-cropper`},[Q("img",{src:a.imgSrc,ref:s,style:{display:"none"},alt:""},null),Q("div",{class:`${I}-clip-delete`,onClick:u},[Q(ye,{name:"delete"},null)])]):Q("div",{class:`${I}-clip-upload`,onClick:()=>{r.value.click()}},[Q(ye,{name:"upload"},null)])]),Q("div",{class:`${I}-clip-preview`},[Q("div",{class:`${I}-clip-preview-target`,ref:o},null)])]),Q("div",{class:`${I}-form-item`},[Q("button",{class:`${I}-btn`,type:"button",onClick:()=>{if(l){const p=l.getCroppedCanvas();X.emit(n,Bc,[y$(p.toDataURL("image/png"))],t.onOk),u()}}},[((f=e.value.clipModalTips)==null?void 0:f.buttonUpload)||((d=e.value.linkModalTips)==null?void 0:d.buttonOK)])]),Q("input",{ref:r,accept:"image/*",type:"file",multiple:!1,style:{display:"none"}},null)]}})}}}),VL={type:{type:String,default:"link"},linkVisible:{type:Boolean,default:!1},clipVisible:{type:Boolean,default:!1},onCancel:{type:Function,default:()=>{}},onOk:{type:Function,default:()=>{}}},ML=We({props:VL,setup(t){return()=>Q(Es,null,[Q(IL,{type:t.type,visible:t.linkVisible,onOk:t.onOk,onCancel:t.onCancel},null),Q(DL,{visible:t.clipVisible,onOk:t.onOk,onCancel:t.onCancel},null)])}}),LL=We({name:"MDEditorToolbar",props:PL,setup(t){const e=ke("editorId"),n=ke("usedLanguageText"),i=ke("theme"),r=ke("previewTheme"),s=ke("language"),{fullscreenHandler:o}=AL(t),a=`${e}-toolbar-wrapper`,l=xe(),u=Bt({title:!1,catalog:!1,image:!1,table:!1,mermaid:!1,katex:!1}),c=(_,S)=>{X.emit(e,Ce,_,S)},f=Bt({type:"link",linkVisible:!1,clipVisible:!1}),d=xe();He(()=>{X.on(e,{name:Bf,callback(_){f.type=_,f.linkVisible=!0}})});const p=Nt(()=>{const _=t.toolbars.filter(D=>!t.toolbarsExclude.includes(D)),S=_.indexOf("="),$=S===-1?_:_.slice(0,S+1),R=S===-1?[]:_.slice(S,Number.MAX_SAFE_INTEGER);return[$,R]}),m=xe(),O=()=>{X.emit(e,Bc,Array.from(m.value.files||[])),m.value.value=""};He(()=>{m.value.addEventListener("change",O)});const y=_=>{var S,$,R,D,L,w,v,T,A,E,C,P,Y,G,ee,he,de,qe,fe,ge,Le,Ee,Wt,rt,ti,ni,ii,jr,ri,vn,$n,_i,wi,Rn,cr,Xr,hr,fo,Wr,po,dl,Ur,Yr,mo,st,ct,fr,go,Oo,pl,xi,bo,yo,Gr,ml,gl,Hr,vo,_o,ki,Kr,Jr,In,wo,dr,xo,Si,ko,ht;if(Kv.includes(_))switch(_){case"-":return Q(TL,null,null);case"bold":return Q("div",{class:`${I}-toolbar-item`,title:(S=n.value.toolbarTips)==null?void 0:S.bold,onClick:()=>{c("bold")}},[Q(ye,{name:"bold"},null),t.showToolbarName&&Q("div",{class:`${I}-toolbar-item-name`},[($=n.value.toolbarTips)==null?void 0:$.bold])]);case"underline":return Q("div",{class:`${I}-toolbar-item`,title:(R=n.value.toolbarTips)==null?void 0:R.underline,onClick:()=>{c("underline")}},[Q(ye,{name:"underline"},null),t.showToolbarName&&Q("div",{class:`${I}-toolbar-item-name`},[(D=n.value.toolbarTips)==null?void 0:D.underline])]);case"italic":return Q("div",{class:`${I}-toolbar-item`,title:(L=n.value.toolbarTips)==null?void 0:L.italic,onClick:()=>{c("italic")}},[Q(ye,{name:"italic"},null),t.showToolbarName&&Q("div",{class:`${I}-toolbar-item-name`},[(w=n.value.toolbarTips)==null?void 0:w.italic])]);case"strikeThrough":return Q("div",{class:`${I}-toolbar-item`,title:(v=n.value.toolbarTips)==null?void 0:v.strikeThrough,onClick:()=>{c("strikeThrough")}},[Q(ye,{name:"strike-through"},null),t.showToolbarName&&Q("div",{class:`${I}-toolbar-item-name`},[(T=n.value.toolbarTips)==null?void 0:T.strikeThrough])]);case"title":return Q(fs,{relative:`#${a}`,visible:u.title,onChange:Oe=>{u.title=Oe},overlay:Q("ul",{class:`${I}-menu`,onClick:()=>{u.title=!1}},[Q("li",{class:`${I}-menu-item ${I}-menu-item-title`,onClick:()=>{c("h1")}},[(A=n.value.titleItem)==null?void 0:A.h1]),Q("li",{class:`${I}-menu-item ${I}-menu-item-title`,onClick:()=>{c("h2")}},[(E=n.value.titleItem)==null?void 0:E.h2]),Q("li",{class:`${I}-menu-item ${I}-menu-item-title`,onClick:()=>{c("h3")}},[(C=n.value.titleItem)==null?void 0:C.h3]),Q("li",{class:`${I}-menu-item ${I}-menu-item-title`,onClick:()=>{c("h4")}},[(P=n.value.titleItem)==null?void 0:P.h4]),Q("li",{class:`${I}-menu-item ${I}-menu-item-title`,onClick:()=>{c("h5")}},[(Y=n.value.titleItem)==null?void 0:Y.h5]),Q("li",{class:`${I}-menu-item ${I}-menu-item-title`,onClick:()=>{c("h6")}},[(G=n.value.titleItem)==null?void 0:G.h6])])},{default:()=>{var Oe,Ue;return[Q("div",{class:`${I}-toolbar-item`,title:(Oe=n.value.toolbarTips)==null?void 0:Oe.title},[Q(ye,{name:"title"},null),t.showToolbarName&&Q("div",{class:`${I}-toolbar-item-name`},[(Ue=n.value.toolbarTips)==null?void 0:Ue.title])])]}});case"sub":return Q("div",{class:`${I}-toolbar-item`,title:(ee=n.value.toolbarTips)==null?void 0:ee.sub,onClick:()=>{c("sub")}},[Q(ye,{name:"sub"},null),t.showToolbarName&&Q("div",{class:`${I}-toolbar-item-name`},[(he=n.value.toolbarTips)==null?void 0:he.sub])]);case"sup":return Q("div",{class:`${I}-toolbar-item`,title:(de=n.value.toolbarTips)==null?void 0:de.sup,onClick:()=>{c("sup")}},[Q(ye,{name:"sup"},null),t.showToolbarName&&Q("div",{class:`${I}-toolbar-item-name`},[(qe=n.value.toolbarTips)==null?void 0:qe.sup])]);case"quote":return Q("div",{class:`${I}-toolbar-item`,title:(fe=n.value.toolbarTips)==null?void 0:fe.quote,onClick:()=>{c("quote")}},[Q(ye,{name:"quote"},null),t.showToolbarName&&Q("div",{class:`${I}-toolbar-item-name`},[(ge=n.value.toolbarTips)==null?void 0:ge.quote])]);case"unorderedList":return Q("div",{class:`${I}-toolbar-item`,title:(Le=n.value.toolbarTips)==null?void 0:Le.unorderedList,onClick:()=>{c("unorderedList")}},[Q(ye,{name:"unordered-list"},null),t.showToolbarName&&Q("div",{class:`${I}-toolbar-item-name`},[(Ee=n.value.toolbarTips)==null?void 0:Ee.unorderedList])]);case"orderedList":return Q("div",{class:`${I}-toolbar-item`,title:(Wt=n.value.toolbarTips)==null?void 0:Wt.orderedList,onClick:()=>{c("orderedList")}},[Q(ye,{name:"ordered-list"},null),t.showToolbarName&&Q("div",{class:`${I}-toolbar-item-name`},[(rt=n.value.toolbarTips)==null?void 0:rt.orderedList])]);case"task":return Q("div",{class:`${I}-toolbar-item`,title:(ti=n.value.toolbarTips)==null?void 0:ti.task,onClick:()=>{c("task")}},[Q(ye,{name:"task"},null),t.showToolbarName&&Q("div",{class:`${I}-toolbar-item-name`},[(ni=n.value.toolbarTips)==null?void 0:ni.task])]);case"codeRow":return Q("div",{class:`${I}-toolbar-item`,title:(ii=n.value.toolbarTips)==null?void 0:ii.codeRow,onClick:()=>{c("codeRow")}},[Q(ye,{name:"code-row"},null),t.showToolbarName&&Q("div",{class:`${I}-toolbar-item-name`},[(jr=n.value.toolbarTips)==null?void 0:jr.codeRow])]);case"code":return Q("div",{class:`${I}-toolbar-item`,title:(ri=n.value.toolbarTips)==null?void 0:ri.code,onClick:()=>{c("code")}},[Q(ye,{name:"code"},null),t.showToolbarName&&Q("div",{class:`${I}-toolbar-item-name`},[(vn=n.value.toolbarTips)==null?void 0:vn.code])]);case"link":return Q("div",{class:`${I}-toolbar-item`,title:($n=n.value.toolbarTips)==null?void 0:$n.link,onClick:()=>{f.type="link",f.linkVisible=!0}},[Q(ye,{name:"link"},null),t.showToolbarName&&Q("div",{class:`${I}-toolbar-item-name`},[(_i=n.value.toolbarTips)==null?void 0:_i.link])]);case"image":return t.noUploadImg?Q("div",{class:`${I}-toolbar-item`,title:(wi=n.value.toolbarTips)==null?void 0:wi.image,onClick:()=>{f.type="image",f.linkVisible=!0}},[Q(ye,{name:"image"},null),t.showToolbarName&&Q("div",{class:`${I}-toolbar-item-name`},[(Rn=n.value.toolbarTips)==null?void 0:Rn.image])]):Q(fs,{relative:`#${a}`,visible:u.image,onChange:Oe=>{u.image=Oe},overlay:Q("ul",{class:`${I}-menu`,onClick:()=>{u.title=!1}},[Q("li",{class:`${I}-menu-item ${I}-menu-item-image`,onClick:()=>{f.type="image",f.linkVisible=!0}},[(cr=n.value.imgTitleItem)==null?void 0:cr.link]),Q("li",{class:`${I}-menu-item ${I}-menu-item-image`,onClick:()=>{m.value.click()}},[(Xr=n.value.imgTitleItem)==null?void 0:Xr.upload]),Q("li",{class:`${I}-menu-item ${I}-menu-item-image`,onClick:()=>{f.clipVisible=!0}},[(hr=n.value.imgTitleItem)==null?void 0:hr.clip2upload])])},{default:()=>{var Oe,Ue;return[Q("div",{class:`${I}-toolbar-item`,title:(Oe=n.value.toolbarTips)==null?void 0:Oe.image},[Q(ye,{name:"image"},null),t.showToolbarName&&Q("div",{class:`${I}-toolbar-item-name`},[(Ue=n.value.toolbarTips)==null?void 0:Ue.image])])]}});case"table":return Q(fs,{relative:`#${a}`,visible:u.table,onChange:Oe=>{u.table=Oe},key:"bar-table",overlay:Q($L,{tableShape:t.tableShape,onSelected:Oe=>{c("table",{selectedShape:Oe})}},null)},{default:()=>{var Oe,Ue;return[Q("div",{class:`${I}-toolbar-item`,title:(Oe=n.value.toolbarTips)==null?void 0:Oe.table},[Q(ye,{name:"table"},null),t.showToolbarName&&Q("div",{class:`${I}-toolbar-item-name`},[(Ue=n.value.toolbarTips)==null?void 0:Ue.table])])]}});case"revoke":return Q("div",{class:`${I}-toolbar-item`,title:(fo=n.value.toolbarTips)==null?void 0:fo.revoke,onClick:()=>{X.emit(e,t_)}},[Q(ye,{name:"revoke"},null),t.showToolbarName&&Q("div",{class:`${I}-toolbar-item-name`},[(Wr=n.value.toolbarTips)==null?void 0:Wr.revoke])]);case"next":return Q("div",{class:`${I}-toolbar-item`,title:(po=n.value.toolbarTips)==null?void 0:po.next,onClick:()=>{X.emit(e,n_)}},[Q(ye,{name:"next"},null),t.showToolbarName&&Q("div",{class:`${I}-toolbar-item-name`},[(dl=n.value.toolbarTips)==null?void 0:dl.next])]);case"save":return Q("div",{class:`${I}-toolbar-item`,title:(Ur=n.value.toolbarTips)==null?void 0:Ur.save,onClick:()=>{X.emit(e,qc)}},[Q(ye,{name:"baocun"},null),t.showToolbarName&&Q("div",{class:`${I}-toolbar-item-name`},[(Yr=n.value.toolbarTips)==null?void 0:Yr.save])]);case"prettier":return t.noPrettier?"":Q("div",{class:`${I}-toolbar-item`,title:(mo=n.value.toolbarTips)==null?void 0:mo.prettier,onClick:()=>{c("prettier")}},[Q(ye,{name:"prettier"},null),t.showToolbarName&&Q("div",{class:`${I}-toolbar-item-name`},[(st=n.value.toolbarTips)==null?void 0:st.prettier])]);case"pageFullscreen":return!t.setting.fullscreen&&Q("div",{class:`${I}-toolbar-item`,title:(ct=n.value.toolbarTips)==null?void 0:ct.pageFullscreen,onClick:()=>{t.updateSetting("pageFullscreen")}},[Q(ye,{name:t.setting.pageFullscreen?"suoxiao":"fangda"},null),t.showToolbarName&&Q("div",{class:`${I}-toolbar-item-name`},[(fr=n.value.toolbarTips)==null?void 0:fr.pageFullscreen])]);case"fullscreen":return Q("div",{class:`${I}-toolbar-item`,title:(go=n.value.toolbarTips)==null?void 0:go.fullscreen,onClick:()=>{o()}},[Q(ye,{name:t.setting.fullscreen?"fullscreen-exit":"fullscreen"},null),t.showToolbarName&&Q("div",{class:`${I}-toolbar-item-name`},[(Oo=n.value.toolbarTips)==null?void 0:Oo.fullscreen])]);case"preview":return Q("div",{class:`${I}-toolbar-item`,title:(pl=n.value.toolbarTips)==null?void 0:pl.preview,onClick:()=>{t.updateSetting("preview")}},[Q(ye,{name:"preview"},null),t.showToolbarName&&Q("div",{class:`${I}-toolbar-item-name`},[(xi=n.value.toolbarTips)==null?void 0:xi.preview])]);case"previewOnly":return Q("div",{class:`${I}-toolbar-item`,title:(bo=n.value.toolbarTips)==null?void 0:bo.previewOnly,onClick:()=>{t.updateSetting("previewOnly")}},[Q(ye,{name:"preview-only"},null),t.showToolbarName&&Q("div",{class:`${I}-toolbar-item-name`},[(yo=n.value.toolbarTips)==null?void 0:yo.previewOnly])]);case"htmlPreview":return Q("div",{class:`${I}-toolbar-item`,title:(Gr=n.value.toolbarTips)==null?void 0:Gr.htmlPreview,onClick:()=>{t.updateSetting("htmlPreview")}},[Q(ye,{name:"coding"},null),t.showToolbarName&&Q("div",{class:`${I}-toolbar-item-name`},[(ml=n.value.toolbarTips)==null?void 0:ml.htmlPreview])]);case"catalog":return Q("div",{class:`${I}-toolbar-item`,title:(gl=n.value.toolbarTips)==null?void 0:gl.catalog,onClick:()=>{X.emit(e,Dp)},key:"bar-catalog"},[Q(ye,{name:"catalog"},null),t.showToolbarName&&Q("div",{class:`${I}-toolbar-item-name`},[(Hr=n.value.toolbarTips)==null?void 0:Hr.catalog])]);case"github":return Q("div",{class:`${I}-toolbar-item`,title:(vo=n.value.toolbarTips)==null?void 0:vo.github,onClick:()=>t$("https://github.com/imzbf/md-editor-v3")},[Q(ye,{name:"github"},null),t.showToolbarName&&Q("div",{class:`${I}-toolbar-item-name`},[(_o=n.value.toolbarTips)==null?void 0:_o.github])]);case"mermaid":return Q(fs,{relative:`#${a}`,visible:u.mermaid,onChange:Oe=>{u.mermaid=Oe},overlay:Q("ul",{class:`${I}-menu`,onClick:()=>{u.mermaid=!1}},[Q("li",{class:`${I}-menu-item ${I}-menu-item-mermaid`,onClick:()=>{c("flow")}},[(ki=n.value.mermaid)==null?void 0:ki.flow]),Q("li",{class:`${I}-menu-item ${I}-menu-item-mermaid`,onClick:()=>{c("sequence")}},[(Kr=n.value.mermaid)==null?void 0:Kr.sequence]),Q("li",{class:`${I}-menu-item ${I}-menu-item-mermaid`,onClick:()=>{c("gantt")}},[(Jr=n.value.mermaid)==null?void 0:Jr.gantt]),Q("li",{class:`${I}-menu-item ${I}-menu-item-mermaid`,onClick:()=>{c("class")}},[(In=n.value.mermaid)==null?void 0:In.class]),Q("li",{class:`${I}-menu-item ${I}-menu-item-mermaid`,onClick:()=>{c("state")}},[(wo=n.value.mermaid)==null?void 0:wo.state]),Q("li",{class:`${I}-menu-item ${I}-menu-item-mermaid`,onClick:()=>{c("pie")}},[(dr=n.value.mermaid)==null?void 0:dr.pie]),Q("li",{class:`${I}-menu-item ${I}-menu-item-mermaid`,onClick:()=>{c("relationship")}},[(xo=n.value.mermaid)==null?void 0:xo.relationship]),Q("li",{class:`${I}-menu-item ${I}-menu-item-mermaid`,onClick:()=>{c("journey")}},[(Si=n.value.mermaid)==null?void 0:Si.journey])]),key:"bar-mermaid"},{default:()=>{var Oe,Ue;return[Q("div",{class:`${I}-toolbar-item`,title:(Oe=n.value.toolbarTips)==null?void 0:Oe.mermaid},[Q(ye,{name:"mermaid"},null),t.showToolbarName&&Q("div",{class:`${I}-toolbar-item-name`},[(Ue=n.value.toolbarTips)==null?void 0:Ue.mermaid])])]}});case"katex":return Q(fs,{relative:`#${a}`,visible:u.katex,onChange:Oe=>{u.katex=Oe},overlay:Q("ul",{class:`${I}-menu`,onClick:()=>{u.katex=!1}},[Q("li",{class:`${I}-menu-item ${I}-menu-item-katex`,onClick:()=>{c("katexInline")}},[(ko=n.value.katex)==null?void 0:ko.inline]),Q("li",{class:`${I}-menu-item ${I}-menu-item-katex`,onClick:()=>{c("katexBlock")}},[(ht=n.value.katex)==null?void 0:ht.block])]),key:"bar-katex"},{default:()=>{var Oe,Ue;return[Q("div",{class:`${I}-toolbar-item`,title:(Oe=n.value.toolbarTips)==null?void 0:Oe.katex},[Q(ye,{name:"formula"},null),t.showToolbarName&&Q("div",{class:`${I}-toolbar-item-name`},[(Ue=n.value.toolbarTips)==null?void 0:Ue.katex])])]}})}else if(t.defToolbars instanceof Array){const Oe=t.defToolbars[_];return Oe?wf(Oe,{theme:i.value,previewTheme:r.value,language:s.value,insert(si){X.emit(e,Ce,"universal",{generate:si})}}):""}else if(t.defToolbars&&t.defToolbars.children instanceof Array){const Oe=t.defToolbars.children[_];return Oe?wf(Oe,{theme:i.value,previewTheme:r.value,language:s.value,insert(si){X.emit(e,Ce,"universal",{generate:si})}}):""}else return""};return ce(()=>t.toolbars,()=>{Yn(()=>{l.value&&i$(l.value)})},{immediate:!0}),()=>{const _=p.value[0].map($=>y($)),S=p.value[1].map($=>y($));return Q(Es,null,[t.toolbars.length>0&&Q("div",{class:`${I}-toolbar-wrapper`,ref:l,id:a},[Q("div",{class:[`${I}-toolbar`,t.showToolbarName&&`${I}-stn`]},[Q("div",{class:`${I}-toolbar-left`,ref:d},[_]),Q("div",{class:`${I}-toolbar-right`},[S])])]),Q("input",{ref:m,accept:"image/*",type:"file",multiple:!0,style:{display:"none"}},null),Q(ML,{linkVisible:f.linkVisible,clipVisible:f.clipVisible,type:f.type,onCancel:()=>{f.linkVisible=!1,f.clipVisible=!1},onOk:$=>{$&&c(f.type,{desc:$.desc,url:$.url,transform:f.type==="image"}),f.linkVisible=!1,f.clipVisible=!1}},null)])}}}),FL=`.${I}-preview > [data-line]`,NL=(t,e)=>{const n=Qp(()=>{t.removeEventListener("scroll",i),t.addEventListener("scroll",i),e.removeEventListener("scroll",i),e.addEventListener("scroll",i)},50),i=r=>{const s=t.clientHeight,o=e.clientHeight,a=t.scrollHeight,l=e.scrollHeight,u=(a-s)/(l-o);r.target===t?(e.removeEventListener("scroll",i),e.scrollTo({top:t.scrollTop/u}),n()):(t.removeEventListener("scroll",i),t.scrollTo({top:e.scrollTop*u}),n())};return[()=>{n().finally(()=>{t.dispatchEvent(new Event("scroll"))})},()=>{t.removeEventListener("scroll",i),e.removeEventListener("scroll",i)}]},ZL=(t,e,n)=>{const{view:i}=n,r=n$(),s=y=>i.lineBlockAt(i.state.doc.line(y).from).top,o=y=>i.lineBlockAt(i.state.doc.line(y).from).height;let a=[],l=[],u=[];const c=()=>{a=[],l=[],u=[],l=l.concat(Array.from(e.querySelectorAll(FL)));const y=l.map(R=>Number(R.dataset.line)+1);u=u.concat(y);const{lines:_}=i.state.doc;let S=1,$=y.shift()??_;for(let R=1;R<=_;R++)R===$&&(S=R,$=y.shift()||_+1),a.push({start:S,end:$-1})};let f=0,d=0;const p=()=>{var y,_;if(d!==0)return!1;f++;const{scrollDOM:S,contentHeight:$}=i;let R=+getComputedStyle(e).paddingTop.replace("px","");const D=i.lineBlockAtHeight(S.scrollTop),{number:L}=i.state.doc.lineAt(D.from),w=a[L-1];if(!w)return!1;let v=s(w.end)+o(w.end),T=0;const A=s(w.start),E=e.querySelector(`[data-line="${w.start-1}"]`)||((y=e.firstElementChild)==null?void 0:y.firstElementChild),C=e.querySelector(`[data-line="${w.end}"]`)||((_=e.lastElementChild)==null?void 0:_.lastElementChild);let P=0,Y=0;A===0?(T=S.scrollTop/v,E===C?(R=0,v=$-S.offsetHeight,P=C.offsetTop+C.offsetHeight-e.clientHeight):P=C.offsetTop):(T=(S.scrollTop-A)/(v-A),Y=E.offsetTop,P=C.offsetTop-Y),v>=S.scrollHeight-S.clientHeight&&(T=(S.scrollTop-A)/(S.scrollHeight-S.clientHeight-A),Y=E.offsetTop,P=e.scrollHeight-e.clientHeight-Y+10);const G=Y-R+P*T;r(e,G,()=>{f--})},m=()=>{var y,_,S,$,R,D;if(f!==0)return;d++;const{scrollDOM:L}=i,w=e.scrollTop,v=e.scrollHeight;let T=(y=e.firstElementChild)==null?void 0:y.firstElementChild,A=(_=e.firstElementChild)==null?void 0:_.lastElementChild;if(u.length>0){let qe=Math.ceil(Number(u[u.length-1])*(w/v)),fe=u.findLastIndex(ge=>ge<=qe);fe=fe===-1?0:fe,qe=u[fe];for(let ge=fe;ge>=0&&ge<u.length;)if(l[ge].offsetTop>w){if(ge-1>=0){ge--;continue}qe=-1,fe=ge;break}else{if(ge+1<u.length&&l[ge+1].offsetTop<w){ge++;continue}qe=u[ge],fe=ge;break}switch(qe){case-1:{T=(S=e.firstElementChild)==null?void 0:S.firstElementChild,A=l[fe];break}case u.length-1:{T=l[fe],A=($=e.firstElementChild)==null?void 0:$.lastElementChild;break}default:T=l[fe],A=l[fe+1===l.length?fe:fe+1]}}const E=T===((R=e.firstElementChild)==null?void 0:R.firstElementChild)?0:T.offsetTop;let C=A.offsetTop,P=0;const{start:Y,end:G}=a[Number(T.dataset.line||0)],ee=s(Y);let he=s(G===i.state.doc.lines?G:G+1),de=0;he>L.scrollHeight-L.clientHeight||A.scrollTop>e.scrollHeight-e.clientHeight?(P=Math.max((w-E)/(e.scrollHeight-E-e.clientHeight),0),he=s(i.state.doc.lines)+o(i.state.doc.lines),de=8+he-ee-t.clientHeight):T===((D=e.firstElementChild)==null?void 0:D.firstElementChild)?(T===A&&(C=A.offsetTop+A.offsetHeight+ +getComputedStyle(A).marginBottom.replace("px","")),de=he,P=Math.max(w/C,0)):(P=Math.max((w-E)/(C-E),0),de=he-ee),r(t,ee+de*P,()=>{d--})},O=Gv(y=>{var _;const{scrollDOM:S,contentHeight:$}=i,R=S.clientHeight;if($<=R||e.firstElementChild.clientHeight<=e.clientHeight||i.state.doc.lines<((_=a[a.length-1])==null?void 0:_.end))return!1;y.target===t?p():m()},1);return[()=>{c(),t.addEventListener("scroll",O),e.addEventListener("scroll",O),t.dispatchEvent(new Event("scroll"))},()=>{t.removeEventListener("scroll",O),e.removeEventListener("scroll",O)}]},zL=(t,e,n)=>{const i=ke("editorId");let r=()=>{},s=()=>{};const o=()=>{r();const a=document.querySelector(`#${i} .cm-scroller`),l=document.querySelector(`[id="${i}-preview-wrapper"]`),u=document.querySelector(`[id="${i}-html-wrapper"]`);(l||u)&&([s,r]=(l?ZL:NL)(a,l||u,n.value),t.scrollAuto&&s())};ce([e,Ni(t.setting,"preview"),Ni(t.setting,"htmlPreview"),Ni(t.setting,"fullscreen"),Ni(t.setting,"pageFullscreen")],()=>{Yn(o)}),ce(()=>t.scrollAuto,a=>{a?s():r()}),ce(()=>t.setting.previewOnly,a=>{a?r():s()}),He(o)},yf=(t,e,n)=>{var i;let r="",s=0,o=0,a=!0,l=!1;const u=e.getSelectedText(),c=mt.editorConfig.mermaidTemplate;if(/^h[1-6]{1}$/.test(t)){const f=t.replace(/^h(\d)/,(d,p)=>new Array(Number(p)).fill("#",0,p).join(""));r=`${f} ${u}`,s=f.length+1}else if(t==="prettier"){const f=window.prettier||mt.editorExtensions.prettier.prettierInstance,d=[((i=window.prettierPlugins)==null?void 0:i.markdown)||mt.editorExtensions.prettier.parserMarkdownInstance];!f||d[0]===void 0?(X.emit(n.editorId,qr,{name:"prettier",message:"prettier is undefined"}),r=e.getValue()):r=f.format(e.getValue(),{parser:"markdown",plugins:d}),a=!1,l=!0}else switch(t){case"bold":{r=`**${u}**`,s=2,o=-2;break}case"underline":{r=`<u>${u}</u>`,s=3,o=-4;break}case"italic":{r=`*${u}*`,s=1,o=-1;break}case"strikeThrough":{r=`~~${u}~~`,s=2,o=-2;break}case"sub":{r=`<sub>${u}</sub>`,s=5,o=-6;break}case"sup":{r=`<sup>${u}</sup>`,s=5,o=-6;break}case"codeRow":{r="`"+u+"`",s=1,o=-1;break}case"quote":{r=`> ${u}`,s=2;break}case"orderedList":{r=`1. ${u}`,s=3;break}case"unorderedList":{r=`- ${u}`,s=2;break}case"task":{r=`- [ ] ${u}`,s=6;break}case"code":{const f=n.text||u||"",d=n.mode||"language";r=`\`\`\`${d}
${f}
\`\`\`
`,s=3,o=3+d.length-r.length;break}case"table":{r="|";const{selectedShape:f={x:1,y:1}}=n,{x:d,y:p}=f;for(let m=0;m<=p;m++)r+=" col |";r+=`
|`;for(let m=0;m<=p;m++)r+=" - |";for(let m=0;m<=d;m++){r+=`
|`;for(let O=0;O<=p;O++)r+=" content |"}s=2,o=5-r.length;break}case"link":{const{desc:f,url:d}=n;r=`[${f}](${d})`,a=!1;break}case"image":{const{desc:f,url:d,urls:p}=n;p instanceof Array?r=p.reduce((m,O)=>{const{url:y="",alt:_="",title:S=""}=typeof O=="object"?O:{url:O};return m+`![${_}](${y}${S?" '"+S+"'":""})
`},""):r=`![${f}](${d})
`,a=!1;break}case"flow":{r=`\`\`\`mermaid
${c?.flow||`flowchart TD 
  Start --> Stop`}
\`\`\`
`,s=3,o=10-r.length;break}case"sequence":{r=`\`\`\`mermaid
${c?.sequence||`sequenceDiagram
  A->>B: hello!
  B-->>A: hi!
  A-)B: bye!`}
\`\`\`
`,s=3,o=10-r.length;break}case"gantt":{r=`\`\`\`mermaid
${c?.gantt||`gantt
title A Gantt Diagram
dateFormat  YYYY-MM-DD
section Section
A task  :a1, 2014-01-01, 30d
Another task  :after a1, 20d`}
\`\`\`
`,s=3,o=10-r.length;break}case"class":{r=`\`\`\`mermaid
${c?.class||`classDiagram
  class Animal
  Vehicle <|-- Car`}
\`\`\`
`,s=3,o=10-r.length;break}case"state":{r=`\`\`\`mermaid
${c?.state||`stateDiagram-v2
  s1 --> s2`}
\`\`\`
`,s=3,o=10-r.length;break}case"pie":{r=`\`\`\`mermaid
${c?.pie||`pie title Pets adopted by volunteers
  "Dogs" : 386
  "Cats" : 85
  "Rats" : 15`}
\`\`\`
`,s=3,o=10-r.length;break}case"relationship":{r=`\`\`\`mermaid
${c?.relationship||`erDiagram
  CAR ||--o{ NAMED-DRIVER : allows
  PERSON ||--o{ NAMED-DRIVER : is`}
\`\`\`
`,s=3,o=10-r.length;break}case"journey":{r=`\`\`\`mermaid
${c?.journey||`journey
  title My working day
  section Go to work
    Make tea: 5: Me
    Go upstairs: 3: Me
    Do work: 1: Me, Cat
  section Go home
    Go downstairs: 5: Me
    Sit down: 5: Me`}
\`\`\`
`,s=3,o=10-r.length;break}case"katexInline":{r="$$",s=1,o=-1;break}case"katexBlock":{r=`$$

$$
`,s=3,o=-4;break}case"universal":{const{generate:f}=n,d=f(u);r=d.targetValue,a=d.select??!0,s=d.deviationStart||0,o=d.deviationEnd||0}}return{text:r,options:{select:a,deviationStart:s,deviationEnd:o,replaceAll:l}}},qL="#e5c07b",Qb="var(--md-color)",BL="#56b6c2",jL="#ffffff",na="var(--md-color)",Db="#e5c07b",XL="#e5c07b",WL="var(--md-color)",Vb="#d19a66",UL="#c678dd",YL="#21252b",GL="#2c313a",Mb="var(--md-bk-color)",vf="var(--md-bk-color)",HL="#ceedfa33",Lb="#528bff",KL=J.theme({"&":{color:na,backgroundColor:Mb},".cm-content":{caretColor:Lb},".cm-cursor, .cm-dropCursor":{borderLeftColor:Lb},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:HL},".cm-panels":{backgroundColor:YL,color:na},".cm-panels.cm-panels-top":{borderBottom:"1px solid var(--md-border-color)"},".cm-panels.cm-panels-bottom":{borderTop:"1px solid var(--md-border-color)"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#ceedfa33"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:Mb,color:na,borderRight:"1px solid",borderColor:"var(--md-border-color)"},".cm-activeLineGutter":{backgroundColor:GL},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"1px solid var(--md-border-color)",backgroundColor:vf},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:vf,borderBottomColor:vf},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{color:na}}},{dark:!0}),JL=ao.define([{tag:x.keyword,color:UL},{tag:[x.name,x.deleted,x.character,x.propertyName,x.macroName],color:Qb},{tag:[x.function(x.variableName),x.labelName],color:XL},{tag:[x.color,x.constant(x.name),x.standard(x.name)],color:Vb},{tag:[x.definition(x.name),x.separator],color:na},{tag:[x.typeName,x.className,x.number,x.changed,x.annotation,x.modifier,x.self,x.namespace],color:qL},{tag:[x.operator,x.operatorKeyword,x.url,x.escape,x.regexp,x.link,x.special(x.string)],color:BL},{tag:[x.meta,x.comment],color:Db},{tag:x.strong,fontWeight:"bold"},{tag:x.emphasis,fontStyle:"italic"},{tag:x.strikethrough,textDecoration:"line-through"},{tag:x.link,color:Db,textDecoration:"underline"},{tag:x.heading,fontWeight:"bold",color:Qb},{tag:[x.atom,x.bool,x.special(x.variableName)],color:Vb},{tag:[x.processingInstruction,x.string,x.inserted],color:WL},{tag:x.invalid,color:jL}]),Fb=[KL,Fw(JL)],eF="#e5c07b",Nb="#3f4a54",tF="#56b6c2",nF="#fff",ia="#3f4a54",Zb="#2d8cf0",iF="#2d8cf0",rF="#3f4a54",zb="#d19a66",sF="#c678dd",oF="#f6f6f6",aF="#ceedfa33",qb="var(--md-bk-color)",_f="var(--md-bk-color)",lF="#bad5fa",Bb="#3f4a54",uF=J.theme({"&":{color:ia,backgroundColor:qb},".cm-content":{caretColor:Bb},".cm-cursor, .cm-dropCursor":{borderLeftColor:Bb},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:lF},".cm-panels":{backgroundColor:oF,color:ia},".cm-panels.cm-panels-top":{borderBottom:"1px solid var(--md-border-color)"},".cm-panels.cm-panels-bottom":{borderTop:"1px solid var(--md-border-color)"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#ceedfa33"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:qb,color:ia,borderRight:"1px solid",borderColor:"var(--md-border-color)"},".cm-activeLineGutter":{backgroundColor:aF},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"1px solid var(--md-border-color)",backgroundColor:_f},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:_f,borderBottomColor:_f},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{color:ia}}}),cF=ao.define([{tag:x.keyword,color:sF},{tag:[x.name,x.deleted,x.character,x.propertyName,x.macroName],color:Nb},{tag:[x.function(x.variableName),x.labelName],color:iF},{tag:[x.color,x.constant(x.name),x.standard(x.name)],color:zb},{tag:[x.definition(x.name),x.separator],color:ia},{tag:[x.typeName,x.className,x.number,x.changed,x.annotation,x.modifier,x.self,x.namespace],color:eF},{tag:[x.operator,x.operatorKeyword,x.url,x.escape,x.regexp,x.link,x.special(x.string)],color:tF},{tag:[x.meta,x.comment],color:Zb},{tag:x.strong,fontWeight:"bold"},{tag:x.emphasis,fontStyle:"italic"},{tag:x.strikethrough,textDecoration:"line-through"},{tag:x.link,color:Zb,textDecoration:"underline"},{tag:x.heading,fontWeight:"bold",color:Nb},{tag:[x.atom,x.bool,x.special(x.variableName)],color:zb},{tag:[x.processingInstruction,x.string,x.inserted],color:rF},{tag:x.invalid,color:nF}]),jb=[uF,Fw(cF)],fu=(t,e,n,i,r)=>(s,o,a,l)=>{const u=`${t}${e}`.slice(l-a);s.dispatch(s.state.replaceSelection(`${u}${n}${i}`));const c=a+o.label.length+(r==="title"?n.length:0);s.dispatch({selection:Z.create([Z.range(a+o.label.length+(r==="title"?1:-e.length),c),Z.cursor(c)],1)}),s.focus()},Xb=t=>(e,n,i,r)=>{const s=t.slice(r-i);e.dispatch(e.state.replaceSelection(`${s} `))},Wb=t=>{const e=n=>{const i=n.matchBefore(/^#+|^-\s*\[*\s*\]*|`+|\[|!\[*|^\|\s?\|?|\$\$?|!+\s*\w*/);return i===null||i.from==i.to&&n.explicit?null:{from:i.from,options:[...["h1","h2","h3","h4","h5","h6"].map((r,s)=>{const o=new Array(s+1).fill("#").join("");return{label:o,type:"text",apply:Xb(o)}}),...["unchecked","checked"].map(r=>{const s=r==="checked"?"- [x]":"- [ ]";return{label:s,type:"text",apply:Xb(s)}}),...[["`",""],["```","language"],["```mermaid\n",""]].map(r=>({label:`${r[0]}${r[1]}`,type:"text",apply:fu(r[0],r[1],"",r[0]==="`"?"`":"\n```","type")})),{label:"[]()",type:"text"},{label:"![]()",type:"text"},{label:"| |",type:"text",detail:"table",apply:`| col | col | col |
| - | - | - |
| content | content | content |
| content | content | content |`},{label:"$",type:"text",apply:fu("$","","","$","type")},{label:"$$",type:"text",apply:fu("$$","",`
`,`
$$`,"title")},...["note","abstract","info","tip","success","question","warning","failure","danger","bug","example","quote","hint","caution","error","attention"].map(r=>({label:`!!! ${r}`,type:"text",apply:fu("!!!",` ${r}`," Title",`

!!!`,"title")}))]}};return DI({override:t?[e,...t]:[e]})},ls=t=>{const e=new Fn;return i=>(e.get(t.state)?t.dispatch({effects:e.reconfigure(i)}):t.dispatch({effects:Pe.appendConfig.of(e.of(i))}),!0)};class hF{constructor(e){Ri(this,"view"),Ri(this,"maxLength",Number.MAX_SAFE_INTEGER),Ri(this,"toggleTabSize"),Ri(this,"togglePlaceholder"),Ri(this,"setExtensions"),Ri(this,"toggleDisabled"),Ri(this,"toggleReadOnly"),Ri(this,"toggleMaxlength"),this.view=e,this.toggleTabSize=ls(this.view),this.togglePlaceholder=ls(this.view),this.setExtensions=ls(this.view),this.toggleDisabled=ls(this.view),this.toggleReadOnly=ls(this.view),this.toggleMaxlength=ls(this.view)}getValue(){return this.view.state.doc.toString()}setValue(e,n=0,i=this.view.state.doc.length){this.view.dispatch({changes:{from:n,to:i,insert:e}})}getSelectedText(){const{from:e,to:n}=this.view.state.selection.main;return this.view.state.sliceDoc(e,n)}replaceSelectedText(e,n={select:!0,deviationStart:0,deviationEnd:0,replaceAll:!1},i){try{if(n.replaceAll){if(this.setValue(e),e.length>this.maxLength)throw new Error("The input text is too long");return}if(this.view.state.doc.length-this.getSelectedText().length+e.length>this.maxLength)throw new Error("The input text is too long");const{from:r}=this.view.state.selection.main;if(this.view.dispatch(this.view.state.replaceSelection(e)),n.select){const s=r+e.length+n.deviationEnd;this.view.dispatch({selection:Z.create([Z.range(r+n.deviationStart,s),Z.cursor(s)],1)})}this.view.focus()}catch(r){if(r.message==="The input text is too long")X.emit(i,qr,{name:"overlength",message:r.message,data:e});else throw r}}setTabSize(e){this.toggleTabSize([_e.tabSize.of(e),oo.of(" ".repeat(e))])}setPlaceholder(e){this.togglePlaceholder(TR(e))}focus(e){if(this.view.focus(),!e)return;let n=0,i=0,r=0;switch(e){case"start":break;case"end":{n=i=r=this.getValue().length;break}default:n=e.rangeAnchor||e.cursorPos,i=e.rangeHead||e.cursorPos,r=e.cursorPos}this.view.dispatch({scrollIntoView:!0,selection:Z.create([Z.range(n,i),Z.cursor(r)],1)})}setDisabled(e){this.toggleDisabled([J.editable.of(!e)])}setReadOnly(e){this.toggleReadOnly([_e.readOnly.of(e)])}setMaxLength(e){this.maxLength=e,this.toggleMaxlength([_e.changeFilter.of(n=>n.newDoc.length<=e)])}}const fF=(t,e)=>{const n=ke("editorId"),i=s=>{s instanceof Promise?s.then(o=>{X.emit(n,Ce,"universal",{generate(){return{targetValue:o}}})}).catch(o=>{console.error(o)}):X.emit(n,Ce,"universal",{generate(){return{targetValue:s}}})};return s=>{var o,a,l;if(!s.clipboardData)return;if(s.clipboardData.files.length>0){const{files:O}=s.clipboardData;X.emit(n,Bc,Array.from(O).filter(y=>/image\/.*/.test(y.type))),s.preventDefault();return}const u=s.clipboardData.getData("text/plain"),c=((o=e.value)==null?void 0:o.view.state.selection.main.to)||0,f=((a=e.value)==null?void 0:a.view.state.doc.lineAt(c).from)||0,d=((l=e.value)==null?void 0:l.view.state.doc.sliceString(f,c))||"",p=/!\[.*\]\(\s*$/.test(d),m=/!\[.*\]\((.*)\s?.*\)/.test(u);if(p){const O=t.transformImgUrl(u);i(O),s.preventDefault();return}else if(m){const O=u.match(new RegExp(`(?<=!\\[.*\\]\\()([^)\\s]+)(?=\\s?["']?.*["']?\\))`,"g"));O?Promise.all(O.map(y=>t.transformImgUrl(y))).then(y=>{i(y.reduce((_,S,$)=>_.replace(O[$],S),u))}):i(u),s.preventDefault();return}if(t.autoDetectCode&&s.clipboardData.types.includes("vscode-editor-data")){const O=JSON.parse(s.clipboardData.getData("vscode-editor-data"));X.emit(n,Ce,"code",{mode:O.mode,text:s.clipboardData.getData("text/plain")}),s.preventDefault();return}t.maxlength&&u.length+t.modelValue.length>t.maxlength&&X.emit(n,qr,{name:"overlength",message:"The input text is too long",data:u})}},dF=(t,e)=>[{key:"Ctrl-b",mac:"Cmd-b",run:()=>(X.emit(t,Ce,"bold"),!0)},{key:"Ctrl-d",mac:"Cmd-d",run:_x,preventDefault:!0},{key:"Ctrl-s",mac:"Cmd-s",run:R=>(X.emit(t,qc,R.state.doc.toString()),!0),shift:()=>(X.emit(t,Ce,"strikeThrough"),!0)},{key:"Ctrl-u",mac:"Cmd-u",run:()=>(X.emit(t,Ce,"underline"),!0),shift:()=>(X.emit(t,Ce,"unorderedList"),!0)},{key:"Ctrl-i",mac:"Cmd-i",run:()=>(X.emit(t,Ce,"italic"),!0),shift:()=>(X.emit(t,Bf,"image"),!0)},{key:"Ctrl-1",mac:"Cmd-1",run:()=>(X.emit(t,Ce,"h1"),!0)},{key:"Ctrl-2",mac:"Cmd-2",run:()=>(X.emit(t,Ce,"h2"),!0)},{key:"Ctrl-3",mac:"Cmd-3",run:()=>(X.emit(t,Ce,"h3"),!0)},{key:"Ctrl-4",mac:"Cmd-4",run:()=>(X.emit(t,Ce,"h4"),!0)},{key:"Ctrl-5",mac:"Cmd-5",run:()=>(X.emit(t,Ce,"h5"),!0)},{key:"Ctrl-6",mac:"Cmd-6",run:()=>(X.emit(t,Ce,"h6"),!0)},{key:"Ctrl-ArrowUp",mac:"Cmd-ArrowUp",run:()=>(X.emit(t,Ce,"sup"),!0)},{key:"Ctrl-ArrowDown",mac:"Cmd-ArrowDown",run:()=>(X.emit(t,Ce,"sub"),!0)},{key:"Ctrl-o",mac:"Cmd-o",run:()=>(X.emit(t,Ce,"orderedList"),!0)},{key:"Ctrl-c",mac:"Cmd-c",shift:()=>(X.emit(t,Ce,"code"),!0),any(R,D){return(D.ctrlKey||D.metaKey)&&D.altKey&&D.code==="KeyC"?(X.emit(t,Ce,"codeRow"),!0):!1}},{key:"Ctrl-l",mac:"Cmd-l",run:()=>(X.emit(t,Bf,"link"),!0)},{key:"Ctrl-f",mac:"Cmd-f",shift:()=>e.noPrettier?!1:(X.emit(t,Ce,"prettier"),!0)},{any:(R,D)=>(D.ctrlKey||D.metaKey)&&D.altKey&&D.shiftKey&&D.code==="KeyT"?(X.emit(t,Ce,"table"),!0):!1},...U4],pF=t=>{const e=ke("tabWidth"),n=ke("editorId"),i=ke("theme"),r=xe(),s=Ar(),o=new Fn,a=new Fn,l=new Fn,u=new Fn,c=new Fn,f=dF(n,t),d=xe(!1),m={paste:fF(t,s),blur:t.onBlur,focus:t.onFocus,drop:t.onDrop,compositionstart:()=>{d.value=!0},compositionend:(_,S)=>{d.value=!1,t.updateModelValue(S.state.doc.toString())},input:_=>{t.onInput&&t.onInput(_);const{data:S}=_;t.maxlength&&t.modelValue.length+S.length>t.maxlength&&X.emit(n,qr,{name:"overlength",message:"The input text is too long",data:S})}},O=[rl.of([...C4,...N5,...f,$4]),u.of(JO()),o.of(o2({codeLanguages:LI})),J.lineWrapping,J.updateListener.of(_=>{_.docChanged&&(t.onChange(_.state.doc.toString()),d.value||t.updateModelValue(_.state.doc.toString()))}),c.of(J.domEventHandlers(m))],y=()=>{const _=[...O,a.of(i.value==="light"?jb:Fb),l.of(Wb(t.completions))];return mt.codeMirrorExtensions(i.value,_,[...f])};return He(()=>{const _=new J({doc:t.modelValue,parent:r.value,extensions:[y()]}),S=new hF(_);s.value=S,setTimeout(()=>{S.setTabSize(e),S.setDisabled(t.disabled),S.setReadOnly(t.readonly),t.placeholder&&S.setPlaceholder(t.placeholder),typeof t.maxlength=="number"&&S.setMaxLength(t.maxlength),t.autofocus&&_.focus()},0),X.on(n,{name:t_,callback(){im(_)}}),X.on(n,{name:n_,callback(){lc(_)}}),X.on(n,{name:Ce,callback($,R={}){var D,L;if($==="image"&&R.transform){const w=t.transformImgUrl(R.url);if(w instanceof Promise)w.then(v=>{var T;const{text:A,options:E}=yf($,s.value,{...R,url:v});(T=s.value)==null||T.replaceSelectedText(A,E,n)}).catch(v=>{console.error(v)});else{const{text:v,options:T}=yf($,s.value,{...R,url:w});(D=s.value)==null||D.replaceSelectedText(v,T,n)}}else{const{text:w,options:v}=yf($,s.value,R);(L=s.value)==null||L.replaceSelectedText(w,v,n)}}}),X.on(n,{name:r_,callback:Gv($=>{var R;const D={...m},L=Object.keys(m);for(const w in $){const v=w;L.includes(v)?D[v]=(T,A)=>{$[v](T,A),T.defaultPrevented||m[v](T,A)}:D[v]=$[v]}(R=s.value)==null||R.view.dispatch({effects:c.reconfigure(J.domEventHandlers(D))})})})}),ce(i,()=>{var _;(_=s.value)==null||_.view.dispatch({effects:a.reconfigure(i.value==="light"?jb:Fb)})},{deep:!0}),ce(()=>t.completions,()=>{var _;(_=s.value)==null||_.view.dispatch({effects:l.reconfigure(Wb(t.completions))})},{deep:!0}),ce(()=>t.modelValue,()=>{var _,S;((_=s.value)==null?void 0:_.getValue())!==t.modelValue&&((S=s.value)==null||S.setValue(t.modelValue))}),ce(()=>t.placeholder,()=>{var _;(_=s.value)==null||_.setPlaceholder(t.placeholder)}),ce(()=>t.disabled,()=>{var _;(_=s.value)==null||_.setDisabled(t.disabled)}),ce(()=>t.readonly,()=>{var _;(_=s.value)==null||_.setDisabled(t.readonly)}),ce(()=>t.maxlength,()=>{var _;t.maxlength&&((_=s.value)==null||_.setMaxLength(t.maxlength))}),{inputWrapperRef:r,codeMirrorUt:s,resetHistory(){var _,S;(_=s.value)==null||_.view.dispatch({effects:u.reconfigure([])}),(S=s.value)==null||S.view.dispatch({effects:u.reconfigure(JO())})}}},mF=(t,e,n)=>{const i=Bt({resizedWidth:t.inputBoxWitdh}),r=Bt({width:t.inputBoxWitdh}),s=Bt({left:t.inputBoxWitdh,display:"initial"}),o=u=>{var c,f,d;const p=((c=e.value)==null?void 0:c.offsetWidth)||0,m=((f=e.value)==null?void 0:f.getBoundingClientRect().x)||0;let O=u.x-m;O<Dl?O=Dl:O>p-Dl&&(O=p-Dl);const y=`${O}px`;r.width=y,s.left=y,i.resizedWidth=y,(d=t.onInputBoxWitdhChange)==null||d.call(t,y)},a=()=>{document.addEventListener("mousemove",o)},l=()=>{document.removeEventListener("mousemove",o)};return ce([n],()=>{var u,c;(u=n.value)==null||u.addEventListener("mousedown",a),(c=n.value)==null||c.addEventListener("mouseup",l)},{immediate:!0}),Wa(()=>{var u,c;(u=n.value)==null||u.removeEventListener("mousedown",a),(c=n.value)==null||c.removeEventListener("mouseup",l)}),ce(()=>t.inputBoxWitdh,u=>{u&&(r.width=u,s.left=u)}),ce([Ni(t.setting,"htmlPreview"),Ni(t.setting,"preview")],()=>{!t.setting.htmlPreview&&!t.setting.preview?(r.width="100%",s.display="none"):(r.width=i.resizedWidth,s.display="initial")},{immediate:!0}),ce(()=>t.setting.previewOnly,u=>{u?(r.width="0%",s.display="none"):(r.width=i.resizedWidth,s.display="initial")}),{inputWrapperStyle:r,resizeOperateStyle:s}},gF=We({name:"MDEditorContent",props:oL,setup(t,e){const n=ke("editorId"),i=xe(""),r=xe(),s=xe(),{inputWrapperRef:o,codeMirrorUt:a,resetHistory:l}=pF(t),{inputWrapperStyle:u,resizeOperateStyle:c}=mF(t,r,s);return zL(t,i,a),e.expose({getSelectedText(){var f;return(f=a.value)==null?void 0:f.getSelectedText()},focus(f){var d;(d=a.value)==null||d.focus(f)},resetHistory:l}),()=>Q("div",{class:`${I}-content${t.setting.htmlPreview||t.setting.preview?" has-preview":""}`,ref:r},[Q("div",{class:`${I}-input-wrapper`,style:u,ref:o},null),(t.setting.htmlPreview||t.setting.preview)&&Q("div",{class:`${I}-resize-operate`,style:c,ref:s},null),Q(tS,{modelValue:t.modelValue,setting:t.setting,onHtmlChanged:f=>{i.value=f,t.onHtmlChanged(f)},onGetCatalog:t.onGetCatalog,mdHeadingId:t.mdHeadingId,noMermaid:t.noMermaid,sanitize:t.sanitize,noKatex:t.noKatex,formatCopiedText:t.formatCopiedText,noHighlight:t.noHighlight,noImgZoomIn:t.noImgZoomIn,sanitizeMermaid:t.sanitizeMermaid,codeFoldable:t.codeFoldable,autoFoldThreshold:t.autoFoldThreshold},null),t.catalogVisible&&Q(Oa,{theme:t.theme,class:`${I}-catalog-editor`,editorId:n,mdHeadingId:t.mdHeadingId,key:"internal-catalog"},null)])}}),OF=We({props:{modelValue:{type:String,default:""}},setup(t){const e=ke("usedLanguageText");return()=>{var n,i;return Q("div",{class:`${I}-footer-item`},[Q("label",{class:`${I}-footer-label`},[`${(n=e.value.footer)==null?void 0:n.markdownTotal}:`]),Q("span",null,[((i=t.modelValue)==null?void 0:i.length)||0])])}}}),bF={checked:{type:Boolean,default:!1},onChange:{type:Function,default:()=>{}}},yF=We({props:bF,setup(t){return()=>Q("div",{class:[`${I}-checkbox`,t.checked&&`${I}-checkbox-checked`],onClick:()=>{t.onChange(!t.checked)}},null)}}),vF={scrollAuto:{type:Boolean},onScrollAutoChange:{type:Function,default:()=>{}}},_F=We({props:vF,setup(t){const e=ke("usedLanguageText");return()=>{var n;return Q("div",{class:`${I}-footer-item`},[Q("label",{class:`${I}-footer-label`,onClick:()=>{t.onScrollAutoChange(!t.scrollAuto)}},[(n=e.value.footer)==null?void 0:n.scrollAuto]),Q(yF,{checked:t.scrollAuto,onChange:t.onScrollAutoChange},null)])}}}),wF={modelValue:{type:String,default:""},footers:{type:Array,default:[]},scrollAuto:{type:Boolean},onScrollAutoChange:{type:Function,default:()=>{}},defFooters:{type:Object}},xF=We({name:"MDEditorFooter",props:wF,setup(t){const e=Nt(()=>{const i=t.footers.indexOf("="),r=i===-1?t.footers:t.footers.slice(0,i),s=i===-1?[]:t.footers.slice(i,Number.MAX_SAFE_INTEGER);return[r,s]}),n=i=>{if(Jv.includes(i))switch(i){case"markdownTotal":return Q(OF,{modelValue:t.modelValue},null);case"scrollSwitch":return Q(_F,{scrollAuto:t.scrollAuto,onScrollAutoChange:t.onScrollAutoChange},null)}else return t.defFooters instanceof Array?t.defFooters[i]||"":t.defFooters&&t.defFooters.children instanceof Array&&t.defFooters.children[i]||""};return()=>{const i=e.value[0].map(s=>n(s)),r=e.value[1].map(s=>n(s));return Q("div",{class:`${I}-footer`},[Q("div",{class:`${I}-footer-left`},[i]),Q("div",{class:`${I}-footer-right`},[r])])}}}),Vu=We({name:"MdEditorV3",props:mL,emits:gL,setup(t,e){const{editorId:n,noKatex:i,noMermaid:r,noPrettier:s,noUploadImg:o,noHighlight:a}=t,l=Bt({scrollAuto:t.scrollAuto}),u=xe();aL(t,e),lL(t),uL(t),cL(t,e);const[c,f]=hL(t,e),d=fL(t);return Wa(()=>{X.clear(n)}),dL(t,e,d,c,f,u),()=>{const p=hn({props:t,ctx:e},"defToolbars"),m=hn({props:t,ctx:e},"defFooters");return Q("div",{id:n,class:[I,t.class,t.theme==="dark"&&`${I}-dark`,c.fullscreen||c.pageFullscreen?`${I}-fullscreen`:""],style:t.style},[t.toolbars.length>0&&Q(LL,{noPrettier:s,toolbars:t.toolbars,toolbarsExclude:t.toolbarsExclude,setting:c,updateSetting:f,tableShape:t.tableShape,defToolbars:p,noUploadImg:o,showToolbarName:t.showToolbarName},null),Q(gF,{ref:u,modelValue:t.modelValue,setting:c,mdHeadingId:t.mdHeadingId,noMermaid:r,noPrettier:s,sanitize:t.sanitize,placeholder:t.placeholder,noKatex:i,scrollAuto:l.scrollAuto,formatCopiedText:t.formatCopiedText,autofocus:t.autoFocus,disabled:t.disabled,readonly:t.readOnly,maxlength:t.maxLength,autoDetectCode:t.autoDetectCode,noHighlight:a,updateModelValue:O=>{e.emit("update:modelValue",O)},onChange:O=>{t.onChange&&t.onChange(O),e.emit("onChange",O)},onHtmlChanged:O=>{t.onHtmlChanged&&t.onHtmlChanged(O),e.emit("onHtmlChanged",O)},onGetCatalog:O=>{t.onGetCatalog&&t.onGetCatalog(O),e.emit("onGetCatalog",O)},onBlur:O=>{t.onBlur&&t.onBlur(O),e.emit("onBlur",O)},onFocus:O=>{t.onFocus&&t.onFocus(O),e.emit("onFocus",O)},onInput:O=>{t.onInput&&t.onInput(O),e.emit("onInput",O)},completions:t.completions,catalogVisible:d.value,theme:t.theme,noImgZoomIn:t.noImgZoomIn,onDrop:O=>{t.onDrop&&t.onDrop(O),e.emit("onDrop",O)},inputBoxWitdh:t.inputBoxWitdh,onInputBoxWitdhChange:O=>{t.onInputBoxWitdhChange&&t.onInputBoxWitdhChange(O),e.emit("onInputBoxWitdhChange",O)},sanitizeMermaid:t.sanitizeMermaid,transformImgUrl:t.transformImgUrl,codeFoldable:t.codeFoldable,autoFoldThreshold:t.autoFoldThreshold},null),t.footers.length>0&&Q(xF,{modelValue:t.modelValue,footers:t.footers,defFooters:m,scrollAuto:l.scrollAuto,onScrollAutoChange:O=>l.scrollAuto=O},null)])}}});Vu.install=t=>(t.component(Vu.name,Vu),t.use(Qu).use(bu).use(Du).use(Oa).use(Iu),t);const kF={props:{projects:{type:Array,required:!0}},components:{ButtonComp:IS,ModelComp:BS,TextareaComp:QS,MdEditor:Vu},async setup(t){const e=xe(""),n=xe([]),i=xe(""),r=xe(!1),s=xe(""),o=xe(!1),a=xe(!1),l=xe(!1),u=async()=>{const O=Math.floor(1e5+Math.random()*9e5),y=Ag(Eg,"share",O.toString());return(await W3(y)).exists()?u():O},c=Nt(()=>e.value?t.projects.filter(O=>{const y=O.title.toLowerCase();return e.value.toLowerCase().split(" ").some(S=>y.includes(S))}):t.projects),f=O=>{n.value=n.value.filter(y=>y!==O)},d=O=>t.projects.find(y=>y.slug===O),p=()=>{navigator.clipboard.writeText(s.value),l.value=!0},m=async()=>{r.value=!0,o.value=!1;const O={projects:n.value,message:i.value},y=String(await u());console.log("ID",y,O),await Y3(Ag(Eg,"share",y),{...O}),s.value=`https://lablnet.com/share/${y}`,a.value=!0,r.value=!1};return ce(n,()=>{console.log("selectedProjects",n.value.length),n.value.length===0&&(o.value=!1)}),{search:e,selectedProjects:n,filteredProjects:c,isModalOpen:o,shareModel:a,shareUrl:s,message:i,loading:r,shareUrl:s,removeProject:f,getProject:d,copyToClipboard:p,share:m,copied:l}}},SF={class:"container mx-auto px-4 mt-4 mb-4"},TF={key:0,id:"loader",class:"fixed inset-0 min-h-screen flex items-center justify-center bg-white bg-opacity-95 z-10"},PF=ae("i",{class:"fa fa-spinner fa-spin text-blue-500"},null,-1),AF=ae("h1",{class:"text-4xl font-bold mb-4"},"Share your project",-1),EF=ae("p",{class:"mb-4"}," Share your project with the world! Please select the projects of your choice and click on the share button. ",-1),CF={class:"flex justify-between items-center mb-4"},$F={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},RF=["for"],IF=["value","id"],QF={class:"text-xl font-semibold mb-1"},DF={class:"text-sm mb-1"},VF={class:"text-xs text-gray-500"},MF={class:"text-xs text-gray-500"},LF={class:"p-4"},FF={class:"flex justify-between items-center mb-4"},NF=ae("h2",{class:"text-2xl font-bold mb-4"},"Selected Projects",-1),ZF={class:"border p-2 rounded"},zF={class:"flex justify-between items-center mb-4"},qF={class:"font-bold"},BF=["onClick"],jF=ae("i",{class:"fas fa-times"},null,-1),XF=[jF],WF={class:"text-xs text-gray-500"},UF={class:"mb-2 mt-2"},YF=ae("p",{class:"mb-2"}," Share the selected projects with your client. You can also add a message to the client. ",-1),GF={class:"mt-4 float-end mb-4"},HF={class:"p-12"},KF={class:"flex justify-between items-center mb-4"},JF=ae("h2",{class:"text-2xl font-bold mb-4"},"The share url is ready",-1),eN={class:"mt-4"},tN=ae("label",{for:"shareUrl",class:"block text-sm font-medium text-gray-700"}," Share URL ",-1),nN=ae("p",{class:"text-sm text-gray-500 mb-2"}," Share the following URL with your client. ",-1),iN={key:0,class:"text-green-500"},rN={class:"mt-1 relative rounded-md shadow-sm"},sN={class:"absolute inset-y-0 right-0 flex items-center"},oN=ae("i",{class:"fas fa-copy mr-2"},null,-1);function aN(t,e,n,i,r,s){const o=yh("ButtonComp"),a=yh("MdEditor"),l=yh("ModelComp");return wn(),Or("div",SF,[i.loading?(wn(),Or("div",TF,[PF,Cl(" Loading do not close the browser ")])):Qo("",!0),AF,EF,ae("div",CF,[vh(ae("input",{"onUpdate:modelValue":e[0]||(e[0]=u=>i.search=u),type:"text",placeholder:"Search...",class:"mb-4 p-2 border rounded"},null,512),[[T0,i.search]]),i.selectedProjects.length>0?(wn(),du(o,{key:0,text:"Share",onClick:e[1]||(e[1]=u=>i.isModalOpen=!0),class:"mb-4"},{default:Xo(()=>[Cl(" Share ")]),_:1})):Qo("",!0)]),ae("div",$F,[(wn(!0),Or(Es,null,P0(i.filteredProjects,u=>(wn(),Or("div",{key:u.id,class:A0(["border rounded p-4",i.selectedProjects.includes(u.slug)?"bg-blue-200":""])},[ae("label",{for:`project-${u.slug}`,class:"block cursor-pointer"},[vh(ae("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=c=>i.selectedProjects=c),value:u.slug,class:"hidden",id:`project-${u.slug}`},null,8,IF),[[RS,i.selectedProjects]]),ae("h2",QF,Ei(u.title),1),ae("p",DF,Ei(u.description),1),ae("p",VF,"Start: "+Ei(u.startDate),1),ae("p",MF,"End: "+Ei(u.endDate),1)],8,RF)],2))),128))]),i.isModalOpen?(wn(),du(l,{key:1,onClose:e[5]||(e[5]=u=>i.isModalOpen=!1)},{default:Xo(()=>[ae("div",LF,[ae("div",FF,[NF,ae("i",{class:"fa fa-times text-2xl mb-4 cursor-pointer text-red-500",onClick:e[3]||(e[3]=u=>i.isModalOpen=!1)})]),ae("ul",{class:A0(["overflow-auto",i.selectedProjects.length>2?"h-96":""])},[(wn(!0),Or(Es,null,P0(i.selectedProjects,u=>(wn(),Or("li",{key:u,class:"mb-2"},[ae("div",ZF,[ae("div",zF,[ae("h3",qF,Ei(i.getProject(u).title),1),ae("button",{onClick:c=>i.removeProject(u),class:"mt-2 text-red-500"},XF,8,BF)]),ae("p",null,Ei(i.getProject(u).description),1),ae("p",WF," Date: "+Ei(i.getProject(u).startDate)+" - "+Ei(i.getProject(u).endDate),1)])]))),128))],2),ae("div",UF,[YF,Q(a,{modelValue:i.message,"onUpdate:modelValue":e[4]||(e[4]=u=>i.message=u),noUploadImg:!0,readOnly:!1,language:"en-US"},null,8,["modelValue"])]),ae("div",GF,[Q(o,{class:"mb-4",text:"Share",onClick:i.share,disable:i.loading},{default:Xo(()=>[Cl(" Share ")]),_:1},8,["onClick","disable"])])])]),_:1})):Qo("",!0),i.shareModel?(wn(),du(l,{key:2,onClose:e[9]||(e[9]=u=>i.shareModel=!1)},{default:Xo(()=>[ae("div",HF,[ae("div",KF,[JF,ae("i",{class:"fa fa-times text-2xl mb-4 cursor-pointer text-red-500",onClick:e[6]||(e[6]=u=>i.shareModel=!1)})]),ae("div",eN,[tN,nN,i.copied?(wn(),Or("p",iN,"Link Copied to Clipboard")):Qo("",!0),ae("div",rN,[vh(ae("input",{type:"text",id:"shareUrl",class:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-7 pr-12 sm:text-sm border-gray-300 rounded-md","onUpdate:modelValue":e[7]||(e[7]=u=>i.shareUrl=u),readonly:""},null,512),[[T0,i.shareUrl]]),ae("div",sN,[ae("button",{onClick:e[8]||(e[8]=(...u)=>i.copyToClipboard&&i.copyToClipboard(...u)),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-black hover:bg-gray-200"},[oN,Cl(" Copy ")])])])])])]),_:1})):Qo("",!0)])}const TN=Ub(kF,[["render",aN]]);export{ck as C,En as E,Qe as I,Bs as L,Ew as N,TN as S,Ws as a,Ys as b,Pu as c,J4 as d,Dx as e,ol as f,Xe as g,Lw as h,sl as i,Tk as j,J as k,Z as l,o5 as m,Yk as n,vc as o,Cw as p,dn as q,a5 as r,so as s,x as t,Ft as u,Nw as v};
